// GENERATED CODE - DO NOT MODIFY BY HAND
// ignore_for_file: type=lint, implicit_dynamic_list_literal, implicit_dynamic_map_literal, inference_failure_on_collection_literal

import 'package:mason/mason.dart';

final bunnyCliTemplateBundle = MasonBundle.fromJson(<String, dynamic>{
  "files": [
    {
      "path": "{{project_name.snakeCase()}}/.env",
      "data": "QVBQX05BTUUgPSB7e3Byb2plY3RfbmFtZS50b1NlbnRlbmNlQ2FzZSgpfX0=",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/.github/dependabot.yaml",
      "data":
          "dmVyc2lvbjogMgp1cGRhdGVzOgogIC0gcGFja2FnZS1lY29zeXN0ZW06ICJnaXRodWItYWN0aW9ucyIKICAgIGRpcmVjdG9yeTogIi8iCiAgICBzY2hlZHVsZToKICAgICAgaW50ZXJ2YWw6ICJkYWlseSIKICAtIHBhY2thZ2UtZWNvc3lzdGVtOiAicHViIgogICAgZGlyZWN0b3J5OiAiLyIKICAgIHNjaGVkdWxlOgogICAgICBpbnRlcnZhbDogImRhaWx5Ig==",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/.github/workflows/ci.yml",
      "data":
          "bmFtZTogUGlwZUxpbmUKCm9uOgogIHB1c2g6CiAgICBicmFuY2hlczogW21haW5dCiAgcHVsbF9yZXF1ZXN0OgogICAgYnJhbmNoZXM6IFttYWluXQoKam9iczoKICB0ZXN0OgogICAgbmFtZTogdW5pdC10ZXN0CiAgICBydW5zLW9uOiB1YnVudHUtbGF0ZXN0CiAgICBwZXJtaXNzaW9uczoKICAgICAgY29udGVudHM6IHdyaXRlCiAgICBzdGVwczoKICAgICAgLSB1c2VzOiBhY3Rpb25zL2NoZWNrb3V0QHYyCiAgICAgIC0gdXNlczogYWN0aW9ucy9zZXR1cC1qYXZhQHYxCiAgICAgICAgd2l0aDoKICAgICAgICAgIGphdmEtdmVyc2lvbjogIjEyLngiCiAgICAgIC0gdXNlczogc3Vib3NpdG8vZmx1dHRlci1hY3Rpb25AdjEuNS4zCiAgICAgICAgd2l0aDoKICAgICAgICAgIGZsdXR0ZXJfY2hhbm5lbDogc3RhYmxlCiAgICAgICAgICBmbHV0dGVyX3ZlcnNpb246IDMuNC4wCiAgICAgIC0gbmFtZTogSW5zdGFsbCBkZXBlbmRlbmNpZXMKICAgICAgICBydW46IGZsdXR0ZXIgcHViIGdldAogICAgICAtIG5hbWU6IEJ1aWxkIEFQSwogICAgICAgIHJ1bjogZmx1dHRlciBidWlsZCBhcGsgLS1yZWxlYXNlIC0tc3BsaXQtZGVidWctaW5mbz1kZWJ1Zy1pbmZvCg==",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/.gitignore",
      "data":
          "IyBNaXNjZWxsYW5lb3VzCiouY2xhc3MKKi5sb2cKKi5weWMKKi5zd3AKLkRTX1N0b3JlCi5hdG9tLwouYnVpbGQvCi5idWlsZGxvZy8KLmhpc3RvcnkKLnN2bi8KLnN3aWZ0cG0vCm1pZ3JhdGVfd29ya2luZ19kaXIvCgojIEludGVsbGlKIHJlbGF0ZWQKKi5pbWwKKi5pcHIKKi5pd3MKLmlkZWEvCgojIFRoZSAudnNjb2RlIGZvbGRlciBjb250YWlucyBsYXVuY2ggY29uZmlndXJhdGlvbiBhbmQgdGFza3MgeW91IGNvbmZpZ3VyZSBpbgojIFZTIENvZGUgd2hpY2ggeW91IG1heSB3aXNoIHRvIGJlIGluY2x1ZGVkIGluIHZlcnNpb24gY29udHJvbCwgc28gdGhpcyBsaW5lCiMgaXMgY29tbWVudGVkIG91dCBieSBkZWZhdWx0LgojLnZzY29kZS8KCiMgRmx1dHRlci9EYXJ0L1B1YiByZWxhdGVkCioqL2RvYy9hcGkvCioqL2lvcy9GbHV0dGVyLy5sYXN0X2J1aWxkX2lkCi5kYXJ0X3Rvb2wvCi5mbHV0dGVyLXBsdWdpbnMKLmZsdXR0ZXItcGx1Z2lucy1kZXBlbmRlbmNpZXMKLnB1Yi1jYWNoZS8KLnB1Yi8KL2J1aWxkLwoKIyBTeW1ib2xpY2F0aW9uIHJlbGF0ZWQKYXBwLiouc3ltYm9scwoKIyBPYmZ1c2NhdGlvbiByZWxhdGVkCmFwcC4qLm1hcC5qc29uCgojIEFuZHJvaWQgU3R1ZGlvIHdpbGwgcGxhY2UgYnVpbGQgYXJ0aWZhY3RzIGhlcmUKL2FuZHJvaWQvYXBwL2RlYnVnCi9hbmRyb2lkL2FwcC9wcm9maWxlCi9hbmRyb2lkL2FwcC9yZWxlYXNlCg==",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/.metadata",
      "data":
          "IyBUaGlzIGZpbGUgdHJhY2tzIHByb3BlcnRpZXMgb2YgdGhpcyBGbHV0dGVyIHByb2plY3QuCiMgVXNlZCBieSBGbHV0dGVyIHRvb2wgdG8gYXNzZXNzIGNhcGFiaWxpdGllcyBhbmQgcGVyZm9ybSB1cGdyYWRlcyBldGMuCiMKIyBUaGlzIGZpbGUgc2hvdWxkIGJlIHZlcnNpb24gY29udHJvbGxlZCBhbmQgc2hvdWxkIG5vdCBiZSBtYW51YWxseSBlZGl0ZWQuCgp2ZXJzaW9uOgogIHJldmlzaW9uOiAiMzVjMzg4YWZiNTdlZjA2MWQwNmEzOWI1MzczMzZjODdlMGUzZDFiMSIKICBjaGFubmVsOiAic3RhYmxlIgoKcHJvamVjdF90eXBlOiBhcHAKCiMgVHJhY2tzIG1ldGFkYXRhIGZvciB0aGUgZmx1dHRlciBtaWdyYXRlIGNvbW1hbmQKbWlncmF0aW9uOgogIHBsYXRmb3JtczoKICAgIC0gcGxhdGZvcm06IHJvb3QKICAgICAgY3JlYXRlX3JldmlzaW9uOiAzNWMzODhhZmI1N2VmMDYxZDA2YTM5YjUzNzMzNmM4N2UwZTNkMWIxCiAgICAgIGJhc2VfcmV2aXNpb246IDM1YzM4OGFmYjU3ZWYwNjFkMDZhMzliNTM3MzM2Yzg3ZTBlM2QxYjEKICAgIC0gcGxhdGZvcm06IGFuZHJvaWQKICAgICAgY3JlYXRlX3JldmlzaW9uOiAzNWMzODhhZmI1N2VmMDYxZDA2YTM5YjUzNzMzNmM4N2UwZTNkMWIxCiAgICAgIGJhc2VfcmV2aXNpb246IDM1YzM4OGFmYjU3ZWYwNjFkMDZhMzliNTM3MzM2Yzg3ZTBlM2QxYjEKICAgIC0gcGxhdGZvcm06IGlvcwogICAgICBjcmVhdGVfcmV2aXNpb246IDM1YzM4OGFmYjU3ZWYwNjFkMDZhMzliNTM3MzM2Yzg3ZTBlM2QxYjEKICAgICAgYmFzZV9yZXZpc2lvbjogMzVjMzg4YWZiNTdlZjA2MWQwNmEzOWI1MzczMzZjODdlMGUzZDFiMQogICAgLSBwbGF0Zm9ybTogbGludXgKICAgICAgY3JlYXRlX3JldmlzaW9uOiAzNWMzODhhZmI1N2VmMDYxZDA2YTM5YjUzNzMzNmM4N2UwZTNkMWIxCiAgICAgIGJhc2VfcmV2aXNpb246IDM1YzM4OGFmYjU3ZWYwNjFkMDZhMzliNTM3MzM2Yzg3ZTBlM2QxYjEKICAgIC0gcGxhdGZvcm06IG1hY29zCiAgICAgIGNyZWF0ZV9yZXZpc2lvbjogMzVjMzg4YWZiNTdlZjA2MWQwNmEzOWI1MzczMzZjODdlMGUzZDFiMQogICAgICBiYXNlX3JldmlzaW9uOiAzNWMzODhhZmI1N2VmMDYxZDA2YTM5YjUzNzMzNmM4N2UwZTNkMWIxCiAgICAtIHBsYXRmb3JtOiB3ZWIKICAgICAgY3JlYXRlX3JldmlzaW9uOiAzNWMzODhhZmI1N2VmMDYxZDA2YTM5YjUzNzMzNmM4N2UwZTNkMWIxCiAgICAgIGJhc2VfcmV2aXNpb246IDM1YzM4OGFmYjU3ZWYwNjFkMDZhMzliNTM3MzM2Yzg3ZTBlM2QxYjEKICAgIC0gcGxhdGZvcm06IHdpbmRvd3MKICAgICAgY3JlYXRlX3JldmlzaW9uOiAzNWMzODhhZmI1N2VmMDYxZDA2YTM5YjUzNzMzNmM4N2UwZTNkMWIxCiAgICAgIGJhc2VfcmV2aXNpb246IDM1YzM4OGFmYjU3ZWYwNjFkMDZhMzliNTM3MzM2Yzg3ZTBlM2QxYjEKCiAgIyBVc2VyIHByb3ZpZGVkIHNlY3Rpb24KCiAgIyBMaXN0IG9mIExvY2FsIHBhdGhzIChyZWxhdGl2ZSB0byB0aGlzIGZpbGUpIHRoYXQgc2hvdWxkIGJlCiAgIyBpZ25vcmVkIGJ5IHRoZSBtaWdyYXRlIHRvb2wuCiAgIwogICMgRmlsZXMgdGhhdCBhcmUgbm90IHBhcnQgb2YgdGhlIHRlbXBsYXRlcyB3aWxsIGJlIGlnbm9yZWQgYnkgZGVmYXVsdC4KICB1bm1hbmFnZWRfZmlsZXM6CiAgICAtICdsaWIvbWFpbi5kYXJ0JwogICAgLSAnaW9zL1J1bm5lci54Y29kZXByb2ovcHJvamVjdC5wYnhwcm9qJwo=",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/analysis_options.yaml",
      "data": "",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/android/.gitignore",
      "data":
          "Z3JhZGxlLXdyYXBwZXIuamFyCi8uZ3JhZGxlCi9jYXB0dXJlcy8KL2dyYWRsZXcKL2dyYWRsZXcuYmF0Ci9sb2NhbC5wcm9wZXJ0aWVzCkdlbmVyYXRlZFBsdWdpblJlZ2lzdHJhbnQuamF2YQoKIyBSZW1lbWJlciB0byBuZXZlciBwdWJsaWNseSBzaGFyZSB5b3VyIGtleXN0b3JlLgojIFNlZSBodHRwczovL2ZsdXR0ZXIuZGV2L3RvL3JlZmVyZW5jZS1rZXlzdG9yZQprZXkucHJvcGVydGllcwoqKi8qLmtleXN0b3JlCioqLyouamtzCg==",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/android/app/build.gradle",
      "data":
          "cGx1Z2lucyB7CiAgICBpZCAiY29tLmFuZHJvaWQuYXBwbGljYXRpb24iCiAgICBpZCAia290bGluLWFuZHJvaWQiCiAgICAvLyBUaGUgRmx1dHRlciBHcmFkbGUgUGx1Z2luIG11c3QgYmUgYXBwbGllZCBhZnRlciB0aGUgQW5kcm9pZCBhbmQgS290bGluIEdyYWRsZSBwbHVnaW5zLgogICAgaWQgImRldi5mbHV0dGVyLmZsdXR0ZXItZ3JhZGxlLXBsdWdpbiIKfQoKYW5kcm9pZCB7CiAgICBuYW1lc3BhY2UgPSAie3thcHBsaWNhdGlvbl9pZF9hbmRyb2lkfX0iCiAgICBjb21waWxlU2RrID0gZmx1dHRlci5jb21waWxlU2RrVmVyc2lvbgogICAgbmRrVmVyc2lvbiA9IGZsdXR0ZXIubmRrVmVyc2lvbgoKICAgIGNvbXBpbGVPcHRpb25zIHsKICAgICAgICBzb3VyY2VDb21wYXRpYmlsaXR5ID0gSmF2YVZlcnNpb24uVkVSU0lPTl8xXzgKICAgICAgICB0YXJnZXRDb21wYXRpYmlsaXR5ID0gSmF2YVZlcnNpb24uVkVSU0lPTl8xXzgKICAgIH0KCiAgICBrb3RsaW5PcHRpb25zIHsKICAgICAgICBqdm1UYXJnZXQgPSBKYXZhVmVyc2lvbi5WRVJTSU9OXzFfOAogICAgfQoKICAgIGRlZmF1bHRDb25maWcgewogICAgICAgIC8vIFRPRE86IFNwZWNpZnkgeW91ciBvd24gdW5pcXVlIEFwcGxpY2F0aW9uIElEIChodHRwczovL2RldmVsb3Blci5hbmRyb2lkLmNvbS9zdHVkaW8vYnVpbGQvYXBwbGljYXRpb24taWQuaHRtbCkuCiAgICAgICAgIGFwcGxpY2F0aW9uSWQgInt7YXBwbGljYXRpb25faWRfYW5kcm9pZH19IgogICAgICAgIC8vIFlvdSBjYW4gdXBkYXRlIHRoZSBmb2xsb3dpbmcgdmFsdWVzIHRvIG1hdGNoIHlvdXIgYXBwbGljYXRpb24gbmVlZHMuCiAgICAgICAgLy8gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHNlZTogaHR0cHM6Ly9mbHV0dGVyLmRldi90by9yZXZpZXctZ3JhZGxlLWNvbmZpZy4KICAgICAgICBtaW5TZGsgPSBmbHV0dGVyLm1pblNka1ZlcnNpb24KICAgICAgICB0YXJnZXRTZGsgPSBmbHV0dGVyLnRhcmdldFNka1ZlcnNpb24KICAgICAgICB2ZXJzaW9uQ29kZSA9IGZsdXR0ZXIudmVyc2lvbkNvZGUKICAgICAgICB2ZXJzaW9uTmFtZSA9IGZsdXR0ZXIudmVyc2lvbk5hbWUKICAgIH0KCiAgICBidWlsZFR5cGVzIHsKICAgICAgICByZWxlYXNlIHsKICAgICAgICAgICAgLy8gVE9ETzogQWRkIHlvdXIgb3duIHNpZ25pbmcgY29uZmlnIGZvciB0aGUgcmVsZWFzZSBidWlsZC4KICAgICAgICAgICAgLy8gU2lnbmluZyB3aXRoIHRoZSBkZWJ1ZyBrZXlzIGZvciBub3csIHNvIGBmbHV0dGVyIHJ1biAtLXJlbGVhc2VgIHdvcmtzLgogICAgICAgICAgICBzaWduaW5nQ29uZmlnID0gc2lnbmluZ0NvbmZpZ3MuZGVidWcKICAgICAgICB9CiAgICB9Cn0KCmZsdXR0ZXIgewogICAgc291cmNlID0gIi4uLy4uIgp9Cg==",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/debug/AndroidManifest.xml",
      "data":
          "PG1hbmlmZXN0IHhtbG5zOmFuZHJvaWQ9Imh0dHA6Ly9zY2hlbWFzLmFuZHJvaWQuY29tL2Fway9yZXMvYW5kcm9pZCI+CiAgICA8IS0tIFRoZSBJTlRFUk5FVCBwZXJtaXNzaW9uIGlzIHJlcXVpcmVkIGZvciBkZXZlbG9wbWVudC4gU3BlY2lmaWNhbGx5LAogICAgICAgICB0aGUgRmx1dHRlciB0b29sIG5lZWRzIGl0IHRvIGNvbW11bmljYXRlIHdpdGggdGhlIHJ1bm5pbmcgYXBwbGljYXRpb24KICAgICAgICAgdG8gYWxsb3cgc2V0dGluZyBicmVha3BvaW50cywgdG8gcHJvdmlkZSBob3QgcmVsb2FkLCBldGMuCiAgICAtLT4KICAgIDx1c2VzLXBlcm1pc3Npb24gYW5kcm9pZDpuYW1lPSJhbmRyb2lkLnBlcm1pc3Npb24uSU5URVJORVQiLz4KPC9tYW5pZmVzdD4K",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/AndroidManifest.xml",
      "data":
          "PG1hbmlmZXN0IHhtbG5zOmFuZHJvaWQ9Imh0dHA6Ly9zY2hlbWFzLmFuZHJvaWQuY29tL2Fway9yZXMvYW5kcm9pZCI+CiAgICA8YXBwbGljYXRpb24KICAgICAgICBhbmRyb2lkOmxhYmVsPXt7cHJvamVjdF9uYW1lLnBhc2NhbENhc2UoKX19CiAgICAgICAgYW5kcm9pZDpuYW1lPSIke3t7cHJvamVjdF9uYW1lLnBhc2NhbENhc2UoKX19CiAgICAgICAgYW5kcm9pZDppY29uPSJAbWlwbWFwL2ljX2xhdW5jaGVyIj4KICAgICAgICA8YWN0aXZpdHkKICAgICAgICAgICAgYW5kcm9pZDpuYW1lPSIuTWFpbkFjdGl2aXR5IgogICAgICAgICAgICBhbmRyb2lkOmV4cG9ydGVkPSJ0cnVlIgogICAgICAgICAgICBhbmRyb2lkOmxhdW5jaE1vZGU9InNpbmdsZVRvcCIKICAgICAgICAgICAgYW5kcm9pZDp0YXNrQWZmaW5pdHk9IiIKICAgICAgICAgICAgYW5kcm9pZDp0aGVtZT0iQHN0eWxlL0xhdW5jaFRoZW1lIgogICAgICAgICAgICBhbmRyb2lkOmNvbmZpZ0NoYW5nZXM9Im9yaWVudGF0aW9ufGtleWJvYXJkSGlkZGVufGtleWJvYXJkfHNjcmVlblNpemV8c21hbGxlc3RTY3JlZW5TaXplfGxvY2FsZXxsYXlvdXREaXJlY3Rpb258Zm9udFNjYWxlfHNjcmVlbkxheW91dHxkZW5zaXR5fHVpTW9kZSIKICAgICAgICAgICAgYW5kcm9pZDpoYXJkd2FyZUFjY2VsZXJhdGVkPSJ0cnVlIgogICAgICAgICAgICBhbmRyb2lkOndpbmRvd1NvZnRJbnB1dE1vZGU9ImFkanVzdFJlc2l6ZSI+CiAgICAgICAgICAgIDwhLS0gU3BlY2lmaWVzIGFuIEFuZHJvaWQgdGhlbWUgdG8gYXBwbHkgdG8gdGhpcyBBY3Rpdml0eSBhcyBzb29uIGFzCiAgICAgICAgICAgICAgICAgdGhlIEFuZHJvaWQgcHJvY2VzcyBoYXMgc3RhcnRlZC4gVGhpcyB0aGVtZSBpcyB2aXNpYmxlIHRvIHRoZSB1c2VyCiAgICAgICAgICAgICAgICAgd2hpbGUgdGhlIEZsdXR0ZXIgVUkgaW5pdGlhbGl6ZXMuIEFmdGVyIHRoYXQsIHRoaXMgdGhlbWUgY29udGludWVzCiAgICAgICAgICAgICAgICAgdG8gZGV0ZXJtaW5lIHRoZSBXaW5kb3cgYmFja2dyb3VuZCBiZWhpbmQgdGhlIEZsdXR0ZXIgVUkuIC0tPgogICAgICAgICAgICA8bWV0YS1kYXRhCiAgICAgICAgICAgICAgYW5kcm9pZDpuYW1lPSJpby5mbHV0dGVyLmVtYmVkZGluZy5hbmRyb2lkLk5vcm1hbFRoZW1lIgogICAgICAgICAgICAgIGFuZHJvaWQ6cmVzb3VyY2U9IkBzdHlsZS9Ob3JtYWxUaGVtZSIKICAgICAgICAgICAgICAvPgogICAgICAgICAgICA8aW50ZW50LWZpbHRlcj4KICAgICAgICAgICAgICAgIDxhY3Rpb24gYW5kcm9pZDpuYW1lPSJhbmRyb2lkLmludGVudC5hY3Rpb24uTUFJTiIvPgogICAgICAgICAgICAgICAgPGNhdGVnb3J5IGFuZHJvaWQ6bmFtZT0iYW5kcm9pZC5pbnRlbnQuY2F0ZWdvcnkuTEFVTkNIRVIiLz4KICAgICAgICAgICAgPC9pbnRlbnQtZmlsdGVyPgogICAgICAgIDwvYWN0aXZpdHk+CiAgICAgICAgPCEtLSBEb24ndCBkZWxldGUgdGhlIG1ldGEtZGF0YSBiZWxvdy4KICAgICAgICAgICAgIFRoaXMgaXMgdXNlZCBieSB0aGUgRmx1dHRlciB0b29sIHRvIGdlbmVyYXRlIEdlbmVyYXRlZFBsdWdpblJlZ2lzdHJhbnQuamF2YSAtLT4KICAgICAgICA8bWV0YS1kYXRhCiAgICAgICAgICAgIGFuZHJvaWQ6bmFtZT0iZmx1dHRlckVtYmVkZGluZyIKICAgICAgICAgICAgYW5kcm9pZDp2YWx1ZT0iMiIgLz4KICAgIDwvYXBwbGljYXRpb24+CiAgICA8IS0tIFJlcXVpcmVkIHRvIHF1ZXJ5IGFjdGl2aXRpZXMgdGhhdCBjYW4gcHJvY2VzcyB0ZXh0LCBzZWU6CiAgICAgICAgIGh0dHBzOi8vZGV2ZWxvcGVyLmFuZHJvaWQuY29tL3RyYWluaW5nL3BhY2thZ2UtdmlzaWJpbGl0eSBhbmQKICAgICAgICAgaHR0cHM6Ly9kZXZlbG9wZXIuYW5kcm9pZC5jb20vcmVmZXJlbmNlL2FuZHJvaWQvY29udGVudC9JbnRlbnQjQUNUSU9OX1BST0NFU1NfVEVYVC4KCiAgICAgICAgIEluIHBhcnRpY3VsYXIsIHRoaXMgaXMgdXNlZCBieSB0aGUgRmx1dHRlciBlbmdpbmUgaW4gaW8uZmx1dHRlci5wbHVnaW4udGV4dC5Qcm9jZXNzVGV4dFBsdWdpbi4gLS0+CiAgICA8cXVlcmllcz4KICAgICAgICA8aW50ZW50PgogICAgICAgICAgICA8YWN0aW9uIGFuZHJvaWQ6bmFtZT0iYW5kcm9pZC5pbnRlbnQuYWN0aW9uLlBST0NFU1NfVEVYVCIvPgogICAgICAgICAgICA8ZGF0YSBhbmRyb2lkOm1pbWVUeXBlPSJ0ZXh0L3BsYWluIi8+CiAgICAgICAgPC9pbnRlbnQ+CiAgICA8L3F1ZXJpZXM+CjwvbWFuaWZlc3Q+Cg==",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/kotlin/com/example/{{application_id_android}}/MainActivity.kt",
      "data":
          "cGFja2FnZSB7e2FwcGxpY2F0aW9uX2lkX2FuZHJvaWR9fQoKaW1wb3J0IGlvLmZsdXR0ZXIuZW1iZWRkaW5nLmFuZHJvaWQuRmx1dHRlckFjdGl2aXR5CgpjbGFzcyBNYWluQWN0aXZpdHk6IEZsdXR0ZXJBY3Rpdml0eSgpCg==",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/res/drawable-v21/launch_background.xml",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBNb2RpZnkgdGhpcyBmaWxlIHRvIGN1c3RvbWl6ZSB5b3VyIGxhdW5jaCBzcGxhc2ggc2NyZWVuIC0tPgo8bGF5ZXItbGlzdCB4bWxuczphbmRyb2lkPSJodHRwOi8vc2NoZW1hcy5hbmRyb2lkLmNvbS9hcGsvcmVzL2FuZHJvaWQiPgogICAgPGl0ZW0gYW5kcm9pZDpkcmF3YWJsZT0iP2FuZHJvaWQ6Y29sb3JCYWNrZ3JvdW5kIiAvPgoKICAgIDwhLS0gWW91IGNhbiBpbnNlcnQgeW91ciBvd24gaW1hZ2UgYXNzZXRzIGhlcmUgLS0+CiAgICA8IS0tIDxpdGVtPgogICAgICAgIDxiaXRtYXAKICAgICAgICAgICAgYW5kcm9pZDpncmF2aXR5PSJjZW50ZXIiCiAgICAgICAgICAgIGFuZHJvaWQ6c3JjPSJAbWlwbWFwL2xhdW5jaF9pbWFnZSIgLz4KICAgIDwvaXRlbT4gLS0+CjwvbGF5ZXItbGlzdD4K",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/res/drawable/launch_background.xml",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBNb2RpZnkgdGhpcyBmaWxlIHRvIGN1c3RvbWl6ZSB5b3VyIGxhdW5jaCBzcGxhc2ggc2NyZWVuIC0tPgo8bGF5ZXItbGlzdCB4bWxuczphbmRyb2lkPSJodHRwOi8vc2NoZW1hcy5hbmRyb2lkLmNvbS9hcGsvcmVzL2FuZHJvaWQiPgogICAgPGl0ZW0gYW5kcm9pZDpkcmF3YWJsZT0iQGFuZHJvaWQ6Y29sb3Ivd2hpdGUiIC8+CgogICAgPCEtLSBZb3UgY2FuIGluc2VydCB5b3VyIG93biBpbWFnZSBhc3NldHMgaGVyZSAtLT4KICAgIDwhLS0gPGl0ZW0+CiAgICAgICAgPGJpdG1hcAogICAgICAgICAgICBhbmRyb2lkOmdyYXZpdHk9ImNlbnRlciIKICAgICAgICAgICAgYW5kcm9pZDpzcmM9IkBtaXBtYXAvbGF1bmNoX2ltYWdlIiAvPgogICAgPC9pdGVtPiAtLT4KPC9sYXllci1saXN0Pgo=",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/res/mipmap-hdpi/ic_launcher.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAMAAABiM0N1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAK5QTFRFAAAAAU6KAVebKbb2VMX4Kbb2VMX4AVaaAVebKbb2RsD3VMX4VMX4AVaZAVebGHalKbb2VMX4Pa7jADJZADhkAStLATBTAT5uAT5vAUd/AUmCAUyHAU6KAU6LAU6MAVGRAVKSAVKTAVOUAVWXAVWYAVaYAVaaAVeaAVebAjtnAkBwAkN2AkmAA02GA0+KA1CLFmiQF2+ZGXimGn6wG4O2G4a6HIe8Kbb2RL/3VMX47aEaPQAAABN0Uk5TABAQEBBQUGBgYGBggM/Pz8/P3xkQ5PoAAADpSURBVFjD7czXDoJAEEBRVOy9YO+KjB0r+v8/ZoQIC0sizq4PxrmvNzmKQklMrd758uSQQw455JBDDjnvnFSBL4Vw8iGzqn7TCYUwTpiEc3gJ6wQlvOOXXCf3ucNKrpO1bp87nsQ4FidFcF6SzwlKkRxHCjh+KaLzlDiHlSI7TJ7jSaLOSxJ3HEmG85QwTtLiqyEcJVHhnOs+rciQLjsdMhKk83ZmgATptBnrCxCXjuvB1IYEpcOyM5zMbEhIMpvtTn+sAwhKplZv9aYGgKBkao3uHNhwUnk1gmAoKVYEkCPFSyT9qvSvPQCNJCMEO265wAAAAABJRU5ErkJggg==",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/res/mipmap-mdpi/ic_launcher.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAIpQTFRFAAAAAVebVMX4Kbb2VMX4AVebKbb2VMX4VMX4Kbb2VMX4VMX4VMX4AVebB1ePVMX4AVebBENyKbb2UcT4VMX4ADxrAUJ1AU2KAU6LAVSVAVSWAVWXAVaZAVaaAVeaAVebAy1LAzFRBUJuBU2ABlOJHom6H43AIZXLIprSIpzVKbb2Mbn2UcT4VMX4UU+PBQAAABV0Uk5TABAQICAwMDCPn5+vv8/Pz+/v7+/vb7KPEwAAAKVJREFUSMft1MkSgjAQRdGIA86igoKirSIOiP//ew6J3WwMnYULU3nL1LnVuwhh9/zwTpt4zjvv/G99d0gbePW+X3kJfd0Bjq8WPE8F138K6Xu3stbLQvmiwOK7fxXosdB5IVrkVaH3csq/CyP/LOYM35xRcB03GJ92B4vLMR2ZFOcs2YJBcTrEqw3wi3y/WK4B2EW+i+IUgF9ME8CxinYAVhR/sgfbkVbaxFzJpwAAAABJRU5ErkJggg==",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/res/mipmap-xhdpi/ic_launcher.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAPZQTFRFAAAAVMX4Kbb2AUiAAVebKbb2VMX4VMX4AVebVMX4DVmPVMX4VMX4Kbb2R8H3VMX4VMX4AVOUAVebFmyWKbb2VMX4AC1PAC5SAC9UADBUAD5uASlGASpKATZeATdiAThkATtpAT9wAUByAUF0AUV7AUZ9AUd+AUd/AUh/AUmDAUqEAUyHAUyIAU2IAU2JAU6KAU+OAVCPAVKRAVKTAVOTAVOUAVSVAVWXAVaYAVaZAVaaAVeaAVebAjNYAjplAj9uAkN2Akd7A0l+A0qBA0uCFmiPF2uUGHKeGXinGn2uGoGzG4O2G4W4G4a6HYrAKbb2RL/3VMX4cbCtoAAAABZ0Uk5TABAgMDAwMFBgYHBwgJ+fn8/v7+/v77sEZREAAAFPSURBVGje7dnXTsNAEIXhQCih92p6bwFMYoLjpWMSauD9XwbLRJbX3olkawYJOOd69X+a6y0UsN+6vplPcgPoo48++uijjz766KOPPvroo//f+kPD5Po5+mP0u/Guv9vvBLD0OwhMfVJg6xMCY98osPYNAnM/JWj9UYZ+QtD6I60Phr4mJPotSsjUjwmpPiFk7EeCoW8UMvfbgrFvEHL0Q4Hop4Rc/UAg+wkhZ1+f3tcEkX5MEOpHgli/LQj2Q0G0Hwgs/e5pEngfZPmK6KWEtwenJCm83lc8JSi83J25npITnm/tWj0ApISnmxPnIgRkhOb1ge18XyAiNK62ygHg1pWM8Hi5vntkVyOAW/CXVjZ3Dk8rNU8pCcG35lY3tstVV8XGKPjW7MLa/rlKjE3wrfnFY2UYkzC1vOcp83iE4gTV5xJ6JhUECBB+TMDY9gVhhwZ2u52HDgAAAABJRU5ErkJggg==",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/res/mipmap-xxhdpi/ic_launcher.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAJAAAACQCAMAAADQmBKKAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAVNQTFRFAAAAKbb2VMX4VMX4VMX4Kbb2AVKTAVebCUhwKbb2VMX4GXCiKbb2Orz3VMX4AChHACtNACxPAC5SAC9TAC9UADBWADNcADtoAD9vATFXATVfATZgATdiATpnATtpATxrATxsAT1sAT1tAT5uAT9xAUFzAUF0AUJ1AUN4AUR6AUV7AUZ8AUZ9AUZ+AUd+AUiAAUiBAUmBAUmCAUmDAUmEAUqDAUqEAUyHAUyIAU2IAU2JAU6LAU6MAU+MAU+NAVCOAVGPAVGQAVGRAVGSAVKRAVKSAVKTAVOTAVOUAVSVAVSWAVWXAVWYAVaYAVaZAVaaAVeaAVebBzZTCDtaCUFjCUZrCkpyCk54C1F9C1SBC1aEC1eHC1mJC1qKC1qMDFuMJKDZJKHZJaLcJaTeJaXgJqfhJqjjJqnkJqnlJqrmJqvmJqvnJ6vnJ6voKbb2Obz3VMX4m8WQNQAAAA90Uk5TABAQQGCAn5+fn5+/z8/PrpHT6gAAAi9JREFUeNrt0GdTU1EUheEoCghWFEVCs1AMGpQSQoSERMDATTuxgD3YaBL4/59IMZKEc+/dM1z2Pg7r/b5mnlk+H0IG1nFIrQMeeOCBBx544IEHHnjggQceeOCBBx544IEHHnjggQceeOCBBx544IEHHnj+M8/FFnI8nuvk+SV44Dl7Dx3E5CGL2DxEEaOHJGL1EETMHlcRu8dFJOBxFIl4HERCHluRmMdGpPNcuMbi0Yq0nqvFAxaPRmTjKRJFp/WcENl6aKLTe5pEDh6KyAtPg8jR4y7yxlMncvG4ibzy/BO5epxF3nn+iggeJ5GXnoqI5LEXeespiYgeO5HXHm1aj14k6dGJZD0nRdKeZpG8p1FkgqdeZIbnWGSKpyYyx1MVmeQpi1g8vstET3G/08fTFZrnz7dQq0miva/Ty+k2c0R7X6ZfpXPKGNHu58lEKqeUKaKdT88XrWzOGNH2x2B0NVMFmSDa+hB4uWJlstkKSF70e2MsHE9a6RpIWvRrfTgUXaoHyYp+vn8UnIstN4AkRT/e9Y/NRGJLybV05hgkJ/r+1v94PBSJJqogcdHmm/sDo09nItH461Wr/iEhUSF/s3dodHxqdqEESmVVQwKiQv7Gnb4HI4HJ2fnEWhNHQlTy3OruGxwOTMVSShezqOzp6vY/fBFXdrGKKp7bPWHlFKOo7Lk3YSmX2ESF/N0nSUWIS9T+bCWjlEmiVqKHT9SmIIIIIoggggii8yRC56kjnvQNYJm/1ucAAAAASUVORK5CYII=",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/res/mipmap-xxxhdpi/ic_launcher.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAMAAABlApw1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAdpQTFRFAAAAVMX4VMX4AUN3AVGRAVaaAVebKbb2VMX4FmOXVMX4VMX4Kbb2AUuGAUuHAVWXAVebFmyWKbb2LLf2VMX4AClIACxOACxPAC1QAC5RAC5SAC9TAC9UADBWADFWADFXADNaADVeADZgADdgADtpADxsASZCASZDASpJATFXATRbATRcATRdATVfATZgAThjAThkATlmATpnATpoATtpATxqAT1sAT1tAT5tAT5uAT5vAT9vAT9wAUByAUFzAUF0AUJ1AUJ2AUR5AUR6AUV6AUV7AUZ8AUd+AUd/AUiAAUiBAUmCAUmDAUqDAUqEAUqFAUuEAUuFAUuGAUuHAUyHAUyIAUyJAU2IAU2JAU2KAU6KAU6LAU6MAU+MAU+NAVCOAVCPAVCQAVGPAVGQAVGRAVKRAVKSAVOSAVOTAVOUAVOVAVSUAVSVAVSWAVWWAVWXAVWYAVWZAVaYAVaZAVaaAVeaAVebAi5PAjFWAjRbAjdgAjpkAjxoAj5rAkBuAkFxAkJzAkN1AkR2AkV4AkZ5AkZ6Akd6FmiPFmmQF22WF3CbGHOfGXajGXmnGXuqGn2tGn+wGoCyG4K0G4O2G4S3G4W4G4W5G4a6HIa7H4vAKbb2LLf2TML4VMX4KQGaCAAAABV0Uk5TABAgMDAwMDAwQEDP3+/v7+/v7+/v7Yl3rQAAAz5JREFUeNrt1AdTE1EUhmFEQKygYi9YsTewYcOAEBBRg6KIkASBmKhhkazXLnbsvUb8r2bNMASy2b33zmzmnJnv+wF7nnd2dgsKMAzL60or/uqtohR++OGHH3744Ycffvjhhx9++OGHH3744Ycffvjhhx9++OGHH3744Ycffvjhhx9++OGHH3744Ycffvjhhx9++OGHH3744Ycffvjhhx9++Gn7C2dprpCGX/uhs6fBDz/88HPxa9+i4te9Rsevd4+SX+ciLb/6TWp+1av0/Gp3KfpVLtP0y9+m6pe9Ttcvd5+yX0ZA2+9uoO53U9D3Ozuc/DMWjpHwOxU4+hck/4yR8OcucPEntQo88OcqcPXrFHjity+Q8KsXeOS3K5DyqxZ45s8ukPSrFXjon1og7Vcp8NQ/uUDBL1/gsT+zQMkvW+C5f6JA0S9XkAf/eIGyX6YgL/50gYbfvSBPfqtAy+9WkDd/qkDP71yQR7/THP1OBTz8uQu4+HMV8PHbF3Dy2xXw8mcXcPNPLeDnn1zA0Z9ZwNM/UcDVP17A158u4Oy3Coj4C+Yk9fZ7Jg2/7hv49XJuEeeCny/a+8qK+RZY/kGzvIRrwY/n7b3xhBBcC74/O5vy3xJcC749bQvFb5pWAMuCr09ag9eHzHQAw4Ivj1u6o0YiFcCz4POIv6s/PjwRwKzg06OmjiuxwcwAVgUfH9YHgpGYYWQGMCr48MDX2hWOxuLGsDn+FXMqeH//qP9cT+/VrAAmBe/uHWw4dSHYF8kOYFHw9u5eX/OZzmA4ErthTPqKeRS8ubPrSENLoLMnPGAXQL7g9e3t++oaTwY6u8MDUbsA4gWvNm/ZXetrbDl9sTvUH72W/o8KwaZgdNOSbdWHrICOy6E+6z9qiuzRLRitWrRyR83h4yea285bAUZC2I5qQcq/ePXOmtq6Bn8qIDIkco5mgeVfVrmu+sCxen9X1BROo1jw37+8cu2e/c2hhHAbvYK0f8WqDW1DQmbUCtL+9U0RITtaBZZ/jU9eT61gtGrpxkumUBydgvlbG/sNZT+hgunztPyECorKtPyECorLBfOCEhSgAAUoQAEKUIACFKAABShAAZkCDKO1f/OiyBBYvwCtAAAAAElFTkSuQmCC",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/res/values-night/styles.xml",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHJlc291cmNlcz4KICAgIDwhLS0gVGhlbWUgYXBwbGllZCB0byB0aGUgQW5kcm9pZCBXaW5kb3cgd2hpbGUgdGhlIHByb2Nlc3MgaXMgc3RhcnRpbmcgd2hlbiB0aGUgT1MncyBEYXJrIE1vZGUgc2V0dGluZyBpcyBvbiAtLT4KICAgIDxzdHlsZSBuYW1lPSJMYXVuY2hUaGVtZSIgcGFyZW50PSJAYW5kcm9pZDpzdHlsZS9UaGVtZS5CbGFjay5Ob1RpdGxlQmFyIj4KICAgICAgICA8IS0tIFNob3cgYSBzcGxhc2ggc2NyZWVuIG9uIHRoZSBhY3Rpdml0eS4gQXV0b21hdGljYWxseSByZW1vdmVkIHdoZW4KICAgICAgICAgICAgIHRoZSBGbHV0dGVyIGVuZ2luZSBkcmF3cyBpdHMgZmlyc3QgZnJhbWUgLS0+CiAgICAgICAgPGl0ZW0gbmFtZT0iYW5kcm9pZDp3aW5kb3dCYWNrZ3JvdW5kIj5AZHJhd2FibGUvbGF1bmNoX2JhY2tncm91bmQ8L2l0ZW0+CiAgICA8L3N0eWxlPgogICAgPCEtLSBUaGVtZSBhcHBsaWVkIHRvIHRoZSBBbmRyb2lkIFdpbmRvdyBhcyBzb29uIGFzIHRoZSBwcm9jZXNzIGhhcyBzdGFydGVkLgogICAgICAgICBUaGlzIHRoZW1lIGRldGVybWluZXMgdGhlIGNvbG9yIG9mIHRoZSBBbmRyb2lkIFdpbmRvdyB3aGlsZSB5b3VyCiAgICAgICAgIEZsdXR0ZXIgVUkgaW5pdGlhbGl6ZXMsIGFzIHdlbGwgYXMgYmVoaW5kIHlvdXIgRmx1dHRlciBVSSB3aGlsZSBpdHMKICAgICAgICAgcnVubmluZy4KCiAgICAgICAgIFRoaXMgVGhlbWUgaXMgb25seSB1c2VkIHN0YXJ0aW5nIHdpdGggVjIgb2YgRmx1dHRlcidzIEFuZHJvaWQgZW1iZWRkaW5nLiAtLT4KICAgIDxzdHlsZSBuYW1lPSJOb3JtYWxUaGVtZSIgcGFyZW50PSJAYW5kcm9pZDpzdHlsZS9UaGVtZS5CbGFjay5Ob1RpdGxlQmFyIj4KICAgICAgICA8aXRlbSBuYW1lPSJhbmRyb2lkOndpbmRvd0JhY2tncm91bmQiPj9hbmRyb2lkOmNvbG9yQmFja2dyb3VuZDwvaXRlbT4KICAgIDwvc3R5bGU+CjwvcmVzb3VyY2VzPgo=",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/main/res/values/styles.xml",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPHJlc291cmNlcz4KICAgIDwhLS0gVGhlbWUgYXBwbGllZCB0byB0aGUgQW5kcm9pZCBXaW5kb3cgd2hpbGUgdGhlIHByb2Nlc3MgaXMgc3RhcnRpbmcgd2hlbiB0aGUgT1MncyBEYXJrIE1vZGUgc2V0dGluZyBpcyBvZmYgLS0+CiAgICA8c3R5bGUgbmFtZT0iTGF1bmNoVGhlbWUiIHBhcmVudD0iQGFuZHJvaWQ6c3R5bGUvVGhlbWUuTGlnaHQuTm9UaXRsZUJhciI+CiAgICAgICAgPCEtLSBTaG93IGEgc3BsYXNoIHNjcmVlbiBvbiB0aGUgYWN0aXZpdHkuIEF1dG9tYXRpY2FsbHkgcmVtb3ZlZCB3aGVuCiAgICAgICAgICAgICB0aGUgRmx1dHRlciBlbmdpbmUgZHJhd3MgaXRzIGZpcnN0IGZyYW1lIC0tPgogICAgICAgIDxpdGVtIG5hbWU9ImFuZHJvaWQ6d2luZG93QmFja2dyb3VuZCI+QGRyYXdhYmxlL2xhdW5jaF9iYWNrZ3JvdW5kPC9pdGVtPgogICAgPC9zdHlsZT4KICAgIDwhLS0gVGhlbWUgYXBwbGllZCB0byB0aGUgQW5kcm9pZCBXaW5kb3cgYXMgc29vbiBhcyB0aGUgcHJvY2VzcyBoYXMgc3RhcnRlZC4KICAgICAgICAgVGhpcyB0aGVtZSBkZXRlcm1pbmVzIHRoZSBjb2xvciBvZiB0aGUgQW5kcm9pZCBXaW5kb3cgd2hpbGUgeW91cgogICAgICAgICBGbHV0dGVyIFVJIGluaXRpYWxpemVzLCBhcyB3ZWxsIGFzIGJlaGluZCB5b3VyIEZsdXR0ZXIgVUkgd2hpbGUgaXRzCiAgICAgICAgIHJ1bm5pbmcuCgogICAgICAgICBUaGlzIFRoZW1lIGlzIG9ubHkgdXNlZCBzdGFydGluZyB3aXRoIFYyIG9mIEZsdXR0ZXIncyBBbmRyb2lkIGVtYmVkZGluZy4gLS0+CiAgICA8c3R5bGUgbmFtZT0iTm9ybWFsVGhlbWUiIHBhcmVudD0iQGFuZHJvaWQ6c3R5bGUvVGhlbWUuTGlnaHQuTm9UaXRsZUJhciI+CiAgICAgICAgPGl0ZW0gbmFtZT0iYW5kcm9pZDp3aW5kb3dCYWNrZ3JvdW5kIj4/YW5kcm9pZDpjb2xvckJhY2tncm91bmQ8L2l0ZW0+CiAgICA8L3N0eWxlPgo8L3Jlc291cmNlcz4K",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/app/src/profile/AndroidManifest.xml",
      "data":
          "PG1hbmlmZXN0IHhtbG5zOmFuZHJvaWQ9Imh0dHA6Ly9zY2hlbWFzLmFuZHJvaWQuY29tL2Fway9yZXMvYW5kcm9pZCI+CiAgICA8IS0tIFRoZSBJTlRFUk5FVCBwZXJtaXNzaW9uIGlzIHJlcXVpcmVkIGZvciBkZXZlbG9wbWVudC4gU3BlY2lmaWNhbGx5LAogICAgICAgICB0aGUgRmx1dHRlciB0b29sIG5lZWRzIGl0IHRvIGNvbW11bmljYXRlIHdpdGggdGhlIHJ1bm5pbmcgYXBwbGljYXRpb24KICAgICAgICAgdG8gYWxsb3cgc2V0dGluZyBicmVha3BvaW50cywgdG8gcHJvdmlkZSBob3QgcmVsb2FkLCBldGMuCiAgICAtLT4KICAgIDx1c2VzLXBlcm1pc3Npb24gYW5kcm9pZDpuYW1lPSJhbmRyb2lkLnBlcm1pc3Npb24uSU5URVJORVQiLz4KPC9tYW5pZmVzdD4K",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/android/build.gradle",
      "data":
          "YWxscHJvamVjdHMgewogICAgcmVwb3NpdG9yaWVzIHsKICAgICAgICBnb29nbGUoKQogICAgICAgIG1hdmVuQ2VudHJhbCgpCiAgICB9Cn0KCnJvb3RQcm9qZWN0LmJ1aWxkRGlyID0gIi4uL2J1aWxkIgpzdWJwcm9qZWN0cyB7CiAgICBwcm9qZWN0LmJ1aWxkRGlyID0gIiR7cm9vdFByb2plY3QuYnVpbGREaXJ9LyR7cHJvamVjdC5uYW1lfSIKfQpzdWJwcm9qZWN0cyB7CiAgICBwcm9qZWN0LmV2YWx1YXRpb25EZXBlbmRzT24oIjphcHAiKQp9Cgp0YXNrcy5yZWdpc3RlcigiY2xlYW4iLCBEZWxldGUpIHsKICAgIGRlbGV0ZSByb290UHJvamVjdC5idWlsZERpcgp9Cg==",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/android/gradle.properties",
      "data":
          "b3JnLmdyYWRsZS5qdm1hcmdzPS1YbXg0RyAtWFg6TWF4TWV0YXNwYWNlU2l6ZT0yRyAtWFg6K0hlYXBEdW1wT25PdXRPZk1lbW9yeUVycm9yCmFuZHJvaWQudXNlQW5kcm9pZFg9dHJ1ZQphbmRyb2lkLmVuYWJsZUpldGlmaWVyPXRydWUK",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/android/gradle/wrapper/gradle-wrapper.properties",
      "data":
          "ZGlzdHJpYnV0aW9uQmFzZT1HUkFETEVfVVNFUl9IT01FCmRpc3RyaWJ1dGlvblBhdGg9d3JhcHBlci9kaXN0cwp6aXBTdG9yZUJhc2U9R1JBRExFX1VTRVJfSE9NRQp6aXBTdG9yZVBhdGg9d3JhcHBlci9kaXN0cwpkaXN0cmlidXRpb25Vcmw9aHR0cHNcOi8vc2VydmljZXMuZ3JhZGxlLm9yZy9kaXN0cmlidXRpb25zL2dyYWRsZS04LjMtYWxsLnppcAo=",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/android/settings.gradle",
      "data":
          "cGx1Z2luTWFuYWdlbWVudCB7CiAgICBkZWYgZmx1dHRlclNka1BhdGggPSB7CiAgICAgICAgZGVmIHByb3BlcnRpZXMgPSBuZXcgUHJvcGVydGllcygpCiAgICAgICAgZmlsZSgibG9jYWwucHJvcGVydGllcyIpLndpdGhJbnB1dFN0cmVhbSB7IHByb3BlcnRpZXMubG9hZChpdCkgfQogICAgICAgIGRlZiBmbHV0dGVyU2RrUGF0aCA9IHByb3BlcnRpZXMuZ2V0UHJvcGVydHkoImZsdXR0ZXIuc2RrIikKICAgICAgICBhc3NlcnQgZmx1dHRlclNka1BhdGggIT0gbnVsbCwgImZsdXR0ZXIuc2RrIG5vdCBzZXQgaW4gbG9jYWwucHJvcGVydGllcyIKICAgICAgICByZXR1cm4gZmx1dHRlclNka1BhdGgKICAgIH0oKQoKICAgIGluY2x1ZGVCdWlsZCgiJGZsdXR0ZXJTZGtQYXRoL3BhY2thZ2VzL2ZsdXR0ZXJfdG9vbHMvZ3JhZGxlIikKCiAgICByZXBvc2l0b3JpZXMgewogICAgICAgIGdvb2dsZSgpCiAgICAgICAgbWF2ZW5DZW50cmFsKCkKICAgICAgICBncmFkbGVQbHVnaW5Qb3J0YWwoKQogICAgfQp9CgpwbHVnaW5zIHsKICAgIGlkICJkZXYuZmx1dHRlci5mbHV0dGVyLXBsdWdpbi1sb2FkZXIiIHZlcnNpb24gIjEuMC4wIgogICAgaWQgImNvbS5hbmRyb2lkLmFwcGxpY2F0aW9uIiB2ZXJzaW9uICI4LjEuMCIgYXBwbHkgZmFsc2UKICAgIGlkICJvcmcuamV0YnJhaW5zLmtvdGxpbi5hbmRyb2lkIiB2ZXJzaW9uICIxLjguMjIiIGFwcGx5IGZhbHNlCn0KCmluY2x1ZGUgIjphcHAiCg==",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/ios/.gitignore",
      "data":
          "KiovZGdwaAoqLm1vZGUxdjMKKi5tb2RlMnYzCioubW92ZWQtYXNpZGUKKi5wYnh1c2VyCioucGVyc3BlY3RpdmV2MwoqKi8qc3luYy8KLnNjb25zaWduLmRibGl0ZQoudGFncyoKKiovLnZhZ3JhbnQvCioqL0Rlcml2ZWREYXRhLwpJY29uPwoqKi9Qb2RzLwoqKi8uc3ltbGlua3MvCnByb2ZpbGUKeGN1c2VyZGF0YQoqKi8uZ2VuZXJhdGVkLwpGbHV0dGVyL0FwcC5mcmFtZXdvcmsKRmx1dHRlci9GbHV0dGVyLmZyYW1ld29yawpGbHV0dGVyL0ZsdXR0ZXIucG9kc3BlYwpGbHV0dGVyL0dlbmVyYXRlZC54Y2NvbmZpZwpGbHV0dGVyL2VwaGVtZXJhbC8KRmx1dHRlci9hcHAuZmx4CkZsdXR0ZXIvYXBwLnppcApGbHV0dGVyL2ZsdXR0ZXJfYXNzZXRzLwpGbHV0dGVyL2ZsdXR0ZXJfZXhwb3J0X2Vudmlyb25tZW50LnNoClNlcnZpY2VEZWZpbml0aW9ucy5qc29uClJ1bm5lci9HZW5lcmF0ZWRQbHVnaW5SZWdpc3RyYW50LioKCiMgRXhjZXB0aW9ucyB0byBhYm92ZSBydWxlcy4KIWRlZmF1bHQubW9kZTF2MwohZGVmYXVsdC5tb2RlMnYzCiFkZWZhdWx0LnBieHVzZXIKIWRlZmF1bHQucGVyc3BlY3RpdmV2Mwo=",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/ios/Flutter/AppFrameworkInfo.plist",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHBsaXN0IFBVQkxJQyAiLS8vQXBwbGUvL0RURCBQTElTVCAxLjAvL0VOIiAiaHR0cDovL3d3dy5hcHBsZS5jb20vRFREcy9Qcm9wZXJ0eUxpc3QtMS4wLmR0ZCI+CjxwbGlzdCB2ZXJzaW9uPSIxLjAiPgo8ZGljdD4KICA8a2V5PkNGQnVuZGxlRGV2ZWxvcG1lbnRSZWdpb248L2tleT4KICA8c3RyaW5nPmVuPC9zdHJpbmc+CiAgPGtleT5DRkJ1bmRsZUV4ZWN1dGFibGU8L2tleT4KICA8c3RyaW5nPkFwcDwvc3RyaW5nPgogIDxrZXk+Q0ZCdW5kbGVJZGVudGlmaWVyPC9rZXk+CiAgPHN0cmluZz5pby5mbHV0dGVyLmZsdXR0ZXIuYXBwPC9zdHJpbmc+CiAgPGtleT5DRkJ1bmRsZUluZm9EaWN0aW9uYXJ5VmVyc2lvbjwva2V5PgogIDxzdHJpbmc+Ni4wPC9zdHJpbmc+CiAgPGtleT5DRkJ1bmRsZU5hbWU8L2tleT4KICA8c3RyaW5nPkFwcDwvc3RyaW5nPgogIDxrZXk+Q0ZCdW5kbGVQYWNrYWdlVHlwZTwva2V5PgogIDxzdHJpbmc+Rk1XSzwvc3RyaW5nPgogIDxrZXk+Q0ZCdW5kbGVTaG9ydFZlcnNpb25TdHJpbmc8L2tleT4KICA8c3RyaW5nPjEuMDwvc3RyaW5nPgogIDxrZXk+Q0ZCdW5kbGVTaWduYXR1cmU8L2tleT4KICA8c3RyaW5nPj8/Pz88L3N0cmluZz4KICA8a2V5PkNGQnVuZGxlVmVyc2lvbjwva2V5PgogIDxzdHJpbmc+MS4wPC9zdHJpbmc+CiAgPGtleT5NaW5pbXVtT1NWZXJzaW9uPC9rZXk+CiAgPHN0cmluZz4xMi4wPC9zdHJpbmc+CjwvZGljdD4KPC9wbGlzdD4K",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/ios/Flutter/Debug.xcconfig",
      "data":
          "I2luY2x1ZGU/ICJQb2RzL1RhcmdldCBTdXBwb3J0IEZpbGVzL1BvZHMtUnVubmVyL1BvZHMtUnVubmVyLmRlYnVnLnhjY29uZmlnIgojaW5jbHVkZSAiR2VuZXJhdGVkLnhjY29uZmlnIgo=",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/ios/Flutter/Release.xcconfig",
      "data":
          "I2luY2x1ZGU/ICJQb2RzL1RhcmdldCBTdXBwb3J0IEZpbGVzL1BvZHMtUnVubmVyL1BvZHMtUnVubmVyLnJlbGVhc2UueGNjb25maWciCiNpbmNsdWRlICJHZW5lcmF0ZWQueGNjb25maWciCg==",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner.xcodeproj/project.pbxproj",
      "data":
          "Ly8gISQqVVRGOCokIQp7CglhcmNoaXZlVmVyc2lvbiA9IDE7CgljbGFzc2VzID0gewoJfTsKCW9iamVjdFZlcnNpb24gPSA1NDsKCW9iamVjdHMgPSB7CgovKiBCZWdpbiBQQlhCdWlsZEZpbGUgc2VjdGlvbiAqLwoJCTE0OThEMjM0MUU4RTg5MjIwMDQwRjRDMiAvKiBHZW5lcmF0ZWRQbHVnaW5SZWdpc3RyYW50Lm0gaW4gU291cmNlcyAqLyA9IHtpc2EgPSBQQlhCdWlsZEZpbGU7IGZpbGVSZWYgPSAxNDk4RDIzMzFFOEU4OTIyMDA0MEY0QzIgLyogR2VuZXJhdGVkUGx1Z2luUmVnaXN0cmFudC5tICovOyB9OwoJCTMzMUM4MDhCMjk0QTYzQUIwMDI2M0JFNSAvKiBSdW5uZXJUZXN0cy5zd2lmdCBpbiBTb3VyY2VzICovID0ge2lzYSA9IFBCWEJ1aWxkRmlsZTsgZmlsZVJlZiA9IDMzMUM4MDdCMjk0QTYxODcwMDI2M0JFNSAvKiBSdW5uZXJUZXN0cy5zd2lmdCAqLzsgfTsKCQkzQjM5NjcxNjFFODMzQ0FBMDA0RjU5NzAgLyogQXBwRnJhbWV3b3JrSW5mby5wbGlzdCBpbiBSZXNvdXJjZXMgKi8gPSB7aXNhID0gUEJYQnVpbGRGaWxlOyBmaWxlUmVmID0gM0IzOTY3MTUxRTgzM0NBQTAwNEY1OTcwIC8qIEFwcEZyYW1ld29ya0luZm8ucGxpc3QgKi87IH07CgkJNzQ4NThGQUYxRUQyREM1NjAwNTE1ODEwIC8qIEFwcERlbGVnYXRlLnN3aWZ0IGluIFNvdXJjZXMgKi8gPSB7aXNhID0gUEJYQnVpbGRGaWxlOyBmaWxlUmVmID0gNzQ4NThGQUUxRUQyREM1NjAwNTE1ODEwIC8qIEFwcERlbGVnYXRlLnN3aWZ0ICovOyB9OwoJCTk3QzE0NkZDMUNGOTAwMEYwMDdDMTE3RCAvKiBNYWluLnN0b3J5Ym9hcmQgaW4gUmVzb3VyY2VzICovID0ge2lzYSA9IFBCWEJ1aWxkRmlsZTsgZmlsZVJlZiA9IDk3QzE0NkZBMUNGOTAwMEYwMDdDMTE3RCAvKiBNYWluLnN0b3J5Ym9hcmQgKi87IH07CgkJOTdDMTQ2RkUxQ0Y5MDAwRjAwN0MxMTdEIC8qIEFzc2V0cy54Y2Fzc2V0cyBpbiBSZXNvdXJjZXMgKi8gPSB7aXNhID0gUEJYQnVpbGRGaWxlOyBmaWxlUmVmID0gOTdDMTQ2RkQxQ0Y5MDAwRjAwN0MxMTdEIC8qIEFzc2V0cy54Y2Fzc2V0cyAqLzsgfTsKCQk5N0MxNDcwMTFDRjkwMDBGMDA3QzExN0QgLyogTGF1bmNoU2NyZWVuLnN0b3J5Ym9hcmQgaW4gUmVzb3VyY2VzICovID0ge2lzYSA9IFBCWEJ1aWxkRmlsZTsgZmlsZVJlZiA9IDk3QzE0NkZGMUNGOTAwMEYwMDdDMTE3RCAvKiBMYXVuY2hTY3JlZW4uc3Rvcnlib2FyZCAqLzsgfTsKCQk5QjcwQTA1QzBEM0QyMjQ4QzFBMThBNUQgLyogUG9kc19SdW5uZXIuZnJhbWV3b3JrIGluIEZyYW1ld29ya3MgKi8gPSB7aXNhID0gUEJYQnVpbGRGaWxlOyBmaWxlUmVmID0gOTE2ODQyNTc3QkVENEMyRUNBQjMyQjdDIC8qIFBvZHNfUnVubmVyLmZyYW1ld29yayAqLzsgfTsKCQlCOUIxN0RERjQ5MTk4RUJDRDAwQjFGNzIgLyogUG9kc19SdW5uZXJUZXN0cy5mcmFtZXdvcmsgaW4gRnJhbWV3b3JrcyAqLyA9IHtpc2EgPSBQQlhCdWlsZEZpbGU7IGZpbGVSZWYgPSAyQkEyNURENTQ5MkU1MDlERDQ0MzIzQTEgLyogUG9kc19SdW5uZXJUZXN0cy5mcmFtZXdvcmsgKi87IH07Ci8qIEVuZCBQQlhCdWlsZEZpbGUgc2VjdGlvbiAqLwoKLyogQmVnaW4gUEJYQ29udGFpbmVySXRlbVByb3h5IHNlY3Rpb24gKi8KCQkzMzFDODA4NTI5NEE2M0E0MDAyNjNCRTUgLyogUEJYQ29udGFpbmVySXRlbVByb3h5ICovID0gewoJCQlpc2EgPSBQQlhDb250YWluZXJJdGVtUHJveHk7CgkJCWNvbnRhaW5lclBvcnRhbCA9IDk3QzE0NkU2MUNGOTAwMEYwMDdDMTE3RCAvKiBQcm9qZWN0IG9iamVjdCAqLzsKCQkJcHJveHlUeXBlID0gMTsKCQkJcmVtb3RlR2xvYmFsSURTdHJpbmcgPSA5N0MxNDZFRDFDRjkwMDBGMDA3QzExN0Q7CgkJCXJlbW90ZUluZm8gPSBSdW5uZXI7CgkJfTsKLyogRW5kIFBCWENvbnRhaW5lckl0ZW1Qcm94eSBzZWN0aW9uICovCgovKiBCZWdpbiBQQlhDb3B5RmlsZXNCdWlsZFBoYXNlIHNlY3Rpb24gKi8KCQk5NzA1QTFDNDFDRjkwNDg1MDA1Mzg0ODkgLyogRW1iZWQgRnJhbWV3b3JrcyAqLyA9IHsKCQkJaXNhID0gUEJYQ29weUZpbGVzQnVpbGRQaGFzZTsKCQkJYnVpbGRBY3Rpb25NYXNrID0gMjE0NzQ4MzY0NzsKCQkJZHN0UGF0aCA9ICIiOwoJCQlkc3RTdWJmb2xkZXJTcGVjID0gMTA7CgkJCWZpbGVzID0gKAoJCQkpOwoJCQluYW1lID0gIkVtYmVkIEZyYW1ld29ya3MiOwoJCQlydW5Pbmx5Rm9yRGVwbG95bWVudFBvc3Rwcm9jZXNzaW5nID0gMDsKCQl9OwovKiBFbmQgUEJYQ29weUZpbGVzQnVpbGRQaGFzZSBzZWN0aW9uICovCgovKiBCZWdpbiBQQlhGaWxlUmVmZXJlbmNlIHNlY3Rpb24gKi8KCQkxNDk4RDIzMjFFOEU4NjIzMDA0MEY0QzIgLyogR2VuZXJhdGVkUGx1Z2luUmVnaXN0cmFudC5oICovID0ge2lzYSA9IFBCWEZpbGVSZWZlcmVuY2U7IGxhc3RLbm93bkZpbGVUeXBlID0gc291cmNlY29kZS5jLmg7IHBhdGggPSBHZW5lcmF0ZWRQbHVnaW5SZWdpc3RyYW50Lmg7IHNvdXJjZVRyZWUgPSAiPGdyb3VwPiI7IH07CgkJMTQ5OEQyMzMxRThFODkyMjAwNDBGNEMyIC8qIEdlbmVyYXRlZFBsdWdpblJlZ2lzdHJhbnQubSAqLyA9IHtpc2EgPSBQQlhGaWxlUmVmZXJlbmNlOyBmaWxlRW5jb2RpbmcgPSA0OyBsYXN0S25vd25GaWxlVHlwZSA9IHNvdXJjZWNvZGUuYy5vYmpjOyBwYXRoID0gR2VuZXJhdGVkUGx1Z2luUmVnaXN0cmFudC5tOyBzb3VyY2VUcmVlID0gIjxncm91cD4iOyB9OwoJCTJCQTI1REQ1NDkyRTUwOURENDQzMjNBMSAvKiBQb2RzX1J1bm5lclRlc3RzLmZyYW1ld29yayAqLyA9IHtpc2EgPSBQQlhGaWxlUmVmZXJlbmNlOyBleHBsaWNpdEZpbGVUeXBlID0gd3JhcHBlci5mcmFtZXdvcms7IGluY2x1ZGVJbkluZGV4ID0gMDsgcGF0aCA9IFBvZHNfUnVubmVyVGVzdHMuZnJhbWV3b3JrOyBzb3VyY2VUcmVlID0gQlVJTFRfUFJPRFVDVFNfRElSOyB9OwoJCTMxOUVDRDMzODYxOEZGM0I4NDMwQjU0OCAvKiBQb2RzLVJ1bm5lclRlc3RzLnJlbGVhc2UueGNjb25maWcgKi8gPSB7aXNhID0gUEJYRmlsZVJlZmVyZW5jZTsgaW5jbHVkZUluSW5kZXggPSAxOyBsYXN0S25vd25GaWxlVHlwZSA9IHRleHQueGNjb25maWc7IG5hbWUgPSAiUG9kcy1SdW5uZXJUZXN0cy5yZWxlYXNlLnhjY29uZmlnIjsgcGF0aCA9ICJUYXJnZXQgU3VwcG9ydCBGaWxlcy9Qb2RzLVJ1bm5lclRlc3RzL1BvZHMtUnVubmVyVGVzdHMucmVsZWFzZS54Y2NvbmZpZyI7IHNvdXJjZVRyZWUgPSAiPGdyb3VwPiI7IH07CgkJMzMxQzgwN0IyOTRBNjE4NzAwMjYzQkU1IC8qIFJ1bm5lclRlc3RzLnN3aWZ0ICovID0ge2lzYSA9IFBCWEZpbGVSZWZlcmVuY2U7IGxhc3RLbm93bkZpbGVUeXBlID0gc291cmNlY29kZS5zd2lmdDsgcGF0aCA9IFJ1bm5lclRlc3RzLnN3aWZ0OyBzb3VyY2VUcmVlID0gIjxncm91cD4iOyB9OwoJCTMzMUM4MDgxMjk0QTYzQTQwMDI2M0JFNSAvKiBSdW5uZXJUZXN0cy54Y3Rlc3QgKi8gPSB7aXNhID0gUEJYRmlsZVJlZmVyZW5jZTsgZXhwbGljaXRGaWxlVHlwZSA9IHdyYXBwZXIuY2ZidW5kbGU7IGluY2x1ZGVJbkluZGV4ID0gMDsgcGF0aCA9IFJ1bm5lclRlc3RzLnhjdGVzdDsgc291cmNlVHJlZSA9IEJVSUxUX1BST0RVQ1RTX0RJUjsgfTsKCQkzNDU4NzMxNzQ3ODM4NkIzMjQ4Q0MzRjUgLyogUG9kcy1SdW5uZXIucHJvZmlsZS54Y2NvbmZpZyAqLyA9IHtpc2EgPSBQQlhGaWxlUmVmZXJlbmNlOyBpbmNsdWRlSW5JbmRleCA9IDE7IGxhc3RLbm93bkZpbGVUeXBlID0gdGV4dC54Y2NvbmZpZzsgbmFtZSA9ICJQb2RzLVJ1bm5lci5wcm9maWxlLnhjY29uZmlnIjsgcGF0aCA9ICJUYXJnZXQgU3VwcG9ydCBGaWxlcy9Qb2RzLVJ1bm5lci9Qb2RzLVJ1bm5lci5wcm9maWxlLnhjY29uZmlnIjsgc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsgfTsKCQkzQjM5NjcxNTFFODMzQ0FBMDA0RjU5NzAgLyogQXBwRnJhbWV3b3JrSW5mby5wbGlzdCAqLyA9IHtpc2EgPSBQQlhGaWxlUmVmZXJlbmNlOyBmaWxlRW5jb2RpbmcgPSA0OyBsYXN0S25vd25GaWxlVHlwZSA9IHRleHQucGxpc3QueG1sOyBuYW1lID0gQXBwRnJhbWV3b3JrSW5mby5wbGlzdDsgcGF0aCA9IEZsdXR0ZXIvQXBwRnJhbWV3b3JrSW5mby5wbGlzdDsgc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsgfTsKCQk3NDg1OEZBRDFFRDJEQzU2MDA1MTU4MTAgLyogUnVubmVyLUJyaWRnaW5nLUhlYWRlci5oICovID0ge2lzYSA9IFBCWEZpbGVSZWZlcmVuY2U7IGxhc3RLbm93bkZpbGVUeXBlID0gc291cmNlY29kZS5jLmg7IHBhdGggPSAiUnVubmVyLUJyaWRnaW5nLUhlYWRlci5oIjsgc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsgfTsKCQk3NDg1OEZBRTFFRDJEQzU2MDA1MTU4MTAgLyogQXBwRGVsZWdhdGUuc3dpZnQgKi8gPSB7aXNhID0gUEJYRmlsZVJlZmVyZW5jZTsgZmlsZUVuY29kaW5nID0gNDsgbGFzdEtub3duRmlsZVR5cGUgPSBzb3VyY2Vjb2RlLnN3aWZ0OyBwYXRoID0gQXBwRGVsZWdhdGUuc3dpZnQ7IHNvdXJjZVRyZWUgPSAiPGdyb3VwPiI7IH07CgkJN0FGQTNDOEUxRDM1MzYwQzAwODMwODJFIC8qIFJlbGVhc2UueGNjb25maWcgKi8gPSB7aXNhID0gUEJYRmlsZVJlZmVyZW5jZTsgbGFzdEtub3duRmlsZVR5cGUgPSB0ZXh0LnhjY29uZmlnOyBuYW1lID0gUmVsZWFzZS54Y2NvbmZpZzsgcGF0aCA9IEZsdXR0ZXIvUmVsZWFzZS54Y2NvbmZpZzsgc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsgfTsKCQk3RUY0QTBBNTJEMTZENTVDMkE2QjhEMTIgLyogUG9kcy1SdW5uZXIuZGVidWcueGNjb25maWcgKi8gPSB7aXNhID0gUEJYRmlsZVJlZmVyZW5jZTsgaW5jbHVkZUluSW5kZXggPSAxOyBsYXN0S25vd25GaWxlVHlwZSA9IHRleHQueGNjb25maWc7IG5hbWUgPSAiUG9kcy1SdW5uZXIuZGVidWcueGNjb25maWciOyBwYXRoID0gIlRhcmdldCBTdXBwb3J0IEZpbGVzL1BvZHMtUnVubmVyL1BvZHMtUnVubmVyLmRlYnVnLnhjY29uZmlnIjsgc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsgfTsKCQk4MkExOUJFNUExMDVFMDFBNkZCMzcwNjcgLyogUG9kcy1SdW5uZXJUZXN0cy5kZWJ1Zy54Y2NvbmZpZyAqLyA9IHtpc2EgPSBQQlhGaWxlUmVmZXJlbmNlOyBpbmNsdWRlSW5JbmRleCA9IDE7IGxhc3RLbm93bkZpbGVUeXBlID0gdGV4dC54Y2NvbmZpZzsgbmFtZSA9ICJQb2RzLVJ1bm5lclRlc3RzLmRlYnVnLnhjY29uZmlnIjsgcGF0aCA9ICJUYXJnZXQgU3VwcG9ydCBGaWxlcy9Qb2RzLVJ1bm5lclRlc3RzL1BvZHMtUnVubmVyVGVzdHMuZGVidWcueGNjb25maWciOyBzb3VyY2VUcmVlID0gIjxncm91cD4iOyB9OwoJCTkxNjg0MjU3N0JFRDRDMkVDQUIzMkI3QyAvKiBQb2RzX1J1bm5lci5mcmFtZXdvcmsgKi8gPSB7aXNhID0gUEJYRmlsZVJlZmVyZW5jZTsgZXhwbGljaXRGaWxlVHlwZSA9IHdyYXBwZXIuZnJhbWV3b3JrOyBpbmNsdWRlSW5JbmRleCA9IDA7IHBhdGggPSBQb2RzX1J1bm5lci5mcmFtZXdvcms7IHNvdXJjZVRyZWUgPSBCVUlMVF9QUk9EVUNUU19ESVI7IH07CgkJOTc0MEVFQjIxQ0Y5MDE5NTAwNDM4NEZDIC8qIERlYnVnLnhjY29uZmlnICovID0ge2lzYSA9IFBCWEZpbGVSZWZlcmVuY2U7IGZpbGVFbmNvZGluZyA9IDQ7IGxhc3RLbm93bkZpbGVUeXBlID0gdGV4dC54Y2NvbmZpZzsgbmFtZSA9IERlYnVnLnhjY29uZmlnOyBwYXRoID0gRmx1dHRlci9EZWJ1Zy54Y2NvbmZpZzsgc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsgfTsKCQk5NzQwRUVCMzFDRjkwMTk1MDA0Mzg0RkMgLyogR2VuZXJhdGVkLnhjY29uZmlnICovID0ge2lzYSA9IFBCWEZpbGVSZWZlcmVuY2U7IGZpbGVFbmNvZGluZyA9IDQ7IGxhc3RLbm93bkZpbGVUeXBlID0gdGV4dC54Y2NvbmZpZzsgbmFtZSA9IEdlbmVyYXRlZC54Y2NvbmZpZzsgcGF0aCA9IEZsdXR0ZXIvR2VuZXJhdGVkLnhjY29uZmlnOyBzb3VyY2VUcmVlID0gIjxncm91cD4iOyB9OwoJCTk3QzE0NkVFMUNGOTAwMEYwMDdDMTE3RCAvKiBSdW5uZXIuYXBwICovID0ge2lzYSA9IFBCWEZpbGVSZWZlcmVuY2U7IGV4cGxpY2l0RmlsZVR5cGUgPSB3cmFwcGVyLmFwcGxpY2F0aW9uOyBpbmNsdWRlSW5JbmRleCA9IDA7IHBhdGggPSBSdW5uZXIuYXBwOyBzb3VyY2VUcmVlID0gQlVJTFRfUFJPRFVDVFNfRElSOyB9OwoJCTk3QzE0NkZCMUNGOTAwMEYwMDdDMTE3RCAvKiBCYXNlICovID0ge2lzYSA9IFBCWEZpbGVSZWZlcmVuY2U7IGxhc3RLbm93bkZpbGVUeXBlID0gZmlsZS5zdG9yeWJvYXJkOyBuYW1lID0gQmFzZTsgcGF0aCA9IEJhc2UubHByb2ovTWFpbi5zdG9yeWJvYXJkOyBzb3VyY2VUcmVlID0gIjxncm91cD4iOyB9OwoJCTk3QzE0NkZEMUNGOTAwMEYwMDdDMTE3RCAvKiBBc3NldHMueGNhc3NldHMgKi8gPSB7aXNhID0gUEJYRmlsZVJlZmVyZW5jZTsgbGFzdEtub3duRmlsZVR5cGUgPSBmb2xkZXIuYXNzZXRjYXRhbG9nOyBwYXRoID0gQXNzZXRzLnhjYXNzZXRzOyBzb3VyY2VUcmVlID0gIjxncm91cD4iOyB9OwoJCTk3QzE0NzAwMUNGOTAwMEYwMDdDMTE3RCAvKiBCYXNlICovID0ge2lzYSA9IFBCWEZpbGVSZWZlcmVuY2U7IGxhc3RLbm93bkZpbGVUeXBlID0gZmlsZS5zdG9yeWJvYXJkOyBuYW1lID0gQmFzZTsgcGF0aCA9IEJhc2UubHByb2ovTGF1bmNoU2NyZWVuLnN0b3J5Ym9hcmQ7IHNvdXJjZVRyZWUgPSAiPGdyb3VwPiI7IH07CgkJOTdDMTQ3MDIxQ0Y5MDAwRjAwN0MxMTdEIC8qIEluZm8ucGxpc3QgKi8gPSB7aXNhID0gUEJYRmlsZVJlZmVyZW5jZTsgbGFzdEtub3duRmlsZVR5cGUgPSB0ZXh0LnBsaXN0LnhtbDsgcGF0aCA9IEluZm8ucGxpc3Q7IHNvdXJjZVRyZWUgPSAiPGdyb3VwPiI7IH07CgkJQTg4RkM1OUVEODg0REEzQ0ZDREUzNUM1IC8qIFBvZHMtUnVubmVyVGVzdHMucHJvZmlsZS54Y2NvbmZpZyAqLyA9IHtpc2EgPSBQQlhGaWxlUmVmZXJlbmNlOyBpbmNsdWRlSW5JbmRleCA9IDE7IGxhc3RLbm93bkZpbGVUeXBlID0gdGV4dC54Y2NvbmZpZzsgbmFtZSA9ICJQb2RzLVJ1bm5lclRlc3RzLnByb2ZpbGUueGNjb25maWciOyBwYXRoID0gIlRhcmdldCBTdXBwb3J0IEZpbGVzL1BvZHMtUnVubmVyVGVzdHMvUG9kcy1SdW5uZXJUZXN0cy5wcm9maWxlLnhjY29uZmlnIjsgc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsgfTsKCQlDRUNBMUQ3NzIzRjNCQTlCMjgwOTJFRkIgLyogUG9kcy1SdW5uZXIucmVsZWFzZS54Y2NvbmZpZyAqLyA9IHtpc2EgPSBQQlhGaWxlUmVmZXJlbmNlOyBpbmNsdWRlSW5JbmRleCA9IDE7IGxhc3RLbm93bkZpbGVUeXBlID0gdGV4dC54Y2NvbmZpZzsgbmFtZSA9ICJQb2RzLVJ1bm5lci5yZWxlYXNlLnhjY29uZmlnIjsgcGF0aCA9ICJUYXJnZXQgU3VwcG9ydCBGaWxlcy9Qb2RzLVJ1bm5lci9Qb2RzLVJ1bm5lci5yZWxlYXNlLnhjY29uZmlnIjsgc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsgfTsKLyogRW5kIFBCWEZpbGVSZWZlcmVuY2Ugc2VjdGlvbiAqLwoKLyogQmVnaW4gUEJYRnJhbWV3b3Jrc0J1aWxkUGhhc2Ugc2VjdGlvbiAqLwoJCTk3QzE0NkVCMUNGOTAwMEYwMDdDMTE3RCAvKiBGcmFtZXdvcmtzICovID0gewoJCQlpc2EgPSBQQlhGcmFtZXdvcmtzQnVpbGRQaGFzZTsKCQkJYnVpbGRBY3Rpb25NYXNrID0gMjE0NzQ4MzY0NzsKCQkJZmlsZXMgPSAoCgkJCQk5QjcwQTA1QzBEM0QyMjQ4QzFBMThBNUQgLyogUG9kc19SdW5uZXIuZnJhbWV3b3JrIGluIEZyYW1ld29ya3MgKi8sCgkJCSk7CgkJCXJ1bk9ubHlGb3JEZXBsb3ltZW50UG9zdHByb2Nlc3NpbmcgPSAwOwoJCX07CgkJQkFDNzA3OTM1NUUxOERDOTVBODEyMUYxIC8qIEZyYW1ld29ya3MgKi8gPSB7CgkJCWlzYSA9IFBCWEZyYW1ld29ya3NCdWlsZFBoYXNlOwoJCQlidWlsZEFjdGlvbk1hc2sgPSAyMTQ3NDgzNjQ3OwoJCQlmaWxlcyA9ICgKCQkJCUI5QjE3RERGNDkxOThFQkNEMDBCMUY3MiAvKiBQb2RzX1J1bm5lclRlc3RzLmZyYW1ld29yayBpbiBGcmFtZXdvcmtzICovLAoJCQkpOwoJCQlydW5Pbmx5Rm9yRGVwbG95bWVudFBvc3Rwcm9jZXNzaW5nID0gMDsKCQl9OwovKiBFbmQgUEJYRnJhbWV3b3Jrc0J1aWxkUGhhc2Ugc2VjdGlvbiAqLwoKLyogQmVnaW4gUEJYR3JvdXAgc2VjdGlvbiAqLwoJCTMzMUM4MDgyMjk0QTYzQTQwMDI2M0JFNSAvKiBSdW5uZXJUZXN0cyAqLyA9IHsKCQkJaXNhID0gUEJYR3JvdXA7CgkJCWNoaWxkcmVuID0gKAoJCQkJMzMxQzgwN0IyOTRBNjE4NzAwMjYzQkU1IC8qIFJ1bm5lclRlc3RzLnN3aWZ0ICovLAoJCQkpOwoJCQlwYXRoID0gUnVubmVyVGVzdHM7CgkJCXNvdXJjZVRyZWUgPSAiPGdyb3VwPiI7CgkJfTsKCQk1RjU4NkU3RDhERjJGMzYzRUQzNjg2MkYgLyogUG9kcyAqLyA9IHsKCQkJaXNhID0gUEJYR3JvdXA7CgkJCWNoaWxkcmVuID0gKAoJCQkJN0VGNEEwQTUyRDE2RDU1QzJBNkI4RDEyIC8qIFBvZHMtUnVubmVyLmRlYnVnLnhjY29uZmlnICovLAoJCQkJQ0VDQTFENzcyM0YzQkE5QjI4MDkyRUZCIC8qIFBvZHMtUnVubmVyLnJlbGVhc2UueGNjb25maWcgKi8sCgkJCQkzNDU4NzMxNzQ3ODM4NkIzMjQ4Q0MzRjUgLyogUG9kcy1SdW5uZXIucHJvZmlsZS54Y2NvbmZpZyAqLywKCQkJCTgyQTE5QkU1QTEwNUUwMUE2RkIzNzA2NyAvKiBQb2RzLVJ1bm5lclRlc3RzLmRlYnVnLnhjY29uZmlnICovLAoJCQkJMzE5RUNEMzM4NjE4RkYzQjg0MzBCNTQ4IC8qIFBvZHMtUnVubmVyVGVzdHMucmVsZWFzZS54Y2NvbmZpZyAqLywKCQkJCUE4OEZDNTlFRDg4NERBM0NGQ0RFMzVDNSAvKiBQb2RzLVJ1bm5lclRlc3RzLnByb2ZpbGUueGNjb25maWcgKi8sCgkJCSk7CgkJCW5hbWUgPSBQb2RzOwoJCQlwYXRoID0gUG9kczsKCQkJc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsKCQl9OwoJCTkzMkFFODM4MzNGMjA3Qzc1RDg3MDVFMCAvKiBGcmFtZXdvcmtzICovID0gewoJCQlpc2EgPSBQQlhHcm91cDsKCQkJY2hpbGRyZW4gPSAoCgkJCQk5MTY4NDI1NzdCRUQ0QzJFQ0FCMzJCN0MgLyogUG9kc19SdW5uZXIuZnJhbWV3b3JrICovLAoJCQkJMkJBMjVERDU0OTJFNTA5REQ0NDMyM0ExIC8qIFBvZHNfUnVubmVyVGVzdHMuZnJhbWV3b3JrICovLAoJCQkpOwoJCQluYW1lID0gRnJhbWV3b3JrczsKCQkJc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsKCQl9OwoJCTk3NDBFRUIxMUNGOTAxODYwMDQzODRGQyAvKiBGbHV0dGVyICovID0gewoJCQlpc2EgPSBQQlhHcm91cDsKCQkJY2hpbGRyZW4gPSAoCgkJCQkzQjM5NjcxNTFFODMzQ0FBMDA0RjU5NzAgLyogQXBwRnJhbWV3b3JrSW5mby5wbGlzdCAqLywKCQkJCTk3NDBFRUIyMUNGOTAxOTUwMDQzODRGQyAvKiBEZWJ1Zy54Y2NvbmZpZyAqLywKCQkJCTdBRkEzQzhFMUQzNTM2MEMwMDgzMDgyRSAvKiBSZWxlYXNlLnhjY29uZmlnICovLAoJCQkJOTc0MEVFQjMxQ0Y5MDE5NTAwNDM4NEZDIC8qIEdlbmVyYXRlZC54Y2NvbmZpZyAqLywKCQkJKTsKCQkJbmFtZSA9IEZsdXR0ZXI7CgkJCXNvdXJjZVRyZWUgPSAiPGdyb3VwPiI7CgkJfTsKCQk5N0MxNDZFNTFDRjkwMDBGMDA3QzExN0QgPSB7CgkJCWlzYSA9IFBCWEdyb3VwOwoJCQljaGlsZHJlbiA9ICgKCQkJCTk3NDBFRUIxMUNGOTAxODYwMDQzODRGQyAvKiBGbHV0dGVyICovLAoJCQkJOTdDMTQ2RjAxQ0Y5MDAwRjAwN0MxMTdEIC8qIFJ1bm5lciAqLywKCQkJCTk3QzE0NkVGMUNGOTAwMEYwMDdDMTE3RCAvKiBQcm9kdWN0cyAqLywKCQkJCTMzMUM4MDgyMjk0QTYzQTQwMDI2M0JFNSAvKiBSdW5uZXJUZXN0cyAqLywKCQkJCTVGNTg2RTdEOERGMkYzNjNFRDM2ODYyRiAvKiBQb2RzICovLAoJCQkJOTMyQUU4MzgzM0YyMDdDNzVEODcwNUUwIC8qIEZyYW1ld29ya3MgKi8sCgkJCSk7CgkJCXNvdXJjZVRyZWUgPSAiPGdyb3VwPiI7CgkJfTsKCQk5N0MxNDZFRjFDRjkwMDBGMDA3QzExN0QgLyogUHJvZHVjdHMgKi8gPSB7CgkJCWlzYSA9IFBCWEdyb3VwOwoJCQljaGlsZHJlbiA9ICgKCQkJCTk3QzE0NkVFMUNGOTAwMEYwMDdDMTE3RCAvKiBSdW5uZXIuYXBwICovLAoJCQkJMzMxQzgwODEyOTRBNjNBNDAwMjYzQkU1IC8qIFJ1bm5lclRlc3RzLnhjdGVzdCAqLywKCQkJKTsKCQkJbmFtZSA9IFByb2R1Y3RzOwoJCQlzb3VyY2VUcmVlID0gIjxncm91cD4iOwoJCX07CgkJOTdDMTQ2RjAxQ0Y5MDAwRjAwN0MxMTdEIC8qIFJ1bm5lciAqLyA9IHsKCQkJaXNhID0gUEJYR3JvdXA7CgkJCWNoaWxkcmVuID0gKAoJCQkJOTdDMTQ2RkExQ0Y5MDAwRjAwN0MxMTdEIC8qIE1haW4uc3Rvcnlib2FyZCAqLywKCQkJCTk3QzE0NkZEMUNGOTAwMEYwMDdDMTE3RCAvKiBBc3NldHMueGNhc3NldHMgKi8sCgkJCQk5N0MxNDZGRjFDRjkwMDBGMDA3QzExN0QgLyogTGF1bmNoU2NyZWVuLnN0b3J5Ym9hcmQgKi8sCgkJCQk5N0MxNDcwMjFDRjkwMDBGMDA3QzExN0QgLyogSW5mby5wbGlzdCAqLywKCQkJCTE0OThEMjMyMUU4RTg2MjMwMDQwRjRDMiAvKiBHZW5lcmF0ZWRQbHVnaW5SZWdpc3RyYW50LmggKi8sCgkJCQkxNDk4RDIzMzFFOEU4OTIyMDA0MEY0QzIgLyogR2VuZXJhdGVkUGx1Z2luUmVnaXN0cmFudC5tICovLAoJCQkJNzQ4NThGQUUxRUQyREM1NjAwNTE1ODEwIC8qIEFwcERlbGVnYXRlLnN3aWZ0ICovLAoJCQkJNzQ4NThGQUQxRUQyREM1NjAwNTE1ODEwIC8qIFJ1bm5lci1CcmlkZ2luZy1IZWFkZXIuaCAqLywKCQkJKTsKCQkJcGF0aCA9IFJ1bm5lcjsKCQkJc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsKCQl9OwovKiBFbmQgUEJYR3JvdXAgc2VjdGlvbiAqLwoKLyogQmVnaW4gUEJYTmF0aXZlVGFyZ2V0IHNlY3Rpb24gKi8KCQkzMzFDODA4MDI5NEE2M0E0MDAyNjNCRTUgLyogUnVubmVyVGVzdHMgKi8gPSB7CgkJCWlzYSA9IFBCWE5hdGl2ZVRhcmdldDsKCQkJYnVpbGRDb25maWd1cmF0aW9uTGlzdCA9IDMzMUM4MDg3Mjk0QTYzQTQwMDI2M0JFNSAvKiBCdWlsZCBjb25maWd1cmF0aW9uIGxpc3QgZm9yIFBCWE5hdGl2ZVRhcmdldCAiUnVubmVyVGVzdHMiICovOwoJCQlidWlsZFBoYXNlcyA9ICgKCQkJCURCNUQyRjAwN0RCRUQyMTc1ODdFMTVGRiAvKiBbQ1BdIENoZWNrIFBvZHMgTWFuaWZlc3QubG9jayAqLywKCQkJCTMzMUM4MDdEMjk0QTYzQTQwMDI2M0JFNSAvKiBTb3VyY2VzICovLAoJCQkJMzMxQzgwN0YyOTRBNjNBNDAwMjYzQkU1IC8qIFJlc291cmNlcyAqLywKCQkJCUJBQzcwNzkzNTVFMThEQzk1QTgxMjFGMSAvKiBGcmFtZXdvcmtzICovLAoJCQkpOwoJCQlidWlsZFJ1bGVzID0gKAoJCQkpOwoJCQlkZXBlbmRlbmNpZXMgPSAoCgkJCQkzMzFDODA4NjI5NEE2M0E0MDAyNjNCRTUgLyogUEJYVGFyZ2V0RGVwZW5kZW5jeSAqLywKCQkJKTsKCQkJbmFtZSA9IFJ1bm5lclRlc3RzOwoJCQlwcm9kdWN0TmFtZSA9IFJ1bm5lclRlc3RzOwoJCQlwcm9kdWN0UmVmZXJlbmNlID0gMzMxQzgwODEyOTRBNjNBNDAwMjYzQkU1IC8qIFJ1bm5lclRlc3RzLnhjdGVzdCAqLzsKCQkJcHJvZHVjdFR5cGUgPSAiY29tLmFwcGxlLnByb2R1Y3QtdHlwZS5idW5kbGUudW5pdC10ZXN0IjsKCQl9OwoJCTk3QzE0NkVEMUNGOTAwMEYwMDdDMTE3RCAvKiBSdW5uZXIgKi8gPSB7CgkJCWlzYSA9IFBCWE5hdGl2ZVRhcmdldDsKCQkJYnVpbGRDb25maWd1cmF0aW9uTGlzdCA9IDk3QzE0NzA1MUNGOTAwMEYwMDdDMTE3RCAvKiBCdWlsZCBjb25maWd1cmF0aW9uIGxpc3QgZm9yIFBCWE5hdGl2ZVRhcmdldCAiUnVubmVyIiAqLzsKCQkJYnVpbGRQaGFzZXMgPSAoCgkJCQkwRkFEM0QyNERCNjYwQTk4OEMyNUE4MkUgLyogW0NQXSBDaGVjayBQb2RzIE1hbmlmZXN0LmxvY2sgKi8sCgkJCQk5NzQwRUVCNjFDRjkwMUY2MDA0Mzg0RkMgLyogUnVuIFNjcmlwdCAqLywKCQkJCTk3QzE0NkVBMUNGOTAwMEYwMDdDMTE3RCAvKiBTb3VyY2VzICovLAoJCQkJOTdDMTQ2RUIxQ0Y5MDAwRjAwN0MxMTdEIC8qIEZyYW1ld29ya3MgKi8sCgkJCQk5N0MxNDZFQzFDRjkwMDBGMDA3QzExN0QgLyogUmVzb3VyY2VzICovLAoJCQkJOTcwNUExQzQxQ0Y5MDQ4NTAwNTM4NDg5IC8qIEVtYmVkIEZyYW1ld29ya3MgKi8sCgkJCQkzQjA2QUQxRTFFNDkyM0Y1MDA0RDI2MDggLyogVGhpbiBCaW5hcnkgKi8sCgkJCQkwMDhCNkQ3MTdCRDExODdCMEI1MDMxQkYgLyogW0NQXSBFbWJlZCBQb2RzIEZyYW1ld29ya3MgKi8sCgkJCSk7CgkJCWJ1aWxkUnVsZXMgPSAoCgkJCSk7CgkJCWRlcGVuZGVuY2llcyA9ICgKCQkJKTsKCQkJbmFtZSA9IFJ1bm5lcjsKCQkJcHJvZHVjdE5hbWUgPSBSdW5uZXI7CgkJCXByb2R1Y3RSZWZlcmVuY2UgPSA5N0MxNDZFRTFDRjkwMDBGMDA3QzExN0QgLyogUnVubmVyLmFwcCAqLzsKCQkJcHJvZHVjdFR5cGUgPSAiY29tLmFwcGxlLnByb2R1Y3QtdHlwZS5hcHBsaWNhdGlvbiI7CgkJfTsKLyogRW5kIFBCWE5hdGl2ZVRhcmdldCBzZWN0aW9uICovCgovKiBCZWdpbiBQQlhQcm9qZWN0IHNlY3Rpb24gKi8KCQk5N0MxNDZFNjFDRjkwMDBGMDA3QzExN0QgLyogUHJvamVjdCBvYmplY3QgKi8gPSB7CgkJCWlzYSA9IFBCWFByb2plY3Q7CgkJCWF0dHJpYnV0ZXMgPSB7CgkJCQlCdWlsZEluZGVwZW5kZW50VGFyZ2V0c0luUGFyYWxsZWwgPSBZRVM7CgkJCQlMYXN0VXBncmFkZUNoZWNrID0gMTUxMDsKCQkJCU9SR0FOSVpBVElPTk5BTUUgPSAiIjsKCQkJCVRhcmdldEF0dHJpYnV0ZXMgPSB7CgkJCQkJMzMxQzgwODAyOTRBNjNBNDAwMjYzQkU1ID0gewoJCQkJCQlDcmVhdGVkT25Ub29sc1ZlcnNpb24gPSAxNC4wOwoJCQkJCQlUZXN0VGFyZ2V0SUQgPSA5N0MxNDZFRDFDRjkwMDBGMDA3QzExN0Q7CgkJCQkJfTsKCQkJCQk5N0MxNDZFRDFDRjkwMDBGMDA3QzExN0QgPSB7CgkJCQkJCUNyZWF0ZWRPblRvb2xzVmVyc2lvbiA9IDcuMy4xOwoJCQkJCQlMYXN0U3dpZnRNaWdyYXRpb24gPSAxMTAwOwoJCQkJCX07CgkJCQl9OwoJCQl9OwoJCQlidWlsZENvbmZpZ3VyYXRpb25MaXN0ID0gOTdDMTQ2RTkxQ0Y5MDAwRjAwN0MxMTdEIC8qIEJ1aWxkIGNvbmZpZ3VyYXRpb24gbGlzdCBmb3IgUEJYUHJvamVjdCAiUnVubmVyIiAqLzsKCQkJY29tcGF0aWJpbGl0eVZlcnNpb24gPSAiWGNvZGUgOS4zIjsKCQkJZGV2ZWxvcG1lbnRSZWdpb24gPSBlbjsKCQkJaGFzU2Nhbm5lZEZvckVuY29kaW5ncyA9IDA7CgkJCWtub3duUmVnaW9ucyA9ICgKCQkJCWVuLAoJCQkJQmFzZSwKCQkJKTsKCQkJbWFpbkdyb3VwID0gOTdDMTQ2RTUxQ0Y5MDAwRjAwN0MxMTdEOwoJCQlwcm9kdWN0UmVmR3JvdXAgPSA5N0MxNDZFRjFDRjkwMDBGMDA3QzExN0QgLyogUHJvZHVjdHMgKi87CgkJCXByb2plY3REaXJQYXRoID0gIiI7CgkJCXByb2plY3RSb290ID0gIiI7CgkJCXRhcmdldHMgPSAoCgkJCQk5N0MxNDZFRDFDRjkwMDBGMDA3QzExN0QgLyogUnVubmVyICovLAoJCQkJMzMxQzgwODAyOTRBNjNBNDAwMjYzQkU1IC8qIFJ1bm5lclRlc3RzICovLAoJCQkpOwoJCX07Ci8qIEVuZCBQQlhQcm9qZWN0IHNlY3Rpb24gKi8KCi8qIEJlZ2luIFBCWFJlc291cmNlc0J1aWxkUGhhc2Ugc2VjdGlvbiAqLwoJCTMzMUM4MDdGMjk0QTYzQTQwMDI2M0JFNSAvKiBSZXNvdXJjZXMgKi8gPSB7CgkJCWlzYSA9IFBCWFJlc291cmNlc0J1aWxkUGhhc2U7CgkJCWJ1aWxkQWN0aW9uTWFzayA9IDIxNDc0ODM2NDc7CgkJCWZpbGVzID0gKAoJCQkpOwoJCQlydW5Pbmx5Rm9yRGVwbG95bWVudFBvc3Rwcm9jZXNzaW5nID0gMDsKCQl9OwoJCTk3QzE0NkVDMUNGOTAwMEYwMDdDMTE3RCAvKiBSZXNvdXJjZXMgKi8gPSB7CgkJCWlzYSA9IFBCWFJlc291cmNlc0J1aWxkUGhhc2U7CgkJCWJ1aWxkQWN0aW9uTWFzayA9IDIxNDc0ODM2NDc7CgkJCWZpbGVzID0gKAoJCQkJOTdDMTQ3MDExQ0Y5MDAwRjAwN0MxMTdEIC8qIExhdW5jaFNjcmVlbi5zdG9yeWJvYXJkIGluIFJlc291cmNlcyAqLywKCQkJCTNCMzk2NzE2MUU4MzNDQUEwMDRGNTk3MCAvKiBBcHBGcmFtZXdvcmtJbmZvLnBsaXN0IGluIFJlc291cmNlcyAqLywKCQkJCTk3QzE0NkZFMUNGOTAwMEYwMDdDMTE3RCAvKiBBc3NldHMueGNhc3NldHMgaW4gUmVzb3VyY2VzICovLAoJCQkJOTdDMTQ2RkMxQ0Y5MDAwRjAwN0MxMTdEIC8qIE1haW4uc3Rvcnlib2FyZCBpbiBSZXNvdXJjZXMgKi8sCgkJCSk7CgkJCXJ1bk9ubHlGb3JEZXBsb3ltZW50UG9zdHByb2Nlc3NpbmcgPSAwOwoJCX07Ci8qIEVuZCBQQlhSZXNvdXJjZXNCdWlsZFBoYXNlIHNlY3Rpb24gKi8KCi8qIEJlZ2luIFBCWFNoZWxsU2NyaXB0QnVpbGRQaGFzZSBzZWN0aW9uICovCgkJMDA4QjZENzE3QkQxMTg3QjBCNTAzMUJGIC8qIFtDUF0gRW1iZWQgUG9kcyBGcmFtZXdvcmtzICovID0gewoJCQlpc2EgPSBQQlhTaGVsbFNjcmlwdEJ1aWxkUGhhc2U7CgkJCWJ1aWxkQWN0aW9uTWFzayA9IDIxNDc0ODM2NDc7CgkJCWZpbGVzID0gKAoJCQkpOwoJCQlpbnB1dEZpbGVMaXN0UGF0aHMgPSAoCgkJCQkiJHtQT0RTX1JPT1R9L1RhcmdldCBTdXBwb3J0IEZpbGVzL1BvZHMtUnVubmVyL1BvZHMtUnVubmVyLWZyYW1ld29ya3MtJHtDT05GSUdVUkFUSU9OfS1pbnB1dC1maWxlcy54Y2ZpbGVsaXN0IiwKCQkJKTsKCQkJbmFtZSA9ICJbQ1BdIEVtYmVkIFBvZHMgRnJhbWV3b3JrcyI7CgkJCW91dHB1dEZpbGVMaXN0UGF0aHMgPSAoCgkJCQkiJHtQT0RTX1JPT1R9L1RhcmdldCBTdXBwb3J0IEZpbGVzL1BvZHMtUnVubmVyL1BvZHMtUnVubmVyLWZyYW1ld29ya3MtJHtDT05GSUdVUkFUSU9OfS1vdXRwdXQtZmlsZXMueGNmaWxlbGlzdCIsCgkJCSk7CgkJCXJ1bk9ubHlGb3JEZXBsb3ltZW50UG9zdHByb2Nlc3NpbmcgPSAwOwoJCQlzaGVsbFBhdGggPSAvYmluL3NoOwoJCQlzaGVsbFNjcmlwdCA9ICJcIiR7UE9EU19ST09UfS9UYXJnZXQgU3VwcG9ydCBGaWxlcy9Qb2RzLVJ1bm5lci9Qb2RzLVJ1bm5lci1mcmFtZXdvcmtzLnNoXCJcbiI7CgkJCXNob3dFbnZWYXJzSW5Mb2cgPSAwOwoJCX07CgkJMEZBRDNEMjREQjY2MEE5ODhDMjVBODJFIC8qIFtDUF0gQ2hlY2sgUG9kcyBNYW5pZmVzdC5sb2NrICovID0gewoJCQlpc2EgPSBQQlhTaGVsbFNjcmlwdEJ1aWxkUGhhc2U7CgkJCWJ1aWxkQWN0aW9uTWFzayA9IDIxNDc0ODM2NDc7CgkJCWZpbGVzID0gKAoJCQkpOwoJCQlpbnB1dEZpbGVMaXN0UGF0aHMgPSAoCgkJCSk7CgkJCWlucHV0UGF0aHMgPSAoCgkJCQkiJHtQT0RTX1BPREZJTEVfRElSX1BBVEh9L1BvZGZpbGUubG9jayIsCgkJCQkiJHtQT0RTX1JPT1R9L01hbmlmZXN0LmxvY2siLAoJCQkpOwoJCQluYW1lID0gIltDUF0gQ2hlY2sgUG9kcyBNYW5pZmVzdC5sb2NrIjsKCQkJb3V0cHV0RmlsZUxpc3RQYXRocyA9ICgKCQkJKTsKCQkJb3V0cHV0UGF0aHMgPSAoCgkJCQkiJChERVJJVkVEX0ZJTEVfRElSKS9Qb2RzLVJ1bm5lci1jaGVja01hbmlmZXN0TG9ja1Jlc3VsdC50eHQiLAoJCQkpOwoJCQlydW5Pbmx5Rm9yRGVwbG95bWVudFBvc3Rwcm9jZXNzaW5nID0gMDsKCQkJc2hlbGxQYXRoID0gL2Jpbi9zaDsKCQkJc2hlbGxTY3JpcHQgPSAiZGlmZiBcIiR7UE9EU19QT0RGSUxFX0RJUl9QQVRIfS9Qb2RmaWxlLmxvY2tcIiBcIiR7UE9EU19ST09UfS9NYW5pZmVzdC5sb2NrXCIgPiAvZGV2L251bGxcbmlmIFsgJD8gIT0gMCBdIDsgdGhlblxuICAgICMgcHJpbnQgZXJyb3IgdG8gU1RERVJSXG4gICAgZWNobyBcImVycm9yOiBUaGUgc2FuZGJveCBpcyBub3QgaW4gc3luYyB3aXRoIHRoZSBQb2RmaWxlLmxvY2suIFJ1biAncG9kIGluc3RhbGwnIG9yIHVwZGF0ZSB5b3VyIENvY29hUG9kcyBpbnN0YWxsYXRpb24uXCIgPiYyXG4gICAgZXhpdCAxXG5maVxuIyBUaGlzIG91dHB1dCBpcyB1c2VkIGJ5IFhjb2RlICdvdXRwdXRzJyB0byBhdm9pZCByZS1ydW5uaW5nIHRoaXMgc2NyaXB0IHBoYXNlLlxuZWNobyBcIlNVQ0NFU1NcIiA+IFwiJHtTQ1JJUFRfT1VUUFVUX0ZJTEVfMH1cIlxuIjsKCQkJc2hvd0VudlZhcnNJbkxvZyA9IDA7CgkJfTsKCQkzQjA2QUQxRTFFNDkyM0Y1MDA0RDI2MDggLyogVGhpbiBCaW5hcnkgKi8gPSB7CgkJCWlzYSA9IFBCWFNoZWxsU2NyaXB0QnVpbGRQaGFzZTsKCQkJYWx3YXlzT3V0T2ZEYXRlID0gMTsKCQkJYnVpbGRBY3Rpb25NYXNrID0gMjE0NzQ4MzY0NzsKCQkJZmlsZXMgPSAoCgkJCSk7CgkJCWlucHV0UGF0aHMgPSAoCgkJCQkiJHtUQVJHRVRfQlVJTERfRElSfS8ke0lORk9QTElTVF9QQVRIfSIsCgkJCSk7CgkJCW5hbWUgPSAiVGhpbiBCaW5hcnkiOwoJCQlvdXRwdXRQYXRocyA9ICgKCQkJKTsKCQkJcnVuT25seUZvckRlcGxveW1lbnRQb3N0cHJvY2Vzc2luZyA9IDA7CgkJCXNoZWxsUGF0aCA9IC9iaW4vc2g7CgkJCXNoZWxsU2NyaXB0ID0gIi9iaW4vc2ggXCIkRkxVVFRFUl9ST09UL3BhY2thZ2VzL2ZsdXR0ZXJfdG9vbHMvYmluL3hjb2RlX2JhY2tlbmQuc2hcIiBlbWJlZF9hbmRfdGhpbiI7CgkJfTsKCQk5NzQwRUVCNjFDRjkwMUY2MDA0Mzg0RkMgLyogUnVuIFNjcmlwdCAqLyA9IHsKCQkJaXNhID0gUEJYU2hlbGxTY3JpcHRCdWlsZFBoYXNlOwoJCQlhbHdheXNPdXRPZkRhdGUgPSAxOwoJCQlidWlsZEFjdGlvbk1hc2sgPSAyMTQ3NDgzNjQ3OwoJCQlmaWxlcyA9ICgKCQkJKTsKCQkJaW5wdXRQYXRocyA9ICgKCQkJKTsKCQkJbmFtZSA9ICJSdW4gU2NyaXB0IjsKCQkJb3V0cHV0UGF0aHMgPSAoCgkJCSk7CgkJCXJ1bk9ubHlGb3JEZXBsb3ltZW50UG9zdHByb2Nlc3NpbmcgPSAwOwoJCQlzaGVsbFBhdGggPSAvYmluL3NoOwoJCQlzaGVsbFNjcmlwdCA9ICIvYmluL3NoIFwiJEZMVVRURVJfUk9PVC9wYWNrYWdlcy9mbHV0dGVyX3Rvb2xzL2Jpbi94Y29kZV9iYWNrZW5kLnNoXCIgYnVpbGQiOwoJCX07CgkJREI1RDJGMDA3REJFRDIxNzU4N0UxNUZGIC8qIFtDUF0gQ2hlY2sgUG9kcyBNYW5pZmVzdC5sb2NrICovID0gewoJCQlpc2EgPSBQQlhTaGVsbFNjcmlwdEJ1aWxkUGhhc2U7CgkJCWJ1aWxkQWN0aW9uTWFzayA9IDIxNDc0ODM2NDc7CgkJCWZpbGVzID0gKAoJCQkpOwoJCQlpbnB1dEZpbGVMaXN0UGF0aHMgPSAoCgkJCSk7CgkJCWlucHV0UGF0aHMgPSAoCgkJCQkiJHtQT0RTX1BPREZJTEVfRElSX1BBVEh9L1BvZGZpbGUubG9jayIsCgkJCQkiJHtQT0RTX1JPT1R9L01hbmlmZXN0LmxvY2siLAoJCQkpOwoJCQluYW1lID0gIltDUF0gQ2hlY2sgUG9kcyBNYW5pZmVzdC5sb2NrIjsKCQkJb3V0cHV0RmlsZUxpc3RQYXRocyA9ICgKCQkJKTsKCQkJb3V0cHV0UGF0aHMgPSAoCgkJCQkiJChERVJJVkVEX0ZJTEVfRElSKS9Qb2RzLVJ1bm5lclRlc3RzLWNoZWNrTWFuaWZlc3RMb2NrUmVzdWx0LnR4dCIsCgkJCSk7CgkJCXJ1bk9ubHlGb3JEZXBsb3ltZW50UG9zdHByb2Nlc3NpbmcgPSAwOwoJCQlzaGVsbFBhdGggPSAvYmluL3NoOwoJCQlzaGVsbFNjcmlwdCA9ICJkaWZmIFwiJHtQT0RTX1BPREZJTEVfRElSX1BBVEh9L1BvZGZpbGUubG9ja1wiIFwiJHtQT0RTX1JPT1R9L01hbmlmZXN0LmxvY2tcIiA+IC9kZXYvbnVsbFxuaWYgWyAkPyAhPSAwIF0gOyB0aGVuXG4gICAgIyBwcmludCBlcnJvciB0byBTVERFUlJcbiAgICBlY2hvIFwiZXJyb3I6IFRoZSBzYW5kYm94IGlzIG5vdCBpbiBzeW5jIHdpdGggdGhlIFBvZGZpbGUubG9jay4gUnVuICdwb2QgaW5zdGFsbCcgb3IgdXBkYXRlIHlvdXIgQ29jb2FQb2RzIGluc3RhbGxhdGlvbi5cIiA+JjJcbiAgICBleGl0IDFcbmZpXG4jIFRoaXMgb3V0cHV0IGlzIHVzZWQgYnkgWGNvZGUgJ291dHB1dHMnIHRvIGF2b2lkIHJlLXJ1bm5pbmcgdGhpcyBzY3JpcHQgcGhhc2UuXG5lY2hvIFwiU1VDQ0VTU1wiID4gXCIke1NDUklQVF9PVVRQVVRfRklMRV8wfVwiXG4iOwoJCQlzaG93RW52VmFyc0luTG9nID0gMDsKCQl9OwovKiBFbmQgUEJYU2hlbGxTY3JpcHRCdWlsZFBoYXNlIHNlY3Rpb24gKi8KCi8qIEJlZ2luIFBCWFNvdXJjZXNCdWlsZFBoYXNlIHNlY3Rpb24gKi8KCQkzMzFDODA3RDI5NEE2M0E0MDAyNjNCRTUgLyogU291cmNlcyAqLyA9IHsKCQkJaXNhID0gUEJYU291cmNlc0J1aWxkUGhhc2U7CgkJCWJ1aWxkQWN0aW9uTWFzayA9IDIxNDc0ODM2NDc7CgkJCWZpbGVzID0gKAoJCQkJMzMxQzgwOEIyOTRBNjNBQjAwMjYzQkU1IC8qIFJ1bm5lclRlc3RzLnN3aWZ0IGluIFNvdXJjZXMgKi8sCgkJCSk7CgkJCXJ1bk9ubHlGb3JEZXBsb3ltZW50UG9zdHByb2Nlc3NpbmcgPSAwOwoJCX07CgkJOTdDMTQ2RUExQ0Y5MDAwRjAwN0MxMTdEIC8qIFNvdXJjZXMgKi8gPSB7CgkJCWlzYSA9IFBCWFNvdXJjZXNCdWlsZFBoYXNlOwoJCQlidWlsZEFjdGlvbk1hc2sgPSAyMTQ3NDgzNjQ3OwoJCQlmaWxlcyA9ICgKCQkJCTc0ODU4RkFGMUVEMkRDNTYwMDUxNTgxMCAvKiBBcHBEZWxlZ2F0ZS5zd2lmdCBpbiBTb3VyY2VzICovLAoJCQkJMTQ5OEQyMzQxRThFODkyMjAwNDBGNEMyIC8qIEdlbmVyYXRlZFBsdWdpblJlZ2lzdHJhbnQubSBpbiBTb3VyY2VzICovLAoJCQkpOwoJCQlydW5Pbmx5Rm9yRGVwbG95bWVudFBvc3Rwcm9jZXNzaW5nID0gMDsKCQl9OwovKiBFbmQgUEJYU291cmNlc0J1aWxkUGhhc2Ugc2VjdGlvbiAqLwoKLyogQmVnaW4gUEJYVGFyZ2V0RGVwZW5kZW5jeSBzZWN0aW9uICovCgkJMzMxQzgwODYyOTRBNjNBNDAwMjYzQkU1IC8qIFBCWFRhcmdldERlcGVuZGVuY3kgKi8gPSB7CgkJCWlzYSA9IFBCWFRhcmdldERlcGVuZGVuY3k7CgkJCXRhcmdldCA9IDk3QzE0NkVEMUNGOTAwMEYwMDdDMTE3RCAvKiBSdW5uZXIgKi87CgkJCXRhcmdldFByb3h5ID0gMzMxQzgwODUyOTRBNjNBNDAwMjYzQkU1IC8qIFBCWENvbnRhaW5lckl0ZW1Qcm94eSAqLzsKCQl9OwovKiBFbmQgUEJYVGFyZ2V0RGVwZW5kZW5jeSBzZWN0aW9uICovCgovKiBCZWdpbiBQQlhWYXJpYW50R3JvdXAgc2VjdGlvbiAqLwoJCTk3QzE0NkZBMUNGOTAwMEYwMDdDMTE3RCAvKiBNYWluLnN0b3J5Ym9hcmQgKi8gPSB7CgkJCWlzYSA9IFBCWFZhcmlhbnRHcm91cDsKCQkJY2hpbGRyZW4gPSAoCgkJCQk5N0MxNDZGQjFDRjkwMDBGMDA3QzExN0QgLyogQmFzZSAqLywKCQkJKTsKCQkJbmFtZSA9IE1haW4uc3Rvcnlib2FyZDsKCQkJc291cmNlVHJlZSA9ICI8Z3JvdXA+IjsKCQl9OwoJCTk3QzE0NkZGMUNGOTAwMEYwMDdDMTE3RCAvKiBMYXVuY2hTY3JlZW4uc3Rvcnlib2FyZCAqLyA9IHsKCQkJaXNhID0gUEJYVmFyaWFudEdyb3VwOwoJCQljaGlsZHJlbiA9ICgKCQkJCTk3QzE0NzAwMUNGOTAwMEYwMDdDMTE3RCAvKiBCYXNlICovLAoJCQkpOwoJCQluYW1lID0gTGF1bmNoU2NyZWVuLnN0b3J5Ym9hcmQ7CgkJCXNvdXJjZVRyZWUgPSAiPGdyb3VwPiI7CgkJfTsKLyogRW5kIFBCWFZhcmlhbnRHcm91cCBzZWN0aW9uICovCgovKiBCZWdpbiBYQ0J1aWxkQ29uZmlndXJhdGlvbiBzZWN0aW9uICovCgkJMjQ5MDIxRDMyMTdFNEZEQjAwQUU5NUI5IC8qIFByb2ZpbGUgKi8gPSB7CgkJCWlzYSA9IFhDQnVpbGRDb25maWd1cmF0aW9uOwoJCQlidWlsZFNldHRpbmdzID0gewoJCQkJQUxXQVlTX1NFQVJDSF9VU0VSX1BBVEhTID0gTk87CgkJCQlBU1NFVENBVEFMT0dfQ09NUElMRVJfR0VORVJBVEVfU1dJRlRfQVNTRVRfU1lNQk9MX0VYVEVOU0lPTlMgPSBZRVM7CgkJCQlDTEFOR19BTkFMWVpFUl9OT05OVUxMID0gWUVTOwoJCQkJQ0xBTkdfQ1hYX0xBTkdVQUdFX1NUQU5EQVJEID0gImdudSsrMHgiOwoJCQkJQ0xBTkdfQ1hYX0xJQlJBUlkgPSAibGliYysrIjsKCQkJCUNMQU5HX0VOQUJMRV9NT0RVTEVTID0gWUVTOwoJCQkJQ0xBTkdfRU5BQkxFX09CSkNfQVJDID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9CTE9DS19DQVBUVVJFX0FVVE9SRUxFQVNJTkcgPSBZRVM7CgkJCQlDTEFOR19XQVJOX0JPT0xfQ09OVkVSU0lPTiA9IFlFUzsKCQkJCUNMQU5HX1dBUk5fQ09NTUEgPSBZRVM7CgkJCQlDTEFOR19XQVJOX0NPTlNUQU5UX0NPTlZFUlNJT04gPSBZRVM7CgkJCQlDTEFOR19XQVJOX0RFUFJFQ0FURURfT0JKQ19JTVBMRU1FTlRBVElPTlMgPSBZRVM7CgkJCQlDTEFOR19XQVJOX0RJUkVDVF9PQkpDX0lTQV9VU0FHRSA9IFlFU19FUlJPUjsKCQkJCUNMQU5HX1dBUk5fRU1QVFlfQk9EWSA9IFlFUzsKCQkJCUNMQU5HX1dBUk5fRU5VTV9DT05WRVJTSU9OID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9JTkZJTklURV9SRUNVUlNJT04gPSBZRVM7CgkJCQlDTEFOR19XQVJOX0lOVF9DT05WRVJTSU9OID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9OT05fTElURVJBTF9OVUxMX0NPTlZFUlNJT04gPSBZRVM7CgkJCQlDTEFOR19XQVJOX09CSkNfSU1QTElDSVRfUkVUQUlOX1NFTEYgPSBZRVM7CgkJCQlDTEFOR19XQVJOX09CSkNfTElURVJBTF9DT05WRVJTSU9OID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9PQkpDX1JPT1RfQ0xBU1MgPSBZRVNfRVJST1I7CgkJCQlDTEFOR19XQVJOX1JBTkdFX0xPT1BfQU5BTFlTSVMgPSBZRVM7CgkJCQlDTEFOR19XQVJOX1NUUklDVF9QUk9UT1RZUEVTID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9TVVNQSUNJT1VTX01PVkUgPSBZRVM7CgkJCQlDTEFOR19XQVJOX1VOUkVBQ0hBQkxFX0NPREUgPSBZRVM7CgkJCQlDTEFOR19XQVJOX19EVVBMSUNBVEVfTUVUSE9EX01BVENIID0gWUVTOwoJCQkJIkNPREVfU0lHTl9JREVOVElUWVtzZGs9aXBob25lb3MqXSIgPSAiaVBob25lIERldmVsb3BlciI7CgkJCQlDT1BZX1BIQVNFX1NUUklQID0gTk87CgkJCQlERUJVR19JTkZPUk1BVElPTl9GT1JNQVQgPSAiZHdhcmYtd2l0aC1kc3ltIjsKCQkJCUVOQUJMRV9OU19BU1NFUlRJT05TID0gTk87CgkJCQlFTkFCTEVfU1RSSUNUX09CSkNfTVNHU0VORCA9IFlFUzsKCQkJCUVOQUJMRV9VU0VSX1NDUklQVF9TQU5EQk9YSU5HID0gTk87CgkJCQlHQ0NfQ19MQU5HVUFHRV9TVEFOREFSRCA9IGdudTk5OwoJCQkJR0NDX05PX0NPTU1PTl9CTE9DS1MgPSBZRVM7CgkJCQlHQ0NfV0FSTl82NF9UT18zMl9CSVRfQ09OVkVSU0lPTiA9IFlFUzsKCQkJCUdDQ19XQVJOX0FCT1VUX1JFVFVSTl9UWVBFID0gWUVTX0VSUk9SOwoJCQkJR0NDX1dBUk5fVU5ERUNMQVJFRF9TRUxFQ1RPUiA9IFlFUzsKCQkJCUdDQ19XQVJOX1VOSU5JVElBTElaRURfQVVUT1MgPSBZRVNfQUdHUkVTU0lWRTsKCQkJCUdDQ19XQVJOX1VOVVNFRF9GVU5DVElPTiA9IFlFUzsKCQkJCUdDQ19XQVJOX1VOVVNFRF9WQVJJQUJMRSA9IFlFUzsKCQkJCUlQSE9ORU9TX0RFUExPWU1FTlRfVEFSR0VUID0gMTIuMDsKCQkJCU1UTF9FTkFCTEVfREVCVUdfSU5GTyA9IE5POwoJCQkJU0RLUk9PVCA9IGlwaG9uZW9zOwoJCQkJU1VQUE9SVEVEX1BMQVRGT1JNUyA9IGlwaG9uZW9zOwoJCQkJVEFSR0VURURfREVWSUNFX0ZBTUlMWSA9ICIxLDIiOwoJCQkJVkFMSURBVEVfUFJPRFVDVCA9IFlFUzsKCQkJfTsKCQkJbmFtZSA9IFByb2ZpbGU7CgkJfTsKCQkyNDkwMjFENDIxN0U0RkRCMDBBRTk1QjkgLyogUHJvZmlsZSAqLyA9IHsKCQkJaXNhID0gWENCdWlsZENvbmZpZ3VyYXRpb247CgkJCWJhc2VDb25maWd1cmF0aW9uUmVmZXJlbmNlID0gN0FGQTNDOEUxRDM1MzYwQzAwODMwODJFIC8qIFJlbGVhc2UueGNjb25maWcgKi87CgkJCWJ1aWxkU2V0dGluZ3MgPSB7CgkJCQlBU1NFVENBVEFMT0dfQ09NUElMRVJfQVBQSUNPTl9OQU1FID0gQXBwSWNvbjsKCQkJCUNMQU5HX0VOQUJMRV9NT0RVTEVTID0gWUVTOwoJCQkJQ0xBTkdfQUxMT1dfTk9OX01PRFVMQVJfSU5DTFVERVNfSU5fRlJBTUVXT1JLX01PRFVMRVMgPSBZRVM7CgkJCQlDVVJSRU5UX1BST0pFQ1RfVkVSU0lPTiA9ICIkKEZMVVRURVJfQlVJTERfTlVNQkVSKSI7CgkJCQlERVZFTE9QTUVOVF9URUFNID0gNDdTOUFKOTYyUDsKCQkJCUVOQUJMRV9CSVRDT0RFID0gTk87CgkJCQlJTkZPUExJU1RfRklMRSA9IFJ1bm5lci9JbmZvLnBsaXN0OwoJCQkJTERfUlVOUEFUSF9TRUFSQ0hfUEFUSFMgPSAoCgkJCQkJIiQoaW5oZXJpdGVkKSIsCgkJCQkJIkBleGVjdXRhYmxlX3BhdGgvRnJhbWV3b3JrcyIsCgkJCQkpOwoJCQkJUFJPRFVDVF9CVU5ETEVfSURFTlRJRklFUiA9IHt7YnVuZGxlX2lkZW50aWZpZXJ9fTsKCQkJCVBST0RVQ1RfTkFNRSA9ICIkKFRBUkdFVF9OQU1FKSI7CgkJCQlTV0lGVF9PQkpDX0JSSURHSU5HX0hFQURFUiA9ICJSdW5uZXIvUnVubmVyLUJyaWRnaW5nLUhlYWRlci5oIjsKCQkJCVNXSUZUX1ZFUlNJT04gPSA1LjA7CgkJCQlWRVJTSU9OSU5HX1NZU1RFTSA9ICJhcHBsZS1nZW5lcmljIjsKCQkJfTsKCQkJbmFtZSA9IFByb2ZpbGU7CgkJfTsKCQkzMzFDODA4ODI5NEE2M0E0MDAyNjNCRTUgLyogRGVidWcgKi8gPSB7CgkJCWlzYSA9IFhDQnVpbGRDb25maWd1cmF0aW9uOwoJCQliYXNlQ29uZmlndXJhdGlvblJlZmVyZW5jZSA9IDgyQTE5QkU1QTEwNUUwMUE2RkIzNzA2NyAvKiBQb2RzLVJ1bm5lclRlc3RzLmRlYnVnLnhjY29uZmlnICovOwoJCQlidWlsZFNldHRpbmdzID0gewoJCQkJQlVORExFX0xPQURFUiA9ICIkKFRFU1RfSE9TVCkiOwoJCQkJQ09ERV9TSUdOX1NUWUxFID0gQXV0b21hdGljOwoJCQkJQ1VSUkVOVF9QUk9KRUNUX1ZFUlNJT04gPSAxOwoJCQkJR0VORVJBVEVfSU5GT1BMSVNUX0ZJTEUgPSBZRVM7CgkJCQlNQVJLRVRJTkdfVkVSU0lPTiA9IDEuMDsKCQkJCVBST0RVQ1RfQlVORExFX0lERU5USUZJRVIgPSB7e2J1bmRsZV9pZGVudGlmaWVyfX0uUnVubmVyVGVzdHM7CgkJCQlQUk9EVUNUX05BTUUgPSAiJChUQVJHRVRfTkFNRSkiOwoJCQkJU1dJRlRfQUNUSVZFX0NPTVBJTEFUSU9OX0NPTkRJVElPTlMgPSBERUJVRzsKCQkJCVNXSUZUX09QVElNSVpBVElPTl9MRVZFTCA9ICItT25vbmUiOwoJCQkJU1dJRlRfVkVSU0lPTiA9IDUuMDsKCQkJCVRFU1RfSE9TVCA9ICIkKEJVSUxUX1BST0RVQ1RTX0RJUikvUnVubmVyLmFwcC8kKEJVTkRMRV9FWEVDVVRBQkxFX0ZPTERFUl9QQVRIKS9SdW5uZXIiOwoJCQl9OwoJCQluYW1lID0gRGVidWc7CgkJfTsKCQkzMzFDODA4OTI5NEE2M0E0MDAyNjNCRTUgLyogUmVsZWFzZSAqLyA9IHsKCQkJaXNhID0gWENCdWlsZENvbmZpZ3VyYXRpb247CgkJCWJhc2VDb25maWd1cmF0aW9uUmVmZXJlbmNlID0gMzE5RUNEMzM4NjE4RkYzQjg0MzBCNTQ4IC8qIFBvZHMtUnVubmVyVGVzdHMucmVsZWFzZS54Y2NvbmZpZyAqLzsKCQkJYnVpbGRTZXR0aW5ncyA9IHsKCQkJCUJVTkRMRV9MT0FERVIgPSAiJChURVNUX0hPU1QpIjsKCQkJCUNPREVfU0lHTl9TVFlMRSA9IEF1dG9tYXRpYzsKCQkJCUNVUlJFTlRfUFJPSkVDVF9WRVJTSU9OID0gMTsKCQkJCUdFTkVSQVRFX0lORk9QTElTVF9GSUxFID0gWUVTOwoJCQkJTUFSS0VUSU5HX1ZFUlNJT04gPSAxLjA7CgkJCQlQUk9EVUNUX0JVTkRMRV9JREVOVElGSUVSID0ge3tidW5kbGVfaWRlbnRpZmllcn19LlJ1bm5lclRlc3RzOwoJCQkJUFJPRFVDVF9OQU1FID0gIiQoVEFSR0VUX05BTUUpIjsKCQkJCVNXSUZUX1ZFUlNJT04gPSA1LjA7CgkJCQlURVNUX0hPU1QgPSAiJChCVUlMVF9QUk9EVUNUU19ESVIpL1J1bm5lci5hcHAvJChCVU5ETEVfRVhFQ1VUQUJMRV9GT0xERVJfUEFUSCkvUnVubmVyIjsKCQkJfTsKCQkJbmFtZSA9IFJlbGVhc2U7CgkJfTsKCQkzMzFDODA4QTI5NEE2M0E0MDAyNjNCRTUgLyogUHJvZmlsZSAqLyA9IHsKCQkJaXNhID0gWENCdWlsZENvbmZpZ3VyYXRpb247CgkJCWJhc2VDb25maWd1cmF0aW9uUmVmZXJlbmNlID0gQTg4RkM1OUVEODg0REEzQ0ZDREUzNUM1IC8qIFBvZHMtUnVubmVyVGVzdHMucHJvZmlsZS54Y2NvbmZpZyAqLzsKCQkJYnVpbGRTZXR0aW5ncyA9IHsKCQkJCUJVTkRMRV9MT0FERVIgPSAiJChURVNUX0hPU1QpIjsKCQkJCUNPREVfU0lHTl9TVFlMRSA9IEF1dG9tYXRpYzsKCQkJCUNVUlJFTlRfUFJPSkVDVF9WRVJTSU9OID0gMTsKCQkJCUdFTkVSQVRFX0lORk9QTElTVF9GSUxFID0gWUVTOwoJCQkJTUFSS0VUSU5HX1ZFUlNJT04gPSAxLjA7CgkJCQlQUk9EVUNUX0JVTkRMRV9JREVOVElGSUVSID0ge3tidW5kbGVfaWRlbnRpZmllcn19LlJ1bm5lclRlc3RzOwoJCQkJUFJPRFVDVF9OQU1FID0gIiQoVEFSR0VUX05BTUUpIjsKCQkJCVNXSUZUX1ZFUlNJT04gPSA1LjA7CgkJCQlURVNUX0hPU1QgPSAiJChCVUlMVF9QUk9EVUNUU19ESVIpL1J1bm5lci5hcHAvJChCVU5ETEVfRVhFQ1VUQUJMRV9GT0xERVJfUEFUSCkvUnVubmVyIjsKCQkJfTsKCQkJbmFtZSA9IFByb2ZpbGU7CgkJfTsKCQk5N0MxNDcwMzFDRjkwMDBGMDA3QzExN0QgLyogRGVidWcgKi8gPSB7CgkJCWlzYSA9IFhDQnVpbGRDb25maWd1cmF0aW9uOwoJCQlidWlsZFNldHRpbmdzID0gewoJCQkJQUxXQVlTX1NFQVJDSF9VU0VSX1BBVEhTID0gTk87CgkJCQlBU1NFVENBVEFMT0dfQ09NUElMRVJfR0VORVJBVEVfU1dJRlRfQVNTRVRfU1lNQk9MX0VYVEVOU0lPTlMgPSBZRVM7CgkJCQlDTEFOR19BTkFMWVpFUl9OT05OVUxMID0gWUVTOwoJCQkJQ0xBTkdfQ1hYX0xBTkdVQUdFX1NUQU5EQVJEID0gImdudSsrMHgiOwoJCQkJQ0xBTkdfQ1hYX0xJQlJBUlkgPSAibGliYysrIjsKCQkJCUNMQU5HX0VOQUJMRV9NT0RVTEVTID0gWUVTOwoJCQkJQ0xBTkdfRU5BQkxFX09CSkNfQVJDID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9CTE9DS19DQVBUVVJFX0FVVE9SRUxFQVNJTkcgPSBZRVM7CgkJCQlDTEFOR19XQVJOX0JPT0xfQ09OVkVSU0lPTiA9IFlFUzsKCQkJCUNMQU5HX1dBUk5fQ09NTUEgPSBZRVM7CgkJCQlDTEFOR19XQVJOX0NPTlNUQU5UX0NPTlZFUlNJT04gPSBZRVM7CgkJCQlDTEFOR19XQVJOX0RFUFJFQ0FURURfT0JKQ19JTVBMRU1FTlRBVElPTlMgPSBZRVM7CgkJCQlDTEFOR19XQVJOX0RJUkVDVF9PQkpDX0lTQV9VU0FHRSA9IFlFU19FUlJPUjsKCQkJCUNMQU5HX1dBUk5fRU1QVFlfQk9EWSA9IFlFUzsKCQkJCUNMQU5HX1dBUk5fRU5VTV9DT05WRVJTSU9OID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9JTkZJTklURV9SRUNVUlNJT04gPSBZRVM7CgkJCQlDTEFOR19XQVJOX0lOVF9DT05WRVJTSU9OID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9OT05fTElURVJBTF9OVUxMX0NPTlZFUlNJT04gPSBZRVM7CgkJCQlDTEFOR19XQVJOX09CSkNfSU1QTElDSVRfUkVUQUlOX1NFTEYgPSBZRVM7CgkJCQlDTEFOR19XQVJOX09CSkNfTElURVJBTF9DT05WRVJTSU9OID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9PQkpDX1JPT1RfQ0xBU1MgPSBZRVNfRVJST1I7CgkJCQlDTEFOR19XQVJOX1JBTkdFX0xPT1BfQU5BTFlTSVMgPSBZRVM7CgkJCQlDTEFOR19XQVJOX1NUUklDVF9QUk9UT1RZUEVTID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9TVVNQSUNJT1VTX01PVkUgPSBZRVM7CgkJCQlDTEFOR19XQVJOX1VOUkVBQ0hBQkxFX0NPREUgPSBZRVM7CgkJCQlDTEFOR19XQVJOX19EVVBMSUNBVEVfTUVUSE9EX01BVENIID0gWUVTOwoJCQkJIkNPREVfU0lHTl9JREVOVElUWVtzZGs9aXBob25lb3MqXSIgPSAiaVBob25lIERldmVsb3BlciI7CgkJCQlDT1BZX1BIQVNFX1NUUklQID0gTk87CgkJCQlERUJVR19JTkZPUk1BVElPTl9GT1JNQVQgPSBkd2FyZjsKCQkJCUVOQUJMRV9TVFJJQ1RfT0JKQ19NU0dTRU5EID0gWUVTOwoJCQkJRU5BQkxFX1RFU1RBQklMSVRZID0gWUVTOwoJCQkJRU5BQkxFX1VTRVJfU0NSSVBUX1NBTkRCT1hJTkcgPSBOTzsKCQkJCUdDQ19DX0xBTkdVQUdFX1NUQU5EQVJEID0gZ251OTk7CgkJCQlHQ0NfRFlOQU1JQ19OT19QSUMgPSBOTzsKCQkJCUdDQ19OT19DT01NT05fQkxPQ0tTID0gWUVTOwoJCQkJR0NDX09QVElNSVpBVElPTl9MRVZFTCA9IDA7CgkJCQlHQ0NfUFJFUFJPQ0VTU09SX0RFRklOSVRJT05TID0gKAoJCQkJCSJERUJVRz0xIiwKCQkJCQkiJChpbmhlcml0ZWQpIiwKCQkJCSk7CgkJCQlHQ0NfV0FSTl82NF9UT18zMl9CSVRfQ09OVkVSU0lPTiA9IFlFUzsKCQkJCUdDQ19XQVJOX0FCT1VUX1JFVFVSTl9UWVBFID0gWUVTX0VSUk9SOwoJCQkJR0NDX1dBUk5fVU5ERUNMQVJFRF9TRUxFQ1RPUiA9IFlFUzsKCQkJCUdDQ19XQVJOX1VOSU5JVElBTElaRURfQVVUT1MgPSBZRVNfQUdHUkVTU0lWRTsKCQkJCUdDQ19XQVJOX1VOVVNFRF9GVU5DVElPTiA9IFlFUzsKCQkJCUdDQ19XQVJOX1VOVVNFRF9WQVJJQUJMRSA9IFlFUzsKCQkJCUlQSE9ORU9TX0RFUExPWU1FTlRfVEFSR0VUID0gMTIuMDsKCQkJCU1UTF9FTkFCTEVfREVCVUdfSU5GTyA9IFlFUzsKCQkJCU9OTFlfQUNUSVZFX0FSQ0ggPSBZRVM7CgkJCQlTREtST09UID0gaXBob25lb3M7CgkJCQlUQVJHRVRFRF9ERVZJQ0VfRkFNSUxZID0gIjEsMiI7CgkJCX07CgkJCW5hbWUgPSBEZWJ1ZzsKCQl9OwoJCTk3QzE0NzA0MUNGOTAwMEYwMDdDMTE3RCAvKiBSZWxlYXNlICovID0gewoJCQlpc2EgPSBYQ0J1aWxkQ29uZmlndXJhdGlvbjsKCQkJYnVpbGRTZXR0aW5ncyA9IHsKCQkJCUFMV0FZU19TRUFSQ0hfVVNFUl9QQVRIUyA9IE5POwoJCQkJQVNTRVRDQVRBTE9HX0NPTVBJTEVSX0dFTkVSQVRFX1NXSUZUX0FTU0VUX1NZTUJPTF9FWFRFTlNJT05TID0gWUVTOwoJCQkJQ0xBTkdfQU5BTFlaRVJfTk9OTlVMTCA9IFlFUzsKCQkJCUNMQU5HX0NYWF9MQU5HVUFHRV9TVEFOREFSRCA9ICJnbnUrKzB4IjsKCQkJCUNMQU5HX0NYWF9MSUJSQVJZID0gImxpYmMrKyI7CgkJCQlDTEFOR19FTkFCTEVfTU9EVUxFUyA9IFlFUzsKCQkJCUNMQU5HX0VOQUJMRV9PQkpDX0FSQyA9IFlFUzsKCQkJCUNMQU5HX1dBUk5fQkxPQ0tfQ0FQVFVSRV9BVVRPUkVMRUFTSU5HID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9CT09MX0NPTlZFUlNJT04gPSBZRVM7CgkJCQlDTEFOR19XQVJOX0NPTU1BID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9DT05TVEFOVF9DT05WRVJTSU9OID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9ERVBSRUNBVEVEX09CSkNfSU1QTEVNRU5UQVRJT05TID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9ESVJFQ1RfT0JKQ19JU0FfVVNBR0UgPSBZRVNfRVJST1I7CgkJCQlDTEFOR19XQVJOX0VNUFRZX0JPRFkgPSBZRVM7CgkJCQlDTEFOR19XQVJOX0VOVU1fQ09OVkVSU0lPTiA9IFlFUzsKCQkJCUNMQU5HX1dBUk5fSU5GSU5JVEVfUkVDVVJTSU9OID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9JTlRfQ09OVkVSU0lPTiA9IFlFUzsKCQkJCUNMQU5HX1dBUk5fTk9OX0xJVEVSQUxfTlVMTF9DT05WRVJTSU9OID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9PQkpDX0lNUExJQ0lUX1JFVEFJTl9TRUxGID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9PQkpDX0xJVEVSQUxfQ09OVkVSU0lPTiA9IFlFUzsKCQkJCUNMQU5HX1dBUk5fT0JKQ19ST09UX0NMQVNTID0gWUVTX0VSUk9SOwoJCQkJQ0xBTkdfV0FSTl9SQU5HRV9MT09QX0FOQUxZU0lTID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9TVFJJQ1RfUFJPVE9UWVBFUyA9IFlFUzsKCQkJCUNMQU5HX1dBUk5fU1VTUElDSU9VU19NT1ZFID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9VTlJFQUNIQUJMRV9DT0RFID0gWUVTOwoJCQkJQ0xBTkdfV0FSTl9fRFVQTElDQVRFX01FVEhPRF9NQVRDSCA9IFlFUzsKCQkJCSJDT0RFX1NJR05fSURFTlRJVFlbc2RrPWlwaG9uZW9zKl0iID0gImlQaG9uZSBEZXZlbG9wZXIiOwoJCQkJQ09QWV9QSEFTRV9TVFJJUCA9IE5POwoJCQkJREVCVUdfSU5GT1JNQVRJT05fRk9STUFUID0gImR3YXJmLXdpdGgtZHN5bSI7CgkJCQlFTkFCTEVfTlNfQVNTRVJUSU9OUyA9IE5POwoJCQkJRU5BQkxFX1NUUklDVF9PQkpDX01TR1NFTkQgPSBZRVM7CgkJCQlFTkFCTEVfVVNFUl9TQ1JJUFRfU0FOREJPWElORyA9IE5POwoJCQkJR0NDX0NfTEFOR1VBR0VfU1RBTkRBUkQgPSBnbnU5OTsKCQkJCUdDQ19OT19DT01NT05fQkxPQ0tTID0gWUVTOwoJCQkJR0NDX1dBUk5fNjRfVE9fMzJfQklUX0NPTlZFUlNJT04gPSBZRVM7CgkJCQlHQ0NfV0FSTl9BQk9VVF9SRVRVUk5fVFlQRSA9IFlFU19FUlJPUjsKCQkJCUdDQ19XQVJOX1VOREVDTEFSRURfU0VMRUNUT1IgPSBZRVM7CgkJCQlHQ0NfV0FSTl9VTklOSVRJQUxJWkVEX0FVVE9TID0gWUVTX0FHR1JFU1NJVkU7CgkJCQlHQ0NfV0FSTl9VTlVTRURfRlVOQ1RJT04gPSBZRVM7CgkJCQlHQ0NfV0FSTl9VTlVTRURfVkFSSUFCTEUgPSBZRVM7CgkJCQlJUEhPTkVPU19ERVBMT1lNRU5UX1RBUkdFVCA9IDEyLjA7CgkJCQlNVExfRU5BQkxFX0RFQlVHX0lORk8gPSBOTzsKCQkJCVNES1JPT1QgPSBpcGhvbmVvczsKCQkJCVNVUFBPUlRFRF9QTEFURk9STVMgPSBpcGhvbmVvczsKCQkJCVNXSUZUX0NPTVBJTEFUSU9OX01PREUgPSB3aG9sZW1vZHVsZTsKCQkJCVNXSUZUX09QVElNSVpBVElPTl9MRVZFTCA9ICItTyI7CgkJCQlUQVJHRVRFRF9ERVZJQ0VfRkFNSUxZID0gIjEsMiI7CgkJCQlWQUxJREFURV9QUk9EVUNUID0gWUVTOwoJCQl9OwoJCQluYW1lID0gUmVsZWFzZTsKCQl9OwoJCTk3QzE0NzA2MUNGOTAwMEYwMDdDMTE3RCAvKiBEZWJ1ZyAqLyA9IHsKCQkJaXNhID0gWENCdWlsZENvbmZpZ3VyYXRpb247CgkJCWJhc2VDb25maWd1cmF0aW9uUmVmZXJlbmNlID0gOTc0MEVFQjIxQ0Y5MDE5NTAwNDM4NEZDIC8qIERlYnVnLnhjY29uZmlnICovOwoJCQlidWlsZFNldHRpbmdzID0gewoJCQkJQVNTRVRDQVRBTE9HX0NPTVBJTEVSX0FQUElDT05fTkFNRSA9IEFwcEljb247CgkJCQlDTEFOR19FTkFCTEVfTU9EVUxFUyA9IFlFUzsKCQkJCUNVUlJFTlRfUFJPSkVDVF9WRVJTSU9OID0gIiQoRkxVVFRFUl9CVUlMRF9OVU1CRVIpIjsKCQkJCURFVkVMT1BNRU5UX1RFQU0gPSA0N1M5QUo5NjJQOwoJCQkJRU5BQkxFX0JJVENPREUgPSBOTzsKCQkJCUlORk9QTElTVF9GSUxFID0gUnVubmVyL0luZm8ucGxpc3Q7CgkJCQlMRF9SVU5QQVRIX1NFQVJDSF9QQVRIUyA9ICgKCQkJCQkiJChpbmhlcml0ZWQpIiwKCQkJCQkiQGV4ZWN1dGFibGVfcGF0aC9GcmFtZXdvcmtzIiwKCQkJCSk7CgkJCQlQUk9EVUNUX0JVTkRMRV9JREVOVElGSUVSID0ge3tidW5kbGVfaWRlbnRpZmllcn19OwoJCQkJUFJPRFVDVF9OQU1FID0gIiQoVEFSR0VUX05BTUUpIjsKCQkJCVNXSUZUX09CSkNfQlJJREdJTkdfSEVBREVSID0gIlJ1bm5lci9SdW5uZXItQnJpZGdpbmctSGVhZGVyLmgiOwoJCQkJU1dJRlRfT1BUSU1JWkFUSU9OX0xFVkVMID0gIi1Pbm9uZSI7CgkJCQlTV0lGVF9WRVJTSU9OID0gNS4wOwoJCQkJVkVSU0lPTklOR19TWVNURU0gPSAiYXBwbGUtZ2VuZXJpYyI7CgkJCX07CgkJCW5hbWUgPSBEZWJ1ZzsKCQl9OwoJCTk3QzE0NzA3MUNGOTAwMEYwMDdDMTE3RCAvKiBSZWxlYXNlICovID0gewoJCQlpc2EgPSBYQ0J1aWxkQ29uZmlndXJhdGlvbjsKCQkJYmFzZUNvbmZpZ3VyYXRpb25SZWZlcmVuY2UgPSA3QUZBM0M4RTFEMzUzNjBDMDA4MzA4MkUgLyogUmVsZWFzZS54Y2NvbmZpZyAqLzsKCQkJYnVpbGRTZXR0aW5ncyA9IHsKCQkJCUFTU0VUQ0FUQUxPR19DT01QSUxFUl9BUFBJQ09OX05BTUUgPSBBcHBJY29uOwoJCQkJQ0xBTkdfRU5BQkxFX01PRFVMRVMgPSBZRVM7CgkJCQlDVVJSRU5UX1BST0pFQ1RfVkVSU0lPTiA9ICIkKEZMVVRURVJfQlVJTERfTlVNQkVSKSI7CgkJCQlERVZFTE9QTUVOVF9URUFNID0gNDdTOUFKOTYyUDsKCQkJCUVOQUJMRV9CSVRDT0RFID0gTk87CgkJCQlJTkZPUExJU1RfRklMRSA9IFJ1bm5lci9JbmZvLnBsaXN0OwoJCQkJTERfUlVOUEFUSF9TRUFSQ0hfUEFUSFMgPSAoCgkJCQkJIiQoaW5oZXJpdGVkKSIsCgkJCQkJIkBleGVjdXRhYmxlX3BhdGgvRnJhbWV3b3JrcyIsCgkJCQkpOwoJCQkJUFJPRFVDVF9CVU5ETEVfSURFTlRJRklFUiA9IHt7YnVuZGxlX2lkZW50aWZpZXJ9fTsKCQkJCVBST0RVQ1RfTkFNRSA9ICIkKFRBUkdFVF9OQU1FKSI7CgkJCQlTV0lGVF9PQkpDX0JSSURHSU5HX0hFQURFUiA9ICJSdW5uZXIvUnVubmVyLUJyaWRnaW5nLUhlYWRlci5oIjsKCQkJCVNXSUZUX1ZFUlNJT04gPSA1LjA7CgkJCQlWRVJTSU9OSU5HX1NZU1RFTSA9ICJhcHBsZS1nZW5lcmljIjsKCQkJfTsKCQkJbmFtZSA9IFJlbGVhc2U7CgkJfTsKLyogRW5kIFhDQnVpbGRDb25maWd1cmF0aW9uIHNlY3Rpb24gKi8KCi8qIEJlZ2luIFhDQ29uZmlndXJhdGlvbkxpc3Qgc2VjdGlvbiAqLwoJCTMzMUM4MDg3Mjk0QTYzQTQwMDI2M0JFNSAvKiBCdWlsZCBjb25maWd1cmF0aW9uIGxpc3QgZm9yIFBCWE5hdGl2ZVRhcmdldCAiUnVubmVyVGVzdHMiICovID0gewoJCQlpc2EgPSBYQ0NvbmZpZ3VyYXRpb25MaXN0OwoJCQlidWlsZENvbmZpZ3VyYXRpb25zID0gKAoJCQkJMzMxQzgwODgyOTRBNjNBNDAwMjYzQkU1IC8qIERlYnVnICovLAoJCQkJMzMxQzgwODkyOTRBNjNBNDAwMjYzQkU1IC8qIFJlbGVhc2UgKi8sCgkJCQkzMzFDODA4QTI5NEE2M0E0MDAyNjNCRTUgLyogUHJvZmlsZSAqLywKCQkJKTsKCQkJZGVmYXVsdENvbmZpZ3VyYXRpb25Jc1Zpc2libGUgPSAwOwoJCQlkZWZhdWx0Q29uZmlndXJhdGlvbk5hbWUgPSBSZWxlYXNlOwoJCX07CgkJOTdDMTQ2RTkxQ0Y5MDAwRjAwN0MxMTdEIC8qIEJ1aWxkIGNvbmZpZ3VyYXRpb24gbGlzdCBmb3IgUEJYUHJvamVjdCAiUnVubmVyIiAqLyA9IHsKCQkJaXNhID0gWENDb25maWd1cmF0aW9uTGlzdDsKCQkJYnVpbGRDb25maWd1cmF0aW9ucyA9ICgKCQkJCTk3QzE0NzAzMUNGOTAwMEYwMDdDMTE3RCAvKiBEZWJ1ZyAqLywKCQkJCTk3QzE0NzA0MUNGOTAwMEYwMDdDMTE3RCAvKiBSZWxlYXNlICovLAoJCQkJMjQ5MDIxRDMyMTdFNEZEQjAwQUU5NUI5IC8qIFByb2ZpbGUgKi8sCgkJCSk7CgkJCWRlZmF1bHRDb25maWd1cmF0aW9uSXNWaXNpYmxlID0gMDsKCQkJZGVmYXVsdENvbmZpZ3VyYXRpb25OYW1lID0gUmVsZWFzZTsKCQl9OwoJCTk3QzE0NzA1MUNGOTAwMEYwMDdDMTE3RCAvKiBCdWlsZCBjb25maWd1cmF0aW9uIGxpc3QgZm9yIFBCWE5hdGl2ZVRhcmdldCAiUnVubmVyIiAqLyA9IHsKCQkJaXNhID0gWENDb25maWd1cmF0aW9uTGlzdDsKCQkJYnVpbGRDb25maWd1cmF0aW9ucyA9ICgKCQkJCTk3QzE0NzA2MUNGOTAwMEYwMDdDMTE3RCAvKiBEZWJ1ZyAqLywKCQkJCTk3QzE0NzA3MUNGOTAwMEYwMDdDMTE3RCAvKiBSZWxlYXNlICovLAoJCQkJMjQ5MDIxRDQyMTdFNEZEQjAwQUU5NUI5IC8qIFByb2ZpbGUgKi8sCgkJCSk7CgkJCWRlZmF1bHRDb25maWd1cmF0aW9uSXNWaXNpYmxlID0gMDsKCQkJZGVmYXVsdENvbmZpZ3VyYXRpb25OYW1lID0gUmVsZWFzZTsKCQl9OwovKiBFbmQgWENDb25maWd1cmF0aW9uTGlzdCBzZWN0aW9uICovCgl9OwoJcm9vdE9iamVjdCA9IDk3QzE0NkU2MUNGOTAwMEYwMDdDMTE3RCAvKiBQcm9qZWN0IG9iamVjdCAqLzsKfQo=",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner.xcodeproj/project.xcworkspace/contents.xcworkspacedata",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPFdvcmtzcGFjZQogICB2ZXJzaW9uID0gIjEuMCI+CiAgIDxGaWxlUmVmCiAgICAgIGxvY2F0aW9uID0gInNlbGY6Ij4KICAgPC9GaWxlUmVmPgo8L1dvcmtzcGFjZT4K",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner.xcodeproj/project.xcworkspace/xcshareddata/IDEWorkspaceChecks.plist",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHBsaXN0IFBVQkxJQyAiLS8vQXBwbGUvL0RURCBQTElTVCAxLjAvL0VOIiAiaHR0cDovL3d3dy5hcHBsZS5jb20vRFREcy9Qcm9wZXJ0eUxpc3QtMS4wLmR0ZCI+CjxwbGlzdCB2ZXJzaW9uPSIxLjAiPgo8ZGljdD4KCTxrZXk+SURFRGlkQ29tcHV0ZU1hYzMyQml0V2FybmluZzwva2V5PgoJPHRydWUvPgo8L2RpY3Q+CjwvcGxpc3Q+Cg==",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner.xcodeproj/project.xcworkspace/xcshareddata/WorkspaceSettings.xcsettings",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHBsaXN0IFBVQkxJQyAiLS8vQXBwbGUvL0RURCBQTElTVCAxLjAvL0VOIiAiaHR0cDovL3d3dy5hcHBsZS5jb20vRFREcy9Qcm9wZXJ0eUxpc3QtMS4wLmR0ZCI+CjxwbGlzdCB2ZXJzaW9uPSIxLjAiPgo8ZGljdD4KCTxrZXk+UHJldmlld3NFbmFibGVkPC9rZXk+Cgk8ZmFsc2UvPgo8L2RpY3Q+CjwvcGxpc3Q+Cg==",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner.xcodeproj/xcshareddata/xcschemes/Runner.xcscheme",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPFNjaGVtZQogICBMYXN0VXBncmFkZVZlcnNpb24gPSAiMTUxMCIKICAgdmVyc2lvbiA9ICIxLjMiPgogICA8QnVpbGRBY3Rpb24KICAgICAgcGFyYWxsZWxpemVCdWlsZGFibGVzID0gIllFUyIKICAgICAgYnVpbGRJbXBsaWNpdERlcGVuZGVuY2llcyA9ICJZRVMiPgogICAgICA8QnVpbGRBY3Rpb25FbnRyaWVzPgogICAgICAgICA8QnVpbGRBY3Rpb25FbnRyeQogICAgICAgICAgICBidWlsZEZvclRlc3RpbmcgPSAiWUVTIgogICAgICAgICAgICBidWlsZEZvclJ1bm5pbmcgPSAiWUVTIgogICAgICAgICAgICBidWlsZEZvclByb2ZpbGluZyA9ICJZRVMiCiAgICAgICAgICAgIGJ1aWxkRm9yQXJjaGl2aW5nID0gIllFUyIKICAgICAgICAgICAgYnVpbGRGb3JBbmFseXppbmcgPSAiWUVTIj4KICAgICAgICAgICAgPEJ1aWxkYWJsZVJlZmVyZW5jZQogICAgICAgICAgICAgICBCdWlsZGFibGVJZGVudGlmaWVyID0gInByaW1hcnkiCiAgICAgICAgICAgICAgIEJsdWVwcmludElkZW50aWZpZXIgPSAiOTdDMTQ2RUQxQ0Y5MDAwRjAwN0MxMTdEIgogICAgICAgICAgICAgICBCdWlsZGFibGVOYW1lID0gIlJ1bm5lci5hcHAiCiAgICAgICAgICAgICAgIEJsdWVwcmludE5hbWUgPSAiUnVubmVyIgogICAgICAgICAgICAgICBSZWZlcmVuY2VkQ29udGFpbmVyID0gImNvbnRhaW5lcjpSdW5uZXIueGNvZGVwcm9qIj4KICAgICAgICAgICAgPC9CdWlsZGFibGVSZWZlcmVuY2U+CiAgICAgICAgIDwvQnVpbGRBY3Rpb25FbnRyeT4KICAgICAgPC9CdWlsZEFjdGlvbkVudHJpZXM+CiAgIDwvQnVpbGRBY3Rpb24+CiAgIDxUZXN0QWN0aW9uCiAgICAgIGJ1aWxkQ29uZmlndXJhdGlvbiA9ICJEZWJ1ZyIKICAgICAgc2VsZWN0ZWREZWJ1Z2dlcklkZW50aWZpZXIgPSAiWGNvZGUuRGVidWdnZXJGb3VuZGF0aW9uLkRlYnVnZ2VyLkxMREIiCiAgICAgIHNlbGVjdGVkTGF1bmNoZXJJZGVudGlmaWVyID0gIlhjb2RlLkRlYnVnZ2VyRm91bmRhdGlvbi5MYXVuY2hlci5MTERCIgogICAgICBzaG91bGRVc2VMYXVuY2hTY2hlbWVBcmdzRW52ID0gIllFUyI+CiAgICAgIDxNYWNyb0V4cGFuc2lvbj4KICAgICAgICAgPEJ1aWxkYWJsZVJlZmVyZW5jZQogICAgICAgICAgICBCdWlsZGFibGVJZGVudGlmaWVyID0gInByaW1hcnkiCiAgICAgICAgICAgIEJsdWVwcmludElkZW50aWZpZXIgPSAiOTdDMTQ2RUQxQ0Y5MDAwRjAwN0MxMTdEIgogICAgICAgICAgICBCdWlsZGFibGVOYW1lID0gIlJ1bm5lci5hcHAiCiAgICAgICAgICAgIEJsdWVwcmludE5hbWUgPSAiUnVubmVyIgogICAgICAgICAgICBSZWZlcmVuY2VkQ29udGFpbmVyID0gImNvbnRhaW5lcjpSdW5uZXIueGNvZGVwcm9qIj4KICAgICAgICAgPC9CdWlsZGFibGVSZWZlcmVuY2U+CiAgICAgIDwvTWFjcm9FeHBhbnNpb24+CiAgICAgIDxUZXN0YWJsZXM+CiAgICAgICAgIDxUZXN0YWJsZVJlZmVyZW5jZQogICAgICAgICAgICBza2lwcGVkID0gIk5PIgogICAgICAgICAgICBwYXJhbGxlbGl6YWJsZSA9ICJZRVMiPgogICAgICAgICAgICA8QnVpbGRhYmxlUmVmZXJlbmNlCiAgICAgICAgICAgICAgIEJ1aWxkYWJsZUlkZW50aWZpZXIgPSAicHJpbWFyeSIKICAgICAgICAgICAgICAgQmx1ZXByaW50SWRlbnRpZmllciA9ICIzMzFDODA4MDI5NEE2M0E0MDAyNjNCRTUiCiAgICAgICAgICAgICAgIEJ1aWxkYWJsZU5hbWUgPSAiUnVubmVyVGVzdHMueGN0ZXN0IgogICAgICAgICAgICAgICBCbHVlcHJpbnROYW1lID0gIlJ1bm5lclRlc3RzIgogICAgICAgICAgICAgICBSZWZlcmVuY2VkQ29udGFpbmVyID0gImNvbnRhaW5lcjpSdW5uZXIueGNvZGVwcm9qIj4KICAgICAgICAgICAgPC9CdWlsZGFibGVSZWZlcmVuY2U+CiAgICAgICAgIDwvVGVzdGFibGVSZWZlcmVuY2U+CiAgICAgIDwvVGVzdGFibGVzPgogICA8L1Rlc3RBY3Rpb24+CiAgIDxMYXVuY2hBY3Rpb24KICAgICAgYnVpbGRDb25maWd1cmF0aW9uID0gIkRlYnVnIgogICAgICBzZWxlY3RlZERlYnVnZ2VySWRlbnRpZmllciA9ICJYY29kZS5EZWJ1Z2dlckZvdW5kYXRpb24uRGVidWdnZXIuTExEQiIKICAgICAgc2VsZWN0ZWRMYXVuY2hlcklkZW50aWZpZXIgPSAiWGNvZGUuRGVidWdnZXJGb3VuZGF0aW9uLkxhdW5jaGVyLkxMREIiCiAgICAgIGxhdW5jaFN0eWxlID0gIjAiCiAgICAgIHVzZUN1c3RvbVdvcmtpbmdEaXJlY3RvcnkgPSAiTk8iCiAgICAgIGlnbm9yZXNQZXJzaXN0ZW50U3RhdGVPbkxhdW5jaCA9ICJOTyIKICAgICAgZGVidWdEb2N1bWVudFZlcnNpb25pbmcgPSAiWUVTIgogICAgICBkZWJ1Z1NlcnZpY2VFeHRlbnNpb24gPSAiaW50ZXJuYWwiCiAgICAgIGFsbG93TG9jYXRpb25TaW11bGF0aW9uID0gIllFUyI+CiAgICAgIDxCdWlsZGFibGVQcm9kdWN0UnVubmFibGUKICAgICAgICAgcnVubmFibGVEZWJ1Z2dpbmdNb2RlID0gIjAiPgogICAgICAgICA8QnVpbGRhYmxlUmVmZXJlbmNlCiAgICAgICAgICAgIEJ1aWxkYWJsZUlkZW50aWZpZXIgPSAicHJpbWFyeSIKICAgICAgICAgICAgQmx1ZXByaW50SWRlbnRpZmllciA9ICI5N0MxNDZFRDFDRjkwMDBGMDA3QzExN0QiCiAgICAgICAgICAgIEJ1aWxkYWJsZU5hbWUgPSAiUnVubmVyLmFwcCIKICAgICAgICAgICAgQmx1ZXByaW50TmFtZSA9ICJSdW5uZXIiCiAgICAgICAgICAgIFJlZmVyZW5jZWRDb250YWluZXIgPSAiY29udGFpbmVyOlJ1bm5lci54Y29kZXByb2oiPgogICAgICAgICA8L0J1aWxkYWJsZVJlZmVyZW5jZT4KICAgICAgPC9CdWlsZGFibGVQcm9kdWN0UnVubmFibGU+CiAgIDwvTGF1bmNoQWN0aW9uPgogICA8UHJvZmlsZUFjdGlvbgogICAgICBidWlsZENvbmZpZ3VyYXRpb24gPSAiUHJvZmlsZSIKICAgICAgc2hvdWxkVXNlTGF1bmNoU2NoZW1lQXJnc0VudiA9ICJZRVMiCiAgICAgIHNhdmVkVG9vbElkZW50aWZpZXIgPSAiIgogICAgICB1c2VDdXN0b21Xb3JraW5nRGlyZWN0b3J5ID0gIk5PIgogICAgICBkZWJ1Z0RvY3VtZW50VmVyc2lvbmluZyA9ICJZRVMiPgogICAgICA8QnVpbGRhYmxlUHJvZHVjdFJ1bm5hYmxlCiAgICAgICAgIHJ1bm5hYmxlRGVidWdnaW5nTW9kZSA9ICIwIj4KICAgICAgICAgPEJ1aWxkYWJsZVJlZmVyZW5jZQogICAgICAgICAgICBCdWlsZGFibGVJZGVudGlmaWVyID0gInByaW1hcnkiCiAgICAgICAgICAgIEJsdWVwcmludElkZW50aWZpZXIgPSAiOTdDMTQ2RUQxQ0Y5MDAwRjAwN0MxMTdEIgogICAgICAgICAgICBCdWlsZGFibGVOYW1lID0gIlJ1bm5lci5hcHAiCiAgICAgICAgICAgIEJsdWVwcmludE5hbWUgPSAiUnVubmVyIgogICAgICAgICAgICBSZWZlcmVuY2VkQ29udGFpbmVyID0gImNvbnRhaW5lcjpSdW5uZXIueGNvZGVwcm9qIj4KICAgICAgICAgPC9CdWlsZGFibGVSZWZlcmVuY2U+CiAgICAgIDwvQnVpbGRhYmxlUHJvZHVjdFJ1bm5hYmxlPgogICA8L1Byb2ZpbGVBY3Rpb24+CiAgIDxBbmFseXplQWN0aW9uCiAgICAgIGJ1aWxkQ29uZmlndXJhdGlvbiA9ICJEZWJ1ZyI+CiAgIDwvQW5hbHl6ZUFjdGlvbj4KICAgPEFyY2hpdmVBY3Rpb24KICAgICAgYnVpbGRDb25maWd1cmF0aW9uID0gIlJlbGVhc2UiCiAgICAgIHJldmVhbEFyY2hpdmVJbk9yZ2FuaXplciA9ICJZRVMiPgogICA8L0FyY2hpdmVBY3Rpb24+CjwvU2NoZW1lPgo=",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner.xcworkspace/contents.xcworkspacedata",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPFdvcmtzcGFjZQogICB2ZXJzaW9uID0gIjEuMCI+CiAgIDxGaWxlUmVmCiAgICAgIGxvY2F0aW9uID0gImdyb3VwOlJ1bm5lci54Y29kZXByb2oiPgogICA8L0ZpbGVSZWY+CiAgIDxGaWxlUmVmCiAgICAgIGxvY2F0aW9uID0gImdyb3VwOlBvZHMvUG9kcy54Y29kZXByb2oiPgogICA8L0ZpbGVSZWY+CjwvV29ya3NwYWNlPgo=",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner.xcworkspace/xcshareddata/IDEWorkspaceChecks.plist",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHBsaXN0IFBVQkxJQyAiLS8vQXBwbGUvL0RURCBQTElTVCAxLjAvL0VOIiAiaHR0cDovL3d3dy5hcHBsZS5jb20vRFREcy9Qcm9wZXJ0eUxpc3QtMS4wLmR0ZCI+CjxwbGlzdCB2ZXJzaW9uPSIxLjAiPgo8ZGljdD4KCTxrZXk+SURFRGlkQ29tcHV0ZU1hYzMyQml0V2FybmluZzwva2V5PgoJPHRydWUvPgo8L2RpY3Q+CjwvcGxpc3Q+Cg==",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner.xcworkspace/xcshareddata/WorkspaceSettings.xcsettings",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHBsaXN0IFBVQkxJQyAiLS8vQXBwbGUvL0RURCBQTElTVCAxLjAvL0VOIiAiaHR0cDovL3d3dy5hcHBsZS5jb20vRFREcy9Qcm9wZXJ0eUxpc3QtMS4wLmR0ZCI+CjxwbGlzdCB2ZXJzaW9uPSIxLjAiPgo8ZGljdD4KCTxrZXk+UHJldmlld3NFbmFibGVkPC9rZXk+Cgk8ZmFsc2UvPgo8L2RpY3Q+CjwvcGxpc3Q+Cg==",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/ios/Runner/AppDelegate.swift",
      "data":
          "aW1wb3J0IEZsdXR0ZXIKaW1wb3J0IFVJS2l0CgpAbWFpbgpAb2JqYyBjbGFzcyBBcHBEZWxlZ2F0ZTogRmx1dHRlckFwcERlbGVnYXRlIHsKICBvdmVycmlkZSBmdW5jIGFwcGxpY2F0aW9uKAogICAgXyBhcHBsaWNhdGlvbjogVUlBcHBsaWNhdGlvbiwKICAgIGRpZEZpbmlzaExhdW5jaGluZ1dpdGhPcHRpb25zIGxhdW5jaE9wdGlvbnM6IFtVSUFwcGxpY2F0aW9uLkxhdW5jaE9wdGlvbnNLZXk6IEFueV0/CiAgKSAtPiBCb29sIHsKICAgIEdlbmVyYXRlZFBsdWdpblJlZ2lzdHJhbnQucmVnaXN0ZXIod2l0aDogc2VsZikKICAgIHJldHVybiBzdXBlci5hcHBsaWNhdGlvbihhcHBsaWNhdGlvbiwgZGlkRmluaXNoTGF1bmNoaW5nV2l0aE9wdGlvbnM6IGxhdW5jaE9wdGlvbnMpCiAgfQp9Cg==",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Contents.json",
      "data":
          "ewogICJpbWFnZXMiIDogWwogICAgewogICAgICAic2l6ZSIgOiAiMjB4MjAiLAogICAgICAiaWRpb20iIDogImlwaG9uZSIsCiAgICAgICJmaWxlbmFtZSIgOiAiSWNvbi1BcHAtMjB4MjBAMngucG5nIiwKICAgICAgInNjYWxlIiA6ICIyeCIKICAgIH0sCiAgICB7CiAgICAgICJzaXplIiA6ICIyMHgyMCIsCiAgICAgICJpZGlvbSIgOiAiaXBob25lIiwKICAgICAgImZpbGVuYW1lIiA6ICJJY29uLUFwcC0yMHgyMEAzeC5wbmciLAogICAgICAic2NhbGUiIDogIjN4IgogICAgfSwKICAgIHsKICAgICAgInNpemUiIDogIjI5eDI5IiwKICAgICAgImlkaW9tIiA6ICJpcGhvbmUiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTI5eDI5QDF4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiMXgiCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiMjl4MjkiLAogICAgICAiaWRpb20iIDogImlwaG9uZSIsCiAgICAgICJmaWxlbmFtZSIgOiAiSWNvbi1BcHAtMjl4MjlAMngucG5nIiwKICAgICAgInNjYWxlIiA6ICIyeCIKICAgIH0sCiAgICB7CiAgICAgICJzaXplIiA6ICIyOXgyOSIsCiAgICAgICJpZGlvbSIgOiAiaXBob25lIiwKICAgICAgImZpbGVuYW1lIiA6ICJJY29uLUFwcC0yOXgyOUAzeC5wbmciLAogICAgICAic2NhbGUiIDogIjN4IgogICAgfSwKICAgIHsKICAgICAgInNpemUiIDogIjQweDQwIiwKICAgICAgImlkaW9tIiA6ICJpcGhvbmUiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTQweDQwQDJ4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiMngiCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiNDB4NDAiLAogICAgICAiaWRpb20iIDogImlwaG9uZSIsCiAgICAgICJmaWxlbmFtZSIgOiAiSWNvbi1BcHAtNDB4NDBAM3gucG5nIiwKICAgICAgInNjYWxlIiA6ICIzeCIKICAgIH0sCiAgICB7CiAgICAgICJzaXplIiA6ICI2MHg2MCIsCiAgICAgICJpZGlvbSIgOiAiaXBob25lIiwKICAgICAgImZpbGVuYW1lIiA6ICJJY29uLUFwcC02MHg2MEAyeC5wbmciLAogICAgICAic2NhbGUiIDogIjJ4IgogICAgfSwKICAgIHsKICAgICAgInNpemUiIDogIjYweDYwIiwKICAgICAgImlkaW9tIiA6ICJpcGhvbmUiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTYweDYwQDN4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiM3giCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiMjB4MjAiLAogICAgICAiaWRpb20iIDogImlwYWQiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTIweDIwQDF4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiMXgiCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiMjB4MjAiLAogICAgICAiaWRpb20iIDogImlwYWQiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTIweDIwQDJ4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiMngiCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiMjl4MjkiLAogICAgICAiaWRpb20iIDogImlwYWQiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTI5eDI5QDF4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiMXgiCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiMjl4MjkiLAogICAgICAiaWRpb20iIDogImlwYWQiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTI5eDI5QDJ4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiMngiCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiNDB4NDAiLAogICAgICAiaWRpb20iIDogImlwYWQiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTQweDQwQDF4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiMXgiCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiNDB4NDAiLAogICAgICAiaWRpb20iIDogImlwYWQiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTQweDQwQDJ4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiMngiCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiNzZ4NzYiLAogICAgICAiaWRpb20iIDogImlwYWQiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTc2eDc2QDF4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiMXgiCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiNzZ4NzYiLAogICAgICAiaWRpb20iIDogImlwYWQiLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTc2eDc2QDJ4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiMngiCiAgICB9LAogICAgewogICAgICAic2l6ZSIgOiAiODMuNXg4My41IiwKICAgICAgImlkaW9tIiA6ICJpcGFkIiwKICAgICAgImZpbGVuYW1lIiA6ICJJY29uLUFwcC04My41eDgzLjVAMngucG5nIiwKICAgICAgInNjYWxlIiA6ICIyeCIKICAgIH0sCiAgICB7CiAgICAgICJzaXplIiA6ICIxMDI0eDEwMjQiLAogICAgICAiaWRpb20iIDogImlvcy1tYXJrZXRpbmciLAogICAgICAiZmlsZW5hbWUiIDogIkljb24tQXBwLTEwMjR4MTAyNEAxeC5wbmciLAogICAgICAic2NhbGUiIDogIjF4IgogICAgfQogIF0sCiAgImluZm8iIDogewogICAgInZlcnNpb24iIDogMSwKICAgICJhdXRob3IiIDogInhjb2RlIgogIH0KfQo=",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-1024x1024@1x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAABAAAAAQACAIAAADwf7zUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QA/wD/AP+gvaeTAAApy0lEQVR42u3dW2xk90HH8f//nJmx12vvbm67tAsiPCAqKiQkpD4StA+88MwbUthH3stFFSoFhAKIlrZ0GyA0WefaJBtRVPqAoO2GO6GU0Nw2t80WO6UkVFoRNl577B4e5nbmYq/HHttn5v/5KKrS3No9M2q/v+Mz/4lFUQQAACANmUsAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAsGs1lwCAirj41ua19wvXgSq7eyH+4o/IJwwAANi3C29sXn5ny3Wg0vV/PP78D9VdB6adR4AAUP+wq/r/xIcbx907xQAAAPWP+gcDAADUP+ofDAAAUP+ofzAAAFD/oP7BAABA/YP6BwMAAPUP6h8MAADUP6h/MAAAUP+g/sEAAED9g/rHAAAA9Y/6BwMAANQ/6h8MAABQ/6h/MAAAQP2j/sEAAED9g/oHAwAA9Q/qHwwAANQ/qH8wAABQ/6D+wQAAQP2D+gcDAAD1D+ofDAAA1D/qHwwAAFD/qH8wAABA/aP+wQAAAPWP+gcDAAD1D+ofDAAA1D+ofzAAAFD/oP7BAABA/YP6BwMAAPUP6h8MAADUP6h/MAAAUP+of8AAAED9o/7BAAAA9Y/6BwMAANQ/6h8MAADUP6h/MAAAUP+g/sEAAED9g/oHAwAA9Q/qHwwAANQ/qH8wAABQ/6D+wQAAQP2j/gEDAAD1j/oHDAAA1D/qHzAAAFD/qH8wAABQ/6D+wQAAQP2D+gcDAAD1D+ofDAAA1D+ofzAAAFD/oP7BAABA/YP6BwMAAPWP+gcMAADUP+ofMAAAUP+of8AAAED9o/4BAwBA/YP6BwMAAPUP6h8MAADUP6h/MAAAUP+g/sEAAED9g/oHAwAA9Q/qHwwAANQ/6h8wAABQ/6h/wAAAQP2j/gEDAED9q3/UP2AAAKh/UP+AAQCg/kH9gwEAgPoH9Q8GAADqH9Q/GAAAqH9Q/2AAAKD+Qf2DAQCA+kf9AwYAAOof9Q8YAACof9Q/YAAAqH/1j/oHDAAA9Q/qHzAAANQ/qH/AAABQ/6D+wQAAQP2D+gcDAAD1D+ofDAAA1D+ofzAAAFD/qH/AAABA/aP+AQMAAPWP+gcMAAD1r/5R/4ABAKD+Qf0DBgCA+gf1DxgAAOof1D9gAACof1D/YAC4BADqH9Q/GAAAqH9Q/2AAAKD+Uf+AAQCA+kf9AwYAAOof9Q8YAADqH9Q/YAAAqH9Q/4ABAKD+Qf0DBgCA+gf1DxgAAOof1D9gAACof1D/gAEAoP5R/+ofDAAA1D/qHzAAAFD/qH/AAABA/aP+AQMAQP2D+gcMAAD1D+ofMAAA1D+of8AAAFD/oP4BAwBA/YP6BwwAAPUP6h8wAADUP+pf/QMGAID6R/0DBgAA6h/1DxgAAKh/1D9gAACof1D/gAEAoP5B/QMGAID6B/UPGAAA6h/UP2AAAKh/UP+AAQCg/kH9AwYAgPpH/at/wAAAUP+ofwADAED9o/4BAwAA9Y/6BwwAAPUP6h8wAADUP6h/wAAAUP+g/gEDAED9g/oHDAAA9Q/qHzAAANQ/qH/AAABQ/6h/9Q8YAADqH/UPYAAAqH/UP4ABAKD+Uf+AAQCg/kH9AwYAgPoH9Q8YAADqH9Q/YAAAqH9Q/4ABAKD+Qf0DBgCA+gf1DxgAAOof9Q9gAACof9Q/gAEAoP5R/wAGAID6R/0DGACA+gf1D2AAAOof1D9gAACof1D/gAEAoP5B/QMGAID6B/UPGAAA6h/UP2AAAKh/1D+AAQCg/lH/AAYAgPpH/QMYAADqH/UPYAAA6h/UP4ABAKh/UP8ABgCg/kH9AwYAgPoH9Q8YAADqH9Q/YAAAqH9Q/4ABAKD+Uf8ABgCA+kf9AxgAAOof9Q9gAACof9Q/gAEAqH9Q/wAGAKD+Qf0DGACA+gf1D2AAAOof1D9gAACof1D/gAEAoP5B/QMGAID6R/0DGAAA6h/1D2AAAKh/1D+AAQCg/lH/AAYAoP5B/QMYAID6B/UPYAAA6h/UP4ABAKh/UP8ABgCg/kH9AwYAgPoH9Q8YAADqH/UPYAAAqH/UP4ABAKD+Uf8ABgCA+kf9AxgAgPoH9Q9gAADqH9Q/gAEAqH9Q/wAGAKD+Qf0DGACA+gf1D2AAAOof1D9gAACof9Q/gAEAoP5R/wAGAID6R/0DGACA+lf/qH8AAwBQ/6D+AQwAQP2D+gcwAAD1D+ofwAAA1D+ofwADAFD/oP4BDABA/YP6BzAAAPWP+gfAAADUP+ofwAAAUP+ofwADAFD/6h/1D2AAAOof1D+AAQCof1D/AAYAoP5B/QMYAID6B/UPYAAA6h/UP4ABAKh/UP8ABgCg/lH/ABgAgPpH/QNgAADqH/UPYAAA6l/9o/4BDABA/YP6BzAAAPUP6h/AAADUP6h/AAMAUP+g/gEMAED9g/oHMAAA9Q/qH8AAANQ/6h8AAwBQ/6h/AAwAQP2j/gEwAED9g/oHMAAA9Q/qH8AAANQ/qH8AAwBQ/6D+AQwAQP2D+gcwAAD1D+ofwAAA1D/qX/0DGACA+kf9A2AAAOof9Q+AAQCof9Q/AAYAqH9Q/wAYAKD+Qf0DGACA+gf1D2AAAOof1D+AAQCof1D/AAYAoP5B/QMYAID6R/2rfwADAFD/qH8ADABA/aP+ATAAAPWP+gfAAAD1D+ofAAMA1D+ofwAMAFD/oP4BMABA/YP6BzAAAPUP6h/AAADUP6h/AAMAUP+of/UPYAAA6h/1D4ABAKh/1D8ABgCg/lH/ABgAoP5B/QNgAID6B/UPgAEA6h/UPwAGAKh/UP8AGACg/kH9AxgAgPoH9Q9gAADqH/Wv/gEMAED9o/4BMAAA9Y/6B8AAANQ/6h8AAwDUP6h/AAwAUP+g/gEwAED9g/oHwAAA9Q/qHwADANQ/qH8ADABQ/6D+AQwAQP2j/gEwAAD1j/oHwAAA1D/qHwADAFD/qH8ADABQ/6D+ATAAQP2D+gfAAAD1D+ofAAMA1D+ofwAMAFD/oP4BMABA/YP6B8AAAPWP+gfAAADUP+ofAAMAUP+ofwAMAED9o/4BMABA/YP6B8AAAPUP6h8AAwDUP6h/AAwAUP+g/gEwAED9g/oHwAAA9Q/qHwADANQ/6h8ADABQ/6h/AAwAQP2j/gEwAAD1j/oHwAAA9Q/qHwADANQ/qH8ADABQ/6D+ATAAQP2D+gfAAAD1D+ofAAMA1D+ofwAMAFD/qH8AMABA/aP+AcAAAPWP+gcAAwDUP+ofAAMA1D+ofwAMAFD/oP4BMABA/YP6B8AAAPUP6h8AAwDUP6h/AAwAUP+g/gEwAED9o/4BwAAA9Y/6BwADANQ/6h8ADABQ/6h/ADAAUP+g/gEwAED9g/oHwAAA9Q/qHwADANQ/qH8ADABQ/6D+ATAAQP2D+gfAAAD1j/oHAAMA1D/qHwAMAFD/qH8AMABQ/+of9Q8ABgDqH9Q/ABgAqH9Q/wAYAKD+Qf0DYACA+gf1D4ABAOof1D8ABgCof1D/ABgAoP5R/wBgAID6R/0DgAEA6h/1DwAGAOpf/aP+AcAAQP2D+gcAAwD1D+ofAAwA1D+ofwAMAFD/oP4BMABA/YP6B2C2+H8t1D+o/6q4/M7W5Xe/7zpQZQt5+JUP1V0HDABQ/6h/JlD/F97YdB2osuO18IkPN1wHpp1HgFD/oP7VP+y2/u8+Hl0KDABQ/6h/1D/qHwwAUP+of9Q/6h8MAFD/qH/UP+ofDADUv/pH/at/UP9gAKD+Qf2rf1D/YACg/kH9q39Q/2AAoP5B/at/UP9gAKD+Qf2rf1D/YACg/kH9q39Q/xgAoP5B/at/1D8YAKD+Uf+of9Q/GACg/lH/qH/UPxgAoP5R/6h/1D8YAKh/9Y/6V/+g/sEAQP2D+lf/oP7BAED9g/pX/6D+wQBA/YP6V/+g/sEAQP2D+lf/oP7BAED9g/pX/6D+wQBA/YP6V/+ofzAAQP2j/lH/qH8wAED9o/5R/6h/MABA/aP+Uf+ofzAAUP+uA+pf/YP6BwMA9Q/qX/2D+gcDgFlx8S31j/pX/6D+wQAgGT9zOtdVqH/1D+ofDADUFXh/qn9Q/2AAoLHAO1P9g/oHAwClBd6T6h/UPxgA6C3wblT/oP7BAEB1gfeh+gf1DwYA2gu8A9U/6h8wAFBgeO+h/lH/gAGADsO7DvWP+gcDANQY3m+of9Q/GACgyfBOU/+g/sEAAGWG95j6B/UPBgDoM7y71D+ofzAAUGmuBN5X6h/UPxgAaDXwjlL/oP7BAECxgfeS+gf1DwYAug3vIu8i9Y/6BwwA1BveP6h/1D9gAKDh8M5B/aP+AQMAJYf3DOof9Q8GAOg5vFvUP6h/MABA1eF9ov5B/YMBANoO7xD1D+ofDABQeHhvqH9Q/2AAgM7Du0L9g/oHAwDUHt4P6h/UPxgAaD68E7wT1D/qHzAAUH54D6D+Uf+AAYD+w6uP+kf9AwYAKhCvu/pX/6h/wABAC+IVV/+g/sEAAEWI11r9g/oHAwB0IV5l9Q/qHwwAUId4fdU/qH8wAEAj4pVV/6D+wQAApYjXVP2D+gcDAPSiV9Orqf5R/4ABAKrR64j6R/0DBgBoR68g6h/1DxgAKEi8dupf/aP+AQMAHYlXTf2D+gcMANQkXi/1D+ofDADQlHil1D+ofzAAQFniNVL/oP7BAAB9iVdH/YP6BwMAVCZeF/UP6h8MANCaXhFXQv2j/gEDABSn1wL1j/oHDADQnV4F1D/qHzAAQH26/upf/aP+AQMANKgrr/5B/QMGAChR11z9g/oHDAD0KK62+gf1DxgAqFJcZ/UP6h8MANCmuMLqH9Q/GACgUHFt1T+ofzAAQKe6qkzIl97e+p2Xm64D6h8wAECtup5J1P/HvrXx9lpxfaNwNVD/gAEAmtWVnP36b/2+DYD6BwwAUK6uYSr1bwOg/gEDAPSrq5dW/dsAqH/AAAAV67qlVf82AOofMABAy7piadW/DYD6BwwAULSuVVr1bwOg/gEDAHStq5RW/dsAqH/AAAB16/qkVf82AOofMABA47oyadW/DYD6BwwAULquSVr1bwOg/gEDAPSuq5FW/dsAqH/AAADV6zqkVf82AOofMABA+7oCadW/DYD6BwwAUMB+7WnVvw2A+gcMANDBftVp1b8NgPoHDABQw369adW/DYD6BwwA0MR+pWnVvw2A+gcMAFDGfo1p1b8NgPoHDADQx351adW/DYD6BwwAUMnqP636twFQ/4ABAFpZ/adV/zYA6h8wAEAxq/+06t8GQP0DBgDoZvWfVv3bAKh/wAAA9az+06p/GwD1DxgAoKHVf1r1bwOg/gEDAJS0+k+r/m0A1D9gAEDSPa3+E6x/GwD1DxgAkGhVq/9k698GUP/qHzAAILm2Vv+J178NoP4BDABIqLDVv/q3AdQ/gAEAqXS2+lf/NoD6BzAAIJXaVv/q3wZQ/wAGAKTS3Opf/dsA6h/AAIBUylv9q38bQP0DGACQSn+rf/VvA6h/AAMAUqlw9a/+bQD1D2AAQCobQP2rfxtA/QMYAJDKBlD/6t8GUP8ABgCksgHUv/q3AdQ/gAEAqWwA9a/+bQD1D2AAQCobQP2rfxtA/QMYAJDKBlD/6t8GUP8ABgCksgHUv/q3AdQ/gAEAqWwA9a/+bQD1D2AAQCobQP2rfxtA/QMYAJDKBlD/6t8GUP8ABgCksgHUv/q3AdQ/gAEAqWwA9a/+bQD1D2AAQCobQP2rfxtA/QMYAJDKBlD/6t8GUP8ABgCksgHUv/q3AdQ/gAEAqWwA9a/+bQD1D2AAQCobQP2rfxtA/QMYAJDKBlD/6t8GUP8AByEWhf8Rh2q5dqO4eG3zl3+srv7Vf5WdPRZPNXSq+gcMAAD1bwOg/oEK8wgQoP7ZI88CqX/AAABQ/zYA6h8wAADUvw2A+gcMAAD1bwOof/UPGAAA6t8GUP8ABgCA+rcB1D+AAQCg/m0A9Q9gAADqHxtA/QMYAID6xwZQ/4ABAKD+sQHUP2AAAKh/bAD1DxgAAOofG0D9AwYAgPrHBlD/gAEAoP5tgHQ3gPoHDAAA9W8DqH8AAwBA/dsA6h/AAABQ/zaA+gcwAAD1jw2g/gEMAED9YwOofwADAFD/2ADqH8AAANQ/NoD6BwwAAPWPDaD+AQMAQP1jA6h/wAAAUP+kvgHUP2AAAKh/UtkA6h8wAADUP6lsAPUPGAAA6p9UNoD6BwwAAPVPKhtA/QMGAID6J5UNoP4BAwBA/ZPKBlD/gAEAoP5JZQOof8AAAFD/pLIB1D9gAACof1LZAOofMAAA1D+pbAD1DxgAAOqfVDaA+gcMAAD1TyobQP0DBgCA+ieVDaD+AQMAQP2TygZQ/4ABAKD+SWUDqH/AAABQ/6SyAdQ/YAAAqH9S2QDqHzAAANQ/qWwA9Q8YAADqn1Q2gPoHDAAA9U8qG0D9AwYAgPonlQ2g/gEDAED9k8oGUP+AAQCg/kllA6h/wAAAUP+ksgHUP2AAAKh/UtkA6h8wAADUP6lsAPUPGAAA6p9UNoD6BzAAAPVPKhtA/QMYAID6J5UNoP4BDABA/ZPKBlD/AAYAoP5JZQOofwADAJiM95rFfa80XQeq7OrVqz/xzgvqH6Cr5hIAe7ZUj8sfadz73MZ7zcLVoILW/+utlWce/eja+p2NeO/P/pQLAhD8BADYpw+dyJY/0liqu71KReu/ubYes/r5T35p+a+fd00ADADABmD26z/k9ZDVzn/6K8tffcGVATAAABuAWaz/S331H7JayPLzn/2r5a+95PoABgCADcDs13/I8hCz85/7m+Wvv+IqAQYAgA3AbNV/PqL+Q5aFmJ2/8NXly1dcK8AAALABmKH6z4brPw8xCzGGmJ2/8PXly6+6YoABAGADMNv1n4WYhRBDjOc/f3n52ddcN8AAALABmOH6j63672yAZ20AwAAAsAGYtvr/zjb1H4frv38DhHD+fhsAMAAAbACmq/6f2ebefzZc/6Fc/61/OX//3y4/+7orCRgAADYA01z/MWv/BGDH+i/9HMAGAAwAABuAqtf/I7t77r9c/2Gg/ltsAMAAALABqH79b4xZ/3Fk/dsAgAEAYANQ5fq/uvLMw517/7WJ1L8NABgAADYAla3/7r3/Sda/DQAYAAA2AGnVvw0AGAAANgBVqv9LY9Z/GLv+bQDAAACwAahO/a/HXvpP/t6/DQAYAAA2AFWq/7we8oEzf/KQZROvfxsAMAAAbACOqP7fvrpyqXzmT95/738P9V/YAIABAGADUM36f3Pl0sPbPPd/gPf+bQDAAACwATiS+n+kubbRe+4/r4V4qPVvAwAGAIANwKHVf+vJn1r7uf9e/WeHWf82AGAAANgAHEL9L3ee+68P3vuP45z5U0zsv5UNABgAADYAB1f/nef+81rnmZ/DfvLHBgAMAAAbgAOu/9U3V55ebq5txKxU/1mtv/7jUP2HQ6h/GwAwAABsACZb/2+sXFpu3tyIWT3ktd6hn61b/r17/9nQvf84Zv3v68EgGwAwAABsACZV/+ul+q+16z8beO4/Dt37L8ap/wmwAQADAMAGYJ/1f7H95E9eOu+/Xf+tx36O5rl/GwAwAABsACZd/09fbK5txLw2WP+9G//Vqn8bADAAAGwA9lb/r7frf/CLfrv3/vdd/8UB/ve3AQADAMAGYJz6f+pi37d9jaj/WMF7/zYAYAAA2ACMWf8rr6889VDnvP96/3Gfw/Uf++o/HPanfm0AwAAAsAHYu5srr608/VDv275GHPZfPvGzdct/svf+J/xgkA0AGAAANgDb1v9qX/23jvvM+z/yW77rH0KM/Tf941DKF0f+67IBAAMAwAZgVP23n/wpfeS3/Vv5277igd37twEAAwDABuBw6v8/X1196gvNm+V7//k29/7L9R+mov5tAMAAALABGKj/B5trzcETP1v3/lsbIAw9+dOK/n3W/+E+H2QDAAYAgA2g/l9dferB5s3uef+d9B/4qq/B+m/922qd+WMDAAYAgA3AzvV/ZfXJP2uubcSsPvhdv1m2xxM/i6Liv2obADAAAGyAJOv/21dWn/xC82az71O/sXvefz6q/sOhfOr3wCeEDQAYAAA2QHr13/7Ub63vvP++A3/Kn/0Ne6r/qpwEagMABgCADZBy/b+y+uQDzbX10nP/tc4t/4F7/92DPnc88bPyj/3YAIABAGADpFr/115Z/eIDpRM/894X/Walh/67v5Vzf0pO/LQBAAMAwAagVf8vrz75QPNm+cTPWrv+Rx77E0r3/g/IUf/wwAYADAAAG2Bm63/lyQcGT/yMWftf+w77zzoP/wzc+69ev9sAgAEAYAMwov7femnli3+6OXzefzb0Xb+9Y/7DLT71u92j/1P4kQAbADAAAGyAWa3/vP9Tv/3pv/v6P1hHMCFsAMAAALABZqP+X1x54k9K9/5rpWP+89JBn6Wv+ppk/Vf3JFAbADAAAGyAmav/qy+uPPHHm+sbfd/21TvvPw7e+y8f+1Ou/1sGfFHMxhWzAQADAMAGmN76f2Hlifs3e2f+5H0H/oRsF/Xf1/iJXDcbADAAAGyA6az/x+/fXG+27/3HvHfkf/nGf/nJn0HxkCZA9ZaFDQAYAAA2wFTV/5vfWnn885vrzVh+7Kf7xH/W/9nf8r3/Yui5/+KWwT6bPxmwAQADAMAGmA5rrfq/2an/2F//7SP/h5/86cv+/rIvts39GToJ1AYADAAAG2AK6/+N/1h97ELnyZ88xNJ3/XY/+Bs6jwCFozrlczcqMSFsAMAAALABqlz/z68+fqH35E8c+p6vMPRtX936b/+7g3g5pukkUBsAMAAAbIApqf/Xn1997HObN5ux+8R/Vjrmv9z92535U8Tt8303nT+zxwTZAIABAGADVK3+/331sT/aXG/Vf633qd+s9JHfUN4A4/9nFCGdk0BtAMAAALABKlz/r31z9dHP9p35E7tH/vd/6jeU7v0X5Sd/xpoBB2AaloUNABgAADZAdep/M+7mxv9unvxpPclTfp7n1nXuO8IADAAAG+AQ6v/Vf1t99DObG5u9T/32Hfc59MR/+eru6vyf7U4CLQYHw4i/1fcDABgAADbAJOv/G6uPfKbz3H/3t869//ZZn1mp/kuP+8RiVP2PzH1sAMAAALABjrz+r3xj9ZFPb250n/sfOOszjv4JQJ/WJwGKQ8z94oD/ehsAMAAAbIBZ9P6Vf1155A83NzZjO/2Hn/zJSqf9xFFP+8Rxknv/J4HO4I8UbADAAACwAQ6l/l95bvXhT21tNGMcddpPLH3V18gTP3vf9lWMnelpnwRqAwAGAIANcPj1/y+rD39qa30zxrx04ueo7m/Ffhz6rt/ymT97C/qETwK1AQADAMAGOMT6f/mfV5c/ubXR/a7fgVv+3eM+Q/+9/+4FjDs++TN0sI+TQG0AwAAAsAGOtP7/YKv33H/WOfAn9h36GWLf0/89MYSi1PS773UngdoAgAEAYAMccv2/9E+rF39/a2Oz87j/wJH/se/An1B67KdX/zuU/S1z/6hM04tuAwAGAIANMKH6f/EfO/Vf/tRv7N37H/yu31I6907/LJd9f9xX8STQOF31bwMABgCADTCp+v+H1Yu/16n/zpM/g5/6Db2Hf7r1X+yY3cW4iX44J4HGKU1/GwAwAABsgAm48cLfrz74u1vNzpM/g1/4FXu/DX/P14hv/prEbf6DOAm0d3jRLLABAAMAwAbYY/2//dB9W83N9rP+2ajjPsuHfu7ia76GhkAxFPS7i/uJTIDZ6n4bADAAAGyA/df/Vqf78+5X/BZh+PO+YdQHf8es9kM6CTTOcPfbAIABAGAD7K/+u7f8s9YnfUvn/Ze/5Cv213/fB387H/AtOn9kXyeBDvzBXZwE2uv+7lmlqbABAAMAwAYYs/6zkQd9htJh/3HoZwBxnL4f9yTQMR/9iTGEzo8vQoqHONkAgAEAYAPsrf7Lz/1nvef+W+Hf9wx/0T7Wc+APDpZ9MVT2E/1ob8xCVgsxT+qWvw0AGAAANsD+63/owJ9O9vdO/Izbf9NX+fO+w392+z+5zT9u5+iPIctDXgtZLUT/R2YDAAYAgA2wl/qPfR+cHXHSf7Hj2fnFeBG/m7+qGNn9jZDVk33UxwYADAAAG2BC9V/+it8w8F2/MYSi/YxN30M+xa0rfr8ngRYhdLo/b4Ss5lEfGwAwAABsgP3Xf9Yf/Z36LlrpX4x9u30PJ4EO/+1ZLdTmQ20+ZHXdbwMABgCADTDR+i8/9jNY27Ev04vtor4YvMFfjPN53+5fnNdDfT40FkKt4RF/GwAwAABsgAOr/1brx4GsH/63xdCfKcIOf1NvHoz846HU/cfC3GKozYUs9zazAQADAMAGOND6H/qAbwylY0C7t/+LXtBP5CTQvB4aC2F+KdSPhazmrWUDAAYAgA1wOPXf7f+409397Yx7EmhWD43j4dip0Dge8oYjfWwAwAAAsAEOuf5Lv4ru2f/d2/nFbsbALk4CzWphbjEs3B7mT4TanI/22gCAAQBgAxx1/fce8R94sr8Y/J1e5d/qJNC8HuaWwvE7wsLtoX7MR3ttAMAAALABjrz+u//941D2j/wI7y4eDcry0FgMi3eF43eGxnEf7bUBgCqIxVhntAGwjSv/+/17n9t4r3n0/6O69/qPIYTW3xJDzDt/Sx6zGEI2+M8p/2to/X5o/37eCI2FMLcY8oY3RtU89Ev33HvPj7oOYAAAMCMbYH/1H0PIQtaq+byT+FkcTP/uP63zF7f+sa3n++dOhPq8N4MNABgAADZA9es/tO/lZ+X7/d0BEPv/ga0fC8T28/1zS2Fu0RvABgAMAAAbYIrqvzQAQm8GxPYTQZ0BEGLIshBjmD8VFm4Lc0tedBsAMAAAbIBD3QATqv/QeZgn7w2AEGP7d7J29x+7LRw7FeZP+lCvDQAYAAAcwQaYXP23/kzp+Z8sCyFrD4D5k2HxrnDsNt1vAwAGAABHtgEmXP8hlB/+CVkW5pbi0g+EhdtDbc5ragMABgAAR7kBDqD+OwNg/kQ88cGweGeoOdLHBgAMAAAqsAEOpP7rx8LSmXjyrI/22gCAAQBAhTbAhOtf92MDgAEAQGU3wMTqP6+HxdPx5NmwcLvXCBsADAAAqrgBJlD/re5fOhMWT3tdsAHAAACguhtgv/W/dDqe/EHdjw0ABgAAU7AB9l7/S2fi0umwdCZkdS8BNgAYAAYAwBRsgL3U/8Id8eTZsHQm5LXeGAAbAAwAVwGg4htgvPqfP9Hu/vpCKfvVPzYAYAAATMMG2G39z3W7/1jpRwHqHxsAMAAApmcD3Lr+Gwth8XQ8dTbMnWh3v/rHBgAMAIBp3AA71X99ISydjifPhvkTvZ8DqH9sAMAAAJjSDTC6/vNGWDodT3wwHL9j8Ckg9Y8NABgAAFO6AQbrP2+Exbvi4umwdKa0B9Q/NgBgAABM/wboq//Fu+KJD4TFMyHL292v/rEBAAMAYGY2wHe/+XdvP3TfVu1EXLwzLJ4OtfmQ1dQ/NgBgAADMoJffvfHTv/Cr31uvx9p8yOshq6l/bADAAACYZc+/8Z1zH33g+tqW+scGAAwAgDQ2wJvfPfdrD19/f1P9YwMABgBAGhvg6n+f+9gT19c21T82AGAAAKSxAd5659yvX7q+1lT/2ACAAQCQyAZ499zH//z62ob6xwYADACANDbAtf859xt/cf39DfWPDQAYAADJbIDf/PL1GxvqHxsAMAAAEtkA3zv3W1++fqOp/rEBAAMAIJ0N8JfX399Q/9gAgAEAkMwG+O2vXL+x4VJgAwB7lrkEANPiJ+++42sf/7lTxxsuBVV2/v5nl5993XUAAwCASWyAH7YBsAEAAwDABgAbADAAAGwAsAEAAwDABgAbAAwAAGwAsAHAAADABgAbAAwAAGwAsAHAAADABgAbAAwAAGwAsAHAAADABsAGAAwAAGwAbADAAADABsAGAAwAAGwAbADAAACwAWwAbADAAACwAcAGAAMAABsAbAAwAACwAcAGAAMAABsAbAAwAACwAcAGAAMAABsAbAAwAACwAcAGAAMAABsAbAAwAACwAbABAAMAABsAGwAwAACwAbABAAMAABsAGwAwAABsABsAGwAMAABsALABwAAAwAYAGwAMAABsALABwAAAwAYAGwAMAABsALABwAAAwAYAGwAMAABsALABwAAAwAbABrABwAAAwAbABgAMAABsAGwAwAAAwAbABgADAABsAGwAMAAAsAFsAGwAMAAAsAHABgADAAAbAGwAMAAAsAHABgADAAAbAGwAMAAAsAHABgADAAAbAGwAMAAAsAHABgADAAAbABvABgADAAAbABsADAAAsAGwAcAAAAAbABsADAAAsAGwAcAAAMAGABsADAAAbACwAcAAAMAGABsADAAAbACwAcAAAMAGABsADAAAbACwAcAAAMAGABsADAAAbACwATAAAMAGwAawATAAAMAGwAYAAwAAbABsADAAAMAGwAYAAwAAbABsADAAALABwAYAAwAAGwBsADAAALABwAYAAwAAGwBsADAAALABwAYAAwAAGwBsAAwAlwAAGwBsAAwAALABwAZgBsWiKFwFAKrg2rv/9+1333MdqLh7fvwDLgIGAAAAMB08AgQAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAgAEAAAAYAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAAAGAAAAYAAAAIAB4BIAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAAGAAAAIABAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAAGAAAAAABgAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAACAAQAAABgAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAYAAABgAAAAAAfl/wFiwGQ019d2UQAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOS0wNi0yMlQxODo0Njo1NSswMDowMHpBs6UAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTktMDYtMjJUMTg6NDY6NTUrMDA6MDALHAsZAAAAAElFTkSuQmCC",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-20x20@1x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAMAAAC6V+0/AAAAbFBMVEX///9Uxfj6/v/3/P8BV5v0+/+O2frZ8v2Y3fuL2PqH1vpWj72T2/sptva/1Obv+v7g9f73+vy+6fyE1frv9fl10PlXx/g8vfcos/Po9/7R7/3G7P3x9vpozPlNwvjA1uZLm8tbmsAQbaUBUpIS2jkXAAAAdklEQVQY052QyQ6DMAwFMTFt05Cw7zv8/z8SXxAOF2COo5GebO8N4msJuPNDAPg77kOOhwF10uNQlwnekZPi7kb8s0SHlLQRDwBlek4z0YzWdewYv610BbZjFFrXc+LIqKhXVJd3LBuiyh2bKMRr20/GGEofsAP1wASFbdBGzgAAAABJRU5ErkJggg==",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-20x20@2x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAilBMVEX///9UxfgBV5sptvbw+v5uzvnn9/7R7/100Pn3/f9hyvny+//s+f5rzfmwy+B90/re9P7z+//t9PlQxPj8/v9cyPgxufbg6/Mmr+0yd64vda2Q2fqD1fri7PQ1erAkbqgBSIHl9v7M7v3X7/ud3vtDv/dJvPEwtPHa5vDW5O8NbasJXJQLWYkLV4ZWqLjRAAAAx0lEQVQ4y+2QSRKCMBQFMwEJGokICjI4z3r/62mmckElcU3Z6673qz8YPyQx7AJeBDUR8XrTzHqx15tT6zH/nvW4f4/Yu5T81sH/Hc6OYmJg/g7WpBouBmIcfTvYEWrSxJGiO4rGeKXaG25S3TFvF8bbu7K56sjwUpmpcD9IdlCMlVkmwAdrMVam7PCRYc3lAPwIqLzqXq8CZnyS3gOhdR4yIa5eW4RQHzLF+Sm9z2boer5BmpoFzGtvzGBRZzbDRd3McAOj5A2X+gue1atu9QAAAABJRU5ErkJggg==",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-20x20@3x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAAAhFBMVEX///9UxfgptvYBV5tXxvhZx/jt+f6k4Pvj9v6U2/vd8/5bk7/q+P7h9f5cyPjl9/7Y8v0JXJ5gyfkvuPYCT4ne9P7T4u4MXp/7/f9Ow/jr8vfc6PEBVJUDPWb0+//R7/3M7v1RxPji7PQlqufo7/Ynr+4mq+hnm8Nck78KV5EGS30BQnYYEX8cAAAA+UlEQVRIx+3T2Q6CMBBA0VoWsVI2QXBBBXf9//+zBkKHmJQMfSBE7iPJSdspJVNT3+w5LMNZbyYzmYblOGtB66Os27KOhvU19sw1LBvojhKc1ZnzCG37vMkI73e8bzBZgOYZ6g0G8FukOIfzO+fAU1oYV1rPJcp4+79KWuc4kI4cOGdezEAZ6YybjfUp3TTUkuuqtFVbRqnUka1EUlf2uKJSRy7BdBK20ZGPtnUFdl2xZ5lpE1SMgp5b0lvHRnhB6qDe+DXeG0a666VvL4H7aGHP+VvgPpoJm8dGVVpi1xarNoXYma8FGkyHUJcaGj/z9WMpu2dk6v/6ABOJELToA9jjAAAAAElFTkSuQmCC",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-29x29@1x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAB0AAAAdCAMAAABhTZc9AAAAXVBMVEX///9UxfgptvYBV5v7/v9ly/n4/f/a8/6x5fyt4/xcyPggbKel4fud3vtuzvm35/yU2/sBVpnW8f31+ftCv/dBvvc2uveGu9l6p8t5p8ochsIVfbgWdagBVJYBSYGC2+klAAAAeElEQVQoz83O2Q6EMAhAUaZlGB33fff/P9NSExMT6KveJ5ITAvCS4j+Xo4wf7ksiRiEsTsTQZvDmMw/Rz3fD+sLcTyncShlJRC5mxFZCLkLA3hiHGUhRZ1wKQma4GUGudLhUic7rXlmVh826kkbhyXomhceTER7tAGerBEwLLLdsAAAAAElFTkSuQmCC",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-29x29@2x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAAAllBMVEX///9UxfgBV5sptvae3vvC6/1ozPkEWZ3J7f215vyv5PyZ3ftJwvjW8f3P7/2V2/sBU5PG7P276Pzi9f7T8P2N2fosuPbN3uy70uTa8/645/yu4/yn4fui4PuI1/pYxvi91OW1zuJ8qMpyosgYeqwBTosAQXTq+P666PzT4u5zw+l1pMkYh8IZhb4YgbgXeKgBRHoAMVcbTd2OAAAA80lEQVRIx+3S5w6CMBSG4XrqQKXiwL1AEfe6/5tThvREIuYAEaO8P0metP0Cy/vLNmWUTpG1Aqr0GVnFskGR7dhylME7x1i2MlhIIZ2ZwUK1dBbSv32hcToLKbH/eJFwoU4RJSgLCfypzl42DcnGPEriJk+3FVhqERBZ3Xtn4Z3EFdF/O1RDt422wTsVzlWCdLbyZavHpZUyso637V0GVmOEhtxPpUrBubR1ilz3uGzHSHWlPMCAZrWHPDah0o917mnVBIAtzc4cadkuBYNsz9eLK6FiEu9s2Q70LHGrBcioW+0BRbRLfO4ggTUTvNdgeb/fDV2QDXLbhsKaAAAAAElFTkSuQmCC",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-29x29@3x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAFcAAABXCAMAAABGFileAAAAt1BMVEX///9UxfgptvYBV5v7/v/5/f9XxvhVxfh/1Pp80/rw+v70+PscaaUDWZz2/P/z+/+a3fuK1/r9/v+76Pyv5Px50vkBVpqH1vpSxPiU2vsBUI2o4vuE1vpkmcKz5vxNirkBU5Wg3/uO2fo4u/cuuPYXeasBS4UBQHK45/w6vPd6p8t1pMkZh8JflcDy+v43u/dxosdVj7wYgroBVZgAM1r0+//b8/6i4PuKwt8caaYCSH4ANF0BMFMltTBwAAABxElEQVRYw+3Ua1OCQBTGcZRdFzSuBghaqXlLsyy71/f/XIEFGxxqsD022uzzlpk/vxmGo8jJyckhra2BdYlwlZ42aoWxXlNcewyytd6VuHYGtdputIElrm1DrS6udUu0jriWlGg9cS2BWnZgWoRPBrU1D+F3QNHClWmtvdXOoFa3dnIYAwQtzNY0a2/PeIm215RnXJ7xg9Pu6oxnWkLhEA6j+6iDtV3hM06G4BkLq3EfftLa8J02Vaqty747467DQDZ0lYozB6z8jBObQS1RKo/kxFqmHTaglm51cgYMnnFqgyqzt71lmTjLEp2JaLk4f8ZNrX7RyVcbQFtVzM848Ub1+nU+bJu/uhEDxvQv2nixWESbtrpOptVHSTYRC2g5OX2DnjS5mGuFRrRYm+68w7ViM71NkIeRtTyMoSWZlodDRXymA7qXy5aCsGExG/k3GOH7oJBd+8YJuvh20vd9VT3DCJsBz75Emy6OmISf2fF0EvXXvhqHMcXju6SbZLHENEyyb6/T6KOKJqbBRptW8cTmU9TnVUzxSgVDEbfmBi9iit2V8XdilFuhLKB4iSKGYQPnbM6fj4pbUIyPR+AUOTm5f7l3AYooKpScN7UAAAAASUVORK5CYII=",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-40x40@1x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAilBMVEX///9UxfgBV5sptvbw+v5uzvnn9/7R7/100Pn3/f9hyvny+//s+f5rzfmwy+B90/re9P7z+//t9PlQxPj8/v9cyPgxufbg6/Mmr+0yd64vda2Q2fqD1fri7PQ1erAkbqgBSIHl9v7M7v3X7/ud3vtDv/dJvPEwtPHa5vDW5O8NbasJXJQLWYkLV4ZWqLjRAAAAx0lEQVQ4y+2QSRKCMBQFMwEJGokICjI4z3r/62mmckElcU3Z6673qz8YPyQx7AJeBDUR8XrTzHqx15tT6zH/nvW4f4/Yu5T81sH/Hc6OYmJg/g7WpBouBmIcfTvYEWrSxJGiO4rGeKXaG25S3TFvF8bbu7K56sjwUpmpcD9IdlCMlVkmwAdrMVam7PCRYc3lAPwIqLzqXq8CZnyS3gOhdR4yIa5eW4RQHzLF+Sm9z2boer5BmpoFzGtvzGBRZzbDRd3McAOj5A2X+gue1atu9QAAAABJRU5ErkJggg==",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-40x40@2x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAFAAAABQCAMAAAC5zwKfAAAAqFBMVEX///9UxfgptvYBV5v9/v9Wxvi66PxYx/h90/r8/v/X8v0aaKWz5fwLXp/2/P/A6vxcyPjU8P3J7f0BV5qjwttGwPcqt/bq+P7F7P110Plyz/mwy+Co4fsgnNcBVZbw+//l9/5hyfguuPYDVZMBT4wDOF+w5PyB1Pp40floy/m81OWYutQIW50DTYWG1vokot8hls4BR34CPWv4/f/S4e2VudUjbqgBQ3fb78qRAAABXUlEQVRYw+2W2VaDMBRFU4iUVIEqg9oJS6FVO1jn//8zo6xlILcuKYeHPmR/wF7nZr+EGQyGU2fgaqzuIN9Nv1fn7IIjvkvicxjC1ZD4BOSj9zLoXrIv4KaH6WF6mB6mh+lxOj1eBzop1MN3exojH+khdrrv/pr9j9P/o0e6Ivua+BgPDvcQxHfrs2Y4h3r4O+Jr/pUL+lAPCndID7dFD1pG9Zgn8dE9aBnVY25ZVtyqh8Kp9HiwJEncqoci+O0xlLrSqHoACLmvbpQ9AFL5fnXjCPGVPRQx7dEc1aO6UfZACDKrztMjh4R8ktR809kmYhiTrLpvMQu9scA2Liv7toswtL0xulH58m+h7UUcMy6z0vfynMuTbWnspMy+kMIfnzR2UGZaFJ+51JXgZfbFVq5TwGXWpU0Bl4k2NR9eRqxtshG9mmwEy4hIE+Jl3u3Oy5xrfLwxDE5gBoOhFV/mACDrcKxbuwAAAABJRU5ErkJggg==",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-40x40@3x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAA51BMVEX///9UxfgAV5sptvb8/v9Yxvj7/f9Jwff+/v9GwPdVxfj5/f5yz/kAVZmQ2fpMwvcGW531+/5QxPguuPfR4OwASZImtPRSjLr7/P3S8P2V2/piyfj2/P70+v4twf8qtvYcsfVvzvk2uvYBU5UasfU2eq8AS5SU2vp30fnS7/130PliyvgWg70BTIcAPnAYeaoBT40BRn4BMVnv+PwAQXgAHzuM2PoZgLYQc6UBUZAASoMAN2QAKk3U8P3P7v3K7Pyd3/yC1Plmy/hjyvg3u/cdsvUasPTV4+7R4e3F2ehahqwIX6M2bZm1KkIjAAACMklEQVRo3u3Ya1PaUBCA4TWeJCdACgHRWEWkqVpKoQpqvfV+v/z/39M9OJ1tm8VWYM+0zr4f8iEwPLPJTpgJaJqmadpdzM4MJLvx5wVpA5Bl2Xa2jf18wJPVSZVkAfcgfLvlGgy2Bu7wozeV1wQLuPeSJttK0svc5y4ZN6xwhXGtKuyucKmrrrrqqquuujBNXXXVVVddddVV98661szMCro3z20l3ezFZr+/+Vt9PPX8ZQesoFtL6mzNd6fWWjm3F89435Tcv/2ltmBO4792+e8lB2AN3Bqu1uJwMRfnNfOslnkch4u5bt555AjlhVwLMKf8KA593F9e9j0vyT72ipdZN4LOMveK3zB+3rjLu/TcWHxmbt76bvdBRWhekjm3tbqOsoxLV/sX11y7q12SS3u1LLlenhdzssC8JJtarzwvyUKuo7JOaV6SBVySGZdkKRezlnVJpr0SqOSSzP8vLPVmT92y7NklWdidJO/R5eTWK4gsCGWh09xl4fWdJ19EFoueJJWHLdY9am+41RMK5Qhlzk0bHmVyj9PAp0xukaZp4Ekm99nosCgQ9iSTezk8n8I+ZXSfjo+G1xP7lNG9GiF87mCPMronl6Pji8PCsf5k516NR8PCiR7lDztnJ8i6Yb3KeXg2vkgbDbS8yhHk3/a/BrhU/mWz16Z5Pco55Hv7jVRllSkBOfgHZQNSOblI2YL2Rk4vJSTktU9rbB8/T8TgP78oF8xGM7OgaZqmaf9T3wGGRF3tQNvrKAAAAABJRU5ErkJggg==",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-60x60@2x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAMAAAAOusbgAAAA51BMVEX///9UxfgAV5sptvb8/v9Yxvj7/f9Jwff+/v9GwPdVxfj5/f5yz/kAVZmQ2fpMwvcGW531+/5QxPguuPfR4OwASZImtPRSjLr7/P3S8P2V2/piyfj2/P70+v4twf8qtvYcsfVvzvk2uvYBU5UasfU2eq8AS5SU2vp30fnS7/130PliyvgWg70BTIcAPnAYeaoBT40BRn4BMVnv+PwAQXgAHzuM2PoZgLYQc6UBUZAASoMAN2QAKk3U8P3P7v3K7Pyd3/yC1Plmy/hjyvg3u/cdsvUasPTV4+7R4e3F2ehahqwIX6M2bZm1KkIjAAACMklEQVRo3u3Ya1PaUBCA4TWeJCdACgHRWEWkqVpKoQpqvfV+v/z/39M9OJ1tm8VWYM+0zr4f8iEwPLPJTpgJaJqmadpdzM4MJLvx5wVpA5Bl2Xa2jf18wJPVSZVkAfcgfLvlGgy2Bu7wozeV1wQLuPeSJttK0svc5y4ZN6xwhXGtKuyucKmrrrrqqquuujBNXXXVVVddddVV98661szMCro3z20l3ezFZr+/+Vt9PPX8ZQesoFtL6mzNd6fWWjm3F89435Tcv/2ltmBO4792+e8lB2AN3Bqu1uJwMRfnNfOslnkch4u5bt555AjlhVwLMKf8KA593F9e9j0vyT72ipdZN4LOMveK3zB+3rjLu/TcWHxmbt76bvdBRWhekjm3tbqOsoxLV/sX11y7q12SS3u1LLlenhdzssC8JJtarzwvyUKuo7JOaV6SBVySGZdkKRezlnVJpr0SqOSSzP8vLPVmT92y7NklWdidJO/R5eTWK4gsCGWh09xl4fWdJ19EFoueJJWHLdY9am+41RMK5Qhlzk0bHmVyj9PAp0xukaZp4Ekm99nosCgQ9iSTezk8n8I+ZXSfjo+G1xP7lNG9GiF87mCPMronl6Pji8PCsf5k516NR8PCiR7lDztnJ8i6Yb3KeXg2vkgbDbS8yhHk3/a/BrhU/mWz16Z5Pco55Hv7jVRllSkBOfgHZQNSOblI2YL2Rk4vJSTktU9rbB8/T8TgP78oF8xGM7OgaZqmaf9T3wGGRF3tQNvrKAAAAABJRU5ErkJggg==",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-60x60@3x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAALQAAAC0CAMAAAAKE/YAAAABDlBMVEX///9UxfgptvYBV5tVxfj9/v/6/f9SxPhYxvj7/v/8/f5FwPf+//+f3voAVppKwvcDWZxMwvdPw/gqtvYATJQXsPb7/P1Hhbaq4vtyz/kAUZdHwPfM7fwAU5kAVZjS8P0HW52A0/kos/IosO8qvP4st/ao4fua3Pr4+/3K7Px/qszV8f2sxt2oxNwBVJUASZKT2vott/YBUI8BTYoCSoMALlPP7vzO7vzO7fyQ2foBUpIAQnsCQXMJQWMANWKqxdwKXJEDSX0AO2wAWqCl4PsAHTrk9v6r4vt10PmO1/ipxdwKV4lqzPk4vPcut/Y+gLMAIkMvv//E6vyU2/p70fnc5vAlquaZutaHr896nr70mOsBAAAFN0lEQVR42u3beXMSMRgG8ITdkN0lXK6igsUTxatqSz3xPlrv+/r+X8Q3ySLqspu0ssMbJs8f7fRg5jfvhORpKMTHx8fHx8fHx8fHx8fHx8cHReqWIXgiYmIbRpCExeTks91jxuzuNl+QmKAIS8jFcNBtm9Ltvv3MBI5Rg/kE7YZchXJK5QcVrj/wLGGjiWV5SDPvRqExESIzI7f5oYgag2nOjNwCMzeScZlvrqmZozInVmuDR8qcEAxhMbltYaYRxWIWaq+zmjMdNAmKgxDM9f2YMTQlbaZdo5kiM18EM7XY65w1C7LqaHPo1Jxnvc6qbyDZN8AcW5oxnSlyf3bN7G4XpWvY61w0u9hFKZ4uKmy7KEfVRevOdlHqWK+Dc9C5/gy9zmavw2V2rte5aPZdtLLku6hzvc7VLrqOvc6b/ytine9FcXVRu3tRirCLutbrTtBD63ov6qIZUa9zzizc7KKJ76Jl8V3UpY6ke92a3uW6eC/qYheVfQOJ2b9GbwiK1+hFbBdGdDB0JGaNYSs1CzJPDN+wSTIeZ49b/b0ofNV8s3fcmL03e/p/TRHci8JXFxptc7qN9kX1UAT3ook00yg0JeLRZcLE8szswK/R6zmHofncP0Qvk3h5ZiHIp4N2UWZnptGSzfIJfb4RhUbywc1cm8kyw0A9oCG3MefXRmQx5264ZDMklmpedhjyYjOlFuaT+bVRvTrXRe3NPOpG2lyB+hmo93MvWreeM5jrFZiBwJSaW3ZRoc1haGlmRKUadchtep29mVdqBoaQe0iewdGaNUSpufleVJvhV23XhiBVRalhfMZep8085Cues06s1Rbm028jG3NoMFek1l00Zz5SG0TceHZrc+VhWs2Le502p2mtEdn0OoO5CvXCs1uba6DmB+2iVanLzCMwp6VqbuiilagpqMMi8w0Ay5SskAq6qFVTNZv1rKvvovadj0YF5neKWzZrXlEXNavbBXvd3Fy4rqvqouazsXnh771OaPMNsObV5l5XfTSXsQVmYJar+arMSpw3671ukZojmLNi5sz6TClQozD/k7EyjwBZoF792lDJdyQwF6vRzXluLlHrXueKOVMjNKdgNqh1r8Nhjo1mrR5wDubVv4svq09f1JliUJ+ptV+QBIeZAOPlkdSIPnPu7KOHpIdjcajlcR2ehmbzvcNXUKnvHKndMJqDYR/UGF58lkm02mAeDjsb/YdY1FA8tNpgbrU6w/4rUCN4I7BSC6UuMW9KdOvURv8qGfdQqUcF5tfTzU0wS3V/wwW1ND+5e1ejA63u9QiGZOo0XWje2pqhtRrVs/E6qHPmxw+2t3+jkamJVo/SnHkyUWipDvCp43/VYJ7u3Hv8J1qr+9hOdFDPzfd3phl6U6O1egOtWpo/PHgyBfT2Fpglea6+QhJU6jSdmZ/vAPreBMxKPFd3EKpHM7NET7aGEopeXRtl5p0nk7tBRznzamxN9cxHtTam28HTDjwBF6sxNdW6/Fvm2/0P00nr6dNAixepcTXVOCEvHz8IQDwEcmGypoqlPY0F+dkPgByUJmuqWNrTmJBL11odA1qf6FhmzciYkUuHzWpU/RrUAmYdlKrRtSdQE6kOHFP3pLrjllrsQ91/hedsTExqlE21XI21qUp1fg/B3vkWqfF3PqVuWaiHmGbdI/JsPAWlulOW4FQL1AyV2ibXrn3HskJUe/rx/qhF3h/9SnBUPlDbj2+M5I11BBxJT8w04u+fZJ+EkD9gWN4MmLESq6DZPXx8fHx8fHx8fHx8fHx8fPL5Bfrqzbn3nimqAAAAAElFTkSuQmCC",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-76x76@1x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAEwAAABMCAMAAADwSaEZAAAA3lBMVEX///9Uxfj8/v9YxvgptvYBV5v7/f6B1Pn5/f/4+/1Pw/hhyfjo9/1WxvhGwPcGWp1LwvdKwfdFv/fq+P7y+v7V8v5cx/ioxdwAVplrzPkut/YATpVUxPdckr4CWJ0ASJLc8/0XsPUAUZX+/v/R7/05u/Yrv/920PkwuPYhs/YktPUosvLK3OoBUI4CR37u+P0kntcstfMjot4ASZMBO2gBMFP1+/7Y8f0ku/180vlmy/gBTYnj9f3M7fzH6/zh6/LV4+44r+clpODI1N6gv9mZu9ZelL9gkbtOibgAQIwqVJv8AAAB10lEQVRYw+3XaVPiQBCA4WZiZnM4CYnIIpvNuonXHlwi3vft//9DtvHoHIrFDJZTJW/BF6p4qruBD8CsWVrFSvFUwYJK0hqH3spivp2jHjBZa34/cHJF4Z6NmKTlBqJGGd43ULGMvBUqWfWC5WlqhVrcy9L4XoGG93plR01vr/adCDT9Tuh4L/7h9+Ia7vgBvyFWLlWwoFIqeS98sPmFQoeNdzT21r042Huimct11hvAxlvLriOqO6JlrYeRQ9XC/QWy3sB2IsKKlmcIqllfornGjCbqonovtArLB2hZ73+YqDlG6V5yFmbBsoEa7YivcBmLNEFzWbDtek0pC+PZ3ciyo9+rZYuPJ8qzeTlr4++qmNwiLcpbc3OoTb4jbbr9YPEnK9PkLIzRXG2kHjVJC6kUn2RlWi3yyJp4uobIdiRtqSdpQQouWtRg96wHtvRfkuONP+0X69/aeecGgEtrK23Unq3NTjL8Ka9ZpKF10PH9X+paZnUPWi1zChpa/a1uJ5mKNljrjxBDS10b7PZHo27SMrMUtUXc0YxjhNQ1Gy7M2Mcdp6T99xO/ZX4VzYzNOAtvOLwGYAra8Eeu5O6WK2inl98LXZ1IL1p9I60po9mlGMya9RndAwL/PbOqVh2hAAAAAElFTkSuQmCC",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-76x76@2x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAJgAAACYCAMAAAAvHNATAAABCFBMVEX///9UxfgptvYBV5tTxfj6/f9Yxvj8/v/9/v7+//8AVppWxfhLwvfn9v1hyfhJwfee3fr8/f5Fv/f7/P0HW50ASZIEWpzk9v4otfYAS5Sy5fy35vxGwPdXj7z5+/07fLEtt/Zdx/gXsPYltPUBVZd+0/kjtPYotPRPw/dAgLPR7/wrvPwyufYBUpMBUI8uuPYBSYIAQ3rG6/zG6vwzufYRbKIAPnQBNWAQWYEALlIrvP7G6/sBTosAOmrc8/296PxlyvgBTIj3+fv9+Pdil8EQZZcQX4wAHTsAGzZZzv/u+f7I6/yo4fuN2Pp50fno7/WUt9RTjbo4i7oqcao/c58AP4wAVYcAIUP7SkpYAAADfUlEQVR42u2X61IaQRCFe2FhdgRjFlAxEkUxBqMgxETEeNck5n5P3v9NMiNUWtnMEIo402p/Vf6xoPiqz6G3AYZhGIZhGIZhiCIzwxDgAylhKBLcIwAOH1iZf78F7hES7hembOQLuQNwHqaIlFfOQpDNH01CBI6JpPYKzITZ/L1JyIBL0Csk56VyrGQJeul5EfQSVHMk6iW4X9eRYwzOwN5XCPaL6v4SEc3vI9U9EVHt183eE+z1x4vonqDaL6CbI0kvos8hqvuL72i+owfgO5r3F9/RfEfbuUM5UvUiuSeo9ovv6FvxHKK6v/iOvrN3tBiKnztagANENPKdI+DtrJXJ2YPIQ78y8CQb5gIz2SA/D8LdnkCvMB+EZoJwSnlJGAcJI3vFyques7wj95+8pkafVz1r8wrG9wIB8cdKdkSv4Dq90AweJcysXvYcsV/jm0XKjFS/+mSSZvYcc9eQo8Us/Mcc3XhhmoVsSKhfV83G3xMGr7HTpLC/DD2zer2rO+iXYWvYvJ7WqrkgdNOvpJnZa6u8mtpQH++mX8k0jfMqr1ZTtWfKzFGOyZ4ZvcqpVA1n5soLtwbe0QkvNHPQr0TPlv7WL+2lwTQd9GsgzcLRoNcL9EIzRznizDIfDoxeaOYsRzTTf2Yv7Jk7L/wla+pXcmaYowOk1Qtn5swLSe4Jgxnm6BScl8EM94QDzL1P9izwkqMUKscaeiVnFtQrPuYl4DDVm5fR7M2hBy8p4Wh5w+L1uLr69RROwDkCMveWN81eqfXn24sLsADOERAtLVfLZq/2zPRi0YdZfGFm9pqYKGmzIjgno802TV4rE8rM08zQLNmvFSXm10z3LOnVUGL+zQa9Xu43mz0zQj3TXp3jvb5YOk2lZ8rrVad1SSxNo2faq9tutXpi2sx3mtW+1+7Or/3tduv40sQIbA3t9bqjxfYavXkpvKe52fPqdjvbraZWQrxvjd2d8253v9XQLlfUPPdsfee8026mZ9I6RMR3z+TSz46y0lpohHgzK8Lp97kSNl5BpGdFkGvTpataNHpWhEiZpSdMYv7SXLgw62dJqmc9MyVGsGe2mfl7bkoo0k/zxpl53BpEzaSaWazMZiyU5tbAsRmmOWej8ePbJ4jBGWh2cvbloY2ztc8QgXviEV7jlrgYDwE8ISONjOQA6l99gGEYhmEYhmFuG78B9YuimOp6mGQAAAAASUVORK5CYII=",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/AppIcon.appiconset/Icon-App-83.5x83.5@2x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAKcAAACnCAMAAABDyLzeAAAA81BMVEX///9UxfgptvYBV5tTxPj9/v/8/f76/f9Yxvj7/v9XxvhOw/dEv/cASpMBVpmK1/pQw/gEWp3Q7vwDWJz+///u+f7F6/xKwfdeyPgYsPVyocfn9v1iyviGrc5GwPcuuPby+v7R7/yJ1vqu4/s/vfcrvv8nsvKa3PoltPUBRn50z/kBVJZOw/iIr88BUpMCTokDNFcBUI8ko94DS4T1+/0BQnYBPm8lp+MCOWRxocYBLU/h9P0AIUD0+/7q+P4asfYlqOYATJW+6Px41fye3fpcyPiZ2PVuzfhOwvjc5vATm9ycvdeKsNCErc9pnMNmmcIAPYujd3zFAAAEUklEQVR42u3ca1MTMRQG4BM22d1ssdp2tV4BC15WkBZrawVF8X7X//9rTLcrh5mUZHE6exImr6Mjw5dnkryHBGaAkJCQkJCQkJCQkJCQkJAqMqmRHKgjoVYEkEZIOHp3w5p3x7TQPIFu2m/9y15rb54v6m/5UZVrO4OE1CkkdFmLcXOy9QGQM3krZcZk6cZVYmYM93kr4yYlZ+m6Ykqgi0jsTOYEs1uTGUPtUDIToIuI501PLcxssZo5NB9k8hrMAd3ZxKan1qYPqM4mMv2oUBhIq2XaK+TLQKJuutSbriclZ3oykBJfBlL3cg0k0qYnNZrOs5JJffXYS5k5GfnZrNF05kDTvbl6+PM13ZeBxC7PQKKtUK2LHPmme3L1uHQDyYGm+7GaXryFajDdqJAvbyHm+g0pvIUgvIXOuXoMvBlI8sJPtvAWcrbpnjD9uXpYmNyPgeTPDemqN98tdn0gcScqdJl/LpTLGhHNvoW43vSaAtFo0/UfVEsQ163ZurMF+aqa3v2ft1ACW+/Tm5bcZZ+PQVJ+cyaB10/W+TVjWnzj49GKmOKCFcLVfLJhfen1795ZDRME3Gd1mNqmP1dMbt6FkpmshCnhGDe97lsob5wJeQ7bfc74xQZSxWTGrIiJw217Q0GtbyGdaXZmq2JikRQ04+YK6UxmZHJkrgyanw/l5ze9ibOpr2ifLYVqzLxk1quQBGgAikxJ1XQdKtXWM8Z1pt7012XTCZhYJsbNVw8cSM003Q5FptRWM+MNN12Hsoyb3kKqQtc2PzIapg7Vm47MW2s7GcHZ1FrPFVRvOjI31x7vZJwTMfUV1edmxVxDKAkToYwvuXogcwGlZGLrM6yQxkRoAwPJCMW3kMZEaONN1y8lfb3pyEQop9l0hH4wryZCG7h6GKDVP3rTMdj65lcTYSIX5tVEKAETY2cilICJsTD11mcuM0/nKHecWbXe7U0/hTrAlDpTh6br1EwBR1wxzXm48/4IJFAmgW0788G32yBjII2AD7dszLfD4icIWqgAeHRrbdPMHLev3COHCiNUMcfjdhS5AX1zCtWYL8ZFu72AxvjOp4iUakVNzF0F7VVQyiBUZxbF7pwZuQydMyf7+6VTQR04o7Isk86cTA8OFk5HoCLH1iNzOh0OldMpqKigyHw2mxXjU6czUFmNJ2SOJmecJTRyrUyKOTqclk4FrZiRI62PFRSZr2bKWaj1LJXuQHNsfckcjWbTYrh/BunOGV2UqWQeHo4mw905zVnog2eHr0azYr/XiyJ3oZ/eqAoVB51OTx1Md6ExfJpOOp1Oe6nSnfEUS7h3Ei1DOtb6OId7V6KeB9AYnp6BuntGY+EVtOMBVG39iftndAH1oEzeQL1pfe5d6yM7NHcC2usYoj558gNAAFGwTPb8eQmCGCrg+6/bS/IS/6P+/P4KRDuPrffh1wEqqEhiewQ5VFFFjdAzQ0JCQkJCQkJCQkJCvMpfMAOukZpcr2YAAAAASUVORK5CYII=",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/LaunchImage.imageset/Contents.json",
      "data":
          "ewogICJpbWFnZXMiIDogWwogICAgewogICAgICAiaWRpb20iIDogInVuaXZlcnNhbCIsCiAgICAgICJmaWxlbmFtZSIgOiAiTGF1bmNoSW1hZ2UucG5nIiwKICAgICAgInNjYWxlIiA6ICIxeCIKICAgIH0sCiAgICB7CiAgICAgICJpZGlvbSIgOiAidW5pdmVyc2FsIiwKICAgICAgImZpbGVuYW1lIiA6ICJMYXVuY2hJbWFnZUAyeC5wbmciLAogICAgICAic2NhbGUiIDogIjJ4IgogICAgfSwKICAgIHsKICAgICAgImlkaW9tIiA6ICJ1bml2ZXJzYWwiLAogICAgICAiZmlsZW5hbWUiIDogIkxhdW5jaEltYWdlQDN4LnBuZyIsCiAgICAgICJzY2FsZSIgOiAiM3giCiAgICB9CiAgXSwKICAiaW5mbyIgOiB7CiAgICAidmVyc2lvbiIgOiAxLAogICAgImF1dGhvciIgOiAieGNvZGUiCiAgfQp9Cg==",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/LaunchImage.imageset/LaunchImage.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/LaunchImage.imageset/LaunchImage@2x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/LaunchImage.imageset/LaunchImage@3x.png",
      "data":
          "iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR4nGP6zwAAAgcBApocMXEAAAAASUVORK5CYII=",
      "type": "binary",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Assets.xcassets/LaunchImage.imageset/README.md",
      "data":
          "IyBMYXVuY2ggU2NyZWVuIEFzc2V0cwoKWW91IGNhbiBjdXN0b21pemUgdGhlIGxhdW5jaCBzY3JlZW4gd2l0aCB5b3VyIG93biBkZXNpcmVkIGFzc2V0cyBieSByZXBsYWNpbmcgdGhlIGltYWdlIGZpbGVzIGluIHRoaXMgZGlyZWN0b3J5LgoKWW91IGNhbiBhbHNvIGRvIGl0IGJ5IG9wZW5pbmcgeW91ciBGbHV0dGVyIHByb2plY3QncyBYY29kZSBwcm9qZWN0IHdpdGggYG9wZW4gaW9zL1J1bm5lci54Y3dvcmtzcGFjZWAsIHNlbGVjdGluZyBgUnVubmVyL0Fzc2V0cy54Y2Fzc2V0c2AgaW4gdGhlIFByb2plY3QgTmF2aWdhdG9yIGFuZCBkcm9wcGluZyBpbiB0aGUgZGVzaXJlZCBpbWFnZXMu",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Base.lproj/LaunchScreen.storyboard",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxkb2N1bWVudCB0eXBlPSJjb20uYXBwbGUuSW50ZXJmYWNlQnVpbGRlcjMuQ29jb2FUb3VjaC5TdG9yeWJvYXJkLlhJQiIgdmVyc2lvbj0iMy4wIiB0b29sc1ZlcnNpb249IjEyMTIxIiBzeXN0ZW1WZXJzaW9uPSIxNkcyOSIgdGFyZ2V0UnVudGltZT0iaU9TLkNvY29hVG91Y2giIHByb3BlcnR5QWNjZXNzQ29udHJvbD0ibm9uZSIgdXNlQXV0b2xheW91dD0iWUVTIiBsYXVuY2hTY3JlZW49IllFUyIgY29sb3JNYXRjaGVkPSJZRVMiIGluaXRpYWxWaWV3Q29udHJvbGxlcj0iMDFKLWxwLW9WTSI+CiAgICA8ZGVwZW5kZW5jaWVzPgogICAgICAgIDxkZXBsb3ltZW50IGlkZW50aWZpZXI9ImlPUyIvPgogICAgICAgIDxwbHVnSW4gaWRlbnRpZmllcj0iY29tLmFwcGxlLkludGVyZmFjZUJ1aWxkZXIuSUJDb2NvYVRvdWNoUGx1Z2luIiB2ZXJzaW9uPSIxMjA4OSIvPgogICAgPC9kZXBlbmRlbmNpZXM+CiAgICA8c2NlbmVzPgogICAgICAgIDwhLS1WaWV3IENvbnRyb2xsZXItLT4KICAgICAgICA8c2NlbmUgc2NlbmVJRD0iRUhmLUlXLUEyRSI+CiAgICAgICAgICAgIDxvYmplY3RzPgogICAgICAgICAgICAgICAgPHZpZXdDb250cm9sbGVyIGlkPSIwMUotbHAtb1ZNIiBzY2VuZU1lbWJlcklEPSJ2aWV3Q29udHJvbGxlciI+CiAgICAgICAgICAgICAgICAgICAgPGxheW91dEd1aWRlcz4KICAgICAgICAgICAgICAgICAgICAgICAgPHZpZXdDb250cm9sbGVyTGF5b3V0R3VpZGUgdHlwZT0idG9wIiBpZD0iWWRnLWZELXlReSIvPgogICAgICAgICAgICAgICAgICAgICAgICA8dmlld0NvbnRyb2xsZXJMYXlvdXRHdWlkZSB0eXBlPSJib3R0b20iIGlkPSJ4YmMtMmstYzhaIi8+CiAgICAgICAgICAgICAgICAgICAgPC9sYXlvdXRHdWlkZXM+CiAgICAgICAgICAgICAgICAgICAgPHZpZXcga2V5PSJ2aWV3IiBjb250ZW50TW9kZT0ic2NhbGVUb0ZpbGwiIGlkPSJaZTUtNmItMnQzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGF1dG9yZXNpemluZ01hc2sga2V5PSJhdXRvcmVzaXppbmdNYXNrIiB3aWR0aFNpemFibGU9IllFUyIgaGVpZ2h0U2l6YWJsZT0iWUVTIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzdWJ2aWV3cz4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWFnZVZpZXcgb3BhcXVlPSJOTyIgY2xpcHNTdWJ2aWV3cz0iWUVTIiBtdWx0aXBsZVRvdWNoRW5hYmxlZD0iWUVTIiBjb250ZW50TW9kZT0iY2VudGVyIiBpbWFnZT0iTGF1bmNoSW1hZ2UiIHRyYW5zbGF0ZXNBdXRvcmVzaXppbmdNYXNrSW50b0NvbnN0cmFpbnRzPSJOTyIgaWQ9IllSTy1rMC1FeTQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pbWFnZVZpZXc+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Vidmlld3M+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2xvciBrZXk9ImJhY2tncm91bmRDb2xvciIgcmVkPSIxIiBncmVlbj0iMSIgYmx1ZT0iMSIgYWxwaGE9IjEiIGNvbG9yU3BhY2U9ImN1c3RvbSIgY3VzdG9tQ29sb3JTcGFjZT0ic1JHQiIvPgogICAgICAgICAgICAgICAgICAgICAgICA8Y29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29uc3RyYWludCBmaXJzdEl0ZW09IllSTy1rMC1FeTQiIGZpcnN0QXR0cmlidXRlPSJjZW50ZXJYIiBzZWNvbmRJdGVtPSJaZTUtNmItMnQzIiBzZWNvbmRBdHRyaWJ1dGU9ImNlbnRlclgiIGlkPSIxYTItNnMtdlRDIi8+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Y29uc3RyYWludCBmaXJzdEl0ZW09IllSTy1rMC1FeTQiIGZpcnN0QXR0cmlidXRlPSJjZW50ZXJZIiBzZWNvbmRJdGVtPSJaZTUtNmItMnQzIiBzZWNvbmRBdHRyaWJ1dGU9ImNlbnRlclkiIGlkPSI0WDItSEItUjdhIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvY29uc3RyYWludHM+CiAgICAgICAgICAgICAgICAgICAgPC92aWV3PgogICAgICAgICAgICAgICAgPC92aWV3Q29udHJvbGxlcj4KICAgICAgICAgICAgICAgIDxwbGFjZWhvbGRlciBwbGFjZWhvbGRlcklkZW50aWZpZXI9IklCRmlyc3RSZXNwb25kZXIiIGlkPSJpWWotS3EtRWExIiB1c2VyTGFiZWw9IkZpcnN0IFJlc3BvbmRlciIgc2NlbmVNZW1iZXJJRD0iZmlyc3RSZXNwb25kZXIiLz4KICAgICAgICAgICAgPC9vYmplY3RzPgogICAgICAgICAgICA8cG9pbnQga2V5PSJjYW52YXNMb2NhdGlvbiIgeD0iNTMiIHk9IjM3NSIvPgogICAgICAgIDwvc2NlbmU+CiAgICA8L3NjZW5lcz4KICAgIDxyZXNvdXJjZXM+CiAgICAgICAgPGltYWdlIG5hbWU9IkxhdW5jaEltYWdlIiB3aWR0aD0iMTY4IiBoZWlnaHQ9IjE4NSIvPgogICAgPC9yZXNvdXJjZXM+CjwvZG9jdW1lbnQ+Cg==",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Base.lproj/Main.storyboard",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+Cjxkb2N1bWVudCB0eXBlPSJjb20uYXBwbGUuSW50ZXJmYWNlQnVpbGRlcjMuQ29jb2FUb3VjaC5TdG9yeWJvYXJkLlhJQiIgdmVyc2lvbj0iMy4wIiB0b29sc1ZlcnNpb249IjEwMTE3IiBzeXN0ZW1WZXJzaW9uPSIxNUYzNCIgdGFyZ2V0UnVudGltZT0iaU9TLkNvY29hVG91Y2giIHByb3BlcnR5QWNjZXNzQ29udHJvbD0ibm9uZSIgdXNlQXV0b2xheW91dD0iWUVTIiB1c2VUcmFpdENvbGxlY3Rpb25zPSJZRVMiIGluaXRpYWxWaWV3Q29udHJvbGxlcj0iQllaLTM4LXQwciI+CiAgICA8ZGVwZW5kZW5jaWVzPgogICAgICAgIDxkZXBsb3ltZW50IGlkZW50aWZpZXI9ImlPUyIvPgogICAgICAgIDxwbHVnSW4gaWRlbnRpZmllcj0iY29tLmFwcGxlLkludGVyZmFjZUJ1aWxkZXIuSUJDb2NvYVRvdWNoUGx1Z2luIiB2ZXJzaW9uPSIxMDA4NSIvPgogICAgPC9kZXBlbmRlbmNpZXM+CiAgICA8c2NlbmVzPgogICAgICAgIDwhLS1GbHV0dGVyIFZpZXcgQ29udHJvbGxlci0tPgogICAgICAgIDxzY2VuZSBzY2VuZUlEPSJ0bmUtUVQtaWZ1Ij4KICAgICAgICAgICAgPG9iamVjdHM+CiAgICAgICAgICAgICAgICA8dmlld0NvbnRyb2xsZXIgaWQ9IkJZWi0zOC10MHIiIGN1c3RvbUNsYXNzPSJGbHV0dGVyVmlld0NvbnRyb2xsZXIiIHNjZW5lTWVtYmVySUQ9InZpZXdDb250cm9sbGVyIj4KICAgICAgICAgICAgICAgICAgICA8bGF5b3V0R3VpZGVzPgogICAgICAgICAgICAgICAgICAgICAgICA8dmlld0NvbnRyb2xsZXJMYXlvdXRHdWlkZSB0eXBlPSJ0b3AiIGlkPSJ5M2MtanktYURKIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDx2aWV3Q29udHJvbGxlckxheW91dEd1aWRlIHR5cGU9ImJvdHRvbSIgaWQ9IndmeS1kYi1ldUUiLz4KICAgICAgICAgICAgICAgICAgICA8L2xheW91dEd1aWRlcz4KICAgICAgICAgICAgICAgICAgICA8dmlldyBrZXk9InZpZXciIGNvbnRlbnRNb2RlPSJzY2FsZVRvRmlsbCIgaWQ9IjhiQy1YZi12ZEMiPgogICAgICAgICAgICAgICAgICAgICAgICA8cmVjdCBrZXk9ImZyYW1lIiB4PSIwLjAiIHk9IjAuMCIgd2lkdGg9IjYwMCIgaGVpZ2h0PSI2MDAiLz4KICAgICAgICAgICAgICAgICAgICAgICAgPGF1dG9yZXNpemluZ01hc2sga2V5PSJhdXRvcmVzaXppbmdNYXNrIiB3aWR0aFNpemFibGU9IllFUyIgaGVpZ2h0U2l6YWJsZT0iWUVTIi8+CiAgICAgICAgICAgICAgICAgICAgICAgIDxjb2xvciBrZXk9ImJhY2tncm91bmRDb2xvciIgd2hpdGU9IjEiIGFscGhhPSIxIiBjb2xvclNwYWNlPSJjdXN0b20iIGN1c3RvbUNvbG9yU3BhY2U9ImNhbGlicmF0ZWRXaGl0ZSIvPgogICAgICAgICAgICAgICAgICAgIDwvdmlldz4KICAgICAgICAgICAgICAgIDwvdmlld0NvbnRyb2xsZXI+CiAgICAgICAgICAgICAgICA8cGxhY2Vob2xkZXIgcGxhY2Vob2xkZXJJZGVudGlmaWVyPSJJQkZpcnN0UmVzcG9uZGVyIiBpZD0iZGt4LXowLW56ciIgc2NlbmVNZW1iZXJJRD0iZmlyc3RSZXNwb25kZXIiLz4KICAgICAgICAgICAgPC9vYmplY3RzPgogICAgICAgIDwvc2NlbmU+CiAgICA8L3NjZW5lcz4KPC9kb2N1bWVudD4K",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/ios/Runner/Info.plist",
      "data":
          "PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHBsaXN0IFBVQkxJQyAiLS8vQXBwbGUvL0RURCBQTElTVCAxLjAvL0VOIiAiaHR0cDovL3d3dy5hcHBsZS5jb20vRFREcy9Qcm9wZXJ0eUxpc3QtMS4wLmR0ZCI+CjxwbGlzdCB2ZXJzaW9uPSIxLjAiPgo8ZGljdD4KCTxrZXk+Q0ZCdW5kbGVEZXZlbG9wbWVudFJlZ2lvbjwva2V5PgoJPHN0cmluZz4kKERFVkVMT1BNRU5UX0xBTkdVQUdFKTwvc3RyaW5nPgoJPGtleT5DRkJ1bmRsZURpc3BsYXlOYW1lPC9rZXk+Cgk8c3RyaW5nPnt7cHJvamVjdF9uYW1lLnRpdGxlQ2FzZSgpfX08L3N0cmluZz4KCTxrZXk+Q0ZCdW5kbGVFeGVjdXRhYmxlPC9rZXk+Cgk8c3RyaW5nPiQoRVhFQ1VUQUJMRV9OQU1FKTwvc3RyaW5nPgoJPGtleT5DRkJ1bmRsZUlkZW50aWZpZXI8L2tleT4KCTxzdHJpbmc+JChQUk9EVUNUX0JVTkRMRV9JREVOVElGSUVSKTwvc3RyaW5nPgoJPGtleT5DRkJ1bmRsZUluZm9EaWN0aW9uYXJ5VmVyc2lvbjwva2V5PgoJPHN0cmluZz42LjA8L3N0cmluZz4KCTxrZXk+Q0ZCdW5kbGVOYW1lPC9rZXk+Cgk8c3RyaW5nPnt7cHJvamVjdF9uYW1lLnNuYWtlQ2FzZSgpfX08L3N0cmluZz4KCTxrZXk+Q0ZCdW5kbGVQYWNrYWdlVHlwZTwva2V5PgoJPHN0cmluZz5BUFBMPC9zdHJpbmc+Cgk8a2V5PkNGQnVuZGxlU2hvcnRWZXJzaW9uU3RyaW5nPC9rZXk+Cgk8c3RyaW5nPiQoRkxVVFRFUl9CVUlMRF9OQU1FKTwvc3RyaW5nPgoJPGtleT5DRkJ1bmRsZVNpZ25hdHVyZTwva2V5PgoJPHN0cmluZz4/Pz8/PC9zdHJpbmc+Cgk8a2V5PkNGQnVuZGxlVmVyc2lvbjwva2V5PgoJPHN0cmluZz4kKEZMVVRURVJfQlVJTERfTlVNQkVSKTwvc3RyaW5nPgoJPGtleT5MU1JlcXVpcmVzSVBob25lT1M8L2tleT4KCTx0cnVlLz4KCTxrZXk+VUlMYXVuY2hTdG9yeWJvYXJkTmFtZTwva2V5PgoJPHN0cmluZz5MYXVuY2hTY3JlZW48L3N0cmluZz4KCTxrZXk+VUlNYWluU3Rvcnlib2FyZEZpbGU8L2tleT4KCTxzdHJpbmc+TWFpbjwvc3RyaW5nPgoJPGtleT5VSVN1cHBvcnRlZEludGVyZmFjZU9yaWVudGF0aW9uczwva2V5PgoJPGFycmF5PgoJCTxzdHJpbmc+VUlJbnRlcmZhY2VPcmllbnRhdGlvblBvcnRyYWl0PC9zdHJpbmc+CgkJPHN0cmluZz5VSUludGVyZmFjZU9yaWVudGF0aW9uTGFuZHNjYXBlTGVmdDwvc3RyaW5nPgoJCTxzdHJpbmc+VUlJbnRlcmZhY2VPcmllbnRhdGlvbkxhbmRzY2FwZVJpZ2h0PC9zdHJpbmc+Cgk8L2FycmF5PgoJPGtleT5VSVN1cHBvcnRlZEludGVyZmFjZU9yaWVudGF0aW9uc35pcGFkPC9rZXk+Cgk8YXJyYXk+CgkJPHN0cmluZz5VSUludGVyZmFjZU9yaWVudGF0aW9uUG9ydHJhaXQ8L3N0cmluZz4KCQk8c3RyaW5nPlVJSW50ZXJmYWNlT3JpZW50YXRpb25Qb3J0cmFpdFVwc2lkZURvd248L3N0cmluZz4KCQk8c3RyaW5nPlVJSW50ZXJmYWNlT3JpZW50YXRpb25MYW5kc2NhcGVMZWZ0PC9zdHJpbmc+CgkJPHN0cmluZz5VSUludGVyZmFjZU9yaWVudGF0aW9uTGFuZHNjYXBlUmlnaHQ8L3N0cmluZz4KCTwvYXJyYXk+Cgk8a2V5PkNBRGlzYWJsZU1pbmltdW1GcmFtZUR1cmF0aW9uT25QaG9uZTwva2V5PgoJPHRydWUvPgoJPGtleT5VSUFwcGxpY2F0aW9uU3VwcG9ydHNJbmRpcmVjdElucHV0RXZlbnRzPC9rZXk+Cgk8dHJ1ZS8+CjwvZGljdD4KPC9wbGlzdD4K",
      "type": "text",
    },
    {
      "path":
          "{{project_name.snakeCase()}}/ios/Runner/Runner-Bridging-Header.h",
      "data": "I2ltcG9ydCAiR2VuZXJhdGVkUGx1Z2luUmVnaXN0cmFudC5oIgo=",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/ios/RunnerTests/RunnerTests.swift",
      "data":
          "aW1wb3J0IEZsdXR0ZXIKaW1wb3J0IFVJS2l0CmltcG9ydCBYQ1Rlc3QKCmNsYXNzIFJ1bm5lclRlc3RzOiBYQ1Rlc3RDYXNlIHsKCiAgZnVuYyB0ZXN0RXhhbXBsZSgpIHsKICAgIC8vIElmIHlvdSBhZGQgY29kZSB0byB0aGUgUnVubmVyIGFwcGxpY2F0aW9uLCBjb25zaWRlciBhZGRpbmcgdGVzdHMgaGVyZS4KICAgIC8vIFNlZSBodHRwczovL2RldmVsb3Blci5hcHBsZS5jb20vZG9jdW1lbnRhdGlvbi94Y3Rlc3QgZm9yIG1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdXNpbmcgWENUZXN0LgogIH0KCn0K",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/README.md",
      "data":
          "IyB7e3Byb2plY3RfbmFtZX19CgpkZXNjcmlwdGlvbjogQSBGbHV0dGVyIHByb2plY3Qgd2FzIGdlbmVyYXRlZCBieSBCdW5ueSBDTEkuCgojIyBQcm9qZWN0IENvbmZpZ3VyYXRpb24KCiMjIyBCYXNpYyBJbmZvCgotIFByb2plY3QgTmFtZToge3twcm9qZWN0X25hbWV9fQotIE9yZ2FuaXphdGlvbjoge3tidW5kbGVfaWRlbnRpZmllcn19CgojIyMgQXJjaGl0ZWN0dXJlCgpTZWxlY3RlZCBBcmNoaXRlY3R1cmU6IHt7YXJjaGl0ZWN0dXJlfX0KCkFyY2hpdGVjdHVyZSBEZXRhaWxzOgp7e2FyY2hpdGVjdHVyZURldGFpbHN9fQoKIyMjIFN0YXRlIE1hbmFnZW1lbnQKClNlbGVjdGVkIFN0YXRlIE1hbmFnZW1lbnQ6IHt7c3RhdGVfbWFuYWdlbWVudH19CgpTdGF0ZSBNYW5hZ2VtZW50IERldGFpbHM6Cnt7c3RhdGVNYW5hZ2VtZW50RGV0YWlsc319CgojIyMgU2VsZWN0ZWQgRmVhdHVyZXMKCkZlYXR1cmVzIGluY2x1ZGVkIGluIHRoaXMgcHJvamVjdDoKe3sjZmVhdHVyZXN9fQoKLSB7ey59fQogIHt7L2ZlYXR1cmVzfX0KCiMjIyBTZWxlY3RlZCBNb2R1bGVzCgpNb2R1bGVzIGluY2x1ZGVkIGluIHRoaXMgcHJvamVjdDoKe3sjbW9kdWxlc319CgotIHt7Ln19CiAge3svbW9kdWxlc319CgojIyBQcm9qZWN0IFN0cnVjdHVyZQoKYGBgCmxpYi8K4pSc4pSA4pSAIGNvcmUvCuKUgiAgIOKUnOKUgOKUgCBjb25maWcvCuKUgiAgIOKUnOKUgOKUgCB0aGVtZS8K4pSCICAg4pSU4pSA4pSAIHV0aWxzLwrilJzilIDilIAgZmVhdHVyZXMvCnt7I2ZlYXR1cmVzfX0K4pSCICAg4pSc4pSA4pSAIHt7Ln19Lwp7ey9mZWF0dXJlc319CuKUlOKUgOKUgCBtb2R1bGVzLwp7eyNtb2R1bGVzfX0KICAgIOKUnOKUgOKUgCB7ey59fS8Ke3svbW9kdWxlc319CmBgYAoKIyMgR2V0dGluZyBTdGFydGVkCgoxLiBDbG9uZSB0aGUgcmVwb3NpdG9yeQoyLiBJbnN0YWxsIGRlcGVuZGVuY2llczoKICAgYGBgYmFzaAogICBmbHV0dGVyIHB1YiBnZXQKICAgYGBgCjMuIFJ1biB0aGUgZGV2ZWxvcG1lbnQgc2VydmVyOgogICBgYGBiYXNoCiAgIGZsdXR0ZXIgcnVuCiAgIGBgYAoKIyMgRGV2ZWxvcG1lbnQgR3VpZGVsaW5lcwoKIyMjIENvZGUgU3R5bGUKCi0gRm9sbG93IEZsdXR0ZXIncyBvZmZpY2lhbCBzdHlsZSBndWlkZQotIFVzZSBtZWFuaW5nZnVsIHZhcmlhYmxlIGFuZCBmdW5jdGlvbiBuYW1lcwotIFdyaXRlIGNvbW1lbnRzIGZvciBjb21wbGV4IGxvZ2ljCi0gS2VlcCBmaWxlcyBhbmQgY2xhc3NlcyBmb2N1c2VkIGFuZCBzbWFsbAoKIyMjIEFyY2hpdGVjdHVyZSBHdWlkZWxpbmVzCgotIEZvbGxvdyB0aGUge3thcmNoaXRlY3R1cmV9fSBwYXR0ZXJuCi0gTWFpbnRhaW4gc2VwYXJhdGlvbiBvZiBjb25jZXJucwotIFdyaXRlIHVuaXQgdGVzdHMgZm9yIGJ1c2luZXNzIGxvZ2ljCi0gRG9jdW1lbnQgY29tcGxleCBpbXBsZW1lbnRhdGlvbnMKCiMjIyBTdGF0ZSBNYW5hZ2VtZW50CgotIFVzZSB7e3N0YXRlX21hbmFnZW1lbnR9fSBmb3Igc3RhdGUgbWFuYWdlbWVudAotIEZvbGxvdyBiZXN0IHByYWN0aWNlcyBmb3IgY2hvc2VuIHNvbHV0aW9uCi0gTWFpbnRhaW4gY2xlYXIgc3RhdGUgdXBkYXRlIHBhdHRlcm5zCi0gRG9jdW1lbnQgc3RhdGUgZmxvdyBmb3IgY29tcGxleCBmZWF0dXJlcwoKIyMgVGVzdGluZwoKYGBgYmFzaAojIFJ1biBhbGwgdGVzdHMKZmx1dHRlciB0ZXN0CgojIFJ1biB0ZXN0cyB3aXRoIGNvdmVyYWdlCmZsdXR0ZXIgdGVzdCAtLWNvdmVyYWdlCmBgYAoKIyMgQnVpbGRpbmcgZm9yIFByb2R1Y3Rpb24KCmBgYGJhc2gKIyBCdWlsZCBBUEsKZmx1dHRlciBidWlsZCBhcGsKCiMgQnVpbGQgaU9TCmZsdXR0ZXIgYnVpbGQgaW9zCmBgYAoKIyMgTGljZW5zZQoKVGhpcyBwcm9qZWN0IGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZSAtIHNlZSB0aGUgTElDRU5TRSBmaWxlIGZvciBkZXRhaWxzLgo=",
      "type": "text",
    },
    {
      "path": "{{project_name.snakeCase()}}/test/widget_test.dart",
      "data":
          "Ly8gVGhpcyBpcyBhIGJhc2ljIEZsdXR0ZXIgd2lkZ2V0IHRlc3QuCi8vCi8vIFRvIHBlcmZvcm0gYW4gaW50ZXJhY3Rpb24gd2l0aCBhIHdpZGdldCBpbiB5b3VyIHRlc3QsIHVzZSB0aGUgV2lkZ2V0VGVzdGVyCi8vIHV0aWxpdHkgaW4gdGhlIGZsdXR0ZXJfdGVzdCBwYWNrYWdlLiBGb3IgZXhhbXBsZSwgeW91IGNhbiBzZW5kIHRhcCBhbmQgc2Nyb2xsCi8vIGdlc3R1cmVzLiBZb3UgY2FuIGFsc28gdXNlIFdpZGdldFRlc3RlciB0byBmaW5kIGNoaWxkIHdpZGdldHMgaW4gdGhlIHdpZGdldAovLyB0cmVlLCByZWFkIHRleHQsIGFuZCB2ZXJpZnkgdGhhdCB0aGUgdmFsdWVzIG9mIHdpZGdldCBwcm9wZXJ0aWVzIGFyZSBjb3JyZWN0LgoKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX3Rlc3QvZmx1dHRlcl90ZXN0LmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6e3twcm9qZWN0X25hbWV9fS9hcHAvYXBwLmRhcnQnOwoKdm9pZCBtYWluKCkgewogIHRlc3RXaWRnZXRzKCdDb3VudGVyIGluY3JlbWVudHMgc21va2UgdGVzdCcsIChXaWRnZXRUZXN0ZXIgdGVzdGVyKSBhc3luYyB7CiAgICAvLyBCdWlsZCBvdXIgYXBwIGFuZCB0cmlnZ2VyIGEgZnJhbWUuCiAgICBhd2FpdCB0ZXN0ZXIucHVtcFdpZGdldChjb25zdCBBcHAoKSk7CgogICAgLy8gVmVyaWZ5IHRoYXQgb3VyIGNvdW50ZXIgc3RhcnRzIGF0IDAuCiAgICBleHBlY3QoZmluZC50ZXh0KCcwJyksIGZpbmRzT25lV2lkZ2V0KTsKICAgIGV4cGVjdChmaW5kLnRleHQoJzEnKSwgZmluZHNOb3RoaW5nKTsKCiAgICAvLyBUYXAgdGhlICcrJyBpY29uIGFuZCB0cmlnZ2VyIGEgZnJhbWUuCiAgICBhd2FpdCB0ZXN0ZXIudGFwKGZpbmQuYnlJY29uKEljb25zLmFkZCkpOwogICAgYXdhaXQgdGVzdGVyLnB1bXAoKTsKCiAgICAvLyBWZXJpZnkgdGhhdCBvdXIgY291bnRlciBoYXMgaW5jcmVtZW50ZWQuCiAgICBleHBlY3QoZmluZC50ZXh0KCcwJyksIGZpbmRzTm90aGluZyk7CiAgICBleHBlY3QoZmluZC50ZXh0KCcxJyksIGZpbmRzT25lV2lkZ2V0KTsKICB9KTsKfQo=",
      "type": "text",
    },
  ],
  "hooks": [
    {
      "path": "lib/app_bunny_screen_generator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBHZW5lcmF0ZXMgdGhlIEZsdXR0ZXJCdW5ueVNjcmVlbiBmaWxlCnZvaWQgX2dlbmVyYXRlRmx1dHRlckJ1bm55U2NyZWVuRmlsZSgKICAgIEhvb2tDb250ZXh0IGNvbnRleHQsCiAgICBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBTdHJpbmcgc3RhdGVNYW5hZ2VtZW50LAogICAgYm9vbCBoYXNUaGVtZU1hbmFnZXIsCiAgICBib29sIGhhc0xvY2FsaXphdGlvbiwKICAgIGJvb2wgaGFzUHVzaE5vdGlmaWNhdGlvbikgewogIGZpbmFsIGZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvYXBwL2FwcF9mbHV0dGVyX2J1bm55LmRhcnQnOwoKICAvLyBHZW5lcmF0ZSBpbXBvcnRzIGJhc2VkIG9uIHN0YXRlIG1hbmFnZW1lbnQgYW5kIG1vZHVsZXMKICBmaW5hbCBzdGF0ZUltcG9ydHMgPSBfZ2VuZXJhdGVTdGF0ZUltcG9ydHMoc3RhdGVNYW5hZ2VtZW50LCBwcm9qZWN0TmFtZSk7CiAgZmluYWwgdGhlbWVJbXBvcnRzID0gaGFzVGhlbWVNYW5hZ2VyCiAgICAgID8gJycnCmltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9kZXNpZ25fc3lzdGVtL3RoZW1lX2V4dGVuc2lvbi9hcHBfdGhlbWVfZXh0ZW5zaW9uLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvZGVzaWduX3N5c3RlbS90aGVtZV9leHRlbnNpb24vdGhlbWVfbWFuYWdlci5kYXJ0JzsnJycKICAgICAgOiAnJzsKICBmaW5hbCBsb2NhbGl6YXRpb25JbXBvcnRzID0gaGFzTG9jYWxpemF0aW9uCiAgICAgID8gJycnCmltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uLmRhcnQnOycnJwogICAgICA6ICcnOwogIGZpbmFsIHB1c2hOb3RpZmljYXRpb25JbXBvcnRzID0gaGFzUHVzaE5vdGlmaWNhdGlvbgogICAgICA/ICcnJwppbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvbm90aWZpY2F0aW9ucy9tb2RlbHMvcHVzaF9ub3RpZmljYXRpb25fbW9kZWwuZGFydCc7CmltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9ub3RpZmljYXRpb25zL25vdGlmaWNhdGlvbl9oYW5kbGVyLmRhcnQnOycnJwogICAgICA6ICcnOwoKICAvLyBHZW5lcmF0ZSBjb250ZW50CiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKJHN0YXRlSW1wb3J0cwokdGhlbWVJbXBvcnRzCiRsb2NhbGl6YXRpb25JbXBvcnRzCiRwdXNoTm90aWZpY2F0aW9uSW1wb3J0cwoKY2xhc3MgRmx1dHRlckJ1bm55U2NyZWVuIGV4dGVuZHMgU3RhdGVmdWxXaWRnZXQgewogIGNvbnN0IEZsdXR0ZXJCdW5ueVNjcmVlbih7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgU3RhdGU8Rmx1dHRlckJ1bm55U2NyZWVuPiBjcmVhdGVTdGF0ZSgpID0+IF9GbHV0dGVyQnVubnlTY3JlZW5TdGF0ZSgpOwp9CgpjbGFzcyBfRmx1dHRlckJ1bm55U2NyZWVuU3RhdGUgZXh0ZW5kcyBTdGF0ZTxGbHV0dGVyQnVubnlTY3JlZW4+IHsKICAke2hhc1B1c2hOb3RpZmljYXRpb24gPyAnJycKICBTdHJpbmc/IGZjbVRva2VuOwogIGJvb2wgbm90aWZpY2F0aW9uc0VuYWJsZWQgPSB0cnVlOwogIGJvb2wgaXNUb2tlbkV4cGFuZGVkID0gZmFsc2U7CiAgJycnIDogJyd9CgogIEBvdmVycmlkZQogIHZvaWQgaW5pdFN0YXRlKCkgewogICAgc3VwZXIuaW5pdFN0YXRlKCk7CiAgICAke2hhc1B1c2hOb3RpZmljYXRpb24gPyAnX2xvYWRGQ01Ub2tlbigpOycgOiAnJ30KICB9CgogICR7aGFzUHVzaE5vdGlmaWNhdGlvbiA/ICcnJwogIEZ1dHVyZTx2b2lkPiBfbG9hZEZDTVRva2VuKCkgYXN5bmMgewogICAgdHJ5IHsKICAgICAgZmluYWwgdG9rZW4gPSBhd2FpdCBub3RpZmljYXRpb25IYW5kbGVyLmdldEZDTVRva2VuKCk7CiAgICAgIGlmIChtb3VudGVkKSB7CiAgICAgICAgc2V0U3RhdGUoKCkgewogICAgICAgICAgZmNtVG9rZW4gPSB0b2tlbjsKICAgICAgICB9KTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICBpZiAobW91bnRlZCkgewogICAgICAgIHNldFN0YXRlKCgpIHsKICAgICAgICAgIGZjbVRva2VuID0gJ05vdCBhdmFpbGFibGUnOwogICAgICAgICAgbm90aWZpY2F0aW9uc0VuYWJsZWQgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0KCiAgdm9pZCBfc2VuZFRlc3ROb3RpZmljYXRpb24oKSBhc3luYyB7CiAgICBmaW5hbCBub3RpZmljYXRpb24gPSBQdXNoTm90aWZpY2F0aW9uTW9kZWwoCiAgICAgIHRpdGxlOiAnVGVzdCBOb3RpZmljYXRpb24nLAogICAgICBib2R5OiAnVGhpcyBpcyBhIHRlc3Qgbm90aWZpY2F0aW9uIGZyb20geW91ciBhcHAnLAogICAgICBwYXlsb2FkOiAneyJ0eXBlIjogInRlc3QiLCAiaWQiOiAiMTIzIn0nLAogICAgKTsKCiAgICBhd2FpdCBub3RpZmljYXRpb25IYW5kbGVyLnNob3dMb2NhbE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pOwoKICAgIFNjYWZmb2xkTWVzc2VuZ2VyLm9mKGNvbnRleHQpLnNob3dTbmFja0JhcigKICAgICAgU25hY2tCYXIoCiAgICAgICAgY29udGVudDogVGV4dCgke2hhc0xvY2FsaXphdGlvbiA/ICdjb250ZXh0LnN0cmluZ3Mubm90aWZpY2F0aW9uU2VudCcgOiAnIlRlc3Qgbm90aWZpY2F0aW9uIHNlbnQiJ30pLAogICAgICAgIGJhY2tncm91bmRDb2xvcjogJHtoYXNUaGVtZU1hbmFnZXIgPyAnY29udGV4dC50aGVtZS5jb2xvcnMuYWN0aXZlQnV0dG9uJyA6ICdDb2xvcnMuYmx1ZSd9LAogICAgICAgIGJlaGF2aW9yOiBTbmFja0JhckJlaGF2aW9yLmZsb2F0aW5nLAogICAgICApLAogICAgKTsKICB9CiAgJycnIDogJyd9CgoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBTY2FmZm9sZCgKICAgICAgYmFja2dyb3VuZENvbG9yOiAke2hhc1RoZW1lTWFuYWdlciA/ICdjb250ZXh0LnRoZW1lLmNvbG9ycy5zdXJmYWNlJyA6ICdUaGVtZS5vZihjb250ZXh0KS5zY2FmZm9sZEJhY2tncm91bmRDb2xvcid9LAogICAgICBhcHBCYXI6IEFwcEJhcigKICAgICAgICB0aXRsZTogVGV4dCgKICAgICAgICAgICdGbHV0dGVyQnVubnknLAogICAgICAgICAgc3R5bGU6ICR7aGFzVGhlbWVNYW5hZ2VyID8gJ2NvbnRleHQudGhlbWUuZm9udHMuaGVhZGVyTGFyZ2VyLmNvcHlXaXRoKGZvbnRTaXplOiAyMCknIDogJ1RoZW1lLm9mKGNvbnRleHQpLnRleHRUaGVtZS50aXRsZUxhcmdlJ30sCiAgICAgICAgKSwKICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IENvbG9ycy50cmFuc3BhcmVudCwKICAgICAgICBlbGV2YXRpb246IDAsCiAgICAgICAgJHtoYXNMb2NhbGl6YXRpb24gPyBfZ2VuZXJhdGVMYW5ndWFnZUFjdGlvbkJ1dHRvbihzdGF0ZU1hbmFnZW1lbnQsIGhhc1RoZW1lTWFuYWdlcikgOiAnJ30KICAgICAgKSwKICAgICAgYm9keTogU2luZ2xlQ2hpbGRTY3JvbGxWaWV3KAogICAgICAgIGNoaWxkOiBQYWRkaW5nKAogICAgICAgICAgcGFkZGluZzogY29uc3QgRWRnZUluc2V0cy5hbGwoMjAuMCksCiAgICAgICAgICBjaGlsZDogQ29sdW1uKAogICAgICAgICAgICBjcm9zc0F4aXNBbGlnbm1lbnQ6IENyb3NzQXhpc0FsaWdubWVudC5zdGFydCwKICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICAke2hhc1RoZW1lTWFuYWdlciA/ICcvLyBUaGVtZSBTZWN0aW9uXG4gICAgICAgICAgICAgIF9idWlsZFRoZW1lU2VjdGlvbigpLCcgOiAnJ30KICAgICAgICAgICAgICAKICAgICAgICAgICAgICAke2hhc1RoZW1lTWFuYWdlciA/ICdjb25zdCBTaXplZEJveChoZWlnaHQ6IDMwKSwnIDogJyd9CgogICAgICAgICAgICAgICR7aGFzUHVzaE5vdGlmaWNhdGlvbiA/ICcvLyBOb3RpZmljYXRpb24gU2VjdGlvblxuICAgICAgICAgICAgICBfYnVpbGROb3RpZmljYXRpb25TZWN0aW9uKCksJyA6ICcnfQogICAgICAgICAgICAgIAogICAgICAgICAgICAgICR7aGFzUHVzaE5vdGlmaWNhdGlvbiA/ICdjb25zdCBTaXplZEJveChoZWlnaHQ6IDMwKSwnIDogJyd9CgogICAgICAgICAgICAgICR7aGFzTG9jYWxpemF0aW9uID8gJy8vIExhbmd1YWdlIFNlY3Rpb25cbiAgICAgICAgICAgICAgJyArIF9nZW5lcmF0ZUxhbmd1YWdlU2VjdGlvbkNhbGwoc3RhdGVNYW5hZ2VtZW50KSA6ICcnfQogICAgICAgICAgICBdLAogICAgICAgICAgKSwKICAgICAgICApLAogICAgICApLAogICAgKTsKICB9CgogICR7aGFzVGhlbWVNYW5hZ2VyID8gX2dlbmVyYXRlVGhlbWVTZWN0aW9uKHN0YXRlTWFuYWdlbWVudCkgOiAnJ30KCiAgJHtoYXNQdXNoTm90aWZpY2F0aW9uID8gX2dlbmVyYXRlTm90aWZpY2F0aW9uU2VjdGlvbihoYXNUaGVtZU1hbmFnZXIsIGhhc0xvY2FsaXphdGlvbikgOiAnJ30KCiAgJHtoYXNMb2NhbGl6YXRpb24gPyBfZ2VuZXJhdGVMYW5ndWFnZVNlY3Rpb24oc3RhdGVNYW5hZ2VtZW50LCBoYXNUaGVtZU1hbmFnZXIpIDogJyd9CgogICR7aGFzTG9jYWxpemF0aW9uID8gX2dlbmVyYXRlTGFuZ3VhZ2VQaWNrZXJNZXRob2QoaGFzVGhlbWVNYW5hZ2VyLCBzdGF0ZU1hbmFnZW1lbnQpIDogJyd9Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIGltcG9ydHMgYmFzZWQgb24gc3RhdGUgbWFuYWdlbWVudApTdHJpbmcgX2dlbmVyYXRlU3RhdGVJbXBvcnRzKFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIHN3aXRjaCAoc3RhdGVNYW5hZ2VtZW50KSB7CiAgICBjYXNlICdCTG9DJzoKICAgIGNhc2UgJ0Jsb2MnOgogICAgICByZXR1cm4gJycnCmltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9sb2NhbGl6YXRpb24vYmxvYy9sb2NhbGVfYmxvYy5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfYmxvYy9mbHV0dGVyX2Jsb2MuZGFydCc7JycnOwogICAgY2FzZSAnUHJvdmlkZXInOgogICAgICByZXR1cm4gJycnCmltcG9ydCAncGFja2FnZTpwcm92aWRlci9wcm92aWRlci5kYXJ0JzsnJyc7CiAgICBjYXNlICdSaXZlcnBvZCc6CiAgICAgIHJldHVybiAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfcml2ZXJwb2QvZmx1dHRlcl9yaXZlcnBvZC5kYXJ0JzsnJyc7CiAgICBjYXNlICdHZXRYJzoKICAgICAgcmV0dXJuICcnJwppbXBvcnQgJ3BhY2thZ2U6Z2V0L2dldC5kYXJ0JzsnJyc7CiAgICBjYXNlICdNb2JYJzoKICAgICAgcmV0dXJuICcnJwppbXBvcnQgJ3BhY2thZ2U6bW9ieC9tb2J4LmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9tb2J4L2ZsdXR0ZXJfbW9ieC5kYXJ0JzsnJyc7CiAgICBjYXNlICdSZWR1eCc6CiAgICAgIHJldHVybiAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfcmVkdXgvZmx1dHRlcl9yZWR1eC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnJlZHV4L3JlZHV4LmRhcnQnOycnJzsKICAgIGRlZmF1bHQ6CiAgICAgIHJldHVybiAnJzsKICB9Cn0KCi8vLyBHZW5lcmF0ZXMgdGhlIHRoZW1lIHNlY3Rpb24KU3RyaW5nIF9nZW5lcmF0ZVRoZW1lU2VjdGlvbihTdHJpbmcgc3RhdGVNYW5hZ2VtZW50KSB7CiAgU3RyaW5nIHRoZW1lQnV0dG9uOwogIHN3aXRjaCAoc3RhdGVNYW5hZ2VtZW50KSB7CiAgICBjYXNlICdCTG9DJzoKICAgIGNhc2UgJ0Jsb2MnOgogICAgICB0aGVtZUJ1dHRvbiA9ICcnJwogIFdpZGdldCBfYnVpbGRUaGVtZU1vZGVCdXR0b24oVGhlbWVNb2RlRW51bSBtb2RlLCBJY29uRGF0YSBpY29uLCBTdHJpbmcgbGFiZWwpIHsKICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSBjb250ZXh0LndhdGNoPFRoZW1lQ3ViaXQ+KCkuc3RhdGUudGhlbWVNb2RlID09IG1vZGU7CgogICAgcmV0dXJuIEV4cGFuZGVkKAogICAgICBjaGlsZDogR2VzdHVyZURldGVjdG9yKAogICAgICAgIG9uVGFwOiAoKSB7CiAgICAgICAgICBjb250ZXh0LnJlYWQ8VGhlbWVDdWJpdD4oKS5zZXRUaGVtZShtb2RlKTsKICAgICAgICB9LAogICAgICAgIGNoaWxkOiBBbmltYXRlZENvbnRhaW5lcigKICAgICAgICAgIGR1cmF0aW9uOiBjb25zdCBEdXJhdGlvbihtaWxsaXNlY29uZHM6IDMwMCksCiAgICAgICAgICBjdXJ2ZTogQ3VydmVzLmVhc2VJbk91dCwKICAgICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuc3ltbWV0cmljKHZlcnRpY2FsOiAxNiksCiAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICBjb2xvcjogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgPyBjb250ZXh0LnRoZW1lLmNvbG9ycy5hY3RpdmVCdXR0b24KICAgICAgICAgICAgICAgIDogY29udGV4dC50aGVtZS5jb2xvcnMuc3VyZmFjZSwKICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBCb3JkZXJSYWRpdXMuY2lyY3VsYXIoMTIpLAogICAgICAgICAgICBib3hTaGFkb3c6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgID8gWwogICAgICAgICAgICAgICAgICAgIEJveFNoYWRvdygKICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb250ZXh0LnRoZW1lLmNvbG9ycy5hY3RpdmVCdXR0b24ud2l0aE9wYWNpdHkoMC4zKSwKICAgICAgICAgICAgICAgICAgICAgIGJsdXJSYWRpdXM6IDgsCiAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQ6IGNvbnN0IE9mZnNldCgwLCAzKSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICA6IG51bGwsCiAgICAgICAgICApLAogICAgICAgICAgY2hpbGQ6IENvbHVtbigKICAgICAgICAgICAgbWFpbkF4aXNTaXplOiBNYWluQXhpc1NpemUubWluLAogICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgIEljb24oCiAgICAgICAgICAgICAgICBpY29uLAogICAgICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICA/IGNvbnRleHQudGhlbWUuY29sb3JzLnRleHRXaGl0ZQogICAgICAgICAgICAgICAgICAgIDogY29udGV4dC50aGVtZS5jb2xvcnMudGV4dFByaW1hcnksCiAgICAgICAgICAgICAgICBzaXplOiAyOCwKICAgICAgICAgICAgICApLAogICAgICAgICAgICAgIGNvbnN0IFNpemVkQm94KGhlaWdodDogOCksCiAgICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICAgIGxhYmVsLAogICAgICAgICAgICAgICAgc3R5bGU6IFRleHRTdHlsZSgKICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEyLAogICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBGb250V2VpZ2h0Lnc1MDAsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgICA/IGNvbnRleHQudGhlbWUuY29sb3JzLnRleHRXaGl0ZQogICAgICAgICAgICAgICAgICAgICAgOiBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0UHJpbWFyeSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFRleHRBbGlnbi5jZW50ZXIsCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgXSwKICAgICAgICAgICksCiAgICAgICAgKSwKICAgICAgKSwKICAgICk7CiAgfScnJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnUHJvdmlkZXInOgogICAgICB0aGVtZUJ1dHRvbiA9ICcnJwogIFdpZGdldCBfYnVpbGRUaGVtZU1vZGVCdXR0b24oVGhlbWVNb2RlRW51bSBtb2RlLCBJY29uRGF0YSBpY29uLCBTdHJpbmcgbGFiZWwpIHsKICAgIGZpbmFsIHRoZW1lUHJvdmlkZXIgPSBQcm92aWRlci5vZjxUaGVtZVByb3ZpZGVyPihjb250ZXh0KTsKICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSB0aGVtZVByb3ZpZGVyLnRoZW1lTW9kZSA9PSBtb2RlOwoKICAgIHJldHVybiBFeHBhbmRlZCgKICAgICAgY2hpbGQ6IEdlc3R1cmVEZXRlY3RvcigKICAgICAgICBvblRhcDogKCkgewogICAgICAgICAgdGhlbWVQcm92aWRlci5zZXRUaGVtZU1vZGUobW9kZSk7CiAgICAgICAgfSwKICAgICAgICBjaGlsZDogQW5pbWF0ZWRDb250YWluZXIoCiAgICAgICAgICBkdXJhdGlvbjogY29uc3QgRHVyYXRpb24obWlsbGlzZWNvbmRzOiAzMDApLAogICAgICAgICAgY3VydmU6IEN1cnZlcy5lYXNlSW5PdXQsCiAgICAgICAgICBwYWRkaW5nOiBjb25zdCBFZGdlSW5zZXRzLnN5bW1ldHJpYyh2ZXJ0aWNhbDogMTYpLAogICAgICAgICAgZGVjb3JhdGlvbjogQm94RGVjb3JhdGlvbigKICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgID8gY29udGV4dC50aGVtZS5jb2xvcnMuYWN0aXZlQnV0dG9uCiAgICAgICAgICAgICAgICA6IGNvbnRleHQudGhlbWUuY29sb3JzLnN1cmZhY2UsCiAgICAgICAgICAgIGJvcmRlclJhZGl1czogQm9yZGVyUmFkaXVzLmNpcmN1bGFyKDEyKSwKICAgICAgICAgICAgYm94U2hhZG93OiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICA/IFsKICAgICAgICAgICAgICAgICAgICBCb3hTaGFkb3coCiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29udGV4dC50aGVtZS5jb2xvcnMuYWN0aXZlQnV0dG9uLndpdGhPcGFjaXR5KDAuMyksCiAgICAgICAgICAgICAgICAgICAgICBibHVyUmFkaXVzOiA4LAogICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBjb25zdCBPZmZzZXQoMCwgMyksCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgOiBudWxsLAogICAgICAgICAgKSwKICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgIG1haW5BeGlzU2l6ZTogTWFpbkF4aXNTaXplLm1pbiwKICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICBJY29uKAogICAgICAgICAgICAgICAgaWNvbiwKICAgICAgICAgICAgICAgIGNvbG9yOiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgPyBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0V2hpdGUKICAgICAgICAgICAgICAgICAgICA6IGNvbnRleHQudGhlbWUuY29sb3JzLnRleHRQcmltYXJ5LAogICAgICAgICAgICAgICAgc2l6ZTogMjgsCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBjb25zdCBTaXplZEJveChoZWlnaHQ6IDgpLAogICAgICAgICAgICAgIFRleHQoCiAgICAgICAgICAgICAgICBsYWJlbCwKICAgICAgICAgICAgICAgIHN0eWxlOiBUZXh0U3R5bGUoCiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogRm9udFdlaWdodC53NTAwLAogICAgICAgICAgICAgICAgICBjb2xvcjogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgPyBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0V2hpdGUKICAgICAgICAgICAgICAgICAgICAgIDogY29udGV4dC50aGVtZS5jb2xvcnMudGV4dFByaW1hcnksCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgdGV4dEFsaWduOiBUZXh0QWxpZ24uY2VudGVyLAogICAgICAgICAgICAgICksCiAgICAgICAgICAgIF0sCiAgICAgICAgICApLAogICAgICAgICksCiAgICAgICksCiAgICApOwogIH0nJyc7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ1JpdmVycG9kJzoKICAgICAgdGhlbWVCdXR0b24gPSAnJycKICBXaWRnZXQgX2J1aWxkVGhlbWVNb2RlQnV0dG9uKFRoZW1lTW9kZUVudW0gbW9kZSwgSWNvbkRhdGEgaWNvbiwgU3RyaW5nIGxhYmVsKSB7CiAgICByZXR1cm4gQ29uc3VtZXIoCiAgICAgIGJ1aWxkZXI6IChjb250ZXh0LCByZWYsIGNoaWxkKSB7CiAgICAgICAgZmluYWwgY3VycmVudFRoZW1lID0gcmVmLndhdGNoKHRoZW1lUHJvdmlkZXIpOwogICAgICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSBjdXJyZW50VGhlbWUgPT0gbW9kZTsKICAgICAgICAKICAgICAgICByZXR1cm4gRXhwYW5kZWQoCiAgICAgICAgICBjaGlsZDogR2VzdHVyZURldGVjdG9yKAogICAgICAgICAgICBvblRhcDogKCkgewogICAgICAgICAgICAgIHJlZi5yZWFkKHRoZW1lUHJvdmlkZXIubm90aWZpZXIpLnNldFRoZW1lTW9kZShtb2RlKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2hpbGQ6IEFuaW1hdGVkQ29udGFpbmVyKAogICAgICAgICAgICAgIGR1cmF0aW9uOiBjb25zdCBEdXJhdGlvbihtaWxsaXNlY29uZHM6IDMwMCksCiAgICAgICAgICAgICAgY3VydmU6IEN1cnZlcy5lYXNlSW5PdXQsCiAgICAgICAgICAgICAgcGFkZGluZzogY29uc3QgRWRnZUluc2V0cy5zeW1tZXRyaWModmVydGljYWw6IDE2KSwKICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICA/IGNvbnRleHQudGhlbWUuY29sb3JzLmFjdGl2ZUJ1dHRvbgogICAgICAgICAgICAgICAgICAgIDogY29udGV4dC50aGVtZS5jb2xvcnMuc3VyZmFjZSwKICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogQm9yZGVyUmFkaXVzLmNpcmN1bGFyKDEyKSwKICAgICAgICAgICAgICAgIGJveFNoYWRvdzogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgID8gWwogICAgICAgICAgICAgICAgICAgICAgICBCb3hTaGFkb3coCiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbnRleHQudGhlbWUuY29sb3JzLmFjdGl2ZUJ1dHRvbi53aXRoT3BhY2l0eSgwLjMpLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJsdXJSYWRpdXM6IDgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBjb25zdCBPZmZzZXQoMCwgMyksCiAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgOiBudWxsLAogICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgY2hpbGQ6IENvbHVtbigKICAgICAgICAgICAgICAgIG1haW5BeGlzU2l6ZTogTWFpbkF4aXNTaXplLm1pbiwKICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICAgIEljb24oCiAgICAgICAgICAgICAgICAgICAgaWNvbiwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICA/IGNvbnRleHQudGhlbWUuY29sb3JzLnRleHRXaGl0ZQogICAgICAgICAgICAgICAgICAgICAgICA6IGNvbnRleHQudGhlbWUuY29sb3JzLnRleHRQcmltYXJ5LAogICAgICAgICAgICAgICAgICAgIHNpemU6IDI4LAogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICBjb25zdCBTaXplZEJveChoZWlnaHQ6IDgpLAogICAgICAgICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgICAgICAgIGxhYmVsLAogICAgICAgICAgICAgICAgICAgIHN0eWxlOiBUZXh0U3R5bGUoCiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBGb250V2VpZ2h0Lnc1MDAsCiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICAgID8gY29udGV4dC50aGVtZS5jb2xvcnMudGV4dFdoaXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0UHJpbWFyeSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogVGV4dEFsaWduLmNlbnRlciwKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKSwKICAgICAgICAgICksCiAgICAgICAgKTsKICAgICAgfQogICAgKTsKICB9JycnOwogICAgICBicmVhazsKCiAgICBjYXNlICdHZXRYJzoKICAgICAgdGhlbWVCdXR0b24gPSAnJycKICBXaWRnZXQgX2J1aWxkVGhlbWVNb2RlQnV0dG9uKFRoZW1lTW9kZUVudW0gbW9kZSwgSWNvbkRhdGEgaWNvbiwgU3RyaW5nIGxhYmVsKSB7CiAgICByZXR1cm4gR2V0QnVpbGRlcjxUaGVtZUNvbnRyb2xsZXI+KAogICAgICBidWlsZGVyOiAoY29udHJvbGxlcikgewogICAgICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSBjb250cm9sbGVyLmN1cnJlbnRUaGVtZSA9PSBtb2RlOwogICAgICAgIAogICAgICAgIHJldHVybiBFeHBhbmRlZCgKICAgICAgICAgIGNoaWxkOiBHZXN0dXJlRGV0ZWN0b3IoCiAgICAgICAgICAgIG9uVGFwOiAoKSB7CiAgICAgICAgICAgICAgY29udHJvbGxlci5zZXRUaGVtZU1vZGUobW9kZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNoaWxkOiBBbmltYXRlZENvbnRhaW5lcigKICAgICAgICAgICAgICBkdXJhdGlvbjogY29uc3QgRHVyYXRpb24obWlsbGlzZWNvbmRzOiAzMDApLAogICAgICAgICAgICAgIGN1cnZlOiBDdXJ2ZXMuZWFzZUluT3V0LAogICAgICAgICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuc3ltbWV0cmljKHZlcnRpY2FsOiAxNiksCiAgICAgICAgICAgICAgZGVjb3JhdGlvbjogQm94RGVjb3JhdGlvbigKICAgICAgICAgICAgICAgIGNvbG9yOiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgPyBjb250ZXh0LnRoZW1lLmNvbG9ycy5hY3RpdmVCdXR0b24KICAgICAgICAgICAgICAgICAgICA6IGNvbnRleHQudGhlbWUuY29sb3JzLnN1cmZhY2UsCiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IEJvcmRlclJhZGl1cy5jaXJjdWxhcigxMiksCiAgICAgICAgICAgICAgICBib3hTaGFkb3c6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICA/IFsKICAgICAgICAgICAgICAgICAgICAgICAgQm94U2hhZG93KAogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb250ZXh0LnRoZW1lLmNvbG9ycy5hY3RpdmVCdXR0b24ud2l0aE9wYWNpdHkoMC4zKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBibHVyUmFkaXVzOiA4LAogICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogY29uc3QgT2Zmc2V0KDAsIDMpLAogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIDogbnVsbCwKICAgICAgICAgICAgICApLAogICAgICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgICAgICBtYWluQXhpc1NpemU6IE1haW5BeGlzU2l6ZS5taW4sCiAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICBJY29uKAogICAgICAgICAgICAgICAgICAgIGljb24sCiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgPyBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0V2hpdGUKICAgICAgICAgICAgICAgICAgICAgICAgOiBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0UHJpbWFyeSwKICAgICAgICAgICAgICAgICAgICBzaXplOiAyOCwKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgY29uc3QgU2l6ZWRCb3goaGVpZ2h0OiA4KSwKICAgICAgICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICAgICAgICBsYWJlbCwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogVGV4dFN0eWxlKAogICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEyLAogICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogRm9udFdlaWdodC53NTAwLAogICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNvbnRleHQudGhlbWUuY29sb3JzLnRleHRXaGl0ZQogICAgICAgICAgICAgICAgICAgICAgICAgIDogY29udGV4dC50aGVtZS5jb2xvcnMudGV4dFByaW1hcnksCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFRleHRBbGlnbi5jZW50ZXIsCiAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICksCiAgICAgICAgICAgICksCiAgICAgICAgICApLAogICAgICAgICk7CiAgICAgIH0KICAgICk7CiAgfScnJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnTW9iWCc6CiAgICAgIHRoZW1lQnV0dG9uID0gJycnCiAgV2lkZ2V0IF9idWlsZFRoZW1lTW9kZUJ1dHRvbihUaGVtZU1vZGVFbnVtIG1vZGUsIEljb25EYXRhIGljb24sIFN0cmluZyBsYWJlbCkgewogICAgcmV0dXJuIE9ic2VydmVyKAogICAgICBidWlsZGVyOiAoXykgewogICAgICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSB0aGVtZVN0b3JlLnRoZW1lTW9kZSA9PSBtb2RlOwogICAgICAgIAogICAgICAgIHJldHVybiBFeHBhbmRlZCgKICAgICAgICAgIGNoaWxkOiBHZXN0dXJlRGV0ZWN0b3IoCiAgICAgICAgICAgIG9uVGFwOiAoKSB7CiAgICAgICAgICAgICAgdGhlbWVTdG9yZS5zZXRUaGVtZU1vZGUobW9kZSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGNoaWxkOiBBbmltYXRlZENvbnRhaW5lcigKICAgICAgICAgICAgICBkdXJhdGlvbjogY29uc3QgRHVyYXRpb24obWlsbGlzZWNvbmRzOiAzMDApLAogICAgICAgICAgICAgIGN1cnZlOiBDdXJ2ZXMuZWFzZUluT3V0LAogICAgICAgICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuc3ltbWV0cmljKHZlcnRpY2FsOiAxNiksCiAgICAgICAgICAgICAgZGVjb3JhdGlvbjogQm94RGVjb3JhdGlvbigKICAgICAgICAgICAgICAgIGNvbG9yOiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgPyBjb250ZXh0LnRoZW1lLmNvbG9ycy5hY3RpdmVCdXR0b24KICAgICAgICAgICAgICAgICAgICA6IGNvbnRleHQudGhlbWUuY29sb3JzLnN1cmZhY2UsCiAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IEJvcmRlclJhZGl1cy5jaXJjdWxhcigxMiksCiAgICAgICAgICAgICAgICBib3hTaGFkb3c6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICA/IFsKICAgICAgICAgICAgICAgICAgICAgICAgQm94U2hhZG93KAogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBjb250ZXh0LnRoZW1lLmNvbG9ycy5hY3RpdmVCdXR0b24ud2l0aE9wYWNpdHkoMC4zKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBibHVyUmFkaXVzOiA4LAogICAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldDogY29uc3QgT2Zmc2V0KDAsIDMpLAogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgICAgIDogbnVsbCwKICAgICAgICAgICAgICApLAogICAgICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgICAgICBtYWluQXhpc1NpemU6IE1haW5BeGlzU2l6ZS5taW4sCiAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICBJY29uKAogICAgICAgICAgICAgICAgICAgIGljb24sCiAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgPyBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0V2hpdGUKICAgICAgICAgICAgICAgICAgICAgICAgOiBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0UHJpbWFyeSwKICAgICAgICAgICAgICAgICAgICBzaXplOiAyOCwKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgY29uc3QgU2l6ZWRCb3goaGVpZ2h0OiA4KSwKICAgICAgICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICAgICAgICBsYWJlbCwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogVGV4dFN0eWxlKAogICAgICAgICAgICAgICAgICAgICAgZm9udFNpemU6IDEyLAogICAgICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogRm9udFdlaWdodC53NTAwLAogICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICA/IGNvbnRleHQudGhlbWUuY29sb3JzLnRleHRXaGl0ZQogICAgICAgICAgICAgICAgICAgICAgICAgIDogY29udGV4dC50aGVtZS5jb2xvcnMudGV4dFByaW1hcnksCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICB0ZXh0QWxpZ246IFRleHRBbGlnbi5jZW50ZXIsCiAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICksCiAgICAgICAgICAgICksCiAgICAgICAgICApLAogICAgICAgICk7CiAgICAgIH0KICAgICk7CiAgfScnJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnUmVkdXgnOgogICAgICB0aGVtZUJ1dHRvbiA9ICcnJwogIFdpZGdldCBfYnVpbGRUaGVtZU1vZGVCdXR0b24oVGhlbWVNb2RlRW51bSBtb2RlLCBJY29uRGF0YSBpY29uLCBTdHJpbmcgbGFiZWwpIHsKICAgIHJldHVybiBTdG9yZUNvbm5lY3RvcjxBcHBTdGF0ZSwgVGhlbWVNb2RlRW51bT4oCiAgICAgIGNvbnZlcnRlcjogKHN0b3JlKSA9PiBzdG9yZS5zdGF0ZS50aGVtZVN0YXRlLnRoZW1lTW9kZSwKICAgICAgYnVpbGRlcjogKGNvbnRleHQsIGN1cnJlbnRUaGVtZSkgewogICAgICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSBjdXJyZW50VGhlbWUgPT0gbW9kZTsKICAgICAgICAKICAgICAgICByZXR1cm4gRXhwYW5kZWQoCiAgICAgICAgICBjaGlsZDogR2VzdHVyZURldGVjdG9yKAogICAgICAgICAgICBvblRhcDogKCkgewogICAgICAgICAgICAgIFN0b3JlUHJvdmlkZXIub2Y8QXBwU3RhdGU+KGNvbnRleHQpLmRpc3BhdGNoKFNldFRoZW1lQWN0aW9uKG1vZGUpKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgY2hpbGQ6IEFuaW1hdGVkQ29udGFpbmVyKAogICAgICAgICAgICAgIGR1cmF0aW9uOiBjb25zdCBEdXJhdGlvbihtaWxsaXNlY29uZHM6IDMwMCksCiAgICAgICAgICAgICAgY3VydmU6IEN1cnZlcy5lYXNlSW5PdXQsCiAgICAgICAgICAgICAgcGFkZGluZzogY29uc3QgRWRnZUluc2V0cy5zeW1tZXRyaWModmVydGljYWw6IDE2KSwKICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICA/IGNvbnRleHQudGhlbWUuY29sb3JzLmFjdGl2ZUJ1dHRvbgogICAgICAgICAgICAgICAgICAgIDogY29udGV4dC50aGVtZS5jb2xvcnMuc3VyZmFjZSwKICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogQm9yZGVyUmFkaXVzLmNpcmN1bGFyKDEyKSwKICAgICAgICAgICAgICAgIGJveFNoYWRvdzogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgID8gWwogICAgICAgICAgICAgICAgICAgICAgICBCb3hTaGFkb3coCiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGNvbnRleHQudGhlbWUuY29sb3JzLmFjdGl2ZUJ1dHRvbi53aXRoT3BhY2l0eSgwLjMpLAogICAgICAgICAgICAgICAgICAgICAgICAgIGJsdXJSYWRpdXM6IDgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBjb25zdCBPZmZzZXQoMCwgMyksCiAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICBdCiAgICAgICAgICAgICAgICAgICAgOiBudWxsLAogICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgY2hpbGQ6IENvbHVtbigKICAgICAgICAgICAgICAgIG1haW5BeGlzU2l6ZTogTWFpbkF4aXNTaXplLm1pbiwKICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICAgIEljb24oCiAgICAgICAgICAgICAgICAgICAgaWNvbiwKICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICA/IGNvbnRleHQudGhlbWUuY29sb3JzLnRleHRXaGl0ZQogICAgICAgICAgICAgICAgICAgICAgICA6IGNvbnRleHQudGhlbWUuY29sb3JzLnRleHRQcmltYXJ5LAogICAgICAgICAgICAgICAgICAgIHNpemU6IDI4LAogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICBjb25zdCBTaXplZEJveChoZWlnaHQ6IDgpLAogICAgICAgICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgICAgICAgIGxhYmVsLAogICAgICAgICAgICAgICAgICAgIHN0eWxlOiBUZXh0U3R5bGUoCiAgICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTIsCiAgICAgICAgICAgICAgICAgICAgICBmb250V2VpZ2h0OiBGb250V2VpZ2h0Lnc1MDAsCiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICAgID8gY29udGV4dC50aGVtZS5jb2xvcnMudGV4dFdoaXRlCiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0UHJpbWFyeSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIHRleHRBbGlnbjogVGV4dEFsaWduLmNlbnRlciwKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKSwKICAgICAgICAgICksCiAgICAgICAgKTsKICAgICAgfQogICAgKTsKICB9JycnOwogICAgICBicmVhazsKCiAgICBkZWZhdWx0OgogICAgICB0aGVtZUJ1dHRvbiA9ICcnJwogIFdpZGdldCBfYnVpbGRUaGVtZU1vZGVCdXR0b24oVGhlbWVNb2RlRW51bSBtb2RlLCBJY29uRGF0YSBpY29uLCBTdHJpbmcgbGFiZWwpIHsKICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSB0aGVtZU1hbmFnZXIuY3VycmVudFRoZW1lID09IG1vZGU7CgogICAgcmV0dXJuIEV4cGFuZGVkKAogICAgICBjaGlsZDogR2VzdHVyZURldGVjdG9yKAogICAgICAgIG9uVGFwOiAoKSB7CiAgICAgICAgICB0aGVtZU1hbmFnZXIuc2V0VGhlbWUobW9kZSk7CiAgICAgICAgfSwKICAgICAgICBjaGlsZDogQW5pbWF0ZWRDb250YWluZXIoCiAgICAgICAgICBkdXJhdGlvbjogY29uc3QgRHVyYXRpb24obWlsbGlzZWNvbmRzOiAzMDApLAogICAgICAgICAgY3VydmU6IEN1cnZlcy5lYXNlSW5PdXQsCiAgICAgICAgICBwYWRkaW5nOiBjb25zdCBFZGdlSW5zZXRzLnN5bW1ldHJpYyh2ZXJ0aWNhbDogMTYpLAogICAgICAgICAgZGVjb3JhdGlvbjogQm94RGVjb3JhdGlvbigKICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgID8gY29udGV4dC50aGVtZS5jb2xvcnMuYWN0aXZlQnV0dG9uCiAgICAgICAgICAgICAgICA6IGNvbnRleHQudGhlbWUuY29sb3JzLnN1cmZhY2UsCiAgICAgICAgICAgIGJvcmRlclJhZGl1czogQm9yZGVyUmFkaXVzLmNpcmN1bGFyKDEyKSwKICAgICAgICAgICAgYm94U2hhZG93OiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICA/IFsKICAgICAgICAgICAgICAgICAgICBCb3hTaGFkb3coCiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogY29udGV4dC50aGVtZS5jb2xvcnMuYWN0aXZlQnV0dG9uLndpdGhPcGFjaXR5KDAuMyksCiAgICAgICAgICAgICAgICAgICAgICBibHVyUmFkaXVzOiA4LAogICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBjb25zdCBPZmZzZXQoMCwgMyksCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgXQogICAgICAgICAgICAgICAgOiBudWxsLAogICAgICAgICAgKSwKICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgIG1haW5BeGlzU2l6ZTogTWFpbkF4aXNTaXplLm1pbiwKICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICBJY29uKAogICAgICAgICAgICAgICAgaWNvbiwKICAgICAgICAgICAgICAgIGNvbG9yOiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgPyBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0V2hpdGUKICAgICAgICAgICAgICAgICAgICA6IGNvbnRleHQudGhlbWUuY29sb3JzLnRleHRQcmltYXJ5LAogICAgICAgICAgICAgICAgc2l6ZTogMjgsCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBjb25zdCBTaXplZEJveChoZWlnaHQ6IDgpLAogICAgICAgICAgICAgIFRleHQoCiAgICAgICAgICAgICAgICBsYWJlbCwKICAgICAgICAgICAgICAgIHN0eWxlOiBUZXh0U3R5bGUoCiAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgZm9udFdlaWdodDogRm9udFdlaWdodC53NTAwLAogICAgICAgICAgICAgICAgICBjb2xvcjogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgPyBjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0V2hpdGUKICAgICAgICAgICAgICAgICAgICAgIDogY29udGV4dC50aGVtZS5jb2xvcnMudGV4dFByaW1hcnksCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgdGV4dEFsaWduOiBUZXh0QWxpZ24uY2VudGVyLAogICAgICAgICAgICAgICksCiAgICAgICAgICAgIF0sCiAgICAgICAgICApLAogICAgICAgICksCiAgICAgICksCiAgICApOwogIH0nJyc7CiAgfQoKICByZXR1cm4gJycnCiAgV2lkZ2V0IF9idWlsZFRoZW1lU2VjdGlvbigpIHsKICAgIHJldHVybiBDb2x1bW4oCiAgICAgIGNyb3NzQXhpc0FsaWdubWVudDogQ3Jvc3NBeGlzQWxpZ25tZW50LnN0YXJ0LAogICAgICBjaGlsZHJlbjogWwogICAgICAgIFJvdygKICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgIEljb24oCiAgICAgICAgICAgICAgSWNvbnMucGFsZXR0ZV9vdXRsaW5lZCwKICAgICAgICAgICAgICBjb2xvcjogY29udGV4dC50aGVtZS5jb2xvcnMuYWN0aXZlQnV0dG9uLAogICAgICAgICAgICAgIHNpemU6IDI2LAogICAgICAgICAgICApLAogICAgICAgICAgICBjb25zdCBTaXplZEJveCh3aWR0aDogMTIpLAogICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgIGNvbnRleHQubDEwbi50aGVtZSwKICAgICAgICAgICAgICBzdHlsZTogY29udGV4dC50aGVtZS5mb250cy5oZWFkZXJMYXJnZXIuY29weVdpdGgoCiAgICAgICAgICAgICAgICBmb250U2l6ZTogMjAsCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKSwKICAgICAgICAgIF0sCiAgICAgICAgKSwKICAgICAgICBjb25zdCBTaXplZEJveChoZWlnaHQ6IDE2KSwKICAgICAgICBDb250YWluZXIoCiAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICBjb2xvcjogY29udGV4dC50aGVtZS5jb2xvcnMuc3VyZmFjZUNhcmQsCiAgICAgICAgICAgIGJvcmRlclJhZGl1czogQm9yZGVyUmFkaXVzLmNpcmN1bGFyKDE2KSwKICAgICAgICAgICAgYm94U2hhZG93OiBbCiAgICAgICAgICAgICAgQm94U2hhZG93KAogICAgICAgICAgICAgICAgY29sb3I6IENvbG9ycy5ibGFjay53aXRoT3BhY2l0eSgwLjA1KSwKICAgICAgICAgICAgICAgIGJsdXJSYWRpdXM6IDEwLAogICAgICAgICAgICAgICAgb2Zmc2V0OiBjb25zdCBPZmZzZXQoMCwgNCksCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgXSwKICAgICAgICAgICksCiAgICAgICAgICBjaGlsZDogUGFkZGluZygKICAgICAgICAgICAgcGFkZGluZzogY29uc3QgRWRnZUluc2V0cy5hbGwoMTYuMCksCiAgICAgICAgICAgIGNoaWxkOiBSb3coCiAgICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICAgIF9idWlsZFRoZW1lTW9kZUJ1dHRvbigKICAgICAgICAgICAgICAgICAgVGhlbWVNb2RlRW51bS5saWdodCwKICAgICAgICAgICAgICAgICAgSWNvbnMubGlnaHRfbW9kZSwKICAgICAgICAgICAgICAgICAgY29udGV4dC5sMTBuLmxpZ2h0TW9kZSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBjb25zdCBTaXplZEJveCh3aWR0aDogMTIpLAogICAgICAgICAgICAgICAgX2J1aWxkVGhlbWVNb2RlQnV0dG9uKAogICAgICAgICAgICAgICAgICBUaGVtZU1vZGVFbnVtLmRhcmssCiAgICAgICAgICAgICAgICAgIEljb25zLmRhcmtfbW9kZSwKICAgICAgICAgICAgICAgICAgY29udGV4dC5sMTBuLmRhcmtNb2RlID8/ICdEYXJrIE1vZGUnLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGNvbnN0IFNpemVkQm94KHdpZHRoOiAxMiksCiAgICAgICAgICAgICAgICBfYnVpbGRUaGVtZU1vZGVCdXR0b24oCiAgICAgICAgICAgICAgICAgIFRoZW1lTW9kZUVudW0uc3lzdGVtLAogICAgICAgICAgICAgICAgICBJY29ucy5icmlnaHRuZXNzX2F1dG8sCiAgICAgICAgICAgICAgICAgIGNvbnRleHQubDEwbi5zeXN0ZW1Nb2RlLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBdLAogICAgICAgICAgICApLAogICAgICAgICAgKSwKICAgICAgICApLAogICAgICBdLAogICAgKTsKICB9CiAgCiAgJHRoZW1lQnV0dG9uCicnJzsKfQoKLy8vIEdlbmVyYXRlcyB0aGUgbm90aWZpY2F0aW9uIHNlY3Rpb24KU3RyaW5nIF9nZW5lcmF0ZU5vdGlmaWNhdGlvblNlY3Rpb24oCiAgICBib29sIGhhc1RoZW1lTWFuYWdlciwgYm9vbCBoYXNMb2NhbGl6YXRpb24pIHsKICBmaW5hbCBjb2xvclN0ciA9CiAgICAgIGhhc1RoZW1lTWFuYWdlciA/ICdjb250ZXh0LnRoZW1lLmNvbG9ycy5hY3RpdmVCdXR0b24nIDogJ0NvbG9ycy5ibHVlJzsKICBmaW5hbCB0aXRsZVN0eWxlID0gaGFzVGhlbWVNYW5hZ2VyCiAgICAgID8gJ2NvbnRleHQudGhlbWUuZm9udHMuaGVhZGVyTGFyZ2VyLmNvcHlXaXRoKGZvbnRTaXplOiAyMCknCiAgICAgIDogJ1RoZW1lLm9mKGNvbnRleHQpLnRleHRUaGVtZS50aXRsZUxhcmdlJzsKICBmaW5hbCBoZWFkZXJTdHlsZSA9IGhhc1RoZW1lTWFuYWdlcgogICAgICA/ICdjb250ZXh0LnRoZW1lLmZvbnRzLmhlYWRlclNtYWxsJwogICAgICA6ICdUaGVtZS5vZihjb250ZXh0KS50ZXh0VGhlbWUudGl0bGVNZWRpdW0nOwogIGZpbmFsIHN1YnRpdGxlU3R5bGUgPSBoYXNUaGVtZU1hbmFnZXIKICAgICAgPyAnY29udGV4dC50aGVtZS5mb250cy5zdWJIZWFkZXInCiAgICAgIDogJ1RoZW1lLm9mKGNvbnRleHQpLnRleHRUaGVtZS5ib2R5TWVkaXVtJzsKICBmaW5hbCBzdXJmYWNlQ29sb3IgPQogICAgICBoYXNUaGVtZU1hbmFnZXIgPyAnY29udGV4dC50aGVtZS5jb2xvcnMuc3VyZmFjZUNhcmQnIDogJ0NvbG9ycy5ncmV5WzIwMF0nOwogIGZpbmFsIHRleHRDb2xvciA9CiAgICAgIGhhc1RoZW1lTWFuYWdlciA/ICdjb250ZXh0LnRoZW1lLmNvbG9ycy50ZXh0UHJpbWFyeScgOiAnQ29sb3JzLmJsYWNrJzsKICBmaW5hbCBibHVlQ29sb3IgPQogICAgICBoYXNUaGVtZU1hbmFnZXIgPyAnY29udGV4dC50aGVtZS5jb2xvcnMuaWNvbkJsdWUnIDogJ0NvbG9ycy5ibHVlJzsKCiAgcmV0dXJuICcnJwogIFdpZGdldCBfYnVpbGROb3RpZmljYXRpb25TZWN0aW9uKCkgewogICAgcmV0dXJuIENvbHVtbigKICAgICAgY3Jvc3NBeGlzQWxpZ25tZW50OiBDcm9zc0F4aXNBbGlnbm1lbnQuc3RhcnQsCiAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgUm93KAogICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgSWNvbigKICAgICAgICAgICAgICBJY29ucy5ub3RpZmljYXRpb25zX291dGxpbmVkLAogICAgICAgICAgICAgIGNvbG9yOiAkY29sb3JTdHIsCiAgICAgICAgICAgICAgc2l6ZTogMjYsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIGNvbnN0IFNpemVkQm94KHdpZHRoOiAxMiksCiAgICAgICAgICAgIFRleHQoCiAgICAgICAgICAgICAgJHtoYXNMb2NhbGl6YXRpb24gPyAnY29udGV4dC5zdHJpbmdzLm5vdGlmaWNhdGlvbnMnIDogIidOb3RpZmljYXRpb25zJyJ9LAogICAgICAgICAgICAgIHN0eWxlOiAkdGl0bGVTdHlsZSwKICAgICAgICAgICAgKSwKICAgICAgICAgIF0sCiAgICAgICAgKSwKICAgICAgICBjb25zdCBTaXplZEJveChoZWlnaHQ6IDE2KSwKICAgICAgICBDb250YWluZXIoCiAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICBjb2xvcjogJHN1cmZhY2VDb2xvciwKICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBCb3JkZXJSYWRpdXMuY2lyY3VsYXIoMTYpLAogICAgICAgICAgICBib3hTaGFkb3c6IFsKICAgICAgICAgICAgICBCb3hTaGFkb3coCiAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JzLmJsYWNrLndpdGhPcGFjaXR5KDAuMDUpLAogICAgICAgICAgICAgICAgYmx1clJhZGl1czogMTAsCiAgICAgICAgICAgICAgICBvZmZzZXQ6IGNvbnN0IE9mZnNldCgwLCA0KSwKICAgICAgICAgICAgICApLAogICAgICAgICAgICBdLAogICAgICAgICAgKSwKICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgU3dpdGNoTGlzdFRpbGUoCiAgICAgICAgICAgICAgICB0aXRsZTogVGV4dCgKICAgICAgICAgICAgICAgICAgJHtoYXNMb2NhbGl6YXRpb24gPyAnY29udGV4dC5zdHJpbmdzLmVuYWJsZU5vdGlmaWNhdGlvbnMnIDogIidFbmFibGUgTm90aWZpY2F0aW9ucycifSwKICAgICAgICAgICAgICAgICAgc3R5bGU6ICRoZWFkZXJTdHlsZSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBzdWJ0aXRsZTogVGV4dCgKICAgICAgICAgICAgICAgICAgJHtoYXNMb2NhbGl6YXRpb24gPyAnY29udGV4dC5zdHJpbmdzLnJlY2VpdmVOb3RpZmljYXRpb25zJyA6ICInUmVjZWl2ZSBwdXNoIG5vdGlmaWNhdGlvbnMnIn0sCiAgICAgICAgICAgICAgICAgIHN0eWxlOiAkc3VidGl0bGVTdHlsZSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICB2YWx1ZTogbm90aWZpY2F0aW9uc0VuYWJsZWQsCiAgICAgICAgICAgICAgICBvbkNoYW5nZWQ6ICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICBzZXRTdGF0ZSgoKSB7CiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uc0VuYWJsZWQgPSB2YWx1ZTsKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgYWN0aXZlQ29sb3I6ICRjb2xvclN0ciwKICAgICAgICAgICAgICAgIGNvbnRlbnRQYWRkaW5nOiBjb25zdCBFZGdlSW5zZXRzLnN5bW1ldHJpYyhob3Jpem9udGFsOiAxNiksCiAgICAgICAgICAgICAgKSwKCiAgICAgICAgICAgICAgY29uc3QgRGl2aWRlcihoZWlnaHQ6IDEpLAoKICAgICAgICAgICAgICAvLyBUZXN0IG5vdGlmaWNhdGlvbiBidXR0b24KICAgICAgICAgICAgICBMaXN0VGlsZSgKICAgICAgICAgICAgICAgIGxlYWRpbmc6IEljb24oCiAgICAgICAgICAgICAgICAgIEljb25zLnNlbmRfb3V0bGluZWQsCiAgICAgICAgICAgICAgICAgIGNvbG9yOiAkYmx1ZUNvbG9yLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIHRpdGxlOiBUZXh0KAogICAgICAgICAgICAgICAgICAke2hhc0xvY2FsaXphdGlvbiA/ICdjb250ZXh0LnN0cmluZ3Muc2VuZFRlc3ROb3RpZmljYXRpb24nIDogIidTZW5kIFRlc3QgTm90aWZpY2F0aW9uJyJ9LAogICAgICAgICAgICAgICAgICBzdHlsZTogJGhlYWRlclN0eWxlLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIG9uVGFwOiBfc2VuZFRlc3ROb3RpZmljYXRpb24sCiAgICAgICAgICAgICAgICBjb250ZW50UGFkZGluZzogY29uc3QgRWRnZUluc2V0cy5zeW1tZXRyaWMoaG9yaXpvbnRhbDogMTYpLAogICAgICAgICAgICAgICksCgogICAgICAgICAgICAgIC8vIEZDTSB0b2tlbiAoY29sbGFwc2libGUpCiAgICAgICAgICAgICAgRXhwYW5zaW9uVGlsZSgKICAgICAgICAgICAgICAgIHRpdGxlOiBUZXh0KAogICAgICAgICAgICAgICAgICAke2hhc0xvY2FsaXphdGlvbiA/ICdjb250ZXh0LnN0cmluZ3MuZGV2aWNlVG9rZW4nIDogIidEZXZpY2UgVG9rZW4nIn0sCiAgICAgICAgICAgICAgICAgIHN0eWxlOiAkaGVhZGVyU3R5bGUsCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgbGVhZGluZzogSWNvbigKICAgICAgICAgICAgICAgICAgSWNvbnMudnBuX2tleV9vdXRsaW5lZCwKICAgICAgICAgICAgICAgICAgY29sb3I6ICRjb2xvclN0ciwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICBQYWRkaW5nKAogICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuZnJvbUxUUkIoMTYsIDAsIDE2LCAxNiksCiAgICAgICAgICAgICAgICAgICAgY2hpbGQ6IENvbnRhaW5lcigKICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuYWxsKDEyKSwKICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBkb3VibGUuaW5maW5pdHksCiAgICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJHtoYXNUaGVtZU1hbmFnZXIgPyAnY29udGV4dC50aGVtZS5jb2xvcnMuc3VyZmFjZScgOiAnQ29sb3JzLndoaXRlJ30sCiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogQm9yZGVyUmFkaXVzLmNpcmN1bGFyKDgpLAogICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IEJvcmRlci5hbGwoCiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICR7aGFzVGhlbWVNYW5hZ2VyID8gJ2NvbnRleHQudGhlbWUuY29sb3JzLmluYWN0aXZlQnV0dG9uJyA6ICdDb2xvcnMuZ3JleSd9LAogICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiAxLAogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgIGNoaWxkOiBTZWxlY3RhYmxlVGV4dCgKICAgICAgICAgICAgICAgICAgICAgICAgZmNtVG9rZW4gPz8gJHtoYXNMb2NhbGl6YXRpb24gPyAnY29udGV4dC5zdHJpbmdzLmxvYWRpbmcnIDogIidMb2FkaW5nLi4uJyJ9LAogICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogVGV4dFN0eWxlKAogICAgICAgICAgICAgICAgICAgICAgICAgIGZvbnRTaXplOiAxMiwKICAgICAgICAgICAgICAgICAgICAgICAgICBmb250RmFtaWx5OiAnbW9ub3NwYWNlJywKICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogZmNtVG9rZW4gPT0gJHtoYXNMb2NhbGl6YXRpb24gPyAnY29udGV4dC5zdHJpbmdzLm5vdEF2YWlsYWJsZScgOiAiJ05vdCBhdmFpbGFibGUnIn0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAke2hhc1RoZW1lTWFuYWdlciA/ICdjb250ZXh0LnRoZW1lLmNvbG9ycy5pY29uUmVkJyA6ICdDb2xvcnMucmVkJ30KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiAkdGV4dENvbG9yLAogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICApLAogICAgICAgICAgICBdLAogICAgICAgICAgKSwKICAgICAgICApLAogICAgICBdLAogICAgKTsKICB9CicnJzsKfQoKLy8vIFRoaXMgaXMgYSBjb250aW51YXRpb24gb2YgdGhlIEZsdXR0ZXIgQnVubnkgU2NyZWVuIEdlbmVyYXRvcgovLy8gRm9jdXNpbmcgb24gdGhlIGxhbmd1YWdlIHNlbGVjdGlvbiBmdW5jdGlvbmFsaXR5IGFuZCBuYXZpZ2F0aW9uIHVwZGF0ZQoKLy8vIEdlbmVyYXRlcyB0aGUgbGFuZ3VhZ2UgYWN0aW9uIGJ1dHRvbiBmb3IgdGhlIEFwcEJhcgpTdHJpbmcgX2dlbmVyYXRlTGFuZ3VhZ2VBY3Rpb25CdXR0b24oCiAgICBTdHJpbmcgc3RhdGVNYW5hZ2VtZW50LCBib29sIGhhc1RoZW1lTWFuYWdlcikgewogIGZpbmFsIFN0cmluZyB0aGVtZUNvbG9yID0KICAgICAgaGFzVGhlbWVNYW5hZ2VyID8gJ2NvbnRleHQudGhlbWUuY29sb3JzLnRleHRQcmltYXJ5JyA6ICdDb2xvcnMuYmxhY2snOwoKICBzd2l0Y2ggKHN0YXRlTWFuYWdlbWVudCkgewogICAgY2FzZSAnQkxvQyc6CiAgICBjYXNlICdCbG9jJzoKICAgICAgcmV0dXJuICcnJwogICAgICAgIGFjdGlvbnM6IFsKICAgICAgICAgIEJsb2NCdWlsZGVyPExvY2FsZUJsb2MsIExvY2FsZVN0YXRlPigKICAgICAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHN0YXRlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFRleHRCdXR0b24uaWNvbigKICAgICAgICAgICAgICAgIG9uUHJlc3NlZDogX3Nob3dMYW5ndWFnZVBpY2tlciwKICAgICAgICAgICAgICAgIGljb246IFRleHQoCiAgICAgICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZUZsYWcoc3RhdGUubG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDIwKSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBsYWJlbDogY29uc3QgSWNvbihJY29ucy5hcnJvd19kcm9wX2Rvd24sIHNpemU6IDIwKSwKICAgICAgICAgICAgICAgIHN0eWxlOiBUZXh0QnV0dG9uLnN0eWxlRnJvbSgKICAgICAgICAgICAgICAgICAgZm9yZWdyb3VuZENvbG9yOiAkdGhlbWVDb2xvciwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICksCiAgICAgICAgXSwnJyc7CgogICAgY2FzZSAnUHJvdmlkZXInOgogICAgICByZXR1cm4gJycnCiAgICAgICAgYWN0aW9uczogWwogICAgICAgICAgQ29uc3VtZXI8TG9jYWxpemF0aW9uUHJvdmlkZXI+KAogICAgICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgcHJvdmlkZXIsIF8pIHsKICAgICAgICAgICAgICByZXR1cm4gVGV4dEJ1dHRvbi5pY29uKAogICAgICAgICAgICAgICAgb25QcmVzc2VkOiBfc2hvd0xhbmd1YWdlUGlja2VyLAogICAgICAgICAgICAgICAgaWNvbjogVGV4dCgKICAgICAgICAgICAgICAgICAgTG9jYWxpemF0aW9uLmdldExhbmd1YWdlRmxhZyhwcm92aWRlci5sb2NhbGUubGFuZ3VhZ2VDb2RlKSwKICAgICAgICAgICAgICAgICAgc3R5bGU6IGNvbnN0IFRleHRTdHlsZShmb250U2l6ZTogMjApLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGxhYmVsOiBjb25zdCBJY29uKEljb25zLmFycm93X2Ryb3BfZG93biwgc2l6ZTogMjApLAogICAgICAgICAgICAgICAgc3R5bGU6IFRleHRCdXR0b24uc3R5bGVGcm9tKAogICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9LAogICAgICAgICAgKSwKICAgICAgICBdLCcnJzsKCiAgICBjYXNlICdSaXZlcnBvZCc6CiAgICAgIHJldHVybiAnJycKICAgICAgICBhY3Rpb25zOiBbCiAgICAgICAgICBDb25zdW1lcigKICAgICAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHJlZiwgXykgewogICAgICAgICAgICAgIGZpbmFsIGxvY2FsZSA9IHJlZi53YXRjaChsb2NhbGVQcm92aWRlcik7CiAgICAgICAgICAgICAgcmV0dXJuIFRleHRCdXR0b24uaWNvbigKICAgICAgICAgICAgICAgIG9uUHJlc3NlZDogX3Nob3dMYW5ndWFnZVBpY2tlciwKICAgICAgICAgICAgICAgIGljb246IFRleHQoCiAgICAgICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZUZsYWcobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDIwKSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBsYWJlbDogY29uc3QgSWNvbihJY29ucy5hcnJvd19kcm9wX2Rvd24sIHNpemU6IDIwKSwKICAgICAgICAgICAgICAgIHN0eWxlOiBUZXh0QnV0dG9uLnN0eWxlRnJvbSgKICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICksCiAgICAgICAgXSwnJyc7CgogICAgY2FzZSAnR2V0WCc6CiAgICAgIHJldHVybiAnJycKICAgICAgICBhY3Rpb25zOiBbCiAgICAgICAgICBHZXRCdWlsZGVyPExvY2FsaXphdGlvbkNvbnRyb2xsZXI+KAogICAgICAgICAgICBidWlsZGVyOiAoY29udHJvbGxlcikgewogICAgICAgICAgICAgIHJldHVybiBUZXh0QnV0dG9uLmljb24oCiAgICAgICAgICAgICAgICBvblByZXNzZWQ6IF9zaG93TGFuZ3VhZ2VQaWNrZXIsCiAgICAgICAgICAgICAgICBpY29uOiBUZXh0KAogICAgICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VGbGFnKGNvbnRyb2xsZXIubG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDIwKSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBsYWJlbDogY29uc3QgSWNvbihJY29ucy5hcnJvd19kcm9wX2Rvd24sIHNpemU6IDIwKSwKICAgICAgICAgICAgICAgIHN0eWxlOiBUZXh0QnV0dG9uLnN0eWxlRnJvbSgKICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICksCiAgICAgICAgXSwnJyc7CgogICAgY2FzZSAnTW9iWCc6CiAgICAgIHJldHVybiAnJycKICAgICAgICBhY3Rpb25zOiBbCiAgICAgICAgICBPYnNlcnZlcigKICAgICAgICAgICAgYnVpbGRlcjogKF8pIHsKICAgICAgICAgICAgICByZXR1cm4gVGV4dEJ1dHRvbi5pY29uKAogICAgICAgICAgICAgICAgb25QcmVzc2VkOiBfc2hvd0xhbmd1YWdlUGlja2VyLAogICAgICAgICAgICAgICAgaWNvbjogVGV4dCgKICAgICAgICAgICAgICAgICAgTG9jYWxpemF0aW9uLmdldExhbmd1YWdlRmxhZyhsb2NhbGl6YXRpb25TdG9yZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgICAgICBzdHlsZTogY29uc3QgVGV4dFN0eWxlKGZvbnRTaXplOiAyMCksCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgbGFiZWw6IGNvbnN0IEljb24oSWNvbnMuYXJyb3dfZHJvcF9kb3duLCBzaXplOiAyMCksCiAgICAgICAgICAgICAgICBzdHlsZTogVGV4dEJ1dHRvbi5zdHlsZUZyb20oCiAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICApLAogICAgICAgIF0sJycnOwoKICAgIGNhc2UgJ1JlZHV4JzoKICAgICAgcmV0dXJuICcnJwogICAgICAgIGFjdGlvbnM6IFsKICAgICAgICAgIFN0b3JlQ29ubmVjdG9yPEFwcFN0YXRlLCBMb2NhbGU+KAogICAgICAgICAgICBjb252ZXJ0ZXI6IChzdG9yZSkgPT4gc3RvcmUuc3RhdGUubG9jYWxlU3RhdGUubG9jYWxlLAogICAgICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgbG9jYWxlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFRleHRCdXR0b24uaWNvbigKICAgICAgICAgICAgICAgIG9uUHJlc3NlZDogX3Nob3dMYW5ndWFnZVBpY2tlciwKICAgICAgICAgICAgICAgIGljb246IFRleHQoCiAgICAgICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZUZsYWcobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDIwKSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICBsYWJlbDogY29uc3QgSWNvbihJY29ucy5hcnJvd19kcm9wX2Rvd24sIHNpemU6IDIwKSwKICAgICAgICAgICAgICAgIHN0eWxlOiBUZXh0QnV0dG9uLnN0eWxlRnJvbSgKICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICksCiAgICAgICAgXSwnJyc7CgogICAgZGVmYXVsdDoKICAgICAgcmV0dXJuICcnJwogICAgICAgIGFjdGlvbnM6IFsKICAgICAgICAgIFN0YXRlZnVsQnVpbGRlcigKICAgICAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHNldFN0YXRlKSB7CiAgICAgICAgICAgICAgcmV0dXJuIFRleHRCdXR0b24uaWNvbigKICAgICAgICAgICAgICAgIG9uUHJlc3NlZDogX3Nob3dMYW5ndWFnZVBpY2tlciwKICAgICAgICAgICAgICAgIGljb246IFRleHQoCiAgICAgICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZUZsYWcobG9jYWxlTWFuYWdlci5sb2NhbGUubGFuZ3VhZ2VDb2RlKSwKICAgICAgICAgICAgICAgICAgc3R5bGU6IGNvbnN0IFRleHRTdHlsZShmb250U2l6ZTogMjApLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGxhYmVsOiBjb25zdCBJY29uKEljb25zLmFycm93X2Ryb3BfZG93biwgc2l6ZTogMjApLAogICAgICAgICAgICAgICAgc3R5bGU6IFRleHRCdXR0b24uc3R5bGVGcm9tKAogICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9LAogICAgICAgICAgKSwKICAgICAgICBdLCcnJzsKICB9Cn0KCi8vLyBHZW5lcmF0ZXMgdGhlIGxhbmd1YWdlIHNlY3Rpb24gY2FsbCBiYXNlZCBvbiBzdGF0ZSBtYW5hZ2VtZW50ClN0cmluZyBfZ2VuZXJhdGVMYW5ndWFnZVNlY3Rpb25DYWxsKFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQpIHsKICBzd2l0Y2ggKHN0YXRlTWFuYWdlbWVudCkgewogICAgY2FzZSAnQkxvQyc6CiAgICBjYXNlICdCbG9jJzoKICAgICAgcmV0dXJuICcnJwogICAgICBCbG9jQnVpbGRlcjxMb2NhbGVCbG9jLCBMb2NhbGVTdGF0ZT4oCiAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHN0YXRlKSB7CiAgICAgICAgICByZXR1cm4gX2J1aWxkTGFuZ3VhZ2VTZWN0aW9uKHN0YXRlLmxvY2FsZSk7CiAgICAgICAgfSwKICAgICAgKSwnJyc7CgogICAgY2FzZSAnUHJvdmlkZXInOgogICAgICByZXR1cm4gJycnCiAgICAgIENvbnN1bWVyPExvY2FsaXphdGlvblByb3ZpZGVyPigKICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgcHJvdmlkZXIsIF8pIHsKICAgICAgICAgIHJldHVybiBfYnVpbGRMYW5ndWFnZVNlY3Rpb24ocHJvdmlkZXIubG9jYWxlKTsKICAgICAgICB9LAogICAgICApLCcnJzsKCiAgICBjYXNlICdSaXZlcnBvZCc6CiAgICAgIHJldHVybiAnJycKICAgICAgQ29uc3VtZXIoCiAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHJlZiwgXykgewogICAgICAgICAgZmluYWwgbG9jYWxlID0gcmVmLndhdGNoKGxvY2FsZVByb3ZpZGVyKTsKICAgICAgICAgIHJldHVybiBfYnVpbGRMYW5ndWFnZVNlY3Rpb24obG9jYWxlKTsKICAgICAgICB9LAogICAgICApLCcnJzsKCiAgICBjYXNlICdHZXRYJzoKICAgICAgcmV0dXJuICcnJwogICAgICBHZXRCdWlsZGVyPExvY2FsaXphdGlvbkNvbnRyb2xsZXI+KAogICAgICAgIGJ1aWxkZXI6IChjb250cm9sbGVyKSB7CiAgICAgICAgICByZXR1cm4gX2J1aWxkTGFuZ3VhZ2VTZWN0aW9uKGNvbnRyb2xsZXIubG9jYWxlKTsKICAgICAgICB9LAogICAgICApLCcnJzsKCiAgICBjYXNlICdNb2JYJzoKICAgICAgcmV0dXJuICcnJwogICAgICBPYnNlcnZlcigKICAgICAgICBidWlsZGVyOiAoXykgewogICAgICAgICAgcmV0dXJuIF9idWlsZExhbmd1YWdlU2VjdGlvbihsb2NhbGl6YXRpb25TdG9yZS5sb2NhbGUpOwogICAgICAgIH0sCiAgICAgICksJycnOwoKICAgIGNhc2UgJ1JlZHV4JzoKICAgICAgcmV0dXJuICcnJwogICAgICBTdG9yZUNvbm5lY3RvcjxBcHBTdGF0ZSwgTG9jYWxlPigKICAgICAgICBjb252ZXJ0ZXI6IChzdG9yZSkgPT4gc3RvcmUuc3RhdGUubG9jYWxlU3RhdGUubG9jYWxlLAogICAgICAgIGJ1aWxkZXI6IChjb250ZXh0LCBsb2NhbGUpIHsKICAgICAgICAgIHJldHVybiBfYnVpbGRMYW5ndWFnZVNlY3Rpb24obG9jYWxlKTsKICAgICAgICB9LAogICAgICApLCcnJzsKCiAgICBkZWZhdWx0OgogICAgICByZXR1cm4gJycnCiAgICAgIFN0YXRlZnVsQnVpbGRlcigKICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgc2V0U3RhdGUpIHsKICAgICAgICAgIGxvY2FsZU1hbmFnZXIuYWRkTGlzdGVuZXIoKGxvY2FsZSkgPT4gc2V0U3RhdGUoKCkge30pKTsKICAgICAgICAgIHJldHVybiBfYnVpbGRMYW5ndWFnZVNlY3Rpb24obG9jYWxlTWFuYWdlci5sb2NhbGUpOwogICAgICAgIH0sCiAgICAgICksJycnOwogIH0KfQoKLy8vIEdlbmVyYXRlcyB0aGUgbGFuZ3VhZ2Ugc2VjdGlvbiB3aWRnZXQKU3RyaW5nIF9nZW5lcmF0ZUxhbmd1YWdlU2VjdGlvbihTdHJpbmcgc3RhdGVNYW5hZ2VtZW50LCBib29sIGhhc1RoZW1lTWFuYWdlcikgewogIGZpbmFsIHN1cmZhY2VDb2xvciA9CiAgICAgIGhhc1RoZW1lTWFuYWdlciA/ICdjb250ZXh0LnRoZW1lLmNvbG9ycy5zdXJmYWNlQ2FyZCcgOiAnQ29sb3JzLmdyZXlbMjAwXSc7CiAgZmluYWwgdGl0bGVTdHlsZSA9IGhhc1RoZW1lTWFuYWdlcgogICAgICA/ICdjb250ZXh0LnRoZW1lLmZvbnRzLmhlYWRlckxhcmdlci5jb3B5V2l0aChmb250U2l6ZTogMjApJwogICAgICA6ICdUaGVtZS5vZihjb250ZXh0KS50ZXh0VGhlbWUudGl0bGVMYXJnZSc7CiAgZmluYWwgaGVhZGVyU3R5bGUgPSBoYXNUaGVtZU1hbmFnZXIKICAgICAgPyAnY29udGV4dC50aGVtZS5mb250cy5oZWFkZXJTbWFsbCcKICAgICAgOiAnVGhlbWUub2YoY29udGV4dCkudGV4dFRoZW1lLnRpdGxlTWVkaXVtJzsKICBmaW5hbCBjb2xvclN0ciA9CiAgICAgIGhhc1RoZW1lTWFuYWdlciA/ICdjb250ZXh0LnRoZW1lLmNvbG9ycy5hY3RpdmVCdXR0b24nIDogJ0NvbG9ycy5ibHVlJzsKCiAgU3RyaW5nIGxhbmd1YWdlVGlsZTsKCiAgc3dpdGNoIChzdGF0ZU1hbmFnZW1lbnQpIHsKICAgIGNhc2UgJ0Jsb2MnOgogICAgY2FzZSAnQkxvQyc6CiAgICAgIGxhbmd1YWdlVGlsZSA9ICcnJwogICAgICByZXR1cm4gUmFkaW9MaXN0VGlsZTxTdHJpbmc+KAogICAgICAgIHRpdGxlOiBSb3coCiAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZUZsYWcobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgc3R5bGU6IGNvbnN0IFRleHRTdHlsZShmb250U2l6ZTogMjIpLAogICAgICAgICAgICApLAogICAgICAgICAgICBjb25zdCBTaXplZEJveCh3aWR0aDogMTIpLAogICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZU5hbWUobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgc3R5bGU6ICRoZWFkZXJTdHlsZSwKICAgICAgICAgICAgKSwKICAgICAgICAgIF0sCiAgICAgICAgKSwKICAgICAgICB2YWx1ZTogbG9jYWxlLmxhbmd1YWdlQ29kZSwKICAgICAgICBncm91cFZhbHVlOiBjdXJyZW50TG9jYWxlLmxhbmd1YWdlQ29kZSwKICAgICAgICBvbkNoYW5nZWQ6ICh2YWx1ZSkgewogICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICAgICAgY29udGV4dC5yZWFkPExvY2FsZUJsb2M+KCkuYWRkKENoYW5nZUxvY2FsZUV2ZW50KHZhbHVlKSk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhY3RpdmVDb2xvcjogJGNvbG9yU3RyLAogICAgICAgIGNvbnRlbnRQYWRkaW5nOiBjb25zdCBFZGdlSW5zZXRzLnN5bW1ldHJpYyhob3Jpem9udGFsOiAxNiksCiAgICAgICk7JycnOwogICAgICBicmVhazsKCiAgICBjYXNlICdQcm92aWRlcic6CiAgICAgIGxhbmd1YWdlVGlsZSA9ICcnJwogICAgICByZXR1cm4gUmFkaW9MaXN0VGlsZTxTdHJpbmc+KAogICAgICAgIHRpdGxlOiBSb3coCiAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZUZsYWcobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgc3R5bGU6IGNvbnN0IFRleHRTdHlsZShmb250U2l6ZTogMjIpLAogICAgICAgICAgICApLAogICAgICAgICAgICBjb25zdCBTaXplZEJveCh3aWR0aDogMTIpLAogICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZU5hbWUobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgc3R5bGU6ICRoZWFkZXJTdHlsZSwKICAgICAgICAgICAgKSwKICAgICAgICAgIF0sCiAgICAgICAgKSwKICAgICAgICB2YWx1ZTogbG9jYWxlLmxhbmd1YWdlQ29kZSwKICAgICAgICBncm91cFZhbHVlOiBjdXJyZW50TG9jYWxlLmxhbmd1YWdlQ29kZSwKICAgICAgICBvbkNoYW5nZWQ6ICh2YWx1ZSkgewogICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICAgICAgY29udGV4dC5jaGFuZ2VMb2NhbGUodmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYWN0aXZlQ29sb3I6ICRjb2xvclN0ciwKICAgICAgICBjb250ZW50UGFkZGluZzogY29uc3QgRWRnZUluc2V0cy5zeW1tZXRyaWMoaG9yaXpvbnRhbDogMTYpLAogICAgICApOycnJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnUml2ZXJwb2QnOgogICAgICBsYW5ndWFnZVRpbGUgPSAnJycKICAgICAgcmV0dXJuIFJhZGlvTGlzdFRpbGU8U3RyaW5nPigKICAgICAgICB0aXRsZTogUm93KAogICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VGbGFnKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDIyKSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgY29uc3QgU2l6ZWRCb3god2lkdGg6IDEyKSwKICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VOYW1lKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgIHN0eWxlOiAkaGVhZGVyU3R5bGUsCiAgICAgICAgICAgICksCiAgICAgICAgICBdLAogICAgICAgICksCiAgICAgICAgdmFsdWU6IGxvY2FsZS5sYW5ndWFnZUNvZGUsCiAgICAgICAgZ3JvdXBWYWx1ZTogY3VycmVudExvY2FsZS5sYW5ndWFnZUNvZGUsCiAgICAgICAgb25DaGFuZ2VkOiAodmFsdWUpIHsKICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgICAgIGNvbnRleHQucmVhZChsb2NhbGVQcm92aWRlci5ub3RpZmllcikuc2V0TG9jYWxlKHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFjdGl2ZUNvbG9yOiAkY29sb3JTdHIsCiAgICAgICAgY29udGVudFBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuc3ltbWV0cmljKGhvcml6b250YWw6IDE2KSwKICAgICAgKTsnJyc7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ0dldFgnOgogICAgICBsYW5ndWFnZVRpbGUgPSAnJycKICAgICAgcmV0dXJuIFJhZGlvTGlzdFRpbGU8U3RyaW5nPigKICAgICAgICB0aXRsZTogUm93KAogICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VGbGFnKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDIyKSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgY29uc3QgU2l6ZWRCb3god2lkdGg6IDEyKSwKICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VOYW1lKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgIHN0eWxlOiAkaGVhZGVyU3R5bGUsCiAgICAgICAgICAgICksCiAgICAgICAgICBdLAogICAgICAgICksCiAgICAgICAgdmFsdWU6IGxvY2FsZS5sYW5ndWFnZUNvZGUsCiAgICAgICAgZ3JvdXBWYWx1ZTogY3VycmVudExvY2FsZS5sYW5ndWFnZUNvZGUsCiAgICAgICAgb25DaGFuZ2VkOiAodmFsdWUpIHsKICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgICAgIEdldC5maW5kPExvY2FsaXphdGlvbkNvbnRyb2xsZXI+KCkuc2V0TG9jYWxlKHZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGFjdGl2ZUNvbG9yOiAkY29sb3JTdHIsCiAgICAgICAgY29udGVudFBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuc3ltbWV0cmljKGhvcml6b250YWw6IDE2KSwKICAgICAgKTsnJyc7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ01vYlgnOgogICAgICBsYW5ndWFnZVRpbGUgPSAnJycKICAgICAgcmV0dXJuIFJhZGlvTGlzdFRpbGU8U3RyaW5nPigKICAgICAgICB0aXRsZTogUm93KAogICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VGbGFnKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDIyKSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgY29uc3QgU2l6ZWRCb3god2lkdGg6IDEyKSwKICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VOYW1lKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgIHN0eWxlOiAkaGVhZGVyU3R5bGUsCiAgICAgICAgICAgICksCiAgICAgICAgICBdLAogICAgICAgICksCiAgICAgICAgdmFsdWU6IGxvY2FsZS5sYW5ndWFnZUNvZGUsCiAgICAgICAgZ3JvdXBWYWx1ZTogY3VycmVudExvY2FsZS5sYW5ndWFnZUNvZGUsCiAgICAgICAgb25DaGFuZ2VkOiAodmFsdWUpIHsKICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgICAgIGxvY2FsaXphdGlvblN0b3JlLnNldExvY2FsZSh2YWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhY3RpdmVDb2xvcjogJGNvbG9yU3RyLAogICAgICAgIGNvbnRlbnRQYWRkaW5nOiBjb25zdCBFZGdlSW5zZXRzLnN5bW1ldHJpYyhob3Jpem9udGFsOiAxNiksCiAgICAgICk7JycnOwogICAgICBicmVhazsKCiAgICBjYXNlICdSZWR1eCc6CiAgICAgIGxhbmd1YWdlVGlsZSA9ICcnJwogICAgICByZXR1cm4gUmFkaW9MaXN0VGlsZTxTdHJpbmc+KAogICAgICAgIHRpdGxlOiBSb3coCiAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZUZsYWcobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgc3R5bGU6IGNvbnN0IFRleHRTdHlsZShmb250U2l6ZTogMjIpLAogICAgICAgICAgICApLAogICAgICAgICAgICBjb25zdCBTaXplZEJveCh3aWR0aDogMTIpLAogICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZU5hbWUobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgc3R5bGU6ICRoZWFkZXJTdHlsZSwKICAgICAgICAgICAgKSwKICAgICAgICAgIF0sCiAgICAgICAgKSwKICAgICAgICB2YWx1ZTogbG9jYWxlLmxhbmd1YWdlQ29kZSwKICAgICAgICBncm91cFZhbHVlOiBjdXJyZW50TG9jYWxlLmxhbmd1YWdlQ29kZSwKICAgICAgICBvbkNoYW5nZWQ6ICh2YWx1ZSkgewogICAgICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICAgICAgU3RvcmVQcm92aWRlci5vZjxBcHBTdGF0ZT4oY29udGV4dCkuZGlzcGF0Y2goc2V0TG9jYWxlKHZhbHVlKSk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBhY3RpdmVDb2xvcjogJGNvbG9yU3RyLAogICAgICAgIGNvbnRlbnRQYWRkaW5nOiBjb25zdCBFZGdlSW5zZXRzLnN5bW1ldHJpYyhob3Jpem9udGFsOiAxNiksCiAgICAgICk7JycnOwogICAgICBicmVhazsKCiAgICBkZWZhdWx0OgogICAgICBsYW5ndWFnZVRpbGUgPSAnJycKICAgICAgcmV0dXJuIFJhZGlvTGlzdFRpbGU8U3RyaW5nPigKICAgICAgICB0aXRsZTogUm93KAogICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VGbGFnKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDIyKSwKICAgICAgICAgICAgKSwKICAgICAgICAgICAgY29uc3QgU2l6ZWRCb3god2lkdGg6IDEyKSwKICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VOYW1lKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgIHN0eWxlOiAkaGVhZGVyU3R5bGUsCiAgICAgICAgICAgICksCiAgICAgICAgICBdLAogICAgICAgICksCiAgICAgICAgdmFsdWU6IGxvY2FsZS5sYW5ndWFnZUNvZGUsCiAgICAgICAgZ3JvdXBWYWx1ZTogY3VycmVudExvY2FsZS5sYW5ndWFnZUNvZGUsCiAgICAgICAgb25DaGFuZ2VkOiAodmFsdWUpIHsKICAgICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgICAgIGxvY2FsZU1hbmFnZXIuc2V0TG9jYWxlQnlMYW5ndWFnZUNvZGUodmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgYWN0aXZlQ29sb3I6ICRjb2xvclN0ciwKICAgICAgICBjb250ZW50UGFkZGluZzogY29uc3QgRWRnZUluc2V0cy5zeW1tZXRyaWMoaG9yaXpvbnRhbDogMTYpLAogICAgICApOycnJzsKICB9CgogIHJldHVybiAnJycKICBXaWRnZXQgX2J1aWxkTGFuZ3VhZ2VTZWN0aW9uKExvY2FsZSBjdXJyZW50TG9jYWxlKSB7CiAgICByZXR1cm4gQ29sdW1uKAogICAgICBjcm9zc0F4aXNBbGlnbm1lbnQ6IENyb3NzQXhpc0FsaWdubWVudC5zdGFydCwKICAgICAgY2hpbGRyZW46IFsKICAgICAgICBSb3coCiAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICBJY29uKAogICAgICAgICAgICAgIEljb25zLmxhbmd1YWdlX291dGxpbmVkLAogICAgICAgICAgICAgIGNvbG9yOiAkY29sb3JTdHIsCiAgICAgICAgICAgICAgc2l6ZTogMjYsCiAgICAgICAgICAgICksCiAgICAgICAgICAgIGNvbnN0IFNpemVkQm94KHdpZHRoOiAxMiksCiAgICAgICAgICAgIFRleHQoCiAgICAgICAgICAgICAgY29udGV4dC5zdHJpbmdzLmxhbmd1YWdlLAogICAgICAgICAgICAgIHN0eWxlOiAkdGl0bGVTdHlsZSwKICAgICAgICAgICAgKSwKICAgICAgICAgIF0sCiAgICAgICAgKSwKICAgICAgICBjb25zdCBTaXplZEJveChoZWlnaHQ6IDE2KSwKICAgICAgICBDb250YWluZXIoCiAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICBjb2xvcjogJHN1cmZhY2VDb2xvciwKICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBCb3JkZXJSYWRpdXMuY2lyY3VsYXIoMTYpLAogICAgICAgICAgICBib3hTaGFkb3c6IFsKICAgICAgICAgICAgICBCb3hTaGFkb3coCiAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JzLmJsYWNrLndpdGhPcGFjaXR5KDAuMDUpLAogICAgICAgICAgICAgICAgYmx1clJhZGl1czogMTAsCiAgICAgICAgICAgICAgICBvZmZzZXQ6IGNvbnN0IE9mZnNldCgwLCA0KSwKICAgICAgICAgICAgICApLAogICAgICAgICAgICBdLAogICAgICAgICAgKSwKICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgIGNoaWxkcmVuOiBMb2NhbGl6YXRpb24uc3VwcG9ydGVkTG9jYWxlcy5tYXAoKGxvY2FsZSkgewogICAgICAgICAgICAgICRsYW5ndWFnZVRpbGUKICAgICAgICAgICAgfSkudG9MaXN0KCksCiAgICAgICAgICApLAogICAgICAgICksCiAgICAgIF0sCiAgICApOwogIH0KJycnOwp9CgovLy8gR2VuZXJhdGUgdGhlIGxhbmd1YWdlIHBpY2tlciBib3R0b20gc2hlZXQKU3RyaW5nIF9nZW5lcmF0ZUxhbmd1YWdlUGlja2VyTWV0aG9kKAogICAgYm9vbCBoYXNUaGVtZU1hbmFnZXIsIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQpIHsKICBmaW5hbCBzdXJmYWNlQ29sb3IgPQogICAgICBoYXNUaGVtZU1hbmFnZXIgPyAnY29udGV4dC50aGVtZS5jb2xvcnMuc3VyZmFjZUNhcmQnIDogJ0NvbG9ycy5ncmV5WzIwMF0nOwogIGZpbmFsIHRpdGxlU3R5bGUgPSBoYXNUaGVtZU1hbmFnZXIKICAgICAgPyAnY29udGV4dC50aGVtZS5mb250cy5oZWFkZXJMYXJnZXIuY29weVdpdGgoZm9udFNpemU6IDIwKScKICAgICAgOiAnVGhlbWUub2YoY29udGV4dCkudGV4dFRoZW1lLnRpdGxlTGFyZ2UnOwogIGZpbmFsIGhlYWRlclN0eWxlID0gaGFzVGhlbWVNYW5hZ2VyCiAgICAgID8gJ2NvbnRleHQudGhlbWUuZm9udHMuaGVhZGVyU21hbGwnCiAgICAgIDogJ1RoZW1lLm9mKGNvbnRleHQpLnRleHRUaGVtZS50aXRsZU1lZGl1bSc7CiAgZmluYWwgY29sb3JTdHIgPQogICAgICBoYXNUaGVtZU1hbmFnZXIgPyAnY29udGV4dC50aGVtZS5jb2xvcnMuYWN0aXZlQnV0dG9uJyA6ICdDb2xvcnMuYmx1ZSc7CgogIFN0cmluZyBsYW5ndWFnZUxpc3RUaWxlczsKCiAgc3dpdGNoIChzdGF0ZU1hbmFnZW1lbnQpIHsKICAgIGNhc2UgJ0Jsb2MnOgogICAgY2FzZSAnQkxvQyc6CiAgICAgIGxhbmd1YWdlTGlzdFRpbGVzID0gJycnCiAgICAgICAgcmV0dXJuIEJsb2NCdWlsZGVyPExvY2FsZUJsb2MsIExvY2FsZVN0YXRlPigKICAgICAgICAgIGJ1aWxkZXI6IChjb250ZXh0LCBzdGF0ZSkgewogICAgICAgICAgICByZXR1cm4gQ29udGFpbmVyKAogICAgICAgICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuc3ltbWV0cmljKHZlcnRpY2FsOiAyNCwgaG9yaXpvbnRhbDogMTYpLAogICAgICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgICAgICBtYWluQXhpc1NpemU6IE1haW5BeGlzU2l6ZS5taW4sCiAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICBDb250YWluZXIoCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNCwKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IGNvbnN0IEVkZ2VJbnNldHMub25seShib3R0b206IDIwKSwKICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9ycy5ncmV5WzMwMF0sCiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IEJvcmRlclJhZGl1cy5jaXJjdWxhcigyKSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3RyaW5ncy5sYW5ndWFnZSwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogJHRpdGxlU3R5bGUsCiAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgIGNvbnN0IFNpemVkQm94KGhlaWdodDogMjApLAogICAgICAgICAgICAgICAgICAuLi5Mb2NhbGl6YXRpb24uc3VwcG9ydGVkTG9jYWxlcy5tYXAoKGxvY2FsZSkgewogICAgICAgICAgICAgICAgICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSBzdGF0ZS5sb2NhbGUubGFuZ3VhZ2VDb2RlID09IGxvY2FsZS5sYW5ndWFnZUNvZGU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExpc3RUaWxlKAogICAgICAgICAgICAgICAgICAgICAgbGVhZGluZzogQ29udGFpbmVyKAogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudDogQWxpZ25tZW50LmNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgZGVjb3JhdGlvbjogQm94RGVjb3JhdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICRjb2xvclN0ci53aXRoT3BhY2l0eSgwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogQ29sb3JzLnRyYW5zcGFyZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiBCb3hTaGFwZS5jaXJjbGUsCiAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkOiBUZXh0KAogICAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZUZsYWcobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGNvbnN0IFRleHRTdHlsZShmb250U2l6ZTogMjQpLAogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBUZXh0KAogICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VOYW1lKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJGhlYWRlclN0eWxlLAogICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgIHRyYWlsaW5nOiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBJY29uKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJY29ucy5jaGVja19jaXJjbGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAkY29sb3JTdHIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgb25UYXA6ICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZWFkPExvY2FsZUJsb2M+KCkuYWRkKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDaGFuZ2VMb2NhbGVFdmVudChsb2NhbGUubGFuZ3VhZ2VDb2RlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgICAgICAgIE5hdmlnYXRvci5wb3AoY29udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0pLnRvTGlzdCgpLAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICApLAogICAgICAgICAgICApOwogICAgICAgICAgfSwKICAgICAgICApOycnJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnUHJvdmlkZXInOgogICAgICBsYW5ndWFnZUxpc3RUaWxlcyA9ICcnJwogICAgICAgIHJldHVybiBDb25zdW1lcjxMb2NhbGl6YXRpb25Qcm92aWRlcj4oCiAgICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgcHJvdmlkZXIsIF8pIHsKICAgICAgICAgICAgcmV0dXJuIENvbnRhaW5lcigKICAgICAgICAgICAgICBwYWRkaW5nOiBjb25zdCBFZGdlSW5zZXRzLnN5bW1ldHJpYyh2ZXJ0aWNhbDogMjQsIGhvcml6b250YWw6IDE2KSwKICAgICAgICAgICAgICBjaGlsZDogQ29sdW1uKAogICAgICAgICAgICAgICAgbWFpbkF4aXNTaXplOiBNYWluQXhpc1NpemUubWluLAogICAgICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICAgICAgQ29udGFpbmVyKAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0MCwKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQsCiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBjb25zdCBFZGdlSW5zZXRzLm9ubHkoYm90dG9tOiAyMCksCiAgICAgICAgICAgICAgICAgICAgZGVjb3JhdGlvbjogQm94RGVjb3JhdGlvbigKICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvcnMuZ3JleVszMDBdLAogICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBCb3JkZXJSYWRpdXMuY2lyY3VsYXIoMiksCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cmluZ3MubGFuZ3VhZ2UsCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICR0aXRsZVN0eWxlLAogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICBjb25zdCBTaXplZEJveChoZWlnaHQ6IDIwKSwKICAgICAgICAgICAgICAgICAgLi4uTG9jYWxpemF0aW9uLnN1cHBvcnRlZExvY2FsZXMubWFwKChsb2NhbGUpIHsKICAgICAgICAgICAgICAgICAgICBmaW5hbCBpc1NlbGVjdGVkID0gcHJvdmlkZXIubG9jYWxlLmxhbmd1YWdlQ29kZSA9PSBsb2NhbGUubGFuZ3VhZ2VDb2RlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBMaXN0VGlsZSgKICAgICAgICAgICAgICAgICAgICAgIGxlYWRpbmc6IENvbnRhaW5lcigKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwLAogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwLAogICAgICAgICAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IEFsaWdubWVudC5jZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29yYXRpb246IEJveERlY29yYXRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAkY29sb3JTdHIud2l0aE9wYWNpdHkoMC4xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENvbG9ycy50cmFuc3BhcmVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZTogQm94U2hhcGUuY2lyY2xlLAogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZDogVGV4dCgKICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VGbGFnKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDI0KSwKICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogVGV4dCgKICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxpemF0aW9uLmdldExhbmd1YWdlTmFtZShsb2NhbGUubGFuZ3VhZ2VDb2RlKSwKICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICRoZWFkZXJTdHlsZSwKICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICB0cmFpbGluZzogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICAgID8gSWNvbigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWNvbnMuY2hlY2tfY2lyY2xlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJGNvbG9yU3RyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIG9uVGFwOiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY2hhbmdlTG9jYWxlKGxvY2FsZS5sYW5ndWFnZUNvZGUpOwogICAgICAgICAgICAgICAgICAgICAgICBOYXZpZ2F0b3IucG9wKGNvbnRleHQpOwogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICB9KS50b0xpc3QoKSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKTsKICAgICAgICAgIH0sCiAgICAgICAgKTsnJyc7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ1JpdmVycG9kJzoKICAgICAgbGFuZ3VhZ2VMaXN0VGlsZXMgPSAnJycKICAgICAgICByZXR1cm4gQ29uc3VtZXIoCiAgICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgcmVmLCBfKSB7CiAgICAgICAgICAgIGZpbmFsIGN1cnJlbnRMb2NhbGUgPSByZWYud2F0Y2gobG9jYWxlUHJvdmlkZXIpOwogICAgICAgICAgICByZXR1cm4gQ29udGFpbmVyKAogICAgICAgICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuc3ltbWV0cmljKHZlcnRpY2FsOiAyNCwgaG9yaXpvbnRhbDogMTYpLAogICAgICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgICAgICBtYWluQXhpc1NpemU6IE1haW5BeGlzU2l6ZS5taW4sCiAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICBDb250YWluZXIoCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNCwKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IGNvbnN0IEVkZ2VJbnNldHMub25seShib3R0b206IDIwKSwKICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9ycy5ncmV5WzMwMF0sCiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IEJvcmRlclJhZGl1cy5jaXJjdWxhcigyKSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3RyaW5ncy5sYW5ndWFnZSwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogJHRpdGxlU3R5bGUsCiAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgIGNvbnN0IFNpemVkQm94KGhlaWdodDogMjApLAogICAgICAgICAgICAgICAgICAuLi5Mb2NhbGl6YXRpb24uc3VwcG9ydGVkTG9jYWxlcy5tYXAoKGxvY2FsZSkgewogICAgICAgICAgICAgICAgICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSBjdXJyZW50TG9jYWxlLmxhbmd1YWdlQ29kZSA9PSBsb2NhbGUubGFuZ3VhZ2VDb2RlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBMaXN0VGlsZSgKICAgICAgICAgICAgICAgICAgICAgIGxlYWRpbmc6IENvbnRhaW5lcigKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwLAogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwLAogICAgICAgICAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IEFsaWdubWVudC5jZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29yYXRpb246IEJveERlY29yYXRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAkY29sb3JTdHIud2l0aE9wYWNpdHkoMC4xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENvbG9ycy50cmFuc3BhcmVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZTogQm94U2hhcGUuY2lyY2xlLAogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZDogVGV4dCgKICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VGbGFnKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDI0KSwKICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogVGV4dCgKICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxpemF0aW9uLmdldExhbmd1YWdlTmFtZShsb2NhbGUubGFuZ3VhZ2VDb2RlKSwKICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICRoZWFkZXJTdHlsZSwKICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICB0cmFpbGluZzogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICAgID8gSWNvbigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWNvbnMuY2hlY2tfY2lyY2xlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJGNvbG9yU3RyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIG9uVGFwOiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZi5yZWFkKGxvY2FsZVByb3ZpZGVyLm5vdGlmaWVyKS5zZXRMb2NhbGUobG9jYWxlLmxhbmd1YWdlQ29kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIE5hdmlnYXRvci5wb3AoY29udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0pLnRvTGlzdCgpLAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICApLAogICAgICAgICAgICApOwogICAgICAgICAgfSwKICAgICAgICApOycnJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnR2V0WCc6CiAgICAgIGxhbmd1YWdlTGlzdFRpbGVzID0gJycnCiAgICAgICAgcmV0dXJuIEdldEJ1aWxkZXI8TG9jYWxpemF0aW9uQ29udHJvbGxlcj4oCiAgICAgICAgICBidWlsZGVyOiAoY29udHJvbGxlcikgewogICAgICAgICAgICByZXR1cm4gQ29udGFpbmVyKAogICAgICAgICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuc3ltbWV0cmljKHZlcnRpY2FsOiAyNCwgaG9yaXpvbnRhbDogMTYpLAogICAgICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgICAgICBtYWluQXhpc1NpemU6IE1haW5BeGlzU2l6ZS5taW4sCiAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICBDb250YWluZXIoCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNCwKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IGNvbnN0IEVkZ2VJbnNldHMub25seShib3R0b206IDIwKSwKICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9ycy5ncmV5WzMwMF0sCiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IEJvcmRlclJhZGl1cy5jaXJjdWxhcigyKSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3RyaW5ncy5sYW5ndWFnZSwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogJHRpdGxlU3R5bGUsCiAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgIGNvbnN0IFNpemVkQm94KGhlaWdodDogMjApLAogICAgICAgICAgICAgICAgICAuLi5Mb2NhbGl6YXRpb24uc3VwcG9ydGVkTG9jYWxlcy5tYXAoKGxvY2FsZSkgewogICAgICAgICAgICAgICAgICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSBjb250cm9sbGVyLmxvY2FsZS5sYW5ndWFnZUNvZGUgPT0gbG9jYWxlLmxhbmd1YWdlQ29kZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gTGlzdFRpbGUoCiAgICAgICAgICAgICAgICAgICAgICBsZWFkaW5nOiBDb250YWluZXIoCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0MCwKICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0MCwKICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25tZW50OiBBbGlnbm1lbnQuY2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJGNvbG9yU3RyLndpdGhPcGFjaXR5KDAuMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBDb2xvcnMudHJhbnNwYXJlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU6IEJveFNoYXBlLmNpcmNsZSwKICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQ6IFRleHQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxpemF0aW9uLmdldExhbmd1YWdlRmxhZyhsb2NhbGUubGFuZ3VhZ2VDb2RlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogY29uc3QgVGV4dFN0eWxlKGZvbnRTaXplOiAyNCksCiAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFRleHQoCiAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZU5hbWUobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiAkaGVhZGVyU3R5bGUsCiAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgdHJhaWxpbmc6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICA/IEljb24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEljb25zLmNoZWNrX2NpcmNsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICRjb2xvclN0ciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICBvblRhcDogKCkgewogICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLnNldExvY2FsZShsb2NhbGUubGFuZ3VhZ2VDb2RlKTsKICAgICAgICAgICAgICAgICAgICAgICAgTmF2aWdhdG9yLnBvcChjb250ZXh0KTsKICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICAgICAgfSkudG9MaXN0KCksCiAgICAgICAgICAgICAgICBdLAogICAgICAgICAgICAgICksCiAgICAgICAgICAgICk7CiAgICAgICAgICB9LAogICAgICAgICk7JycnOwogICAgICBicmVhazsKCiAgICBjYXNlICdNb2JYJzoKICAgICAgbGFuZ3VhZ2VMaXN0VGlsZXMgPSAnJycKICAgICAgICByZXR1cm4gT2JzZXJ2ZXIoCiAgICAgICAgICBidWlsZGVyOiAoXykgewogICAgICAgICAgICByZXR1cm4gQ29udGFpbmVyKAogICAgICAgICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuc3ltbWV0cmljKHZlcnRpY2FsOiAyNCwgaG9yaXpvbnRhbDogMTYpLAogICAgICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgICAgICBtYWluQXhpc1NpemU6IE1haW5BeGlzU2l6ZS5taW4sCiAgICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgICBDb250YWluZXIoCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwLAogICAgICAgICAgICAgICAgICAgIGhlaWdodDogNCwKICAgICAgICAgICAgICAgICAgICBtYXJnaW46IGNvbnN0IEVkZ2VJbnNldHMub25seShib3R0b206IDIwKSwKICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9ycy5ncmV5WzMwMF0sCiAgICAgICAgICAgICAgICAgICAgICBib3JkZXJSYWRpdXM6IEJvcmRlclJhZGl1cy5jaXJjdWxhcigyKSwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICBUZXh0KAogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuc3RyaW5ncy5sYW5ndWFnZSwKICAgICAgICAgICAgICAgICAgICBzdHlsZTogJHRpdGxlU3R5bGUsCiAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgIGNvbnN0IFNpemVkQm94KGhlaWdodDogMjApLAogICAgICAgICAgICAgICAgICAuLi5Mb2NhbGl6YXRpb24uc3VwcG9ydGVkTG9jYWxlcy5tYXAoKGxvY2FsZSkgewogICAgICAgICAgICAgICAgICAgIGZpbmFsIGlzU2VsZWN0ZWQgPSBsb2NhbGl6YXRpb25TdG9yZS5sb2NhbGUubGFuZ3VhZ2VDb2RlID09IGxvY2FsZS5sYW5ndWFnZUNvZGU7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIExpc3RUaWxlKAogICAgICAgICAgICAgICAgICAgICAgbGVhZGluZzogQ29udGFpbmVyKAogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNDAsCiAgICAgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudDogQWxpZ25tZW50LmNlbnRlciwKICAgICAgICAgICAgICAgICAgICAgICAgZGVjb3JhdGlvbjogQm94RGVjb3JhdGlvbigKICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICRjb2xvclN0ci53aXRoT3BhY2l0eSgwLjEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogQ29sb3JzLnRyYW5zcGFyZW50LAogICAgICAgICAgICAgICAgICAgICAgICAgIHNoYXBlOiBCb3hTaGFwZS5jaXJjbGUsCiAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkOiBUZXh0KAogICAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZUZsYWcobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGNvbnN0IFRleHRTdHlsZShmb250U2l6ZTogMjQpLAogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBUZXh0KAogICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VOYW1lKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJGhlYWRlclN0eWxlLAogICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgIHRyYWlsaW5nOiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBJY29uKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBJY29ucy5jaGVja19jaXJjbGUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiAkY29sb3JTdHIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBudWxsLAogICAgICAgICAgICAgICAgICAgICAgb25UYXA6ICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxpemF0aW9uU3RvcmUuc2V0TG9jYWxlKGxvY2FsZS5sYW5ndWFnZUNvZGUpOwogICAgICAgICAgICAgICAgICAgICAgICBOYXZpZ2F0b3IucG9wKGNvbnRleHQpOwogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICB9KS50b0xpc3QoKSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKTsKICAgICAgICAgIH0sCiAgICAgICAgKTsnJyc7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ1JlZHV4JzoKICAgICAgbGFuZ3VhZ2VMaXN0VGlsZXMgPSAnJycKICAgICAgICByZXR1cm4gU3RvcmVDb25uZWN0b3I8QXBwU3RhdGUsIExvY2FsZT4oCiAgICAgICAgICBjb252ZXJ0ZXI6IChzdG9yZSkgPT4gc3RvcmUuc3RhdGUubG9jYWxlU3RhdGUubG9jYWxlLAogICAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIGN1cnJlbnRMb2NhbGUpIHsKICAgICAgICAgICAgcmV0dXJuIENvbnRhaW5lcigKICAgICAgICAgICAgICBwYWRkaW5nOiBjb25zdCBFZGdlSW5zZXRzLnN5bW1ldHJpYyh2ZXJ0aWNhbDogMjQsIGhvcml6b250YWw6IDE2KSwKICAgICAgICAgICAgICBjaGlsZDogQ29sdW1uKAogICAgICAgICAgICAgICAgbWFpbkF4aXNTaXplOiBNYWluQXhpc1NpemUubWluLAogICAgICAgICAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgICAgICAgICAgQ29udGFpbmVyKAogICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0MCwKICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQsCiAgICAgICAgICAgICAgICAgICAgbWFyZ2luOiBjb25zdCBFZGdlSW5zZXRzLm9ubHkoYm90dG9tOiAyMCksCiAgICAgICAgICAgICAgICAgICAgZGVjb3JhdGlvbjogQm94RGVjb3JhdGlvbigKICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBDb2xvcnMuZ3JleVszMDBdLAogICAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBCb3JkZXJSYWRpdXMuY2lyY3VsYXIoMiksCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN0cmluZ3MubGFuZ3VhZ2UsCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICR0aXRsZVN0eWxlLAogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICBjb25zdCBTaXplZEJveChoZWlnaHQ6IDIwKSwKICAgICAgICAgICAgICAgICAgLi4uTG9jYWxpemF0aW9uLnN1cHBvcnRlZExvY2FsZXMubWFwKChsb2NhbGUpIHsKICAgICAgICAgICAgICAgICAgICBmaW5hbCBpc1NlbGVjdGVkID0gY3VycmVudExvY2FsZS5sYW5ndWFnZUNvZGUgPT0gbG9jYWxlLmxhbmd1YWdlQ29kZTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gTGlzdFRpbGUoCiAgICAgICAgICAgICAgICAgICAgICBsZWFkaW5nOiBDb250YWluZXIoCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA0MCwKICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0MCwKICAgICAgICAgICAgICAgICAgICAgICAgYWxpZ25tZW50OiBBbGlnbm1lbnQuY2VudGVyLAogICAgICAgICAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBCb3hEZWNvcmF0aW9uKAogICAgICAgICAgICAgICAgICAgICAgICAgIGNvbG9yOiBpc1NlbGVjdGVkCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gJGNvbG9yU3RyLndpdGhPcGFjaXR5KDAuMSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBDb2xvcnMudHJhbnNwYXJlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgICAgc2hhcGU6IEJveFNoYXBlLmNpcmNsZSwKICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQ6IFRleHQoCiAgICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxpemF0aW9uLmdldExhbmd1YWdlRmxhZyhsb2NhbGUubGFuZ3VhZ2VDb2RlKSwKICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogY29uc3QgVGV4dFN0eWxlKGZvbnRTaXplOiAyNCksCiAgICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFRleHQoCiAgICAgICAgICAgICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZU5hbWUobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiAkaGVhZGVyU3R5bGUsCiAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgdHJhaWxpbmc6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICA/IEljb24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEljb25zLmNoZWNrX2NpcmNsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6ICRjb2xvclN0ciwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgICBvblRhcDogKCkgewogICAgICAgICAgICAgICAgICAgICAgICBTdG9yZVByb3ZpZGVyLm9mPEFwcFN0YXRlPihjb250ZXh0KS5kaXNwYXRjaChzZXRMb2NhbGUobG9jYWxlLmxhbmd1YWdlQ29kZSkpOwogICAgICAgICAgICAgICAgICAgICAgICBOYXZpZ2F0b3IucG9wKGNvbnRleHQpOwogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICB9KS50b0xpc3QoKSwKICAgICAgICAgICAgICAgIF0sCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgKTsKICAgICAgICAgIH0sCiAgICAgICAgKTsnJyc7CiAgICAgIGJyZWFrOwoKICAgIGRlZmF1bHQ6CiAgICAgIGxhbmd1YWdlTGlzdFRpbGVzID0gJycnCiAgICAgICAgcmV0dXJuIFN0YXRlZnVsQnVpbGRlcigKICAgICAgICAgIGJ1aWxkZXI6IChjb250ZXh0LCBzZXRTdGF0ZSkgewogICAgICAgICAgICBsb2NhbGVNYW5hZ2VyLmFkZExpc3RlbmVyKChsb2NhbGUpID0+IHNldFN0YXRlKCgpIHt9KSk7CiAgICAgICAgICAgIHJldHVybiBDb250YWluZXIoCiAgICAgICAgICAgICAgcGFkZGluZzogY29uc3QgRWRnZUluc2V0cy5zeW1tZXRyaWModmVydGljYWw6IDI0LCBob3Jpem9udGFsOiAxNiksCiAgICAgICAgICAgICAgY2hpbGQ6IENvbHVtbigKICAgICAgICAgICAgICAgIG1haW5BeGlzU2l6ZTogTWFpbkF4aXNTaXplLm1pbiwKICAgICAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgICAgIENvbnRhaW5lcigKICAgICAgICAgICAgICAgICAgICB3aWR0aDogNDAsCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA0LAogICAgICAgICAgICAgICAgICAgIG1hcmdpbjogY29uc3QgRWRnZUluc2V0cy5vbmx5KGJvdHRvbTogMjApLAogICAgICAgICAgICAgICAgICAgIGRlY29yYXRpb246IEJveERlY29yYXRpb24oCiAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogQ29sb3JzLmdyZXlbMzAwXSwKICAgICAgICAgICAgICAgICAgICAgIGJvcmRlclJhZGl1czogQm9yZGVyUmFkaXVzLmNpcmN1bGFyKDIpLAogICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgIFRleHQoCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdHJpbmdzLmxhbmd1YWdlLAogICAgICAgICAgICAgICAgICAgIHN0eWxlOiAkdGl0bGVTdHlsZSwKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgY29uc3QgU2l6ZWRCb3goaGVpZ2h0OiAyMCksCiAgICAgICAgICAgICAgICAgIC4uLkxvY2FsaXphdGlvbi5zdXBwb3J0ZWRMb2NhbGVzLm1hcCgobG9jYWxlKSB7CiAgICAgICAgICAgICAgICAgICAgZmluYWwgaXNTZWxlY3RlZCA9IGxvY2FsZU1hbmFnZXIubG9jYWxlLmxhbmd1YWdlQ29kZSA9PSBsb2NhbGUubGFuZ3VhZ2VDb2RlOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBMaXN0VGlsZSgKICAgICAgICAgICAgICAgICAgICAgIGxlYWRpbmc6IENvbnRhaW5lcigKICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwLAogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDQwLAogICAgICAgICAgICAgICAgICAgICAgICBhbGlnbm1lbnQ6IEFsaWdubWVudC5jZW50ZXIsCiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29yYXRpb246IEJveERlY29yYXRpb24oCiAgICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGlzU2VsZWN0ZWQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyAkY29sb3JTdHIud2l0aE9wYWNpdHkoMC4xKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IENvbG9ycy50cmFuc3BhcmVudCwKICAgICAgICAgICAgICAgICAgICAgICAgICBzaGFwZTogQm94U2hhcGUuY2lyY2xlLAogICAgICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgICAgICBjaGlsZDogVGV4dCgKICAgICAgICAgICAgICAgICAgICAgICAgICBMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VGbGFnKGxvY2FsZS5sYW5ndWFnZUNvZGUpLAogICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBjb25zdCBUZXh0U3R5bGUoZm9udFNpemU6IDI0KSwKICAgICAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogVGV4dCgKICAgICAgICAgICAgICAgICAgICAgICAgTG9jYWxpemF0aW9uLmdldExhbmd1YWdlTmFtZShsb2NhbGUubGFuZ3VhZ2VDb2RlKSwKICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6ICRoZWFkZXJTdHlsZSwKICAgICAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgICAgICB0cmFpbGluZzogaXNTZWxlY3RlZAogICAgICAgICAgICAgICAgICAgICAgICAgID8gSWNvbigKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSWNvbnMuY2hlY2tfY2lyY2xlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xvcjogJGNvbG9yU3RyLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgICAgICAgICAgIDogbnVsbCwKICAgICAgICAgICAgICAgICAgICAgIG9uVGFwOiAoKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsZU1hbmFnZXIuc2V0TG9jYWxlQnlMYW5ndWFnZUNvZGUobG9jYWxlLmxhbmd1YWdlQ29kZSk7CiAgICAgICAgICAgICAgICAgICAgICAgIE5hdmlnYXRvci5wb3AoY29udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgICAgIH0pLnRvTGlzdCgpLAogICAgICAgICAgICAgICAgXSwKICAgICAgICAgICAgICApLAogICAgICAgICAgICApOwogICAgICAgICAgfSwKICAgICAgICApOycnJzsKICB9CgogIHJldHVybiAnJycKICB2b2lkIF9zaG93TGFuZ3VhZ2VQaWNrZXIoKSB7CiAgICBzaG93TW9kYWxCb3R0b21TaGVldCgKICAgICAgY29udGV4dDogY29udGV4dCwKICAgICAgYmFja2dyb3VuZENvbG9yOiAkc3VyZmFjZUNvbG9yLAogICAgICBzaGFwZTogY29uc3QgUm91bmRlZFJlY3RhbmdsZUJvcmRlcigKICAgICAgICBib3JkZXJSYWRpdXM6IEJvcmRlclJhZGl1cy52ZXJ0aWNhbCh0b3A6IFJhZGl1cy5jaXJjdWxhcigyMCkpLAogICAgICApLAogICAgICBidWlsZGVyOiAoY29udGV4dCkgewogICAgICAgICRsYW5ndWFnZUxpc3RUaWxlcwogICAgICB9LAogICAgKTsKICB9CicnJzsKfQoKLy8vIFVwZGF0ZSBuYXZpZ2F0aW9uIHRvIGluY2x1ZGUgRmx1dHRlckJ1bm55U2NyZWVuCnZvaWQgX3VwZGF0ZU5hdmlnYXRpb25Gb3JGbHV0dGVyQnVubnlTY3JlZW4oCiAgICBIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICAvLyBUcnkgdG8gdXBkYXRlIG5hdmlnYXRpb24gaW4gYXBwLmRhcnQgb3IgbWFpbi5kYXJ0CiAgX3VwZGF0ZUFwcERhcnRGb3JOYXZpZ2F0aW9uKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gQ3JlYXRlIGEgcm91dGUgY29uc3RhbnRzIGZpbGUgaWYgaXQgZG9lc24ndCBleGlzdAogIF9jcmVhdGVSb3V0ZUNvbnN0YW50c0ZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwp9CgovLy8gVXBkYXRlIGFwcC5kYXJ0IHRvIGluY2x1ZGUgdGhlIEZsdXR0ZXJCdW5ueVNjcmVlbiBpbiBuYXZpZ2F0aW9uCnZvaWQgX3VwZGF0ZUFwcERhcnRGb3JOYXZpZ2F0aW9uKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGFwcERhcnRQYXRocyA9IFsKICAgICckcHJvamVjdE5hbWUvbGliL2FwcC5kYXJ0JywKICAgICckcHJvamVjdE5hbWUvbGliL2NvcmUvYXBwLmRhcnQnLAogICAgJyRwcm9qZWN0TmFtZS9saWIvcHJlc2VudGF0aW9uL2FwcC5kYXJ0JywKICBdOwoKICBGaWxlPyBhcHBEYXJ0RmlsZTsKCiAgLy8gRmluZCB0aGUgYXBwLmRhcnQgZmlsZQogIGZvciAoZmluYWwgcGF0aCBpbiBhcHBEYXJ0UGF0aHMpIHsKICAgIGZpbmFsIGZpbGUgPSBGaWxlKHBhdGgpOwogICAgaWYgKGZpbGUuZXhpc3RzU3luYygpKSB7CiAgICAgIGFwcERhcnRGaWxlID0gZmlsZTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICAvLyBJZiBhcHAuZGFydCB3YXNuJ3QgZm91bmQsIHRyeSBtYWluLmRhcnQKICBpZiAoYXBwRGFydEZpbGUgPT0gbnVsbCkgewogICAgZmluYWwgbWFpbkRhcnRGaWxlID0gRmlsZSgnJHByb2plY3ROYW1lL2xpYi9tYWluLmRhcnQnKTsKICAgIGlmIChtYWluRGFydEZpbGUuZXhpc3RzU3luYygpKSB7CiAgICAgIGFwcERhcnRGaWxlID0gbWFpbkRhcnRGaWxlOwogICAgfQogIH0KCiAgaWYgKGFwcERhcnRGaWxlID09IG51bGwpIHsKICAgIGNvbnRleHQubG9nZ2VyCiAgICAgICAgLndhcm4oJ0NvdWxkIG5vdCBmaW5kIGFwcC5kYXJ0IG9yIG1haW4uZGFydCB0byB1cGRhdGUgbmF2aWdhdGlvbicpOwogICAgcmV0dXJuOwogIH0KCiAgU3RyaW5nIGNvbnRlbnQgPSBhcHBEYXJ0RmlsZS5yZWFkQXNTdHJpbmdTeW5jKCk7CiAgYm9vbCBtb2RpZmllZCA9IGZhbHNlOwoKICAvLyBBZGQgaW1wb3J0IGlmIG5vdCBhbHJlYWR5IHByZXNlbnQKICBpZiAoIWNvbnRlbnQKICAgICAgLmNvbnRhaW5zKCdmbHV0dGVyX2J1bm55L3ByZXNlbnRhdGlvbi9wYWdlcy9mbHV0dGVyX2J1bm55X3NjcmVlbi5kYXJ0JykpIHsKICAgIGZpbmFsIGltcG9ydFBhdHRlcm4gPSBSZWdFeHAocidpbXBvcnQgLio7XG4nKTsKICAgIGZpbmFsIGxhc3RJbXBvcnRNYXRjaCA9IGltcG9ydFBhdHRlcm4uYWxsTWF0Y2hlcyhjb250ZW50KS5sYXN0T3JOdWxsOwoKICAgIGlmIChsYXN0SW1wb3J0TWF0Y2ggIT0gbnVsbCkgewogICAgICBmaW5hbCBpbnNlcnRQb3NpdGlvbiA9IGxhc3RJbXBvcnRNYXRjaC5lbmQ7CiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb3NpdGlvbikgKwogICAgICAgICAgImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvZmVhdHVyZXMvZmx1dHRlcl9idW5ueS9wcmVzZW50YXRpb24vcGFnZXMvZmx1dHRlcl9idW5ueV9zY3JlZW4uZGFydCc7XG4iICsKICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvc2l0aW9uKTsKICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgfQogIH0KCiAgLy8gTG9vayBmb3IgZGlmZmVyZW50IG5hdmlnYXRpb24gcGF0dGVybnMgYW5kIHVwZGF0ZSBhY2NvcmRpbmdseQogIGlmIChjb250ZW50LmNvbnRhaW5zKCdyb3V0ZXM6IHsnKSAmJiAhY29udGVudC5jb250YWlucygiJy9mbHV0dGVyX2J1bm55JyIpKSB7CiAgICAvLyBHb1JvdXRlciBvciBSb3V0ZXIgcGF0dGVybgogICAgZmluYWwgcm91dGVQYXR0ZXJuID0gUmVnRXhwKHIncm91dGVzOiBceyhbXn1dKilcfScsIGRvdEFsbDogdHJ1ZSk7CiAgICBmaW5hbCByb3V0ZU1hdGNoID0gcm91dGVQYXR0ZXJuLmZpcnN0TWF0Y2goY29udGVudCk7CgogICAgaWYgKHJvdXRlTWF0Y2ggIT0gbnVsbCkgewogICAgICBmaW5hbCByb3V0ZXNDb250ZW50ID0gcm91dGVNYXRjaC5ncm91cCgxKSE7CiAgICAgIGZpbmFsIGluc2VydFBvaW50ID0gcm91dGVzQ29udGVudC5sYXN0SW5kZXhPZignLCcpICsgMTsKCiAgICAgIGZpbmFsIG5ld1JvdXRlID0gJycnCiAgICAgICAgCiAgICAgICAgJy9mbHV0dGVyX2J1bm55JzogKGNvbnRleHQpID0+IGNvbnN0IEZsdXR0ZXJCdW5ueVNjcmVlbigpLCcnJzsKCiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdCgKICAgICAgICByb3V0ZXNDb250ZW50LAogICAgICAgIHJvdXRlc0NvbnRlbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvaW50KSArCiAgICAgICAgICAgIG5ld1JvdXRlICsKICAgICAgICAgICAgcm91dGVzQ29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9pbnQpLAogICAgICApOwoKICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgfQogIH0gZWxzZSBpZiAoY29udGVudC5jb250YWlucygnZ2V0UGFnZXM6IFsnKSAmJgogICAgICAhY29udGVudC5jb250YWlucygibmFtZTogJy9mbHV0dGVyX2J1bm55JyIpKSB7CiAgICAvLyBHZXRYIHBhdHRlcm4KICAgIGZpbmFsIHBhZ2VzUGF0dGVybiA9IFJlZ0V4cChyJ2dldFBhZ2VzOiBcWyhbXlxdXSopXF0nLCBkb3RBbGw6IHRydWUpOwogICAgZmluYWwgcGFnZXNNYXRjaCA9IHBhZ2VzUGF0dGVybi5maXJzdE1hdGNoKGNvbnRlbnQpOwoKICAgIGlmIChwYWdlc01hdGNoICE9IG51bGwpIHsKICAgICAgZmluYWwgcGFnZXNDb250ZW50ID0gcGFnZXNNYXRjaC5ncm91cCgxKSE7CiAgICAgIGZpbmFsIGluc2VydFBvaW50ID0gcGFnZXNDb250ZW50Lmxhc3RJbmRleE9mKCcsJykgKyAxOwoKICAgICAgZmluYWwgbmV3UGFnZSA9ICcnJwogICAgICAgIAogICAgICAgIEdldFBhZ2UoCiAgICAgICAgICBuYW1lOiAnL2ZsdXR0ZXJfYnVubnknLAogICAgICAgICAgcGFnZTogKCkgPT4gY29uc3QgRmx1dHRlckJ1bm55U2NyZWVuKCksCiAgICAgICAgKSwnJyc7CgogICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoCiAgICAgICAgcGFnZXNDb250ZW50LAogICAgICAgIHBhZ2VzQ29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9pbnQpICsKICAgICAgICAgICAgbmV3UGFnZSArCiAgICAgICAgICAgIHBhZ2VzQ29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9pbnQpLAogICAgICApOwoKICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgfQogIH0gZWxzZSBpZiAoY29udGVudC5jb250YWlucygnb25HZW5lcmF0ZVJvdXRlOicpICYmCiAgICAgICFjb250ZW50LmNvbnRhaW5zKCJjYXNlICcvZmx1dHRlcl9idW5ueSciKSkgewogICAgLy8gb25HZW5lcmF0ZVJvdXRlIHBhdHRlcm4KICAgIGZpbmFsIG9uR2VuZXJhdGVQYXR0ZXJuID0KICAgICAgICBSZWdFeHAocidvbkdlbmVyYXRlUm91dGU6Lio/XHsoLio/KVx9JywgZG90QWxsOiB0cnVlKTsKICAgIGZpbmFsIG9uR2VuZXJhdGVNYXRjaCA9IG9uR2VuZXJhdGVQYXR0ZXJuLmZpcnN0TWF0Y2goY29udGVudCk7CgogICAgaWYgKG9uR2VuZXJhdGVNYXRjaCAhPSBudWxsKSB7CiAgICAgIGZpbmFsIHJvdXRlckNvbnRlbnQgPSBvbkdlbmVyYXRlTWF0Y2guZ3JvdXAoMSkhOwogICAgICBmaW5hbCBkZWZhdWx0Q2FzZUluZGV4ID0gcm91dGVyQ29udGVudC5pbmRleE9mKCdkZWZhdWx0OicpOwoKICAgICAgaWYgKGRlZmF1bHRDYXNlSW5kZXggIT0gLTEpIHsKICAgICAgICBmaW5hbCBuZXdDYXNlID0gJycnCiAgICAgICAgY2FzZSAnL2ZsdXR0ZXJfYnVubnknOgogICAgICAgICAgcmV0dXJuIE1hdGVyaWFsUGFnZVJvdXRlKAogICAgICAgICAgICBidWlsZGVyOiAoXykgPT4gY29uc3QgRmx1dHRlckJ1bm55U2NyZWVuKCksCiAgICAgICAgICApOwogICAgICAgICcnJzsKCiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUZpcnN0KAogICAgICAgICAgJ2RlZmF1bHQ6JywKICAgICAgICAgIG5ld0Nhc2UgKyAnZGVmYXVsdDonLAogICAgICAgICk7CgogICAgICAgIG1vZGlmaWVkID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0gZWxzZSB7CiAgICAvLyBMb29rIGZvciBhIGhvbWU6IHByb3BlcnR5IHRvIHBvdGVudGlhbGx5IGFkZCBhIGRyYXdlciBuYXZpZ2F0aW9uIG9yIGJvdHRvbSBiYXIKICAgIGZpbmFsIGhvbWVQYXR0ZXJuID0gUmVnRXhwKHInaG9tZTpccyooY29uc3RccyopP1x3K1woJyk7CiAgICBmaW5hbCBob21lTWF0Y2ggPSBob21lUGF0dGVybi5maXJzdE1hdGNoKGNvbnRlbnQpOwoKICAgIGlmIChob21lTWF0Y2ggIT0gbnVsbCkgewogICAgICBjb250ZXh0LmxvZ2dlci5pbmZvKAogICAgICAgICAgJ0ZvdW5kIGhvbWUgd2lkZ2V0LCBjb25zaWRlciBhZGRpbmcgYSBkcmF3ZXIgb3IgYm90dG9tIG5hdmlnYXRpb24gYmFyIG1hbnVhbGx5IHRvIGFjY2VzcyBGbHV0dGVyQnVubnlTY3JlZW4nKTsKICAgIH0KICB9CgogIC8vIFdyaXRlIGJhY2sgbW9kaWZpZWQgY29udGVudAogIGlmIChtb2RpZmllZCkgewogICAgYXBwRGFydEZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgICBjb250ZXh0LmxvZ2dlci5zdWNjZXNzKAogICAgICAgICdVcGRhdGVkICR7YXBwRGFydEZpbGUucGF0aH0gd2l0aCBGbHV0dGVyQnVubnlTY3JlZW4gbmF2aWdhdGlvbicpOwogIH0gZWxzZSB7CiAgICBjb250ZXh0LmxvZ2dlci5pbmZvKAogICAgICAgICdDb3VsZCBub3QgYXV0b21hdGljYWxseSBhZGQgbmF2aWdhdGlvbiBmb3IgRmx1dHRlckJ1bm55U2NyZWVuLiBDb25zaWRlciBhZGRpbmcgaXQgbWFudWFsbHkuJyk7CiAgfQp9CgovLy8gQ3JlYXRlIGEgcm91dGUgY29uc3RhbnRzIGZpbGUgaWYgaXQgZG9lc24ndCBleGlzdAp2b2lkIF9jcmVhdGVSb3V0ZUNvbnN0YW50c0ZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgcm91dGVzRGlyUGF0aHMgPSBbCiAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL3JvdXRlcycsCiAgICAnJHByb2plY3ROYW1lL2xpYi9yb3V0ZXMnLAogICAgJyRwcm9qZWN0TmFtZS9saWIvbmF2aWdhdGlvbicsCiAgXTsKCiAgU3RyaW5nIHRhcmdldERpciA9IHJvdXRlc0RpclBhdGhzWzBdOwogIGJvb2wgZGlyRXhpc3RzID0gZmFsc2U7CgogIC8vIENoZWNrIGlmIG9uZSBvZiB0aGUgZGlyZWN0b3J5IHBhdGhzIGV4aXN0cwogIGZvciAoZmluYWwgcGF0aCBpbiByb3V0ZXNEaXJQYXRocykgewogICAgZmluYWwgZGlyID0gRGlyZWN0b3J5KHBhdGgpOwogICAgaWYgKGRpci5leGlzdHNTeW5jKCkpIHsKICAgICAgdGFyZ2V0RGlyID0gcGF0aDsKICAgICAgZGlyRXhpc3RzID0gdHJ1ZTsKICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICAvLyBDcmVhdGUgZGlyZWN0b3J5IGlmIG5vbmUgZXhpc3RzCiAgaWYgKCFkaXJFeGlzdHMpIHsKICAgIERpcmVjdG9yeSh0YXJnZXREaXIpLmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgcm91dGVzIGRpcmVjdG9yeTogJHRhcmdldERpcicpOwogIH0KCiAgZmluYWwgcm91dGVDb25zdGFudHNGaWxlID0gRmlsZSgnJHRhcmdldERpci9yb3V0ZV9jb25zdGFudHMuZGFydCcpOwoKICAvLyBPbmx5IGNyZWF0ZSB0aGUgZmlsZSBpZiBpdCBkb2Vzbid0IGV4aXN0CiAgaWYgKCFyb3V0ZUNvbnN0YW50c0ZpbGUuZXhpc3RzU3luYygpKSB7CiAgICBmaW5hbCBjb250ZW50ID0gJycnCi8vLyBDb25zdGFudHMgZm9yIGFwcCByb3V0ZXMKY2xhc3MgUm91dGVDb25zdGFudHMgewogIFJvdXRlQ29uc3RhbnRzLl8oKTsKICAKICAvLy8gSG9tZSByb3V0ZQogIHN0YXRpYyBjb25zdCBTdHJpbmcgaG9tZSA9ICcvJzsKICAKICAvLy8gRmx1dHRlckJ1bm55IHNob3djYXNlIHNjcmVlbgogIHN0YXRpYyBjb25zdCBTdHJpbmcgZmx1dHRlckJ1bm55ID0gJy9mbHV0dGVyX2J1bm55JzsKICAKICAvLyBBZGQgb3RoZXIgcm91dGVzIGhlcmUKfQonJyc7CgogICAgcm91dGVDb25zdGFudHNGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogICAgY29udGV4dC5sb2dnZXIKICAgICAgICAuc3VjY2VzcygnQ3JlYXRlZCByb3V0ZSBjb25zdGFudHMgZmlsZTogJHtyb3V0ZUNvbnN0YW50c0ZpbGUucGF0aH0nKTsKICB9IGVsc2UgewogICAgLy8gSWYgZmlsZSBleGlzdHMsIHRyeSB0byB1cGRhdGUgaXQgd2l0aCB0aGUgZmx1dHRlcl9idW5ueSByb3V0ZQogICAgU3RyaW5nIGNvbnRlbnQgPSByb3V0ZUNvbnN0YW50c0ZpbGUucmVhZEFzU3RyaW5nU3luYygpOwoKICAgIGlmICghY29udGVudC5jb250YWlucygnZmx1dHRlckJ1bm55JykgJiYKICAgICAgICAhY29udGVudC5jb250YWlucygnZmx1dHRlcl9idW5ueScpKSB7CiAgICAgIGZpbmFsIGxhc3RDb25zdFBhdHRlcm4gPSBSZWdFeHAocidzdGF0aWMgY29uc3QgU3RyaW5nIFx3KyA9IC4qPzsnKTsKICAgICAgZmluYWwgbWF0Y2hlcyA9IGxhc3RDb25zdFBhdHRlcm4uYWxsTWF0Y2hlcyhjb250ZW50KS50b0xpc3QoKTsKCiAgICAgIGlmIChtYXRjaGVzLmlzTm90RW1wdHkpIHsKICAgICAgICBmaW5hbCBsYXN0TWF0Y2ggPSBtYXRjaGVzLmxhc3Q7CiAgICAgICAgZmluYWwgaW5zZXJ0UG9pbnQgPSBsYXN0TWF0Y2guZW5kOwoKICAgICAgICBmaW5hbCBuZXdSb3V0ZSA9ICcnJwogIAogIC8vLyBGbHV0dGVyQnVubnkgc2hvd2Nhc2Ugc2NyZWVuCiAgc3RhdGljIGNvbnN0IFN0cmluZyBmbHV0dGVyQnVubnkgPSAnL2ZsdXR0ZXJfYnVubnknOycnJzsKCiAgICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvaW50KSArCiAgICAgICAgICAgIG5ld1JvdXRlICsKICAgICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9pbnQpOwogICAgICAgIHJvdXRlQ29uc3RhbnRzRmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICAgICAgICBjb250ZXh0LmxvZ2dlcgogICAgICAgICAgICAuc3VjY2VzcygnVXBkYXRlZCByb3V0ZSBjb25zdGFudHMgZmlsZSB3aXRoIEZsdXR0ZXJCdW5ueSByb3V0ZScpOwogICAgICB9CiAgICB9CiAgfQp9CgovLy8gTWFpbiBnZW5lcmF0b3IgZnVuY3Rpb24gdGhhdCBjYWxscyBhbGwgdGhlIG90aGVyIGZ1bmN0aW9ucyB0byBjcmVhdGUgYSBjb21wbGV0ZSBGbHV0dGVyQnVubnlTY3JlZW4gaW1wbGVtZW50YXRpb24Kdm9pZCBnZW5lcmF0ZUZsdXR0ZXJCdW5ueVNjcmVlbihIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBTdHJpbmcgc3RhdGVNYW5hZ2VtZW50LCBMaXN0PGR5bmFtaWM+IG1vZHVsZXMpIHsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdHZW5lcmF0aW5nIEZsdXR0ZXJCdW5ueVNjcmVlbiBmb3IgJHByb2plY3ROYW1lJyk7CgogIC8vIENyZWF0ZSBkaXJlY3RvcmllcwogIGZpbmFsIGRpcmVjdG9yaWVzID0gWwogICAgJ2xpYi9mZWF0dXJlcy9mbHV0dGVyX2J1bm55JywKICAgICdsaWIvZmVhdHVyZXMvZmx1dHRlcl9idW5ueS9wcmVzZW50YXRpb24nLAogICAgJ2xpYi9mZWF0dXJlcy9mbHV0dGVyX2J1bm55L3ByZXNlbnRhdGlvbi9wYWdlcycsCiAgXTsKCiAgZm9yIChmaW5hbCBkaXIgaW4gZGlyZWN0b3JpZXMpIHsKICAgIGZpbmFsIGRpcmVjdG9yeSA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lLyRkaXInKTsKICAgIGlmICghZGlyZWN0b3J5LmV4aXN0c1N5bmMoKSkgewogICAgICBkaXJlY3RvcnkuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogICAgICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGRpcmVjdG9yeTogJGRpcicpOwogICAgfQogIH0KCiAgLy8gQ2hlY2sgd2hpY2ggbW9kdWxlcyBhcmUgZW5hYmxlZAogIGZpbmFsIGhhc1RoZW1lTWFuYWdlciA9IG1vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKTsKICBmaW5hbCBoYXNMb2NhbGl6YXRpb24gPSBtb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKTsKICBmaW5hbCBoYXNQdXNoTm90aWZpY2F0aW9uID0gbW9kdWxlcy5jb250YWlucygnUHVzaCBOb3RpZmljYXRpb24nKTsKCiAgLy8gR2VuZXJhdGUgdGhlIEZsdXR0ZXJCdW5ueVNjcmVlbiBmaWxlCiAgX2dlbmVyYXRlRmx1dHRlckJ1bm55U2NyZWVuRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSwgc3RhdGVNYW5hZ2VtZW50LAogICAgICBoYXNUaGVtZU1hbmFnZXIsIGhhc0xvY2FsaXphdGlvbiwgaGFzUHVzaE5vdGlmaWNhdGlvbik7CgogIC8vIFVwZGF0ZSBuYXZpZ2F0aW9uIHRvIGluY2x1ZGUgRmx1dHRlckJ1bm55U2NyZWVuCiAgX3VwZGF0ZU5hdmlnYXRpb25Gb3JGbHV0dGVyQnVubnlTY3JlZW4oY29udGV4dCwgcHJvamVjdE5hbWUpOwoKICAvLyBHZW5lcmF0ZSBhIFJFQURNRS5tZCB3aXRoIGRvY3VtZW50YXRpb24gaWYgYSBkcmF3ZXIgbmVlZHMgdG8gYmUgYWRkZWQgbWFudWFsbHkKICAvLyBfZ2VuZXJhdGVSZWFkbWVGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lLCBoYXNUaGVtZU1hbmFnZXIsIGhhc0xvY2FsaXphdGlvbiwKICAvLyAgICAgaGFzUHVzaE5vdGlmaWNhdGlvbik7CgogIGNvbnRleHQubG9nZ2VyLnN1Y2Nlc3MoJ0ZsdXR0ZXJCdW5ueVNjcmVlbiBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5IScpOwp9CgovLy8gR2VuZXJhdGUgYSBSRUFETUUubWQgZmlsZSB3aXRoIGRvY3VtZW50YXRpb24Kdm9pZCBfZ2VuZXJhdGVSZWFkbWVGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwKICAgIGJvb2wgaGFzVGhlbWVNYW5hZ2VyLCBib29sIGhhc0xvY2FsaXphdGlvbiwgYm9vbCBoYXNQdXNoTm90aWZpY2F0aW9uKSB7CiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL1JFQURNRV9GTFVUVEVSX0JVTk5ZLm1kJzsKCiAgZmluYWwgZW5hYmxlZE1vZHVsZXMgPSA8U3RyaW5nPltdOwogIGlmIChoYXNUaGVtZU1hbmFnZXIpIGVuYWJsZWRNb2R1bGVzLmFkZCgnVGhlbWUgTWFuYWdlcicpOwogIGlmIChoYXNMb2NhbGl6YXRpb24pIGVuYWJsZWRNb2R1bGVzLmFkZCgnTG9jYWxpemF0aW9uJyk7CiAgaWYgKGhhc1B1c2hOb3RpZmljYXRpb24pIGVuYWJsZWRNb2R1bGVzLmFkZCgnUHVzaCBOb3RpZmljYXRpb24nKTsKCiAgZmluYWwgbW9kdWxlc1RleHQgPSBlbmFibGVkTW9kdWxlcy5pc0VtcHR5CiAgICAgID8gJ05vIG1vZHVsZXMgYXJlIGVuYWJsZWQuJwogICAgICA6ICdUaGUgZm9sbG93aW5nIG1vZHVsZXMgYXJlIGVuYWJsZWQ6XG4nICsKICAgICAgICAgIGVuYWJsZWRNb2R1bGVzLm1hcCgobSkgPT4gJy0gJG0nKS5qb2luKCdcbicpOwoKICBmaW5hbCBjb250ZW50ID0gJycnIyBGbHV0dGVyQnVubnkgU2NyZWVuCgpUaGlzIGlzIGEgc2hvd2Nhc2Ugc2NyZWVuIHRoYXQgZGVtb25zdHJhdGVzIHRoZSBjYXBhYmlsaXRpZXMgb2YgeW91ciBGbHV0dGVyIGFwcCwgZm9jdXNpbmcgb24gdGhlIG1vZHVsZXMgeW91J3ZlIHNlbGVjdGVkIGR1cmluZyBwcm9qZWN0IGdlbmVyYXRpb24uCgojIyBFbmFibGVkIE1vZHVsZXMKCiRtb2R1bGVzVGV4dAoKIyMgSG93IHRvIEFjY2VzcwoKVGhlIEZsdXR0ZXJCdW5ueVNjcmVlbiBpcyByZWdpc3RlcmVkIGF0IHRoZSByb3V0ZSBgL2ZsdXR0ZXJfYnVubnlgLiBZb3UgY2FuIG5hdmlnYXRlIHRvIGl0IHVzaW5nOgoKYGBgZGFydApOYXZpZ2F0b3Iub2YoY29udGV4dCkucHVzaE5hbWVkKCcvZmx1dHRlcl9idW5ueScpOwpgYGAKCiMjIyBBZGRpbmcgdG8gRHJhd2VyIG9yIEJvdHRvbSBOYXZpZ2F0aW9uCgpJZiB5b3VyIGFwcCB1c2VzIGEgZHJhd2VyIG9yIGJvdHRvbSBuYXZpZ2F0aW9uIGJhciwgeW91IGNhbiBhZGQgdGhlIEZsdXR0ZXJCdW5ueVNjcmVlbiBhcyBmb2xsb3dzOgoKIyMjIyBEcmF3ZXIgRXhhbXBsZQoKYGBgZGFydApEcmF3ZXIoCiAgY2hpbGQ6IExpc3RWaWV3KAogICAgY2hpbGRyZW46IFsKICAgICAgLy8gT3RoZXIgZHJhd2VyIGl0ZW1zLi4uCiAgICAgIExpc3RUaWxlKAogICAgICAgIGxlYWRpbmc6IEljb24oSWNvbnMucGV0cyksCiAgICAgICAgdGl0bGU6IFRleHQoJ0ZsdXR0ZXIgQnVubnknKSwKICAgICAgICBvblRhcDogKCkgewogICAgICAgICAgTmF2aWdhdG9yLm9mKGNvbnRleHQpLnB1c2hOYW1lZCgnL2ZsdXR0ZXJfYnVubnknKTsKICAgICAgICB9LAogICAgICApLAogICAgXSwKICApLAopCmBgYAoKIyMjIyBCb3R0b20gTmF2aWdhdGlvbiBFeGFtcGxlCgpgYGBkYXJ0CkJvdHRvbU5hdmlnYXRpb25CYXIoCiAgaXRlbXM6IFsKICAgIC8vIE90aGVyIGl0ZW1zLi4uCiAgICBCb3R0b21OYXZpZ2F0aW9uQmFySXRlbSgKICAgICAgaWNvbjogSWNvbihJY29ucy5wZXRzKSwKICAgICAgbGFiZWw6ICdGbHV0dGVyIEJ1bm55JywKICAgICksCiAgXSwKICBvblRhcDogKGluZGV4KSB7CiAgICBpZiAoaW5kZXggPT0gLyogeW91ciBpbmRleCAqLykgewogICAgICBOYXZpZ2F0b3Iub2YoY29udGV4dCkucHVzaE5hbWVkKCcvZmx1dHRlcl9idW5ueScpOwogICAgfQogIH0sCikKYGBgCgojIyBGZWF0dXJlcwoKJHtoYXNUaGVtZU1hbmFnZXIgPyAnLSAqKlRoZW1lIE1hbmFnZXIqKjogQWxsb3dzIHN3aXRjaGluZyBiZXR3ZWVuIGxpZ2h0LCBkYXJrLCBhbmQgc3lzdGVtIHRoZW1lc1xuJyA6ICcnfSR7aGFzTG9jYWxpemF0aW9uID8gJy0gKipMb2NhbGl6YXRpb24qKjogRGVtb25zdHJhdGVzIGxhbmd1YWdlIHN3aXRjaGluZyBmdW5jdGlvbmFsaXR5XG4nIDogJyd9JHtoYXNQdXNoTm90aWZpY2F0aW9uID8gJy0gKipQdXNoIE5vdGlmaWNhdGlvbnMqKjogU2hvd3Mgc2VuZGluZyB0ZXN0IG5vdGlmaWNhdGlvbnMgYW5kIHZpZXdpbmcgZGV2aWNlIHRva2VuXG4nIDogJyd9CgojIyBDdXN0b21pemF0aW9uCgpZb3UgY2FuIG1vZGlmeSB0aGUgRmx1dHRlckJ1bm55U2NyZWVuIHRvIHNob3djYXNlIGFkZGl0aW9uYWwgZmVhdHVyZXMgb2YgeW91ciBhcHAuIFRoZSBmaWxlIGlzIGxvY2F0ZWQgYXQ6CgpcYGxpYi9mZWF0dXJlcy9mbHV0dGVyX2J1bm55L3ByZXNlbnRhdGlvbi9wYWdlcy9mbHV0dGVyX2J1bm55X3NjcmVlbi5kYXJ0XGAKCicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBkb2N1bWVudGF0aW9uIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gTWFpbiBmdW5jdGlvbiBmb3IgdGVzdGluZwp2b2lkIG1haW4oTGlzdDxTdHJpbmc+IGFyZ3MpIHsKICAvLyBUaGlzIGlzIGEgcGxhY2Vob2xkZXIgbWFpbiBtZXRob2QKICBwcmludCgnTWFzb24gcHJlLWdlbmVyYXRpb24gaG9vayBmb3IgRmx1dHRlciBCdW5ueSBTY3JlZW4nKTsKfQo=",
      "type": "text",
    },
    {
      "path": "lib/app_generator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBHZW5lcmF0ZXMgdGhlIEFwcCB3aWRnZXQgYW5kIHJlcXVpcmVkIGZpbGVzCnZvaWQgZ2VuZXJhdGVBcHBXaWRnZXQoCiAgICBIb29rQ29udGV4dCBjb250ZXh0LAogICAgU3RyaW5nIHByb2plY3ROYW1lLAogICAgU3RyaW5nIGFyY2hpdGVjdHVyZSwKICAgIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQsCiAgICBMaXN0PGR5bmFtaWM+IGZlYXR1cmVzLAogICAgTGlzdDxkeW5hbWljPiBtb2R1bGVzKSB7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnR2VuZXJhdGluZyBBcHAgd2lkZ2V0IGZvciAkcHJvamVjdE5hbWUnKTsKCiAgLy8gQ3JlYXRlIGFwcCBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdAogIGZpbmFsIGFwcERpcmVjdG9yeSA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lL2xpYi9hcHAnKTsKICBpZiAoIWFwcERpcmVjdG9yeS5leGlzdHNTeW5jKCkpIHsKICAgIGFwcERpcmVjdG9yeS5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGRpcmVjdG9yeTogbGliL2FwcCcpOwogIH0KCiAgLy8gR2VuZXJhdGUgYXBwLmRhcnQgZmlsZQogIF9nZW5lcmF0ZUFwcERhcnRGaWxlKAogICAgICBjb250ZXh0LCBwcm9qZWN0TmFtZSwgYXJjaGl0ZWN0dXJlLCBzdGF0ZU1hbmFnZW1lbnQsIGZlYXR1cmVzLCBtb2R1bGVzKTsKCiAgLy8gR2VuZXJhdGUgYXBwX3JvdXRlci5kYXJ0IGlmIG5lZWRlZCBiYXNlZCBvbiBhcmNoaXRlY3R1cmUKICBpZiAoYXJjaGl0ZWN0dXJlID09ICdGZWF0dXJlLURyaXZlbicgfHwgbW9kdWxlcy5jb250YWlucygnUm91dGluZycpKSB7CiAgICBfZ2VuZXJhdGVBcHBSb3V0ZXJGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lLCBmZWF0dXJlcywgYXJjaGl0ZWN0dXJlKTsKICB9CgogIC8vIEdlbmVyYXRlIGFwcF9tb2R1bGUuZGFydCBmb3IgRmVhdHVyZS1Ecml2ZW4gYXJjaGl0ZWN0dXJlCiAgaWYgKGFyY2hpdGVjdHVyZSA9PSAnRmVhdHVyZS1Ecml2ZW4nKSB7CiAgICBfZ2VuZXJhdGVBcHBNb2R1bGVGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lLCBmZWF0dXJlcyk7CiAgfQoKICAvLyBHZW5lcmF0ZSBhcHBfd2lkZ2V0LmRhcnQgZm9yIEZlYXR1cmUtRHJpdmVuIGFyY2hpdGVjdHVyZQogIGlmIChhcmNoaXRlY3R1cmUgPT0gJ0ZlYXR1cmUtRHJpdmVuJykgewogICAgX2dlbmVyYXRlQXBwV2lkZ2V0RmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSwgc3RhdGVNYW5hZ2VtZW50LCBtb2R1bGVzKTsKICB9CgogIGNvbnRleHQubG9nZ2VyLnN1Y2Nlc3MoJ0FwcCB3aWRnZXQgZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseSEnKTsKfQoKLy8vIEdlbmVyYXRlIHRoZSBtYWluIGFwcC5kYXJ0IGZpbGUKLy8vIEdlbmVyYXRlIHRoZSBtYWluIGFwcC5kYXJ0IGZpbGUKdm9pZCBfZ2VuZXJhdGVBcHBEYXJ0RmlsZSgKICAgIEhvb2tDb250ZXh0IGNvbnRleHQsCiAgICBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBTdHJpbmcgYXJjaGl0ZWN0dXJlLAogICAgU3RyaW5nIHN0YXRlTWFuYWdlbWVudCwKICAgIExpc3Q8ZHluYW1pYz4gZmVhdHVyZXMsCiAgICBMaXN0PGR5bmFtaWM+IG1vZHVsZXMpIHsKICBmaW5hbCBmaWxlUGF0aCA9ICckcHJvamVjdE5hbWUvbGliL2FwcC9hcHAuZGFydCc7CgogIC8vIE9ubHkgZ2VuZXJhdGUgYXBwLmRhcnQgZm9yIG5vbi1GZWF0dXJlLURyaXZlbiBhcmNoaXRlY3R1cmVzCiAgaWYgKGFyY2hpdGVjdHVyZSA9PSAnRmVhdHVyZS1Ecml2ZW4nKSB7CiAgICByZXR1cm47CiAgfQoKICAvLyBEZXRlcm1pbmUgaW1wb3J0cyBiYXNlZCBvbiBtb2R1bGVzIGFuZCBmZWF0dXJlcwogIGZpbmFsIHRoZW1lSW1wb3J0ID0gbW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpCiAgICAgID8gImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9kZXNpZ25fc3lzdGVtL3RoZW1lX2V4dGVuc2lvbi9hcHBfdGhlbWVfZXh0ZW5zaW9uLmRhcnQnO1xuIiArCiAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL2Rlc2lnbl9zeXN0ZW0vdGhlbWVfZXh0ZW5zaW9uL3RoZW1lX21hbmFnZXIuZGFydCc7XG4iCiAgICAgIDogJyc7CgogIGZpbmFsIGxvY2FsaXphdGlvbkltcG9ydCA9IG1vZHVsZXMuY29udGFpbnMoJ0xvY2FsaXphdGlvbicpCiAgICAgID8gImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uLmRhcnQnO1xuIiArCiAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbG9jYWxpemF0aW9ucy9mbHV0dGVyX2xvY2FsaXphdGlvbnMuZGFydCc7XG4iICsKICAgICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvbG9jYWxpemF0aW9uL2dlbmVyYXRlZC9hcHBfbG9jYWxpemF0aW9ucy5kYXJ0JztcbiIKICAgICAgOiAnJzsKCiAgZmluYWwgcHVzaE5vdGlmaWNhdGlvbkltcG9ydCA9IG1vZHVsZXMuY29udGFpbnMoJ1B1c2ggTm90aWZpY2F0aW9uJykKICAgICAgPyAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL25vdGlmaWNhdGlvbnMvbm90aWZpY2F0aW9uX2hhbmRsZXIuZGFydCc7XG4iCiAgICAgIDogJyc7CgogIC8vIEltcG9ydCBzcGVjaWZpYyBzdGF0ZSBtYW5hZ2VtZW50IGxpYnJhcmllcwogIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnRJbXBvcnQgPSAnJzsKICBzd2l0Y2ggKHN0YXRlTWFuYWdlbWVudCkgewogICAgY2FzZSAnQmxvYyc6CiAgICBjYXNlICdCTG9DJzoKICAgICAgc3RhdGVNYW5hZ2VtZW50SW1wb3J0ID0KICAgICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9ibG9jL2ZsdXR0ZXJfYmxvYy5kYXJ0JztcbiI7CiAgICAgIC8vIGlmIChtb2R1bGVzLmNvbnRhaW5zKCdUaGVtZSBNYW5hZ2VyJykpIHsKICAgICAgLy8gICBzdGF0ZU1hbmFnZW1lbnRJbXBvcnQgKz0KICAgICAgLy8gICAgICAgImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9kZXNpZ25fc3lzdGVtL3RoZW1lX2V4dGVuc2lvbi90aGVtZV9jdWJpdC5kYXJ0JztcbiI7CiAgICAgIC8vIH0KICAgICAgaWYgKG1vZHVsZXMuY29udGFpbnMoJ0xvY2FsaXphdGlvbicpKSB7CiAgICAgICAgc3RhdGVNYW5hZ2VtZW50SW1wb3J0ICs9CiAgICAgICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvbG9jYWxpemF0aW9uL2Jsb2MvbG9jYWxlX2Jsb2MuZGFydCc7XG4iOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgY2FzZSAnUHJvdmlkZXInOgogICAgICBzdGF0ZU1hbmFnZW1lbnRJbXBvcnQgPSAiaW1wb3J0ICdwYWNrYWdlOnByb3ZpZGVyL3Byb3ZpZGVyLmRhcnQnO1xuIjsKICAgICAgaWYgKG1vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKSkgewogICAgICAgIHN0YXRlTWFuYWdlbWVudEltcG9ydCArPQogICAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL2Rlc2lnbl9zeXN0ZW0vdGhlbWVfZXh0ZW5zaW9uL3RoZW1lX3Byb3ZpZGVyLmRhcnQnO1xuIjsKICAgICAgfQogICAgICBpZiAobW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykpIHsKICAgICAgICBzdGF0ZU1hbmFnZW1lbnRJbXBvcnQgKz0KICAgICAgICAgICAgImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9sb2NhbGl6YXRpb24vcHJvdmlkZXJzL2xvY2FsaXphdGlvbl9wcm92aWRlci5kYXJ0JztcbiI7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICBjYXNlICdSaXZlcnBvZCc6CiAgICAgIHN0YXRlTWFuYWdlbWVudEltcG9ydCA9CiAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfcml2ZXJwb2QvZmx1dHRlcl9yaXZlcnBvZC5kYXJ0JztcbiI7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnR2V0WCc6CiAgICAgIHN0YXRlTWFuYWdlbWVudEltcG9ydCA9ICJpbXBvcnQgJ3BhY2thZ2U6Z2V0L2dldC5kYXJ0JztcbiI7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnTW9iWCc6CiAgICAgIHN0YXRlTWFuYWdlbWVudEltcG9ydCA9CiAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbW9ieC9mbHV0dGVyX21vYnguZGFydCc7XG5pbXBvcnQgJ3BhY2thZ2U6bW9ieC9tb2J4LmRhcnQnO1xuIjsKICAgICAgYnJlYWs7CiAgICBjYXNlICdSZWR1eCc6CiAgICAgIHN0YXRlTWFuYWdlbWVudEltcG9ydCA9CiAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfcmVkdXgvZmx1dHRlcl9yZWR1eC5kYXJ0JztcbmltcG9ydCAncGFja2FnZTpyZWR1eC9yZWR1eC5kYXJ0JztcbiI7CiAgICAgIGJyZWFrOwogIH0KCiAgLy8gQWx3YXlzIGltcG9ydCB0aGUgRmx1dHRlckJ1bm55U2NyZWVuCiAgZmluYWwgYnVubnlTY3JlZW5JbXBvcnQgPQogICAgICAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9hcHAvYXBwX2ZsdXR0ZXJfYnVubnkuZGFydCc7XG4iOwoKICAvLyBHZW5lcmF0ZSBBcHAgY2xhc3MgYmFzZWQgb24gc3RhdGUgbWFuYWdlbWVudAogIFN0cmluZyBhcHBDbGFzcyA9ICcnOwogIFN0cmluZyBhcHBJbml0SW5NYWluID0gJyc7IC8vIEZvciBpbml0aWFsaXphdGlvbiBuZWVkZWQgaW4gbWFpbi5kYXJ0CgogIHN3aXRjaCAoc3RhdGVNYW5hZ2VtZW50KSB7CiAgICBjYXNlICdCbG9jJzoKICAgIGNhc2UgJ0JMb0MnOgogICAgICBhcHBDbGFzcyA9IF9nZW5lcmF0ZUJsb2NBcHBDbGFzcyhwcm9qZWN0TmFtZSwgbW9kdWxlcyk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnUHJvdmlkZXInOgogICAgICBhcHBDbGFzcyA9IF9nZW5lcmF0ZVByb3ZpZGVyQXBwQ2xhc3MocHJvamVjdE5hbWUsIG1vZHVsZXMpOwogICAgICBicmVhazsKICAgIGNhc2UgJ1JpdmVycG9kJzoKICAgICAgYXBwQ2xhc3MgPSBfZ2VuZXJhdGVSaXZlcnBvZEFwcENsYXNzKHByb2plY3ROYW1lLCBtb2R1bGVzKTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdHZXRYJzoKICAgICAgYXBwQ2xhc3MgPSBfZ2VuZXJhdGVHZXRYQXBwQ2xhc3MocHJvamVjdE5hbWUsIG1vZHVsZXMpOwogICAgICBhcHBJbml0SW5NYWluID0gIi8vIEluaXRpYWxpemUgR2V0WCBjb250cm9sbGVyc1xuIiArCiAgICAgICAgICAiJHttb2R1bGVzLmNvbnRhaW5zKCdUaGVtZSBNYW5hZ2VyJykgPyAiR2V0LnB1dChUaGVtZUNvbnRyb2xsZXIoKSk7XG4iIDogIiJ9IiArCiAgICAgICAgICAiJHttb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKSA/ICJHZXQucHV0KExvY2FsaXphdGlvbkNvbnRyb2xsZXIoKSk7XG4iIDogIiJ9IjsKICAgICAgYnJlYWs7CiAgICBjYXNlICdNb2JYJzoKICAgICAgYXBwQ2xhc3MgPSBfZ2VuZXJhdGVNb2JYQXBwQ2xhc3MocHJvamVjdE5hbWUsIG1vZHVsZXMpOwogICAgICBicmVhazsKICAgIGNhc2UgJ1JlZHV4JzoKICAgICAgYXBwQ2xhc3MgPSBfZ2VuZXJhdGVSZWR1eEFwcENsYXNzKHByb2plY3ROYW1lLCBtb2R1bGVzKTsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OgogICAgICBhcHBDbGFzcyA9IF9nZW5lcmF0ZURlZmF1bHRBcHBDbGFzcyhwcm9qZWN0TmFtZSwgbW9kdWxlcyk7CiAgICAgIGJyZWFrOwogIH0KCiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKJHN0YXRlTWFuYWdlbWVudEltcG9ydAokdGhlbWVJbXBvcnQKJGxvY2FsaXphdGlvbkltcG9ydAokcHVzaE5vdGlmaWNhdGlvbkltcG9ydAokYnVubnlTY3JlZW5JbXBvcnQKCiRhcHBDbGFzcwoKJGFwcEluaXRJbk1haW4KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGUgQkxvQyBpbXBsZW1lbnRhdGlvbiBvZiBBcHAKU3RyaW5nIF9nZW5lcmF0ZUJsb2NBcHBDbGFzcyhTdHJpbmcgcHJvamVjdE5hbWUsIExpc3Q8ZHluYW1pYz4gbW9kdWxlcykgewogIGZpbmFsIGhhc1RoZW1lID0gbW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpOwogIGZpbmFsIGhhc0xvY2FsaXphdGlvbiA9IG1vZHVsZXMuY29udGFpbnMoJ0xvY2FsaXphdGlvbicpOwogIGZpbmFsIGhhc1B1c2hOb3RpZmljYXRpb24gPSBtb2R1bGVzLmNvbnRhaW5zKCdQdXNoIE5vdGlmaWNhdGlvbicpOwoKICBmaW5hbCBibG9jUHJvdmlkZXJzID0gWwogICAgaGFzVGhlbWUgPyAnQmxvY1Byb3ZpZGVyKGNyZWF0ZTogKF8pID0+IFRoZW1lQ3ViaXQoKSksJyA6ICcnLAogICAgaGFzTG9jYWxpemF0aW9uID8gJ0Jsb2NQcm92aWRlcihjcmVhdGU6IChfKSA9PiBMb2NhbGVCbG9jKCkpLCcgOiAnJywKICBdLndoZXJlKChwcm92aWRlcikgPT4gcHJvdmlkZXIuaXNOb3RFbXB0eSkuam9pbignXG4gICAgICAgICcpOwoKCgogIGZpbmFsIHRoZW1lQ29uZmlnID0gaGFzVGhlbWUKICAgICAgPyAnJycKICAgICAgdGhlbWU6IEFwcFRoZW1lLmxpZ2h0LAogICAgICBkYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssCiAgICAgIHRoZW1lTW9kZTogY29udGV4dC53YXRjaDxUaGVtZUN1Yml0PigpLnN0YXRlLnRoZW1lTW9kZS50b1RoZW1lTW9kZSgpLCcnJwogICAgICA6ICcnJwogICAgICB0aGVtZTogVGhlbWVEYXRhLmxpZ2h0KHVzZU1hdGVyaWFsMzogdHJ1ZSksCiAgICAgIGRhcmtUaGVtZTogVGhlbWVEYXRhLmRhcmsodXNlTWF0ZXJpYWwzOiB0cnVlKSwnJyc7CgogIGZpbmFsIGxvY2FsaXphdGlvbkNvbmZpZyA9IGhhc0xvY2FsaXphdGlvbgogICAgICA/ICcnJwogICAgICBzdXBwb3J0ZWRMb2NhbGVzOiBBcHBMb2NhbGl6YXRpb25zLnN1cHBvcnRlZExvY2FsZXMsCiAgICAgIGxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IEFwcExvY2FsaXphdGlvbnMubG9jYWxpemF0aW9uc0RlbGVnYXRlcywKICAgICAgbG9jYWxlOiBjb250ZXh0LndhdGNoPExvY2FsZUJsb2M+KCkuc3RhdGUubG9jYWxlLCcnJwogICAgICA6ICcnOwoKICByZXR1cm4gJycnCi8vLyBNYWluIEFwcCB3aWRnZXQgdGhhdCBjb25maWd1cmVzIHRoZSBhcHBsaWNhdGlvbiB1c2luZyBCTG9DIHBhdHRlcm4uCmNsYXNzIEFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgLy8vIENyZWF0ZXMgYSBuZXcgQXBwIGluc3RhbmNlLgogIGNvbnN0IEFwcCh7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gTXVsdGlCbG9jUHJvdmlkZXIoCiAgICAgIHByb3ZpZGVyczogWwogICAgICAgICRibG9jUHJvdmlkZXJzCiAgICAgIF0sCiAgICAgIGNoaWxkOiBCdWlsZGVyKAogICAgICAgIGJ1aWxkZXI6IChjb250ZXh0KSB7CiAgICAgICAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCiAgICAgICAgICAgIHRpdGxlOiAnJHByb2plY3ROYW1lJywKICAgICAgICAgICAgZGVidWdTaG93Q2hlY2tlZE1vZGVCYW5uZXI6IGZhbHNlLAokdGhlbWVDb25maWcKJGxvY2FsaXphdGlvbkNvbmZpZwogICAgICAgICAgICBob21lOiBjb25zdCBGbHV0dGVyQnVubnlTY3JlZW4oKSwKICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgKSwKICAgICk7CiAgfQp9CicnJzsKfQoKLy8vIEdlbmVyYXRlIFByb3ZpZGVyIGltcGxlbWVudGF0aW9uIG9mIEFwcApTdHJpbmcgX2dlbmVyYXRlUHJvdmlkZXJBcHBDbGFzcyhTdHJpbmcgcHJvamVjdE5hbWUsIExpc3Q8ZHluYW1pYz4gbW9kdWxlcykgewogIGZpbmFsIGhhc1RoZW1lID0gbW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpOwogIGZpbmFsIGhhc0xvY2FsaXphdGlvbiA9IG1vZHVsZXMuY29udGFpbnMoJ0xvY2FsaXphdGlvbicpOwogIGZpbmFsIGhhc1B1c2hOb3RpZmljYXRpb24gPSBtb2R1bGVzLmNvbnRhaW5zKCdQdXNoIE5vdGlmaWNhdGlvbicpOwoKICBmaW5hbCBwcm92aWRlcnMgPSBbCiAgICBoYXNUaGVtZSA/ICdDaGFuZ2VOb3RpZmllclByb3ZpZGVyKGNyZWF0ZTogKF8pID0+IFRoZW1lUHJvdmlkZXIoKSksJyA6ICcnLAogICAgaGFzTG9jYWxpemF0aW9uCiAgICAgICAgPyAnQ2hhbmdlTm90aWZpZXJQcm92aWRlcihjcmVhdGU6IChfKSA9PiBMb2NhbGl6YXRpb25Qcm92aWRlcigpKSwnCiAgICAgICAgOiAnJywKICBdLndoZXJlKChwcm92aWRlcikgPT4gcHJvdmlkZXIuaXNOb3RFbXB0eSkuam9pbignXG4gICAgICAgICcpOwoKICBmaW5hbCB0aGVtZUNvbmZpZyA9IGhhc1RoZW1lCiAgICAgID8gJycnCiAgICAgIHRoZW1lOiBBcHBUaGVtZS5saWdodCwKICAgICAgZGFya1RoZW1lOiBBcHBUaGVtZS5kYXJrLAogICAgICB0aGVtZU1vZGU6IFByb3ZpZGVyLm9mPFRoZW1lUHJvdmlkZXI+KGNvbnRleHQpLnRoZW1lTW9kZSwnJycKICAgICAgOiAnJycKICAgICAgdGhlbWU6IFRoZW1lRGF0YS5saWdodCh1c2VNYXRlcmlhbDM6IHRydWUpLAogICAgICBkYXJrVGhlbWU6IFRoZW1lRGF0YS5kYXJrKHVzZU1hdGVyaWFsMzogdHJ1ZSksJycnOwoKICBmaW5hbCBsb2NhbGl6YXRpb25Db25maWcgPSBoYXNMb2NhbGl6YXRpb24KICAgICAgPyAnJycKICAgICAgc3VwcG9ydGVkTG9jYWxlczogQXBwTG9jYWxpemF0aW9ucy5zdXBwb3J0ZWRMb2NhbGVzLAogICAgICBsb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBBcHBMb2NhbGl6YXRpb25zLmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXMsCiAgICAgIGxvY2FsZTogUHJvdmlkZXIub2Y8TG9jYWxpemF0aW9uUHJvdmlkZXI+KGNvbnRleHQpLmxvY2FsZSwnJycKICAgICAgOiAnJzsKCiAgcmV0dXJuICcnJwovLy8gTWFpbiBBcHAgd2lkZ2V0IHRoYXQgY29uZmlndXJlcyB0aGUgYXBwbGljYXRpb24gdXNpbmcgUHJvdmlkZXIgcGF0dGVybi4KY2xhc3MgQXBwIGV4dGVuZHMgU3RhdGVsZXNzV2lkZ2V0IHsKICAvLy8gQ3JlYXRlcyBhIG5ldyBBcHAgaW5zdGFuY2UuCiAgY29uc3QgQXBwKHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBNdWx0aVByb3ZpZGVyKAogICAgICBwcm92aWRlcnM6IFsKICAgICAgICAkcHJvdmlkZXJzCiAgICAgIF0sCiAgICAgIGNoaWxkOiBCdWlsZGVyKAogICAgICAgIGJ1aWxkZXI6IChjb250ZXh0KSB7CiAgICAgICAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCiAgICAgICAgICAgIHRpdGxlOiAnJHByb2plY3ROYW1lJywKICAgICAgICAgICAgZGVidWdTaG93Q2hlY2tlZE1vZGVCYW5uZXI6IGZhbHNlLAokdGhlbWVDb25maWcKJGxvY2FsaXphdGlvbkNvbmZpZwogICAgICAgICAgICBob21lOiBjb25zdCBGbHV0dGVyQnVubnlTY3JlZW4oKSwKICAgICAgICAgICk7CiAgICAgICAgfSwKICAgICAgKSwKICAgICk7CiAgfQp9CicnJzsKfQoKLy8vIEdlbmVyYXRlIFJpdmVycG9kIGltcGxlbWVudGF0aW9uIG9mIEFwcApTdHJpbmcgX2dlbmVyYXRlUml2ZXJwb2RBcHBDbGFzcyhTdHJpbmcgcHJvamVjdE5hbWUsIExpc3Q8ZHluYW1pYz4gbW9kdWxlcykgewogIGZpbmFsIGhhc1RoZW1lID0gbW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpOwogIGZpbmFsIGhhc0xvY2FsaXphdGlvbiA9IG1vZHVsZXMuY29udGFpbnMoJ0xvY2FsaXphdGlvbicpOwogIGZpbmFsIGhhc1B1c2hOb3RpZmljYXRpb24gPSBtb2R1bGVzLmNvbnRhaW5zKCdQdXNoIE5vdGlmaWNhdGlvbicpOwoKICBmaW5hbCB0aGVtZUNvbmZpZyA9IGhhc1RoZW1lCiAgICAgID8gJycnCiAgICAgIHRoZW1lOiBBcHBUaGVtZS5saWdodCwKICAgICAgZGFya1RoZW1lOiBBcHBUaGVtZS5kYXJrLAogICAgICB0aGVtZU1vZGU6IHJlZi53YXRjaChmbHV0dGVyVGhlbWVNb2RlUHJvdmlkZXIpLCcnJwogICAgICA6ICcnJwogICAgICB0aGVtZTogVGhlbWVEYXRhLmxpZ2h0KHVzZU1hdGVyaWFsMzogdHJ1ZSksCiAgICAgIGRhcmtUaGVtZTogVGhlbWVEYXRhLmRhcmsodXNlTWF0ZXJpYWwzOiB0cnVlKSwnJyc7CgogIGZpbmFsIGxvY2FsaXphdGlvbkNvbmZpZyA9IGhhc0xvY2FsaXphdGlvbgogICAgICA/ICcnJwogICAgICBzdXBwb3J0ZWRMb2NhbGVzOiBBcHBMb2NhbGl6YXRpb25zLnN1cHBvcnRlZExvY2FsZXMsCiAgICAgIGxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IEFwcExvY2FsaXphdGlvbnMubG9jYWxpemF0aW9uc0RlbGVnYXRlcywKICAgICAgbG9jYWxlOiByZWYud2F0Y2gobG9jYWxlUHJvdmlkZXIpLCcnJwogICAgICA6ICcnOwoKICByZXR1cm4gJycnCi8vLyBNYWluIEFwcCB3aWRnZXQgdGhhdCBjb25maWd1cmVzIHRoZSBhcHBsaWNhdGlvbiB1c2luZyBSaXZlcnBvZC4KY2xhc3MgQXBwIGV4dGVuZHMgU3RhdGVsZXNzV2lkZ2V0IHsKICAvLy8gQ3JlYXRlcyBhIG5ldyBBcHAgaW5zdGFuY2UuCiAgY29uc3QgQXBwKHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBQcm92aWRlclNjb3BlKAogICAgICBjaGlsZDogQ29uc3VtZXIoCiAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHJlZiwgXykgewogICAgICAgICAgcmV0dXJuIE1hdGVyaWFsQXBwKAogICAgICAgICAgICB0aXRsZTogJyRwcm9qZWN0TmFtZScsCiAgICAgICAgICAgIGRlYnVnU2hvd0NoZWNrZWRNb2RlQmFubmVyOiBmYWxzZSwKJHRoZW1lQ29uZmlnCiRsb2NhbGl6YXRpb25Db25maWcKICAgICAgICAgICAgaG9tZTogY29uc3QgRmx1dHRlckJ1bm55U2NyZWVuKCksCiAgICAgICAgICApOwogICAgICAgIH0sCiAgICAgICksCiAgICApOwogIH0KfQonJyc7Cn0KCi8vLyBHZW5lcmF0ZSBHZXRYIGltcGxlbWVudGF0aW9uIG9mIEFwcApTdHJpbmcgX2dlbmVyYXRlR2V0WEFwcENsYXNzKFN0cmluZyBwcm9qZWN0TmFtZSwgTGlzdDxkeW5hbWljPiBtb2R1bGVzKSB7CiAgZmluYWwgaGFzVGhlbWUgPSBtb2R1bGVzLmNvbnRhaW5zKCdUaGVtZSBNYW5hZ2VyJyk7CiAgZmluYWwgaGFzTG9jYWxpemF0aW9uID0gbW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJyk7CiAgZmluYWwgaGFzUHVzaE5vdGlmaWNhdGlvbiA9IG1vZHVsZXMuY29udGFpbnMoJ1B1c2ggTm90aWZpY2F0aW9uJyk7CgogIGZpbmFsIHRoZW1lQ29uZmlnID0gaGFzVGhlbWUKICAgICAgPyAnJycKICAgICAgdGhlbWU6IEFwcFRoZW1lLmxpZ2h0LAogICAgICBkYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssCiAgICAgIHRoZW1lTW9kZTogR2V0LmZpbmQ8VGhlbWVDb250cm9sbGVyPigpLnRoZW1lTW9kZSwnJycKICAgICAgOiAnJycKICAgICAgdGhlbWU6IFRoZW1lRGF0YS5saWdodCh1c2VNYXRlcmlhbDM6IHRydWUpLAogICAgICBkYXJrVGhlbWU6IFRoZW1lRGF0YS5kYXJrKHVzZU1hdGVyaWFsMzogdHJ1ZSksJycnOwoKICBmaW5hbCBsb2NhbGl6YXRpb25Db25maWcgPSBoYXNMb2NhbGl6YXRpb24KICAgICAgPyAnJycKICAgICAgc3VwcG9ydGVkTG9jYWxlczogQXBwTG9jYWxpemF0aW9ucy5zdXBwb3J0ZWRMb2NhbGVzLAogICAgICBsb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBBcHBMb2NhbGl6YXRpb25zLmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXMsCiAgICAgIGxvY2FsZTogR2V0LmZpbmQ8TG9jYWxpemF0aW9uQ29udHJvbGxlcj4oKS5sb2NhbGUsCiAgICAgIHRyYW5zbGF0aW9uczogQXBwVHJhbnNsYXRpb25zKCksJycnCiAgICAgIDogJyc7CgogIHJldHVybiAnJycKLy8vIE1haW4gQXBwIHdpZGdldCB0aGF0IGNvbmZpZ3VyZXMgdGhlIGFwcGxpY2F0aW9uIHVzaW5nIEdldFguCmNsYXNzIEFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgLy8vIENyZWF0ZXMgYSBuZXcgQXBwIGluc3RhbmNlLgogIGNvbnN0IEFwcCh7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gR2V0TWF0ZXJpYWxBcHAoCiAgICAgIHRpdGxlOiAnJHByb2plY3ROYW1lJywKICAgICAgZGVidWdTaG93Q2hlY2tlZE1vZGVCYW5uZXI6IGZhbHNlLAokdGhlbWVDb25maWcKJGxvY2FsaXphdGlvbkNvbmZpZwogICAgICBob21lOiBjb25zdCBGbHV0dGVyQnVubnlTY3JlZW4oKSwKICAgICk7CiAgfQp9CicnJzsKfQoKLy8vIEdlbmVyYXRlIE1vYlggaW1wbGVtZW50YXRpb24gb2YgQXBwClN0cmluZyBfZ2VuZXJhdGVNb2JYQXBwQ2xhc3MoU3RyaW5nIHByb2plY3ROYW1lLCBMaXN0PGR5bmFtaWM+IG1vZHVsZXMpIHsKICBmaW5hbCBoYXNUaGVtZSA9IG1vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKTsKICBmaW5hbCBoYXNMb2NhbGl6YXRpb24gPSBtb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKTsKICBmaW5hbCBoYXNQdXNoTm90aWZpY2F0aW9uID0gbW9kdWxlcy5jb250YWlucygnUHVzaCBOb3RpZmljYXRpb24nKTsKCiAgZmluYWwgdGhlbWVDb25maWcgPSBoYXNUaGVtZQogICAgICA/ICcnJwogICAgICB0aGVtZTogQXBwVGhlbWUubGlnaHQsCiAgICAgIGRhcmtUaGVtZTogQXBwVGhlbWUuZGFyaywKICAgICAgdGhlbWVNb2RlOiB0aGVtZVN0b3JlLmZsdXR0ZXJUaGVtZU1vZGUsJycnCiAgICAgIDogJycnCiAgICAgIHRoZW1lOiBUaGVtZURhdGEubGlnaHQodXNlTWF0ZXJpYWwzOiB0cnVlKSwKICAgICAgZGFya1RoZW1lOiBUaGVtZURhdGEuZGFyayh1c2VNYXRlcmlhbDM6IHRydWUpLCcnJzsKCiAgZmluYWwgbG9jYWxpemF0aW9uQ29uZmlnID0gaGFzTG9jYWxpemF0aW9uCiAgICAgID8gJycnCiAgICAgIHN1cHBvcnRlZExvY2FsZXM6IEFwcExvY2FsaXphdGlvbnMuc3VwcG9ydGVkTG9jYWxlcywKICAgICAgbG9jYWxpemF0aW9uc0RlbGVnYXRlczogQXBwTG9jYWxpemF0aW9ucy5sb2NhbGl6YXRpb25zRGVsZWdhdGVzLAogICAgICBsb2NhbGU6IGxvY2FsaXphdGlvblN0b3JlLmxvY2FsZSwnJycKICAgICAgOiAnJzsKCiAgcmV0dXJuICcnJwovLy8gTWFpbiBBcHAgd2lkZ2V0IHRoYXQgY29uZmlndXJlcyB0aGUgYXBwbGljYXRpb24gdXNpbmcgTW9iWC4KY2xhc3MgQXBwIGV4dGVuZHMgU3RhdGVsZXNzV2lkZ2V0IHsKICAvLy8gQ3JlYXRlcyBhIG5ldyBBcHAgaW5zdGFuY2UuCiAgY29uc3QgQXBwKHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBPYnNlcnZlcigKICAgICAgYnVpbGRlcjogKF8pIHsKICAgICAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCiAgICAgICAgICB0aXRsZTogJyRwcm9qZWN0TmFtZScsCiAgICAgICAgICBkZWJ1Z1Nob3dDaGVja2VkTW9kZUJhbm5lcjogZmFsc2UsCiR0aGVtZUNvbmZpZwokbG9jYWxpemF0aW9uQ29uZmlnCiAgICAgICAgICBob21lOiBjb25zdCBGbHV0dGVyQnVubnlTY3JlZW4oKSwKICAgICAgICApOwogICAgICB9LAogICAgKTsKICB9Cn0KJycnOwp9CgovLy8gR2VuZXJhdGUgUmVkdXggaW1wbGVtZW50YXRpb24gb2YgQXBwClN0cmluZyBfZ2VuZXJhdGVSZWR1eEFwcENsYXNzKFN0cmluZyBwcm9qZWN0TmFtZSwgTGlzdDxkeW5hbWljPiBtb2R1bGVzKSB7CiAgZmluYWwgaGFzVGhlbWUgPSBtb2R1bGVzLmNvbnRhaW5zKCdUaGVtZSBNYW5hZ2VyJyk7CiAgZmluYWwgaGFzTG9jYWxpemF0aW9uID0gbW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJyk7CiAgZmluYWwgaGFzUHVzaE5vdGlmaWNhdGlvbiA9IG1vZHVsZXMuY29udGFpbnMoJ1B1c2ggTm90aWZpY2F0aW9uJyk7CgogIFN0cmluZyB0aGVtZUJ1aWxkZXIgPSBoYXNUaGVtZQogICAgICA/ICcnJ1N0b3JlQ29ubmVjdG9yPEFwcFN0YXRlLCBUaGVtZU1vZGU+KAogICAgICAgIGNvbnZlcnRlcjogKHN0b3JlKSA9PiBzdG9yZS5zdGF0ZS50aGVtZVN0YXRlLmZsdXR0ZXJUaGVtZU1vZGUsCiAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHRoZW1lTW9kZSkgeycnJwogICAgICA6ICcnOwoKICBTdHJpbmcgbG9jYWxlQnVpbGRlciA9IGhhc0xvY2FsaXphdGlvbgogICAgICA/ICcnJ1N0b3JlQ29ubmVjdG9yPEFwcFN0YXRlLCBMb2NhbGU+KAogICAgICAgICAgY29udmVydGVyOiAoc3RvcmUpID0+IHN0b3JlLnN0YXRlLmxvY2FsZVN0YXRlLmxvY2FsZSwKICAgICAgICAgIGJ1aWxkZXI6IChjb250ZXh0LCBsb2NhbGUpIHsnJycKICAgICAgOiAnJzsKCiAgU3RyaW5nIGVuZEJ1aWxkZXJzID0gJyc7CiAgaWYgKGhhc1RoZW1lKSBlbmRCdWlsZGVycyArPSAnICAgICAgICB9KSc7CiAgaWYgKGhhc0xvY2FsaXphdGlvbikgZW5kQnVpbGRlcnMgKz0gJyAgICAgICAgICB9KSc7CgogIGZpbmFsIHRoZW1lQ29uZmlnID0gaGFzVGhlbWUKICAgICAgPyAnJycKICAgICAgICAgICAgdGhlbWU6IEFwcFRoZW1lLmxpZ2h0LAogICAgICAgICAgICBkYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssCiAgICAgICAgICAgIHRoZW1lTW9kZTogdGhlbWVNb2RlLCcnJwogICAgICA6ICcnJwogICAgICAgICAgICB0aGVtZTogVGhlbWVEYXRhLmxpZ2h0KHVzZU1hdGVyaWFsMzogdHJ1ZSksCiAgICAgICAgICAgIGRhcmtUaGVtZTogVGhlbWVEYXRhLmRhcmsodXNlTWF0ZXJpYWwzOiB0cnVlKSwnJyc7CgogIGZpbmFsIGxvY2FsaXphdGlvbkNvbmZpZyA9IGhhc0xvY2FsaXphdGlvbgogICAgICA/ICcnJwogICAgICAgICAgICBzdXBwb3J0ZWRMb2NhbGVzOiBBcHBMb2NhbGl6YXRpb25zLnN1cHBvcnRlZExvY2FsZXMsCiAgICAgICAgICAgIGxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IEFwcExvY2FsaXphdGlvbnMubG9jYWxpemF0aW9uc0RlbGVnYXRlcywKICAgICAgICAgICAgbG9jYWxlOiBsb2NhbGUsJycnCiAgICAgIDogJyc7CgogIHJldHVybiAnJycKLy8vIE1haW4gQXBwIHdpZGdldCB0aGF0IGNvbmZpZ3VyZXMgdGhlIGFwcGxpY2F0aW9uIHVzaW5nIFJlZHV4LgpjbGFzcyBBcHAgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIGZpbmFsIFN0b3JlPEFwcFN0YXRlPiBzdG9yZTsKCiAgLy8vIENyZWF0ZXMgYSBuZXcgQXBwIGluc3RhbmNlIHdpdGggdGhlIFJlZHV4IHN0b3JlLgogIGNvbnN0IEFwcCh7S2V5PyBrZXksIHJlcXVpcmVkIHRoaXMuc3RvcmV9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gU3RvcmVQcm92aWRlcjxBcHBTdGF0ZT4oCiAgICAgIHN0b3JlOiBzdG9yZSwKICAgICAgY2hpbGQ6ICR7dGhlbWVCdWlsZGVyfQogICAgICAgICR7bG9jYWxlQnVpbGRlcn0KICAgICAgICAgIHJldHVybiBNYXRlcmlhbEFwcCgKICAgICAgICAgICAgdGl0bGU6ICckcHJvamVjdE5hbWUnLAogICAgICAgICAgICBkZWJ1Z1Nob3dDaGVja2VkTW9kZUJhbm5lcjogZmFsc2UsCiR0aGVtZUNvbmZpZwokbG9jYWxpemF0aW9uQ29uZmlnCiAgICAgICAgICAgIGhvbWU6IGNvbnN0IEZsdXR0ZXJCdW5ueVNjcmVlbigpLAogICAgICAgICAgKTsKICAgICAgICAke2VuZEJ1aWxkZXJzfQogICAgICApLAogICAgKTsKICB9Cn0KJycnOwp9CgovLy8gR2VuZXJhdGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBvZiBBcHAgd2l0aCBpbnRlcm5hbCBzdGF0ZSBtYW5hZ2VtZW50ClN0cmluZyBfZ2VuZXJhdGVEZWZhdWx0QXBwQ2xhc3MoU3RyaW5nIHByb2plY3ROYW1lLCBMaXN0PGR5bmFtaWM+IG1vZHVsZXMpIHsKICBmaW5hbCBoYXNUaGVtZSA9IG1vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKTsKICBmaW5hbCBoYXNMb2NhbGl6YXRpb24gPSBtb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKTsKICBmaW5hbCBoYXNQdXNoTm90aWZpY2F0aW9uID0gbW9kdWxlcy5jb250YWlucygnUHVzaCBOb3RpZmljYXRpb24nKTsKCiAgU3RyaW5nIHRoZW1lSW5pdCA9IGhhc1RoZW1lCiAgICAgID8gJycnCiAgVGhlbWVNb2RlIF90aGVtZU1vZGUgPSBUaGVtZU1vZGUuc3lzdGVtOwogIAogIEBvdmVycmlkZQogIHZvaWQgaW5pdFN0YXRlKCkgewogICAgc3VwZXIuaW5pdFN0YXRlKCk7CiAgICBfaW5pdGlhbGl6ZVRoZW1lKCk7CiAgICAke2hhc0xvY2FsaXphdGlvbiA/ICdfaW5pdGlhbGl6ZUxvY2FsZSgpOycgOiAnJ30KICB9CiAgCiAgRnV0dXJlPHZvaWQ+IF9pbml0aWFsaXplVGhlbWUoKSBhc3luYyB7CiAgICBhd2FpdCB0aGVtZU1hbmFnZXIuaW5pdGlhbGl6ZSgpOwogICAgc2V0U3RhdGUoKCkgewogICAgICBfdGhlbWVNb2RlID0gdGhlbWVNYW5hZ2VyLnRoZW1lTW9kZTsKICAgIH0pOwogICAgCiAgICAvLyBMaXN0ZW4gZm9yIHRoZW1lIGNoYW5nZXMKICAgIHRoZW1lTWFuYWdlci5hZGRMaXN0ZW5lcihfb25UaGVtZUNoYW5nZWQpOwogIH0KICAKICB2b2lkIF9vblRoZW1lQ2hhbmdlZChUaGVtZU1vZGVFbnVtIHRoZW1lKSB7CiAgICBzZXRTdGF0ZSgoKSB7CiAgICAgIF90aGVtZU1vZGUgPSB0aGVtZS50b1RoZW1lTW9kZSgpOwogICAgfSk7CiAgfQogIAogIEBvdmVycmlkZQogIHZvaWQgZGlzcG9zZSgpIHsKICAgIHRoZW1lTWFuYWdlci5yZW1vdmVMaXN0ZW5lcihfb25UaGVtZUNoYW5nZWQpOwogICAgc3VwZXIuZGlzcG9zZSgpOwogIH0nJycKICAgICAgOiAnJzsKCiAgU3RyaW5nIGxvY2FsZUluaXQgPSBoYXNMb2NhbGl6YXRpb24KICAgICAgPyAnJycKICBMb2NhbGUgX2xvY2FsZSA9IGNvbnN0IExvY2FsZSgnZW4nKTsKCiAgJHshaGFzVGhlbWUgPyAnQG92ZXJyaWRlXG4gIHZvaWQgaW5pdFN0YXRlKCkge1xuICAgIHN1cGVyLmluaXRTdGF0ZSgpO1xuICAgIF9pbml0aWFsaXplTG9jYWxlKCk7XG4gIH1cbicgOiAnJ30KICAKICBGdXR1cmU8dm9pZD4gX2luaXRpYWxpemVMb2NhbGUoKSBhc3luYyB7CiAgICAvLyBJbXBsZW1lbnRhdGlvbiBkZXBlbmRzIG9uIGhvdyBsb2NhbGUgaXMgc3RvcmVkCiAgICBpZiAobG9jYWxlTWFuYWdlciAhPSBudWxsKSB7CiAgICAgIHNldFN0YXRlKCgpIHsKICAgICAgICBfbG9jYWxlID0gbG9jYWxlTWFuYWdlci5sb2NhbGU7CiAgICAgIH0pOwogICAgICAKICAgICAgbG9jYWxlTWFuYWdlci5hZGRMaXN0ZW5lcigobG9jYWxlKSB7CiAgICAgICAgc2V0U3RhdGUoKCkgewogICAgICAgICAgX2xvY2FsZSA9IGxvY2FsZTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9CiAgfScnJwogICAgICA6ICcnOwoKICBmaW5hbCB0aGVtZUNvbmZpZyA9IGhhc1RoZW1lCiAgICAgID8gJycnCiAgICAgIHRoZW1lOiBBcHBUaGVtZS5saWdodCwKICAgICAgZGFya1RoZW1lOiBBcHBUaGVtZS5kYXJrLAogICAgICB0aGVtZU1vZGU6IF90aGVtZU1vZGUsJycnCiAgICAgIDogJycnCiAgICAgIHRoZW1lOiBUaGVtZURhdGEubGlnaHQodXNlTWF0ZXJpYWwzOiB0cnVlKSwKICAgICAgZGFya1RoZW1lOiBUaGVtZURhdGEuZGFyayh1c2VNYXRlcmlhbDM6IHRydWUpLCcnJzsKCiAgZmluYWwgbG9jYWxpemF0aW9uQ29uZmlnID0gaGFzTG9jYWxpemF0aW9uCiAgICAgID8gJycnCiAgICAgIHN1cHBvcnRlZExvY2FsZXM6IEFwcExvY2FsaXphdGlvbnMuc3VwcG9ydGVkTG9jYWxlcywKICAgICAgbG9jYWxpemF0aW9uc0RlbGVnYXRlczogQXBwTG9jYWxpemF0aW9ucy5sb2NhbGl6YXRpb25zRGVsZWdhdGVzLAogICAgICBsb2NhbGU6IF9sb2NhbGUsJycnCiAgICAgIDogJyc7CgogIHJldHVybiAnJycKLy8vIE1haW4gQXBwIHdpZGdldCB0aGF0IGNvbmZpZ3VyZXMgdGhlIGFwcGxpY2F0aW9uIHdpdGggaW50ZXJuYWwgc3RhdGUgbWFuYWdlbWVudC4KY2xhc3MgQXBwIGV4dGVuZHMgU3RhdGVmdWxXaWRnZXQgewogIC8vLyBDcmVhdGVzIGEgbmV3IEFwcCBpbnN0YW5jZS4KICBjb25zdCBBcHAoe0tleT8ga2V5fSkgOiBzdXBlcihrZXk6IGtleSk7CgogIEBvdmVycmlkZQogIF9BcHBTdGF0ZSBjcmVhdGVTdGF0ZSgpID0+IF9BcHBTdGF0ZSgpOwp9CgpjbGFzcyBfQXBwU3RhdGUgZXh0ZW5kcyBTdGF0ZTxBcHA+IHsKJHRoZW1lSW5pdAokbG9jYWxlSW5pdAoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBNYXRlcmlhbEFwcCgKICAgICAgdGl0bGU6ICckcHJvamVjdE5hbWUnLAogICAgICBkZWJ1Z1Nob3dDaGVja2VkTW9kZUJhbm5lcjogZmFsc2UsCiR0aGVtZUNvbmZpZwokbG9jYWxpemF0aW9uQ29uZmlnCiAgICAgIGhvbWU6IGNvbnN0IEZsdXR0ZXJCdW5ueVNjcmVlbigpLAogICAgKTsKICB9Cn0KJycnOwp9CgovLyAvLy8gR2VuZXJhdGUgYSBzdGF0ZWxlc3MgQXBwIGNsYXNzIGZvciBleHRlcm5hbCBzdGF0ZSBtYW5hZ2VtZW50Ci8vIFN0cmluZyBfZ2VuZXJhdGVTdGF0ZWxlc3NBcHBDbGFzcyhTdHJpbmcgcHJvamVjdE5hbWUsIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQsCi8vICAgICBMaXN0PGR5bmFtaWM+IG1vZHVsZXMsIFN0cmluZyBob21lUGFnZSkgewovLyAgIC8vIFRoZW1lIGNvZGUgYmFzZWQgb24gc3RhdGUgbWFuYWdlbWVudAovLyAgIFN0cmluZyB0aGVtZUNvZGUgPSAnJzsKLy8gICBpZiAobW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpKSB7Ci8vICAgICBzd2l0Y2ggKHN0YXRlTWFuYWdlbWVudCkgewovLyAgICAgICBjYXNlICdQcm92aWRlcic6Ci8vICAgICAgICAgdGhlbWVDb2RlID0gJycnCi8vICAgICAgIC8vIFRoZW1lIGNvbmZpZ3VyZWQgZnJvbSBQcm92aWRlcgovLyAgICAgICB0aGVtZTogQXBwVGhlbWUubGlnaHQsCi8vICAgICAgIGRhcmtUaGVtZTogQXBwVGhlbWUuZGFyaywKLy8gICAgICAgdGhlbWVNb2RlOiB0aGVtZU1vZGUgPz8gVGhlbWVNb2RlLnN5c3RlbSwnJyc7Ci8vICAgICAgICAgYnJlYWs7Ci8vICAgICAgIGNhc2UgJ0Jsb2MnOgovLyAgICAgICBjYXNlICdCTG9DJzoKLy8gICAgICAgICB0aGVtZUNvZGUgPSAnJycKLy8gICAgICAgLy8gVGhlbWUgY29uZmlndXJlZCBmcm9tIEJMb0MKLy8gICAgICAgdGhlbWU6IEFwcFRoZW1lLmxpZ2h0LAovLyAgICAgICBkYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssCi8vICAgICAgIHRoZW1lTW9kZTogdGhlbWVNb2RlID8/IFRoZW1lTW9kZS5zeXN0ZW0sJycnOwovLyAgICAgICAgIGJyZWFrOwovLyAgICAgICBjYXNlICdSaXZlcnBvZCc6Ci8vICAgICAgICAgdGhlbWVDb2RlID0gJycnCi8vICAgICAgIC8vIFRoZW1lIGNvbmZpZ3VyZWQgZnJvbSBSaXZlcnBvZAovLyAgICAgICB0aGVtZTogQXBwVGhlbWUubGlnaHQsCi8vICAgICAgIGRhcmtUaGVtZTogQXBwVGhlbWUuZGFyaywKLy8gICAgICAgdGhlbWVNb2RlOiB0aGVtZU1vZGUgPz8gVGhlbWVNb2RlLnN5c3RlbSwnJyc7Ci8vICAgICAgICAgYnJlYWs7Ci8vICAgICAgIGNhc2UgJ0dldFgnOgovLyAgICAgICAgIHRoZW1lQ29kZSA9ICcnJwovLyAgICAgICAvLyBUaGVtZSBpcyBjb25maWd1cmVkIGluIEdldE1hdGVyaWFsQXBwIHRocm91Z2ggR2V0WCBjb250cm9sbGVyJycnOwovLyAgICAgICAgIGJyZWFrOwovLyAgICAgICBjYXNlICdNb2JYJzoKLy8gICAgICAgICB0aGVtZUNvZGUgPSAnJycKLy8gICAgICAgLy8gVGhlbWUgY29uZmlndXJlZCBmcm9tIE1vYlggc3RvcmUKLy8gICAgICAgdGhlbWU6IEFwcFRoZW1lLmxpZ2h0LAovLyAgICAgICBkYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssCi8vICAgICAgIHRoZW1lTW9kZTogdGhlbWVNb2RlID8/IFRoZW1lTW9kZS5zeXN0ZW0sJycnOwovLyAgICAgICAgIGJyZWFrOwovLyAgICAgICBjYXNlICdSZWR1eCc6Ci8vICAgICAgICAgdGhlbWVDb2RlID0gJycnCi8vICAgICAgIC8vIFRoZW1lIGNvbmZpZ3VyZWQgZnJvbSBSZWR1eCBzdG9yZQovLyAgICAgICB0aGVtZTogQXBwVGhlbWUubGlnaHQsCi8vICAgICAgIGRhcmtUaGVtZTogQXBwVGhlbWUuZGFyaywKLy8gICAgICAgdGhlbWVNb2RlOiB0aGVtZU1vZGUgPz8gVGhlbWVNb2RlLnN5c3RlbSwnJyc7Ci8vICAgICAgICAgYnJlYWs7Ci8vICAgICAgIGRlZmF1bHQ6Ci8vICAgICAgICAgdGhlbWVDb2RlID0gJycnCi8vICAgICAgIC8vIERlZmF1bHQgdGhlbWUgY29uZmlndXJhdGlvbgovLyAgICAgICB0aGVtZTogQXBwVGhlbWUubGlnaHQsCi8vICAgICAgIGRhcmtUaGVtZTogQXBwVGhlbWUuZGFyaywKLy8gICAgICAgdGhlbWVNb2RlOiB0aGVtZU1vZGUgPz8gVGhlbWVNb2RlLnN5c3RlbSwnJyc7Ci8vICAgICB9Ci8vICAgfSBlbHNlIHsKLy8gICAgIC8vIE5vIFRoZW1lIE1hbmFnZXIgbW9kdWxlCi8vICAgICB0aGVtZUNvZGUgPSAnJycKLy8gICAgICAgLy8gRGVmYXVsdCB0aGVtZSBjb25maWd1cmF0aW9uCi8vICAgICAgIHRoZW1lOiBUaGVtZURhdGEubGlnaHQodXNlTWF0ZXJpYWwzOiB0cnVlKSwKLy8gICAgICAgZGFya1RoZW1lOiBUaGVtZURhdGEuZGFyayh1c2VNYXRlcmlhbDM6IHRydWUpLAovLyAgICAgICB0aGVtZU1vZGU6IHRoZW1lTW9kZSA/PyBUaGVtZU1vZGUuc3lzdGVtLCcnJzsKLy8gICB9CgovLyAgIC8vIExvY2FsaXphdGlvbiBjb2RlIGJhc2VkIG9uIHN0YXRlIG1hbmFnZW1lbnQKLy8gICBTdHJpbmcgbG9jYWxpemF0aW9uQ29kZSA9ICcnOwovLyAgIGlmIChtb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKSkgewovLyAgICAgc3dpdGNoIChzdGF0ZU1hbmFnZW1lbnQpIHsKLy8gICAgICAgY2FzZSAnUHJvdmlkZXInOgovLyAgICAgICAgIGxvY2FsaXphdGlvbkNvZGUgPSAnJycKLy8gICAgICAgLy8gRGVmYXVsdCBsb2NhbGl6YXRpb24gY29uZmlndXJhdGlvbgovLyAgICAgICBzdXBwb3J0ZWRMb2NhbGVzOiBjb25zdCBbTG9jYWxlKCdlbicsICcnKV0sCi8vICAgICAgIGxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IGNvbnN0IFsKLy8gICAgICAgICBHbG9iYWxNYXRlcmlhbExvY2FsaXphdGlvbnMuZGVsZWdhdGUsCi8vICAgICAgICAgR2xvYmFsV2lkZ2V0c0xvY2FsaXphdGlvbnMuZGVsZWdhdGUsCi8vICAgICAgICAgR2xvYmFsQ3VwZXJ0aW5vTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSwKLy8gICAgICAgXSwnJyc7Ci8vICAgICAgIGNhc2UgJ0JMb0MnOgovLyAgICAgICAgIGxvY2FsaXphdGlvbkNvZGUgPSAnJycKLy8gICAgICAgLy8gRGVmYXVsdCBsb2NhbGl6YXRpb24gY29uZmlndXJhdGlvbgovLyAgICAgICBzdXBwb3J0ZWRMb2NhbGVzOiBjb25zdCBbTG9jYWxlKCdlbicsICcnKV0sCi8vICAgICAgIGxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IGNvbnN0IFsKLy8gICAgICAgICBHbG9iYWxNYXRlcmlhbExvY2FsaXphdGlvbnMuZGVsZWdhdGUsCi8vICAgICAgICAgR2xvYmFsV2lkZ2V0c0xvY2FsaXphdGlvbnMuZGVsZWdhdGUsCi8vICAgICAgICAgR2xvYmFsQ3VwZXJ0aW5vTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSwKLy8gICAgICAgXSwnJyc7Ci8vICAgICAgIGNhc2UgJ1JpdmVycG9kJzoKLy8gICAgICAgICBsb2NhbGl6YXRpb25Db2RlID0gJycnCi8vICAgICAgIC8vIERlZmF1bHQgbG9jYWxpemF0aW9uIGNvbmZpZ3VyYXRpb24KLy8gICAgICAgc3VwcG9ydGVkTG9jYWxlczogY29uc3QgW0xvY2FsZSgnZW4nLCAnJyldLAovLyAgICAgICBsb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBjb25zdCBbCi8vICAgICAgICAgR2xvYmFsTWF0ZXJpYWxMb2NhbGl6YXRpb25zLmRlbGVnYXRlLAovLyAgICAgICAgIEdsb2JhbFdpZGdldHNMb2NhbGl6YXRpb25zLmRlbGVnYXRlLAovLyAgICAgICAgIEdsb2JhbEN1cGVydGlub0xvY2FsaXphdGlvbnMuZGVsZWdhdGUsCi8vICAgICAgIF0sJycnOwovLyAgICAgICBjYXNlICdNb2JYJzoKLy8gICAgICAgICBsb2NhbGl6YXRpb25Db2RlID0gJycnCi8vICAgICAgIC8vIERlZmF1bHQgbG9jYWxpemF0aW9uIGNvbmZpZ3VyYXRpb24KLy8gICAgICAgc3VwcG9ydGVkTG9jYWxlczogY29uc3QgW0xvY2FsZSgnZW4nLCAnJyldLAovLyAgICAgICBsb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBjb25zdCBbCi8vICAgICAgICAgR2xvYmFsTWF0ZXJpYWxMb2NhbGl6YXRpb25zLmRlbGVnYXRlLAovLyAgICAgICAgIEdsb2JhbFdpZGdldHNMb2NhbGl6YXRpb25zLmRlbGVnYXRlLAovLyAgICAgICAgIEdsb2JhbEN1cGVydGlub0xvY2FsaXphdGlvbnMuZGVsZWdhdGUsCi8vICAgICAgIF0sJycnOwovLyAgICAgICBjYXNlICdSZWR1eCc6Ci8vICAgICAgICAgbG9jYWxpemF0aW9uQ29kZSA9ICcnJwovLyAgICAgICAvLyBMb2NhbGl6YXRpb24gY29uZmlndXJhdGlvbgovLyAgICAgICBzdXBwb3J0ZWRMb2NhbGVzOiBBcHBMb2NhbGl6YXRpb25zLnN1cHBvcnRlZExvY2FsZXMsCi8vICAgICAgIGxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IEFwcExvY2FsaXphdGlvbnMubG9jYWxpemF0aW9uc0RlbGVnYXRlcywKLy8gICAgICAgbG9jYWxlOiBsb2NhbGUsJycnOwovLyAgICAgICAgIGJyZWFrOwovLyAgICAgICBjYXNlICdHZXRYJzoKLy8gICAgICAgICAvLyBHZXRYIGhhbmRsZXMgbG9jYWxpemF0aW9uIGRpZmZlcmVudGx5IHRocm91Z2ggR2V0TWF0ZXJpYWxBcHAKLy8gICAgICAgICBsb2NhbGl6YXRpb25Db2RlID0gJycnCi8vICAgICAgIC8vIExvY2FsaXphdGlvbiBpcyBjb25maWd1cmVkIGluIEdldE1hdGVyaWFsQXBwJycnOwovLyAgICAgICAgIGJyZWFrOwovLyAgICAgICBkZWZhdWx0OgovLyAgICAgICAgIGxvY2FsaXphdGlvbkNvZGUgPSAnJycKLy8gICAgICAgLy8gTG9jYWxpemF0aW9uIGNvbmZpZ3VyYXRpb24KLy8gICAgICAgc3VwcG9ydGVkTG9jYWxlczogU3RyaW5ncy5zdXBwb3J0ZWRMb2NhbGVzLAovLyAgICAgICBsb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBTdHJpbmdzLmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXMsJycnOwovLyAgICAgfQovLyAgIH0KCi8vICAgU3RyaW5nIGNvbnN0cnVjdG9yID0gJyc7Ci8vICAgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnR2V0WCcpIHsKLy8gICAgIC8vIEdldFggZG9lc24ndCBuZWVkIHRoZW1lTW9kZSBvciBsb2NhbGUgaW4gY29uc3RydWN0b3IKLy8gICAgIGNvbnN0cnVjdG9yID0gJycnCi8vICAgLy8vIENyZWF0ZXMgYSBuZXcgQXBwIGluc3RhbmNlLgovLyAgIGNvbnN0IEFwcCh7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsnJyc7Ci8vICAgfSBlbHNlIHsKLy8gICAgIC8vIE90aGVyIHN0YXRlIG1hbmFnZW1lbnQgc29sdXRpb25zIG5lZWQgdGhlbWVNb2RlIGFuZCBwb3RlbnRpYWxseSBsb2NhbGUKLy8gICAgIFN0cmluZyBsb2NhbGVQYXJhbSA9Ci8vICAgICAgICAgbW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAndGhpcy5sb2NhbGUsICcgOiAnJzsKLy8gICAgIGNvbnN0cnVjdG9yID0gJycnCi8vICAgLy8vIENyZWF0ZXMgYSBuZXcgQXBwIGluc3RhbmNlLgovLyAgIGNvbnN0IEFwcCh7Ci8vICAgICBLZXk/IGtleSwgCi8vICAgICB0aGlzLnRoZW1lTW9kZSR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnLCB0aGlzLmxvY2FsZScgOiAnJ30KLy8gICB9KSA6IHN1cGVyKGtleToga2V5KTsnJyc7Ci8vICAgfQoKLy8gICAvLyBGb3IgR2V0WCwgd2UgbmVlZCBhIGRpZmZlcmVudCBhcHByb2FjaCBhcyBpdCByZXF1aXJlcyBHZXRNYXRlcmlhbEFwcAovLyAgIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ0dldFgnKSB7Ci8vICAgICByZXR1cm4gJycnCi8vIC8vLyBNYWluIEFwcCB3aWRnZXQgdXNpbmcgR2V0WCBhcmNoaXRlY3R1cmUuCi8vIC8vLwovLyAvLy8gVGhpcyBpcyB0aGUgcm9vdCB3aWRnZXQgb2YgdGhlIGFwcGxpY2F0aW9uIHRoYXQgc2V0cyB1cCB0aGUgR2V0TWF0ZXJpYWxBcHAKLy8gLy8vIHdpdGggYXBwcm9wcmlhdGUgdGhlbWUsIGxvY2FsaXphdGlvbiwgYW5kIHJvdXRpbmcgY29uZmlndXJhdGlvbnMuCi8vIGNsYXNzIEFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7Ci8vICAgJGNvbnN0cnVjdG9yCgovLyAgIEBvdmVycmlkZQovLyAgIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewovLyAgICAgcmV0dXJuIEdldE1hdGVyaWFsQXBwKAovLyAgICAgICB0aXRsZTogJyR7cHJvamVjdE5hbWV9JywKLy8gICAgICAgZGVidWdTaG93Q2hlY2tlZE1vZGVCYW5uZXI6IGZhbHNlLAovLyAgICAgICAke21vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKSA/ICcvLyBUaGVtZSBpcyBtYW5hZ2VkIGJ5IEdldFggY29udHJvbGxlclxudGhlbWU6IEFwcFRoZW1lLmxpZ2h0LFxuZGFya1RoZW1lOiBBcHBUaGVtZS5kYXJrLFxudGhlbWVNb2RlOiBHZXQuZmluZDxUaGVtZUNvbnRyb2xsZXI+KCkudGhlbWVNb2RlLCcgOiAnJ30KLy8gICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKSA/ICcvLyBMb2NhbGl6YXRpb24gaXMgbWFuYWdlZCBieSBHZXRYXG5zdXBwb3J0ZWRMb2NhbGVzOiBTdHJpbmdzLnN1cHBvcnRlZExvY2FsZXMsXG5sb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBTdHJpbmdzLmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXMsJyA6ICcnfQovLyAgICAgICAke21vZHVsZXMuY29udGFpbnMoJ1JvdXRpbmcnKSA/ICcvLyBSb3V0aW5nIGNvbmZpZ3VyYXRpb25cbmluaXRpYWxSb3V0ZTogXCcvXCcsXG5nZXRQYWdlczogQXBwUGFnZXMucm91dGVzLCcgOiAnaG9tZTogJGhvbWVQYWdlLCd9Ci8vICAgICApOwovLyAgIH0KLy8gfScnJzsKLy8gICB9CgovLyAgIC8vIEZvciBvdGhlciBzdGF0ZSBtYW5hZ2VtZW50IGFwcHJvYWNoZXMKLy8gICByZXR1cm4gJycnCi8vIC8vLyBNYWluIEFwcCB3aWRnZXQgdGhhdCBjb25maWd1cmVzIHRoZSBhcHBsaWNhdGlvbi4KLy8gLy8vCi8vIC8vLyBUaGlzIGlzIHRoZSByb290IHdpZGdldCBvZiB0aGUgYXBwbGljYXRpb24gdGhhdCBzZXRzIHVwIHRoZSBNYXRlcmlhbEFwcAovLyAvLy8gd2l0aCBhcHByb3ByaWF0ZSB0aGVtZSwgbG9jYWxpemF0aW9uLCBhbmQgcm91dGluZyBjb25maWd1cmF0aW9ucy4KLy8gY2xhc3MgQXBwIGV4dGVuZHMgU3RhdGVsZXNzV2lkZ2V0IHsKLy8gICAvLy8gVGhlIHRoZW1lIG1vZGUgdG8gdXNlIGZvciB0aGUgYXBwLgovLyAgIGZpbmFsIFRoZW1lTW9kZT8gdGhlbWVNb2RlOwovLyAgICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnXG4gIC8vLyBUaGUgbG9jYWxlIHRvIHVzZSBmb3IgdGhlIGFwcC5cbiAgZmluYWwgTG9jYWxlPyBsb2NhbGU7JyA6ICcnfQoKLy8gICAkY29uc3RydWN0b3IKCi8vICAgQG92ZXJyaWRlCi8vICAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7Ci8vICAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCi8vICAgICAgIHRpdGxlOiAnJHtwcm9qZWN0TmFtZX0nLAovLyAgICAgICBkZWJ1Z1Nob3dDaGVja2VkTW9kZUJhbm5lcjogZmFsc2UsCi8vICR0aGVtZUNvZGUKLy8gJGxvY2FsaXphdGlvbkNvZGUKLy8gICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdSb3V0aW5nJykgPyAnLy8gUm91dGluZyBjb25maWd1cmF0aW9uXG5pbml0aWFsUm91dGU6IFwnL1wnLFxub25HZW5lcmF0ZVJvdXRlOiBBcHBSb3V0ZXIub25HZW5lcmF0ZVJvdXRlLCcgOiAnLy8gU2V0IHRoZSBob21lIHBhZ2UgYmFzZWQgb24gc2VsZWN0ZWQgZmVhdHVyZXNcbmhvbWU6ICRob21lUGFnZSwnfQovLyAgICAgKTsKLy8gICB9Ci8vIH0nJyc7Ci8vIH0KCi8vIC8vLyBHZW5lcmF0ZSBhIHN0YXRlZnVsIEFwcCBjbGFzcyBmb3IgaW50ZXJuYWwgc3RhdGUgbWFuYWdlbWVudAovLyBTdHJpbmcgX2dlbmVyYXRlU3RhdGVmdWxBcHBDbGFzcygKLy8gICAgIFN0cmluZyBwcm9qZWN0TmFtZSwgU3RyaW5nIHN0YXRlTWFuYWdlbWVudCwgTGlzdDxkeW5hbWljPiBtb2R1bGVzKSB7Ci8vICAgLy8gR2V0IHRoZW1lIGluaXRpYWxpemF0aW9uIGNvZGUgZm9yIHN0YXRlZnVsIGFwcAovLyAgIFN0cmluZyB0aGVtZUluaXRDb2RlID0gbW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpCi8vICAgICAgID8gJycnCi8vICAgVGhlbWVNb2RlIF90aGVtZU1vZGUgPSBUaGVtZU1vZGUuc3lzdGVtOwogIAovLyAgIEBvdmVycmlkZQovLyAgIHZvaWQgaW5pdFN0YXRlKCkgewovLyAgICAgc3VwZXIuaW5pdFN0YXRlKCk7Ci8vICAgICAvLyBJbml0aWFsaXplIHRoZW1lIGZyb20gdGhlbWUgbWFuYWdlcgovLyAgICAgX2luaXRpYWxpemVUaGVtZSgpOwovLyAgIH0KICAKLy8gICBGdXR1cmU8dm9pZD4gX2luaXRpYWxpemVUaGVtZSgpIGFzeW5jIHsKLy8gICAgIGF3YWl0IHRoZW1lTWFuYWdlci5pbml0aWFsaXplKCk7Ci8vICAgICBzZXRTdGF0ZSgoKSB7Ci8vICAgICAgIF90aGVtZU1vZGUgPSB0aGVtZU1hbmFnZXIudGhlbWVNb2RlOwovLyAgICAgfSk7CiAgICAKLy8gICAgIC8vIExpc3RlbiBmb3IgdGhlbWUgY2hhbmdlcwovLyAgICAgdGhlbWVNYW5hZ2VyLmFkZExpc3RlbmVyKF9vblRoZW1lQ2hhbmdlZCk7Ci8vICAgfQogIAovLyAgIHZvaWQgX29uVGhlbWVDaGFuZ2VkKFRoZW1lTW9kZUVudW0gdGhlbWUpIHsKLy8gICAgIHNldFN0YXRlKCgpIHsKLy8gICAgICAgX3RoZW1lTW9kZSA9IHRoZW1lLnRvVGhlbWVNb2RlKCk7Ci8vICAgICB9KTsKLy8gICB9CiAgCi8vICAgQG92ZXJyaWRlCi8vICAgdm9pZCBkaXNwb3NlKCkgewovLyAgICAgLy8gUmVtb3ZlIHRoZW1lIGxpc3RlbmVyCi8vICAgICB0aGVtZU1hbmFnZXIucmVtb3ZlTGlzdGVuZXIoX29uVGhlbWVDaGFuZ2VkKTsKLy8gICAgIHN1cGVyLmRpc3Bvc2UoKTsKLy8gICB9JycnCi8vICAgICAgIDogJycnCi8vICAgVGhlbWVNb2RlIF90aGVtZU1vZGUgPSBUaGVtZU1vZGUuc3lzdGVtOwogIAovLyAgIEBvdmVycmlkZQovLyAgIHZvaWQgaW5pdFN0YXRlKCkgewovLyAgICAgc3VwZXIuaW5pdFN0YXRlKCk7Ci8vICAgICAvLyBObyB0aGVtZSBtYW5hZ2VyIG1vZHVsZSwgdXNpbmcgc3lzdGVtIGRlZmF1bHQKLy8gICB9JycnOwoKLy8gICAvLyBHZXQgbG9jYWxpemF0aW9uIGluaXRpYWxpemF0aW9uIGNvZGUgZm9yIHN0YXRlZnVsIGFwcAovLyAgIFN0cmluZyBsb2NhbGl6YXRpb25Jbml0Q29kZSA9ICcnOwovLyAgIGlmIChtb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKSkgewovLyAgICAgbG9jYWxpemF0aW9uSW5pdENvZGUgPSAnJycKLy8gICBMb2NhbGUgX2xvY2FsZSA9IGNvbnN0IExvY2FsZSgnZW4nKTsKICAKLy8gICBAb3ZlcnJpZGUKLy8gICB2b2lkIGluaXRTdGF0ZSgpIHsKLy8gICAgIHN1cGVyLmluaXRTdGF0ZSgpOwovLyAgICAgLy8gSW5pdGlhbGl6ZSBsb2NhbGUgZnJvbSBzYXZlZCBwcmVmZXJlbmNlCi8vICAgICBfaW5pdGlhbGl6ZUxvY2FsZSgpOwovLyAgIH0KICAKLy8gICBGdXR1cmU8dm9pZD4gX2luaXRpYWxpemVMb2NhbGUoKSBhc3luYyB7Ci8vICAgICAvLyBJbXBsZW1lbnRhdGlvbiB3b3VsZCBkZXBlbmQgb24gaG93IHlvdSdyZSBzdG9yaW5nIGxvY2FsZSBwcmVmZXJlbmNlcwovLyAgICAgLy8gRXhhbXBsZSBpbXBsZW1lbnRhdGlvbiB3aXRoIHNoYXJlZCBwcmVmZXJlbmNlczoKLy8gICAgIC8vIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKLy8gICAgIC8vIGZpbmFsIGxhbmd1YWdlQ29kZSA9IHByZWZzLmdldFN0cmluZygnbGFuZ3VhZ2VfY29kZScpID8/ICdlbic7Ci8vICAgICAvLyBzZXRTdGF0ZSgoKSB7Ci8vICAgICAvLyAgIF9sb2NhbGUgPSBMb2NhbGUobGFuZ3VhZ2VDb2RlKTsKLy8gICAgIC8vIH0pOwovLyAgIH0KICAKLy8gICB2b2lkIF9zZXRMb2NhbGUoTG9jYWxlIGxvY2FsZSkgewovLyAgICAgc2V0U3RhdGUoKCkgewovLyAgICAgICBfbG9jYWxlID0gbG9jYWxlOwovLyAgICAgfSk7Ci8vICAgICAvLyBTYXZlIHByZWZlcmVuY2UKLy8gICAgIC8vIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKLy8gICAgIC8vIHByZWZzLnNldFN0cmluZygnbGFuZ3VhZ2VfY29kZScsIGxvY2FsZS5sYW5ndWFnZUNvZGUpOwovLyAgIH0nJyc7Ci8vICAgfQoKLy8gICAvLyBDb21iaW5lIGluaXRTdGF0ZSBtZXRob2RzIGlmIGJvdGggdGhlbWUgYW5kIGxvY2FsaXphdGlvbiBhcmUgcHJlc2VudAovLyAgIGlmIChtb2R1bGVzLmNvbnRhaW5zKCdUaGVtZSBNYW5hZ2VyJykgJiYgbW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykpIHsKLy8gICAgIHRoZW1lSW5pdENvZGUgPSB0aGVtZUluaXRDb2RlLnJlcGxhY2VGaXJzdCgKLy8gICAgICAgICAnQG92ZXJyaWRlXG4gIHZvaWQgaW5pdFN0YXRlKCkge1xuICAgIHN1cGVyLmluaXRTdGF0ZSgpO1xuICAgIC8vIEluaXRpYWxpemUgdGhlbWUgZnJvbSB0aGVtZSBtYW5hZ2VyXG4gICAgX2luaXRpYWxpemVUaGVtZSgpO1xuICB9JywKLy8gICAgICAgICAnQG92ZXJyaWRlXG4gIHZvaWQgaW5pdFN0YXRlKCkge1xuICAgIHN1cGVyLmluaXRTdGF0ZSgpO1xuICAgIC8vIEluaXRpYWxpemUgdGhlbWUgYW5kIGxvY2FsZVxuICAgIF9pbml0aWFsaXplVGhlbWUoKTtcbiAgICBfaW5pdGlhbGl6ZUxvY2FsZSgpO1xuICB9Jyk7CgovLyAgICAgLy8gUmVtb3ZlIGR1cGxpY2F0ZSBpbml0U3RhdGUgZnJvbSBsb2NhbGl6YXRpb25Jbml0Q29kZQovLyAgICAgbG9jYWxpemF0aW9uSW5pdENvZGUgPSBsb2NhbGl6YXRpb25Jbml0Q29kZS5yZXBsYWNlRmlyc3QoCi8vICAgICAgICAgJ0BvdmVycmlkZVxuICB2b2lkIGluaXRTdGF0ZSgpIHtcbiAgICBzdXBlci5pbml0U3RhdGUoKTtcbiAgICAvLyBJbml0aWFsaXplIGxvY2FsZSBmcm9tIHNhdmVkIHByZWZlcmVuY2VcbiAgICBfaW5pdGlhbGl6ZUxvY2FsZSgpO1xuICB9JywKLy8gICAgICAgICAnJyk7Ci8vICAgfQoKLy8gICAvLyBCdWlsZCBjbGFzcyB3aXRoIGFwcHJvcHJpYXRlIHN0YXRlIHZhcmlhYmxlcwovLyAgIHJldHVybiAnJycKLy8gLy8vIE1haW4gQXBwIHdpZGdldCB3aXRoIGludGVybmFsIHN0YXRlIG1hbmFnZW1lbnQuCi8vIC8vLwovLyAvLy8gVGhpcyB3aWRnZXQgaGFuZGxlcyB0aGVtZSBhbmQgbG9jYWxpemF0aW9uIHN0YXRlIGludGVybmFsbHkKLy8gLy8vIHNpbmNlIG5vIGV4dGVybmFsIHN0YXRlIG1hbmFnZW1lbnQgc29sdXRpb24gaXMgdXNlZC4KLy8gY2xhc3MgQXBwIGV4dGVuZHMgU3RhdGVmdWxXaWRnZXQgewovLyAgIC8vLyBDcmVhdGVzIGEgbmV3IEFwcCBpbnN0YW5jZS4KLy8gICBjb25zdCBBcHAoe0tleT8ga2V5fSkgOiBzdXBlcihrZXk6IGtleSk7CgovLyAgIEBvdmVycmlkZQovLyAgIF9BcHBTdGF0ZSBjcmVhdGVTdGF0ZSgpID0+IF9BcHBTdGF0ZSgpOwovLyB9CgovLyBjbGFzcyBfQXBwU3RhdGUgZXh0ZW5kcyBTdGF0ZTxBcHA+IHsKLy8gJHRoZW1lSW5pdENvZGUKLy8gJGxvY2FsaXphdGlvbkluaXRDb2RlCgovLyAgIEBvdmVycmlkZQovLyAgIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewovLyAgICAgcmV0dXJuIE1hdGVyaWFsQXBwKAovLyAgICAgICB0aXRsZTogJyRwcm9qZWN0TmFtZScsCi8vICAgICAgIGRlYnVnU2hvd0NoZWNrZWRNb2RlQmFubmVyOiBmYWxzZSwKLy8gICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdUaGVtZSBNYW5hZ2VyJykgPyAnLy8gVGhlbWUgY29uZmlndXJhdGlvblxudGhlbWU6IEFwcFRoZW1lLmxpZ2h0LFxuZGFya1RoZW1lOiBBcHBUaGVtZS5kYXJrLFxudGhlbWVNb2RlOiBfdGhlbWVNb2RlLCcgOiAnLy8gRGVmYXVsdCB0aGVtZSBjb25maWd1cmF0aW9uXG50aGVtZTogVGhlbWVEYXRhLmxpZ2h0KHVzZU1hdGVyaWFsMzogdHJ1ZSksXG5kYXJrVGhlbWU6IFRoZW1lRGF0YS5kYXJrKHVzZU1hdGVyaWFsMzogdHJ1ZSksXG50aGVtZU1vZGU6IF90aGVtZU1vZGUsJ30KLy8gICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKSA/ICcvLyBMb2NhbGl6YXRpb24gY29uZmlndXJhdGlvblxuc3VwcG9ydGVkTG9jYWxlczogU3RyaW5ncy5zdXBwb3J0ZWRMb2NhbGVzLFxubG9jYWxpemF0aW9uc0RlbGVnYXRlczogU3RyaW5ncy5sb2NhbGl6YXRpb25zRGVsZWdhdGVzLFxubG9jYWxlOiBfbG9jYWxlLCcgOiAnLy8gRGVmYXVsdCBsb2NhbGl6YXRpb24gY29uZmlndXJhdGlvblxuc3VwcG9ydGVkTG9jYWxlczogY29uc3QgW0xvY2FsZShcJ2VuXCcsIFwnXCcpXSxcbmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IGNvbnN0IFtcbiAgR2xvYmFsTWF0ZXJpYWxMb2NhbGl6YXRpb25zLmRlbGVnYXRlLFxuICBHbG9iYWxXaWRnZXRzTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSxcbiAgR2xvYmFsQ3VwZXJ0aW5vTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSxcbl0sJ30KLy8gICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdSb3V0aW5nJykgPyAnLy8gUm91dGluZyBjb25maWd1cmF0aW9uXG5pbml0aWFsUm91dGU6IFwnL1wnLFxub25HZW5lcmF0ZVJvdXRlOiBBcHBSb3V0ZXIub25HZW5lcmF0ZVJvdXRlLCcgOiAnLy8gSG9tZSBwYWdlXG5ob21lOiBfYnVpbGRIb21lUGFnZSgpLCd9Ci8vICAgICApOwovLyAgIH0KICAKLy8gICBXaWRnZXQgX2J1aWxkSG9tZVBhZ2UoKSB7Ci8vICAgICAvLyBEZXRlcm1pbmUgaG9tZSBwYWdlIGJhc2VkIG9uIGZlYXR1cmVzCi8vICAgICAvLyBUaGlzIHdvdWxkIGJlIGR5bmFtaWNhbGx5IGdlbmVyYXRlZCBiYXNlZCBvbiBzZWxlY3RlZCBmZWF0dXJlcwovLyAgICAgcmV0dXJuIGNvbnN0IFNjYWZmb2xkKAovLyAgICAgICBib2R5OiBDZW50ZXIoCi8vICAgICAgICAgY2hpbGQ6IFRleHQoJ1dlbGNvbWUgdG8gJHByb2plY3ROYW1lJyksCi8vICAgICAgICksCi8vICAgICApOwovLyAgIH0KLy8gfScnJzsKLy8gfQoKLy8vIEdlbmVyYXRlIGFwcF9yb3V0ZXIuZGFydCBmaWxlIGZvciByb3V0aW5nCnZvaWQgX2dlbmVyYXRlQXBwUm91dGVyRmlsZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBMaXN0PGR5bmFtaWM+IGZlYXR1cmVzLCBTdHJpbmcgYXJjaGl0ZWN0dXJlKSB7CiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9hcHAvYXBwX3JvdXRlci5kYXJ0JzsKCiAgLy8gdGhpcyBpbXBvcnQgY2hhbmdlcyBiYXNlZCBvbiB0aGUgYXJjaGl0ZWN0dXJlIHlvdSBjaG9vc2UKCiAgLy8gR2VuZXJhdGUgaW1wb3J0cyBmb3IgZmVhdHVyZSBwYWdlcwogIGZpbmFsIGltcG9ydFN0YXRlbWVudHMgPSBmZWF0dXJlcy5tYXAoKGZlYXR1cmUpIHsKICAgIGZpbmFsIGZlYXR1cmVOYW1lID0gZmVhdHVyZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkucmVwbGFjZUFsbCgnICcsICdfJyk7CiAgICByZXR1cm4gImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL3ByZXNlbnRhdGlvbi9wYWdlcy8ke2ZlYXR1cmVOYW1lfV9wYWdlLmRhcnQnOyI7CiAgfSkuam9pbignXG4nKTsKCiAgLy8gR2VuZXJhdGUgcm91dGUgY2FzZXMgZm9yIGZlYXR1cmVzCiAgZmluYWwgcm91dGVDYXNlcyA9IGZlYXR1cmVzLm1hcCgoZmVhdHVyZSkgewogICAgZmluYWwgZmVhdHVyZU5hbWUgPSBmZWF0dXJlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5yZXBsYWNlQWxsKCcgJywgJ18nKTsKICAgIGZpbmFsIGNsYXNzTmFtZSA9IHRvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKTsKICAgIHJldHVybiAnJycKICAgICAgY2FzZSAnLyRmZWF0dXJlTmFtZSc6CiAgICAgICAgcmV0dXJuIE1hdGVyaWFsUGFnZVJvdXRlKGJ1aWxkZXI6IChfKSA9PiBjb25zdCAke2NsYXNzTmFtZX1QYWdlKCkpOycnJzsKICB9KS5qb2luKCdcbicpOwoKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwokaW1wb3J0U3RhdGVtZW50cwoKLy8vIEhhbmRsZXMgYXBwbGljYXRpb24gcm91dGluZwpjbGFzcyBBcHBSb3V0ZXIgewogIC8vLyBHZW5lcmF0ZXMgcm91dGVzIGJhc2VkIG9uIHJvdXRlIG5hbWUKICBzdGF0aWMgUm91dGU8ZHluYW1pYz4gb25HZW5lcmF0ZVJvdXRlKFJvdXRlU2V0dGluZ3Mgc2V0dGluZ3MpIHsKICAgIHN3aXRjaCAoc2V0dGluZ3MubmFtZSkgewogICAgICBjYXNlICcvJzoKICAgICAgICAvLyBEZXRlcm1pbmUgdGhlIGhvbWUgcm91dGUgYmFzZWQgb24gZmVhdHVyZXMKICAgICAgICAke2ZlYXR1cmVzLmNvbnRhaW5zKCdBdXRoZW50aWNhdGlvbicpID8gInJldHVybiBNYXRlcmlhbFBhZ2VSb3V0ZShidWlsZGVyOiAoXykgPT4gY29uc3QgQXV0aGVudGljYXRpb25QYWdlKCkpOyIgOiBmZWF0dXJlcy5jb250YWlucygnRGFzaGJvYXJkJykgPyAicmV0dXJuIE1hdGVyaWFsUGFnZVJvdXRlKGJ1aWxkZXI6IChfKSA9PiBjb25zdCBEYXNoYm9hcmRQYWdlKCkpOyIgOiBmZWF0dXJlcy5jb250YWlucygnSG9tZScpID8gInJldHVybiBNYXRlcmlhbFBhZ2VSb3V0ZShidWlsZGVyOiAoXykgPT4gY29uc3QgSG9tZVBhZ2UoKSk7IiA6ICJyZXR1cm4gTWF0ZXJpYWxQYWdlUm91dGUoYnVpbGRlcjogKF8pID0+IGNvbnN0IFNjYWZmb2xkKGJvZHk6IENlbnRlcihjaGlsZDogVGV4dCgnV2VsY29tZScpKSkpOyJ9CiRyb3V0ZUNhc2VzCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuIE1hdGVyaWFsUGFnZVJvdXRlKAogICAgICAgICAgYnVpbGRlcjogKF8pID0+IFNjYWZmb2xkKAogICAgICAgICAgICBib2R5OiBDZW50ZXIoCiAgICAgICAgICAgICAgY2hpbGQ6IFRleHQoJ05vIHJvdXRlIGRlZmluZWQgZm9yIFwke3NldHRpbmdzLm5hbWV9JyksCiAgICAgICAgICAgICksCiAgICAgICAgICApLAogICAgICAgICk7CiAgICB9CiAgfQp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlIGFwcF9tb2R1bGUuZGFydCBmaWxlIGZvciBGZWF0dXJlLURyaXZlbiBhcmNoaXRlY3R1cmUKdm9pZCBfZ2VuZXJhdGVBcHBNb2R1bGVGaWxlKAogICAgSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lLCBMaXN0PGR5bmFtaWM+IGZlYXR1cmVzKSB7CiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9hcHAvYXBwX21vZHVsZS5kYXJ0JzsKCiAgLy8gR2VuZXJhdGUgaW1wb3J0cyBmb3IgZmVhdHVyZSBtb2R1bGVzCiAgZmluYWwgaW1wb3J0U3RhdGVtZW50cyA9IGZlYXR1cmVzLm1hcCgoZmVhdHVyZSkgewogICAgZmluYWwgZmVhdHVyZU5hbWUgPSBmZWF0dXJlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5yZXBsYWNlQWxsKCcgJywgJ18nKTsKICAgIHJldHVybiAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvJHtmZWF0dXJlTmFtZX1fbW9kdWxlLmRhcnQnOyI7CiAgfSkuam9pbignXG4nKTsKCiAgLy8gR2VuZXJhdGUgbW9kdWxlIHJvdXRlcyBmb3IgZmVhdHVyZXMKICBmaW5hbCBtb2R1bGVSb3V0ZXMgPSBmZWF0dXJlcy5tYXAoKGZlYXR1cmUpIHsKICAgIGZpbmFsIGZlYXR1cmVOYW1lID0gZmVhdHVyZS50b1N0cmluZygpLnRvTG93ZXJDYXNlKCkucmVwbGFjZUFsbCgnICcsICdfJyk7CiAgICBmaW5hbCBjbGFzc05hbWUgPSB0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSk7CiAgICByZXR1cm4gJycnCiAgICAgICAgTW9kdWxlUm91dGUoJy8kZmVhdHVyZU5hbWUnLCBtb2R1bGU6ICR7Y2xhc3NOYW1lfU1vZHVsZSgpKSwnJyc7CiAgfSkuam9pbignXG4nKTsKCiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9tb2R1bGFyL2ZsdXR0ZXJfbW9kdWxhci5kYXJ0JzsKJGltcG9ydFN0YXRlbWVudHMKCi8vLyBNYWluIGFwcGxpY2F0aW9uIG1vZHVsZSBmb3IgRmVhdHVyZS1Ecml2ZW4gYXJjaGl0ZWN0dXJlCmNsYXNzIEFwcE1vZHVsZSBleHRlbmRzIE1vZHVsZSB7CiAgQG92ZXJyaWRlCiAgTGlzdDxCaW5kPiBnZXQgYmluZHMgPT4gWwogICAgLy8gUmVnaXN0ZXIgeW91ciBnbG9iYWwgZGVwZW5kZW5jaWVzIGhlcmUKICBdOwoKICBAb3ZlcnJpZGUKICBMaXN0PE1vZHVsYXJSb3V0ZT4gZ2V0IHJvdXRlcyA9PiBbCiAgICAvLyBEZWZhdWx0IHJvdXRlCiAgICAke2ZlYXR1cmVzLmNvbnRhaW5zKCdBdXRoZW50aWNhdGlvbicpID8gIk1vZHVsZVJvdXRlKCcvJywgbW9kdWxlOiBBdXRoZW50aWNhdGlvbk1vZHVsZSgpKSwiIDogZmVhdHVyZXMuY29udGFpbnMoJ0Rhc2hib2FyZCcpID8gIk1vZHVsZVJvdXRlKCcvJywgbW9kdWxlOiBEYXNoYm9hcmRNb2R1bGUoKSksIiA6IGZlYXR1cmVzLmNvbnRhaW5zKCdIb21lJykgPyAiTW9kdWxlUm91dGUoJy8nLCBtb2R1bGU6IEhvbWVNb2R1bGUoKSksIiA6ICJDaGlsZFJvdXRlKCcvJywgY2hpbGQ6IChfLCBfXykgPT4gY29uc3QgU2NhZmZvbGQoYm9keTogQ2VudGVyKGNoaWxkOiBUZXh0KCdXZWxjb21lJykpKSksIn0KICAgIAogICAgLy8gRmVhdHVyZSBtb2R1bGUgcm91dGVzCiRtb2R1bGVSb3V0ZXMKICBdOwp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlIGFwcF93aWRnZXQuZGFydCBmaWxlIGZvciBGZWF0dXJlLURyaXZlbiBhcmNoaXRlY3R1cmUKdm9pZCBfZ2VuZXJhdGVBcHBXaWRnZXRGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwKICAgIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQsIExpc3Q8ZHluYW1pYz4gbW9kdWxlcykgewogIGZpbmFsIGZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvYXBwL2FwcF93aWRnZXQuZGFydCc7CgogIC8vIERldGVybWluZSBpbXBvcnRzIGJhc2VkIG9uIG1vZHVsZXMKICBmaW5hbCB0aGVtZUltcG9ydCA9IG1vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKQogICAgICA/ICJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvZGVzaWduX3N5c3RlbS90aGVtZV9leHRlbnNpb24vYXBwX3RoZW1lX2V4dGVuc2lvbi5kYXJ0JzsiICsKICAgICAgICAgICJcbmltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9kZXNpZ25fc3lzdGVtL3RoZW1lX2V4dGVuc2lvbi90aGVtZV9tYW5hZ2VyLmRhcnQnOyIKICAgICAgOiAnJzsKCiAgZmluYWwgbG9jYWxpemF0aW9uSW1wb3J0ID0gbW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykKICAgICAgPyAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL2xvY2FsaXphdGlvbi9nZW5lcmF0ZWQvYXBwX2xvY2FsaXphdGlvbnMuZGFydCc7IiArCiAgICAgICAgICAiXG5pbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvbi5kYXJ0JzsiCiAgICAgIDogJyc7CgogIC8vIEFkZCBzdGF0ZSBtYW5hZ2VtZW50IGltcG9ydHMKICBTdHJpbmcgc3RhdGVNYW5hZ2VtZW50SW1wb3J0ID0gJyc7CiAgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnUHJvdmlkZXInKSB7CiAgICBzdGF0ZU1hbmFnZW1lbnRJbXBvcnQgPSAiaW1wb3J0ICdwYWNrYWdlOnByb3ZpZGVyL3Byb3ZpZGVyLmRhcnQnOyI7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ0Jsb2MnIHx8IHN0YXRlTWFuYWdlbWVudCA9PSAnQkxvQycpIHsKICAgIHN0YXRlTWFuYWdlbWVudEltcG9ydCA9ICJpbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9ibG9jL2ZsdXR0ZXJfYmxvYy5kYXJ0JzsiOwogIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdSaXZlcnBvZCcpIHsKICAgIHN0YXRlTWFuYWdlbWVudEltcG9ydCA9CiAgICAgICAgImltcG9ydCAncGFja2FnZTpmbHV0dGVyX3JpdmVycG9kL2ZsdXR0ZXJfcml2ZXJwb2QuZGFydCc7IjsKICB9IGVsc2UgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnR2V0WCcpIHsKICAgIHN0YXRlTWFuYWdlbWVudEltcG9ydCA9ICJpbXBvcnQgJ3BhY2thZ2U6Z2V0L2dldC5kYXJ0JzsiOwogIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdNb2JYJykgewogICAgc3RhdGVNYW5hZ2VtZW50SW1wb3J0ID0gImltcG9ydCAncGFja2FnZTpmbHV0dGVyX21vYngvZmx1dHRlcl9tb2J4LmRhcnQnOyI7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ1JlZHV4JykgewogICAgc3RhdGVNYW5hZ2VtZW50SW1wb3J0ID0KICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfcmVkdXgvZmx1dHRlcl9yZWR1eC5kYXJ0JztcbmltcG9ydCAncGFja2FnZTpyZWR1eC9yZWR1eC5kYXJ0JzsiOwogIH0KCiAgLy8gR2V0IGNvbnRlbnQgYmFzZWQgb24gc3RhdGUgbWFuYWdlbWVudAogIFN0cmluZyBjb250ZW50ID0gJyc7CgogIC8vIERpZmZlcmVudCBpbXBsZW1lbnRhdGlvbnMgYmFzZWQgb24gc3RhdGUgbWFuYWdlbWVudAogIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ1Byb3ZpZGVyJykgewogICAgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbG9jYWxpemF0aW9ucy9mbHV0dGVyX2xvY2FsaXphdGlvbnMuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX21vZHVsYXIvZmx1dHRlcl9tb2R1bGFyLmRhcnQnOwokc3RhdGVNYW5hZ2VtZW50SW1wb3J0CiR0aGVtZUltcG9ydAokbG9jYWxpemF0aW9uSW1wb3J0CgovLy8gTWFpbiBhcHAgd2lkZ2V0IGZvciBGZWF0dXJlLURyaXZlbiBhcmNoaXRlY3R1cmUgdGhhdCB3b3JrcyB3aXRoIE1vZHVsYXIgYW5kIFByb3ZpZGVyCmNsYXNzIEFwcFdpZGdldCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgLy8vIENyZWF0ZXMgYSBuZXcgQXBwV2lkZ2V0IGluc3RhbmNlCiAgY29uc3QgQXBwV2lkZ2V0KHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBNdWx0aVByb3ZpZGVyKAogICAgICBwcm92aWRlcnM6IFsKICAgICAgICAke21vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKSA/ICdDaGFuZ2VOb3RpZmllclByb3ZpZGVyKGNyZWF0ZTogKF8pID0+IFRoZW1lUHJvdmlkZXIoKSksJyA6ICcnfQogICAgICAgICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnQ2hhbmdlTm90aWZpZXJQcm92aWRlcihjcmVhdGU6IChfKSA9PiBMb2NhbGl6YXRpb25Qcm92aWRlcigpKSwnIDogJyd9CiAgICAgICAgLy8gQWRkIG90aGVyIHByb3ZpZGVycyBoZXJlCiAgICAgIF0sCiAgICAgIGNoaWxkOiBDb25zdW1lcjwke21vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKSA/ICdUaGVtZVByb3ZpZGVyJyA6ICdDaGFuZ2VOb3RpZmllcid9PigKICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgdGhlbWVQcm92aWRlciwgXykgewogICAgICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKSA/ICdmaW5hbCBsb2NhbGVQcm92aWRlciA9IFByb3ZpZGVyLm9mPExvY2FsaXphdGlvblByb3ZpZGVyPihjb250ZXh0KTsnIDogJyd9CiAgICAgICAgICByZXR1cm4gTWF0ZXJpYWxBcHAucm91dGVyKAogICAgICAgICAgICB0aXRsZTogJyRwcm9qZWN0TmFtZScsCiAgICAgICAgICAgIGRlYnVnU2hvd0NoZWNrZWRNb2RlQmFubmVyOiBmYWxzZSwKICAgICAgICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdUaGVtZSBNYW5hZ2VyJykgPyAnLy8gVGhlbWUgY29uZmlndXJhdGlvblxudGhlbWU6IEFwcFRoZW1lLmxpZ2h0LFxuZGFya1RoZW1lOiBBcHBUaGVtZS5kYXJrLFxudGhlbWVNb2RlOiB0aGVtZVByb3ZpZGVyLnRoZW1lTW9kZSwnIDogJy8vIERlZmF1bHQgdGhlbWUgY29uZmlndXJhdGlvblxudGhlbWU6IFRoZW1lRGF0YS5saWdodCh1c2VNYXRlcmlhbDM6IHRydWUpLFxuZGFya1RoZW1lOiBUaGVtZURhdGEuZGFyayh1c2VNYXRlcmlhbDM6IHRydWUpLCd9CiAgICAgICAgICAgICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnLy8gTG9jYWxpemF0aW9uIGNvbmZpZ3VyYXRpb25cbnN1cHBvcnRlZExvY2FsZXM6IFN0cmluZ3Muc3VwcG9ydGVkTG9jYWxlcyxcbmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IFN0cmluZ3MubG9jYWxpemF0aW9uc0RlbGVnYXRlcyxcbmxvY2FsZTogbG9jYWxlUHJvdmlkZXIubG9jYWxlLCcgOiAnLy8gRGVmYXVsdCBsb2NhbGl6YXRpb24gY29uZmlndXJhdGlvblxuc3VwcG9ydGVkTG9jYWxlczogY29uc3QgW0xvY2FsZShcJ2VuXCcsIFwnXCcpXSxcbmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IGNvbnN0IFtcbiAgR2xvYmFsTWF0ZXJpYWxMb2NhbGl6YXRpb25zLmRlbGVnYXRlLFxuICBHbG9iYWxXaWRnZXRzTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSxcbiAgR2xvYmFsQ3VwZXJ0aW5vTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSxcbl0sJ30KICAgICAgICAgICAgLy8gUm91dGluZyBoYW5kbGVkIGJ5IGZsdXR0ZXJfbW9kdWxhcgogICAgICAgICAgICByb3V0ZUluZm9ybWF0aW9uUGFyc2VyOiBNb2R1bGFyLnJvdXRlSW5mb3JtYXRpb25QYXJzZXIsCiAgICAgICAgICAgIHJvdXRlckRlbGVnYXRlOiBNb2R1bGFyLnJvdXRlckRlbGVnYXRlLAogICAgICAgICAgKTsKICAgICAgICB9LAogICAgICApLAogICAgKTsKICB9Cn0KJycnOwogIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdCbG9jJyB8fCBzdGF0ZU1hbmFnZW1lbnQgPT0gJ0JMb0MnKSB7CiAgICBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9sb2NhbGl6YXRpb25zL2ZsdXR0ZXJfbG9jYWxpemF0aW9ucy5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbW9kdWxhci9mbHV0dGVyX21vZHVsYXIuZGFydCc7CiRzdGF0ZU1hbmFnZW1lbnRJbXBvcnQKJHRoZW1lSW1wb3J0CiRsb2NhbGl6YXRpb25JbXBvcnQKCi8vLyBNYWluIGFwcCB3aWRnZXQgZm9yIEZlYXR1cmUtRHJpdmVuIGFyY2hpdGVjdHVyZSB0aGF0IHdvcmtzIHdpdGggTW9kdWxhciBhbmQgQkxvQwpjbGFzcyBBcHBXaWRnZXQgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIC8vLyBDcmVhdGVzIGEgbmV3IEFwcFdpZGdldCBpbnN0YW5jZQogIGNvbnN0IEFwcFdpZGdldCh7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gTXVsdGlCbG9jUHJvdmlkZXIoCiAgICAgIHByb3ZpZGVyczogWwogICAgICAgICR7bW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpID8gJ0Jsb2NQcm92aWRlcihjcmVhdGU6IChfKSA9PiBUaGVtZUN1Yml0KCkpLCcgOiAnJ30KICAgICAgICAke21vZHVsZXMuY29udGFpbnMoJ0xvY2FsaXphdGlvbicpID8gJ0Jsb2NQcm92aWRlcihjcmVhdGU6IChfKSA9PiBMb2NhbGl6YXRpb25CbG9jKCkpLCcgOiAnJ30KICAgICAgICAvLyBBZGQgb3RoZXIgQkxvQ3MgaGVyZQogICAgICBdLAogICAgICBjaGlsZDogQmxvY0J1aWxkZXI8JHttb2R1bGVzLmNvbnRhaW5zKCdUaGVtZSBNYW5hZ2VyJykgPyAnVGhlbWVDdWJpdCwgVGhlbWVTdGF0ZScgOiAnQ3ViaXQsIE9iamVjdCd9PigKICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgdGhlbWVTdGF0ZSkgewogICAgICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKSA/ICdyZXR1cm4gQmxvY0J1aWxkZXI8TG9jYWxpemF0aW9uQmxvYywgTG9jYWxpemF0aW9uU3RhdGU+KFxuICAgICAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIGxvY2FsaXphdGlvblN0YXRlKSB7JyA6ICcnfQogICAgICAgICAgcmV0dXJuIE1hdGVyaWFsQXBwLnJvdXRlcigKICAgICAgICAgICAgdGl0bGU6ICckcHJvamVjdE5hbWUnLAogICAgICAgICAgICBkZWJ1Z1Nob3dDaGVja2VkTW9kZUJhbm5lcjogZmFsc2UsCiAgICAgICAgICAgICR7bW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpID8gJy8vIFRoZW1lIGNvbmZpZ3VyYXRpb25cbnRoZW1lOiBBcHBUaGVtZS5saWdodCxcbmRhcmtUaGVtZTogQXBwVGhlbWUuZGFyayxcbnRoZW1lTW9kZTogdGhlbWVTdGF0ZS50aGVtZU1vZGUudG9UaGVtZU1vZGUoKSwnIDogJy8vIERlZmF1bHQgdGhlbWUgY29uZmlndXJhdGlvblxudGhlbWU6IFRoZW1lRGF0YS5saWdodCh1c2VNYXRlcmlhbDM6IHRydWUpLFxuZGFya1RoZW1lOiBUaGVtZURhdGEuZGFyayh1c2VNYXRlcmlhbDM6IHRydWUpLCd9CiAgICAgICAgICAgICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnLy8gTG9jYWxpemF0aW9uIGNvbmZpZ3VyYXRpb25cbnN1cHBvcnRlZExvY2FsZXM6IFN0cmluZ3Muc3VwcG9ydGVkTG9jYWxlcyxcbmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IFN0cmluZ3MubG9jYWxpemF0aW9uc0RlbGVnYXRlcyxcbmxvY2FsZTogbG9jYWxpemF0aW9uU3RhdGUubG9jYWxlLCcgOiAnLy8gRGVmYXVsdCBsb2NhbGl6YXRpb24gY29uZmlndXJhdGlvblxuc3VwcG9ydGVkTG9jYWxlczogY29uc3QgW0xvY2FsZShcJ2VuXCcsIFwnXCcpXSxcbmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IGNvbnN0IFtcbiAgR2xvYmFsTWF0ZXJpYWxMb2NhbGl6YXRpb25zLmRlbGVnYXRlLFxuICBHbG9iYWxXaWRnZXRzTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSxcbiAgR2xvYmFsQ3VwZXJ0aW5vTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSxcbl0sJ30KICAgICAgICAgICAgLy8gUm91dGluZyBoYW5kbGVkIGJ5IGZsdXR0ZXJfbW9kdWxhcgogICAgICAgICAgICByb3V0ZUluZm9ybWF0aW9uUGFyc2VyOiBNb2R1bGFyLnJvdXRlSW5mb3JtYXRpb25QYXJzZXIsCiAgICAgICAgICAgIHJvdXRlckRlbGVnYXRlOiBNb2R1bGFyLnJvdXRlckRlbGVnYXRlLAogICAgICAgICAgKTsKICAgICAgICAgICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnfSk7JyA6ICcnfQogICAgICAgIH0sCiAgICAgICksCiAgICApOwogIH0KfQonJyc7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ1JpdmVycG9kJykgewogICAgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbG9jYWxpemF0aW9ucy9mbHV0dGVyX2xvY2FsaXphdGlvbnMuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX21vZHVsYXIvZmx1dHRlcl9tb2R1bGFyLmRhcnQnOwokc3RhdGVNYW5hZ2VtZW50SW1wb3J0CiR0aGVtZUltcG9ydAokbG9jYWxpemF0aW9uSW1wb3J0CgovLy8gTWFpbiBhcHAgd2lkZ2V0IGZvciBGZWF0dXJlLURyaXZlbiBhcmNoaXRlY3R1cmUgdGhhdCB3b3JrcyB3aXRoIE1vZHVsYXIgYW5kIFJpdmVycG9kCmNsYXNzIEFwcFdpZGdldCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgLy8vIENyZWF0ZXMgYSBuZXcgQXBwV2lkZ2V0IGluc3RhbmNlCiAgY29uc3QgQXBwV2lkZ2V0KHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBQcm92aWRlclNjb3BlKAogICAgICBjaGlsZDogQ29uc3VtZXIoCiAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHJlZiwgXykgewogICAgICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdUaGVtZSBNYW5hZ2VyJykgPyAnZmluYWwgdGhlbWVNb2RlID0gcmVmLndhdGNoKGZsdXR0ZXJUaGVtZU1vZGVQcm92aWRlcik7JyA6ICcnfQogICAgICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKSA/ICdmaW5hbCBsb2NhbGUgPSByZWYud2F0Y2gobG9jYWxlUHJvdmlkZXIpOycgOiAnJ30KICAgICAgICAgIHJldHVybiBNYXRlcmlhbEFwcC5yb3V0ZXIoCiAgICAgICAgICAgIHRpdGxlOiAnJHByb2plY3ROYW1lJywKICAgICAgICAgICAgZGVidWdTaG93Q2hlY2tlZE1vZGVCYW5uZXI6IGZhbHNlLAogICAgICAgICAgICAke21vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKSA/ICcvLyBUaGVtZSBjb25maWd1cmF0aW9uXG50aGVtZTogQXBwVGhlbWUubGlnaHQsXG5kYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssXG50aGVtZU1vZGU6IHRoZW1lTW9kZSwnIDogJy8vIERlZmF1bHQgdGhlbWUgY29uZmlndXJhdGlvblxudGhlbWU6IFRoZW1lRGF0YS5saWdodCh1c2VNYXRlcmlhbDM6IHRydWUpLFxuZGFya1RoZW1lOiBUaGVtZURhdGEuZGFyayh1c2VNYXRlcmlhbDM6IHRydWUpLCd9CiAgICAgICAgICAgICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnLy8gTG9jYWxpemF0aW9uIGNvbmZpZ3VyYXRpb25cbnN1cHBvcnRlZExvY2FsZXM6IFN0cmluZ3Muc3VwcG9ydGVkTG9jYWxlcyxcbmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IFN0cmluZ3MubG9jYWxpemF0aW9uc0RlbGVnYXRlcyxcbmxvY2FsZTogbG9jYWxlLCcgOiAnLy8gRGVmYXVsdCBsb2NhbGl6YXRpb24gY29uZmlndXJhdGlvblxuc3VwcG9ydGVkTG9jYWxlczogY29uc3QgW0xvY2FsZShcJ2VuXCcsIFwnXCcpXSxcbmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IGNvbnN0IFtcbiAgR2xvYmFsTWF0ZXJpYWxMb2NhbGl6YXRpb25zLmRlbGVnYXRlLFxuICBHbG9iYWxXaWRnZXRzTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSxcbiAgR2xvYmFsQ3VwZXJ0aW5vTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSxcbl0sJ30KLy8gUm91dGluZyBoYW5kbGVkIGJ5IGZsdXR0ZXJfbW9kdWxhcgogICAgICAgICAgICByb3V0ZUluZm9ybWF0aW9uUGFyc2VyOiBNb2R1bGFyLnJvdXRlSW5mb3JtYXRpb25QYXJzZXIsCiAgICAgICAgICAgIHJvdXRlckRlbGVnYXRlOiBNb2R1bGFyLnJvdXRlckRlbGVnYXRlLAogICAgICAgICAgKTsKICAgICAgICB9LAogICAgICApLAogICAgKTsKICB9Cn0KJycnOwogIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdHZXRYJykgewogICAgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbG9jYWxpemF0aW9ucy9mbHV0dGVyX2xvY2FsaXphdGlvbnMuZGFydCc7CgoKJHN0YXRlTWFuYWdlbWVudEltcG9ydAokdGhlbWVJbXBvcnQKJGxvY2FsaXphdGlvbkltcG9ydAoKLy8vIE1haW4gYXBwIHdpZGdldCBmb3IgRmVhdHVyZS1Ecml2ZW4gYXJjaGl0ZWN0dXJlIHRoYXQgd29ya3Mgd2l0aCBNb2R1bGFyIGFuZCBHZXRYCmNsYXNzIEFwcFdpZGdldCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgLy8vIENyZWF0ZXMgYSBuZXcgQXBwV2lkZ2V0IGluc3RhbmNlCiAgY29uc3QgQXBwV2lkZ2V0KHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIC8vIEluaXRpYWxpemUgR2V0WCBjb250cm9sbGVycyBpZiB0aGV5IGhhdmVuJ3QgYmVlbiBpbml0aWFsaXplZCB5ZXQKICAgICR7bW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpID8gJ2lmICghR2V0LmlzUmVnaXN0ZXJlZDxUaGVtZUNvbnRyb2xsZXI+KCkpIHtcbiAgICAgIEdldC5wdXQoVGhlbWVDb250cm9sbGVyKCkpO1xuICAgIH0nIDogJyd9CiAgICAke21vZHVsZXMuY29udGFpbnMoJ0xvY2FsaXphdGlvbicpID8gJ2lmICghR2V0LmlzUmVnaXN0ZXJlZDxMb2NhbGl6YXRpb25Db250cm9sbGVyPigpKSB7XG4gICAgICBHZXQucHV0KExvY2FsaXphdGlvbkNvbnRyb2xsZXIoKSk7XG4gICAgfScgOiAnJ30KICAgIAogICAgcmV0dXJuIEdldE1hdGVyaWFsQXBwLnJvdXRlcigKICAgICAgdGl0bGU6ICckcHJvamVjdE5hbWUnLAogICAgICBkZWJ1Z1Nob3dDaGVja2VkTW9kZUJhbm5lcjogZmFsc2UsCiAgICAgICR7bW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpID8gJy8vIFRoZW1lIGNvbmZpZ3VyYXRpb25cbnRoZW1lOiBBcHBUaGVtZS5saWdodCxcbmRhcmtUaGVtZTogQXBwVGhlbWUuZGFyayxcbnRoZW1lTW9kZTogR2V0LmZpbmQ8VGhlbWVDb250cm9sbGVyPigpLnRoZW1lTW9kZSwnIDogJy8vIERlZmF1bHQgdGhlbWUgY29uZmlndXJhdGlvblxudGhlbWU6IFRoZW1lRGF0YS5saWdodCh1c2VNYXRlcmlhbDM6IHRydWUpLFxuZGFya1RoZW1lOiBUaGVtZURhdGEuZGFyayh1c2VNYXRlcmlhbDM6IHRydWUpLCd9CiAgICAgICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnLy8gTG9jYWxpemF0aW9uIGNvbmZpZ3VyYXRpb25cbnN1cHBvcnRlZExvY2FsZXM6IFN0cmluZ3Muc3VwcG9ydGVkTG9jYWxlcyxcbmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IFN0cmluZ3MubG9jYWxpemF0aW9uc0RlbGVnYXRlcyxcbmxvY2FsZTogR2V0LmZpbmQ8TG9jYWxpemF0aW9uQ29udHJvbGxlcj4oKS5sb2NhbGUsJyA6ICcvLyBEZWZhdWx0IGxvY2FsaXphdGlvbiBjb25maWd1cmF0aW9uXG5zdXBwb3J0ZWRMb2NhbGVzOiBjb25zdCBbTG9jYWxlKFwnZW5cJywgXCdcJyldLFxubG9jYWxpemF0aW9uc0RlbGVnYXRlczogY29uc3QgW1xuICBHbG9iYWxNYXRlcmlhbExvY2FsaXphdGlvbnMuZGVsZWdhdGUsXG4gIEdsb2JhbFdpZGdldHNMb2NhbGl6YXRpb25zLmRlbGVnYXRlLFxuICBHbG9iYWxDdXBlcnRpbm9Mb2NhbGl6YXRpb25zLmRlbGVnYXRlLFxuXSwnfQogICAgICAvLyBSb3V0aW5nIGRlbGVnYXRlZCB0byBNb2R1bGFyCiAgICAgIHJvdXRlSW5mb3JtYXRpb25QYXJzZXI6IE1vZHVsYXIucm91dGVJbmZvcm1hdGlvblBhcnNlciwKICAgICAgcm91dGVyRGVsZWdhdGU6IE1vZHVsYXIucm91dGVyRGVsZWdhdGUsCiAgICApOwogIH0KfQonJyc7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ01vYlgnKSB7CiAgICBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9sb2NhbGl6YXRpb25zL2ZsdXR0ZXJfbG9jYWxpemF0aW9ucy5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbW9kdWxhci9mbHV0dGVyX21vZHVsYXIuZGFydCc7CiRzdGF0ZU1hbmFnZW1lbnRJbXBvcnQKJHRoZW1lSW1wb3J0CiRsb2NhbGl6YXRpb25JbXBvcnQKCi8vLyBNYWluIGFwcCB3aWRnZXQgZm9yIEZlYXR1cmUtRHJpdmVuIGFyY2hpdGVjdHVyZSB0aGF0IHdvcmtzIHdpdGggTW9kdWxhciBhbmQgTW9iWApjbGFzcyBBcHBXaWRnZXQgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIC8vLyBDcmVhdGVzIGEgbmV3IEFwcFdpZGdldCBpbnN0YW5jZQogIGNvbnN0IEFwcFdpZGdldCh7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gT2JzZXJ2ZXIoCiAgICAgIGJ1aWxkZXI6IChfKSB7CiAgICAgICAgcmV0dXJuIE1hdGVyaWFsQXBwLnJvdXRlcigKICAgICAgICAgIHRpdGxlOiAnJHByb2plY3ROYW1lJywKICAgICAgICAgIGRlYnVnU2hvd0NoZWNrZWRNb2RlQmFubmVyOiBmYWxzZSwKICAgICAgICAgICR7bW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpID8gJy8vIFRoZW1lIGNvbmZpZ3VyYXRpb25cbnRoZW1lOiBBcHBUaGVtZS5saWdodCxcbmRhcmtUaGVtZTogQXBwVGhlbWUuZGFyayxcbnRoZW1lTW9kZTogdGhlbWVTdG9yZS5mbHV0dGVyVGhlbWVNb2RlLCcgOiAnLy8gRGVmYXVsdCB0aGVtZSBjb25maWd1cmF0aW9uXG50aGVtZTogVGhlbWVEYXRhLmxpZ2h0KHVzZU1hdGVyaWFsMzogdHJ1ZSksXG5kYXJrVGhlbWU6IFRoZW1lRGF0YS5kYXJrKHVzZU1hdGVyaWFsMzogdHJ1ZSksJ30KICAgICAgICAgICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnLy8gTG9jYWxpemF0aW9uIGNvbmZpZ3VyYXRpb25cbnN1cHBvcnRlZExvY2FsZXM6IFN0cmluZ3Muc3VwcG9ydGVkTG9jYWxlcyxcbmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IFN0cmluZ3MubG9jYWxpemF0aW9uc0RlbGVnYXRlcyxcbmxvY2FsZTogbG9jYWxpemF0aW9uU3RvcmUuY3VycmVudExvY2FsZSwnIDogJy8vIERlZmF1bHQgbG9jYWxpemF0aW9uIGNvbmZpZ3VyYXRpb25cbnN1cHBvcnRlZExvY2FsZXM6IGNvbnN0IFtMb2NhbGUoXCdlblwnLCBcJ1wnKV0sXG5sb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBjb25zdCBbXG4gIEdsb2JhbE1hdGVyaWFsTG9jYWxpemF0aW9ucy5kZWxlZ2F0ZSxcbiAgR2xvYmFsV2lkZ2V0c0xvY2FsaXphdGlvbnMuZGVsZWdhdGUsXG4gIEdsb2JhbEN1cGVydGlub0xvY2FsaXphdGlvbnMuZGVsZWdhdGUsXG5dLCd9CiAgICAgICAgICAvLyBSb3V0aW5nIGhhbmRsZWQgYnkgZmx1dHRlcl9tb2R1bGFyCiAgICAgICAgICByb3V0ZUluZm9ybWF0aW9uUGFyc2VyOiBNb2R1bGFyLnJvdXRlSW5mb3JtYXRpb25QYXJzZXIsCiAgICAgICAgICByb3V0ZXJEZWxlZ2F0ZTogTW9kdWxhci5yb3V0ZXJEZWxlZ2F0ZSwKICAgICAgICApOwogICAgICB9LAogICAgKTsKICB9Cn0KJycnOwogIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdSZWR1eCcpIHsKICAgIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2xvY2FsaXphdGlvbnMvZmx1dHRlcl9sb2NhbGl6YXRpb25zLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9tb2R1bGFyL2ZsdXR0ZXJfbW9kdWxhci5kYXJ0JzsKJHN0YXRlTWFuYWdlbWVudEltcG9ydAokdGhlbWVJbXBvcnQKJGxvY2FsaXphdGlvbkltcG9ydAoKLy8vIE1haW4gYXBwIHdpZGdldCBmb3IgRmVhdHVyZS1Ecml2ZW4gYXJjaGl0ZWN0dXJlIHRoYXQgd29ya3Mgd2l0aCBNb2R1bGFyIGFuZCBSZWR1eApjbGFzcyBBcHBXaWRnZXQgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIC8vLyBDcmVhdGVzIGEgbmV3IEFwcFdpZGdldCBpbnN0YW5jZQogIGNvbnN0IEFwcFdpZGdldCh7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gU3RvcmVQcm92aWRlcjxBcHBTdGF0ZT4oCiAgICAgIHN0b3JlOiBzdG9yZSwgLy8gR2xvYmFsIHN0b3JlIGluc3RhbmNlCiAgICAgIGNoaWxkOiBTdG9yZUNvbm5lY3RvcjxBcHBTdGF0ZSwgVGhlbWVTdGF0ZT4oCiAgICAgICAgY29udmVydGVyOiAoc3RvcmUpID0+IHN0b3JlLnN0YXRlLnRoZW1lU3RhdGUsCiAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHRoZW1lU3RhdGUpIHsKICAgICAgICAgICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAncmV0dXJuIFN0b3JlQ29ubmVjdG9yPEFwcFN0YXRlLCBMb2NhbGl6YXRpb25TdGF0ZT4oXG4gICAgICAgICAgICBjb252ZXJ0ZXI6IChzdG9yZSkgPT4gc3RvcmUuc3RhdGUubG9jYWxpemF0aW9uU3RhdGUsXG4gICAgICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgbG9jYWxpemF0aW9uU3RhdGUpIHsnIDogJyd9CiAgICAgICAgICByZXR1cm4gTWF0ZXJpYWxBcHAucm91dGVyKAogICAgICAgICAgICB0aXRsZTogJyRwcm9qZWN0TmFtZScsCiAgICAgICAgICAgIGRlYnVnU2hvd0NoZWNrZWRNb2RlQmFubmVyOiBmYWxzZSwKICAgICAgICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdUaGVtZSBNYW5hZ2VyJykgPyAnLy8gVGhlbWUgY29uZmlndXJhdGlvblxudGhlbWU6IEFwcFRoZW1lLmxpZ2h0LFxuZGFya1RoZW1lOiBBcHBUaGVtZS5kYXJrLFxudGhlbWVNb2RlOiB0aGVtZVN0YXRlLmZsdXR0ZXJUaGVtZU1vZGUsJyA6ICcvLyBEZWZhdWx0IHRoZW1lIGNvbmZpZ3VyYXRpb25cbnRoZW1lOiBUaGVtZURhdGEubGlnaHQodXNlTWF0ZXJpYWwzOiB0cnVlKSxcbmRhcmtUaGVtZTogVGhlbWVEYXRhLmRhcmsodXNlTWF0ZXJpYWwzOiB0cnVlKSwnfQogICAgICAgICAgICAke21vZHVsZXMuY29udGFpbnMoJ0xvY2FsaXphdGlvbicpID8gJy8vIExvY2FsaXphdGlvbiBjb25maWd1cmF0aW9uXG5zdXBwb3J0ZWRMb2NhbGVzOiBTdHJpbmdzLnN1cHBvcnRlZExvY2FsZXMsXG5sb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBTdHJpbmdzLmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXMsXG5sb2NhbGU6IGxvY2FsaXphdGlvblN0YXRlLmN1cnJlbnRMb2NhbGUsJyA6ICcvLyBEZWZhdWx0IGxvY2FsaXphdGlvbiBjb25maWd1cmF0aW9uXG5zdXBwb3J0ZWRMb2NhbGVzOiBjb25zdCBbTG9jYWxlKFwnZW5cJywgXCdcJyldLFxubG9jYWxpemF0aW9uc0RlbGVnYXRlczogY29uc3QgW1xuICBHbG9iYWxNYXRlcmlhbExvY2FsaXphdGlvbnMuZGVsZWdhdGUsXG4gIEdsb2JhbFdpZGdldHNMb2NhbGl6YXRpb25zLmRlbGVnYXRlLFxuICBHbG9iYWxDdXBlcnRpbm9Mb2NhbGl6YXRpb25zLmRlbGVnYXRlLFxuXSwnfQogICAgICAgICAgICAvLyBSb3V0aW5nIGhhbmRsZWQgYnkgZmx1dHRlcl9tb2R1bGFyCiAgICAgICAgICAgIHJvdXRlSW5mb3JtYXRpb25QYXJzZXI6IE1vZHVsYXIucm91dGVJbmZvcm1hdGlvblBhcnNlciwKICAgICAgICAgICAgcm91dGVyRGVsZWdhdGU6IE1vZHVsYXIucm91dGVyRGVsZWdhdGUsCiAgICAgICAgICApOwogICAgICAgICAgJHttb2R1bGVzLmNvbnRhaW5zKCdMb2NhbGl6YXRpb24nKSA/ICd9KTsnIDogJyd9CiAgICAgICAgfSwKICAgICAgKSwKICAgICk7CiAgfQp9CicnJzsKICB9IGVsc2UgewogICAgLy8gRGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBmb3IgaW50ZXJuYWwgc3RhdGUgbWFuYWdlbWVudAogICAgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbG9jYWxpemF0aW9ucy9mbHV0dGVyX2xvY2FsaXphdGlvbnMuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX21vZHVsYXIvZmx1dHRlcl9tb2R1bGFyLmRhcnQnOwokdGhlbWVJbXBvcnQKJGxvY2FsaXphdGlvbkltcG9ydAoKLy8vIE1haW4gYXBwIHdpZGdldCBmb3IgRmVhdHVyZS1Ecml2ZW4gYXJjaGl0ZWN0dXJlIHRoYXQgd29ya3Mgd2l0aCBNb2R1bGFyCmNsYXNzIEFwcFdpZGdldCBleHRlbmRzIFN0YXRlZnVsV2lkZ2V0IHsKICAvLy8gQ3JlYXRlcyBhIG5ldyBBcHBXaWRnZXQgaW5zdGFuY2UKICBjb25zdCBBcHBXaWRnZXQoe0tleT8ga2V5fSkgOiBzdXBlcihrZXk6IGtleSk7CgogIEBvdmVycmlkZQogIF9BcHBXaWRnZXRTdGF0ZSBjcmVhdGVTdGF0ZSgpID0+IF9BcHBXaWRnZXRTdGF0ZSgpOwp9CgpjbGFzcyBfQXBwV2lkZ2V0U3RhdGUgZXh0ZW5kcyBTdGF0ZTxBcHBXaWRnZXQ+IHsKICAke21vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKSA/ICdUaGVtZU1vZGUgX3RoZW1lTW9kZSA9IFRoZW1lTW9kZS5zeXN0ZW07JyA6ICcnfQogICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnTG9jYWxlIF9sb2NhbGUgPSBjb25zdCBMb2NhbGUoXCdlblwnKTsnIDogJyd9CgogIEBvdmVycmlkZQogIHZvaWQgaW5pdFN0YXRlKCkgewogICAgc3VwZXIuaW5pdFN0YXRlKCk7CiAgICAke21vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKSA/ICcvLyBJbml0aWFsaXplIHRoZW1lXG4gICAgX2luaXRpYWxpemVUaGVtZSgpOycgOiAnJ30KICAgICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnLy8gSW5pdGlhbGl6ZSBsb2NhbGVcbiAgICBfaW5pdGlhbGl6ZUxvY2FsZSgpOycgOiAnJ30KICB9CgogICR7bW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpID8gJ0Z1dHVyZTx2b2lkPiBfaW5pdGlhbGl6ZVRoZW1lKCkgYXN5bmMge1xuICAgIGF3YWl0IHRoZW1lTWFuYWdlci5pbml0aWFsaXplKCk7XG4gICAgc2V0U3RhdGUoKCkge1xuICAgICAgX3RoZW1lTW9kZSA9IHRoZW1lTWFuYWdlci50aGVtZU1vZGU7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gTGlzdGVuIGZvciB0aGVtZSBjaGFuZ2VzXG4gICAgdGhlbWVNYW5hZ2VyLmFkZExpc3RlbmVyKF9vblRoZW1lQ2hhbmdlZCk7XG4gIH1cblxuICB2b2lkIF9vblRoZW1lQ2hhbmdlZChUaGVtZU1vZGVFbnVtIHRoZW1lKSB7XG4gICAgc2V0U3RhdGUoKCkge1xuICAgICAgX3RoZW1lTW9kZSA9IHRoZW1lLnRvVGhlbWVNb2RlKCk7XG4gICAgfSk7XG4gIH0nIDogJyd9CgogICR7bW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykgPyAnRnV0dXJlPHZvaWQ+IF9pbml0aWFsaXplTG9jYWxlKCkgYXN5bmMge1xuICAgIC8vIEltcGxlbWVudGF0aW9uIHdvdWxkIGRlcGVuZCBvbiBob3cgeW91XCdyZSBzdG9yaW5nIGxvY2FsZSBwcmVmZXJlbmNlc1xuICAgIC8vIFRoaXMgaXMganVzdCBhIHBsYWNlaG9sZGVyXG4gICAgc2V0U3RhdGUoKCkge1xuICAgICAgX2xvY2FsZSA9IGNvbnN0IExvY2FsZShcJ2VuXCcpO1xuICAgIH0pO1xuICB9JyA6ICcnfQoKICBAb3ZlcnJpZGUKICB2b2lkIGRpc3Bvc2UoKSB7CiAgICAke21vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKSA/ICcvLyBSZW1vdmUgdGhlbWUgbGlzdGVuZXJcbiAgICB0aGVtZU1hbmFnZXIucmVtb3ZlTGlzdGVuZXIoX29uVGhlbWVDaGFuZ2VkKTsnIDogJyd9CiAgICBzdXBlci5kaXNwb3NlKCk7CiAgfQoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBNYXRlcmlhbEFwcC5yb3V0ZXIoCiAgICAgIHRpdGxlOiAnJHByb2plY3ROYW1lJywKICAgICAgZGVidWdTaG93Q2hlY2tlZE1vZGVCYW5uZXI6IGZhbHNlLAogICAgICAke21vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKSA/ICcvLyBUaGVtZSBjb25maWd1cmF0aW9uXG50aGVtZTogQXBwVGhlbWUubGlnaHQsXG5kYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssXG50aGVtZU1vZGU6IF90aGVtZU1vZGUsJyA6ICcvLyBEZWZhdWx0IHRoZW1lIGNvbmZpZ3VyYXRpb25cbnRoZW1lOiBUaGVtZURhdGEubGlnaHQodXNlTWF0ZXJpYWwzOiB0cnVlKSxcbmRhcmtUaGVtZTogVGhlbWVEYXRhLmRhcmsodXNlTWF0ZXJpYWwzOiB0cnVlKSwnfQogICAgICAke21vZHVsZXMuY29udGFpbnMoJ0xvY2FsaXphdGlvbicpID8gJy8vIExvY2FsaXphdGlvbiBjb25maWd1cmF0aW9uXG5zdXBwb3J0ZWRMb2NhbGVzOiBTdHJpbmdzLnN1cHBvcnRlZExvY2FsZXMsXG5sb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBTdHJpbmdzLmxvY2FsaXphdGlvbnNEZWxlZ2F0ZXMsXG5sb2NhbGU6IF9sb2NhbGUsJyA6ICcvLyBEZWZhdWx0IGxvY2FsaXphdGlvbiBjb25maWd1cmF0aW9uXG5zdXBwb3J0ZWRMb2NhbGVzOiBjb25zdCBbTG9jYWxlKFwnZW5cJywgXCdcJyldLFxubG9jYWxpemF0aW9uc0RlbGVnYXRlczogY29uc3QgW1xuICBHbG9iYWxNYXRlcmlhbExvY2FsaXphdGlvbnMuZGVsZWdhdGUsXG4gIEdsb2JhbFdpZGdldHNMb2NhbGl6YXRpb25zLmRlbGVnYXRlLFxuICBHbG9iYWxDdXBlcnRpbm9Mb2NhbGl6YXRpb25zLmRlbGVnYXRlLFxuXSwnfQogICAgICAvLyBSb3V0aW5nIGhhbmRsZWQgYnkgZmx1dHRlcl9tb2R1bGFyCiAgICAgIHJvdXRlSW5mb3JtYXRpb25QYXJzZXI6IE1vZHVsYXIucm91dGVJbmZvcm1hdGlvblBhcnNlciwKICAgICAgcm91dGVyRGVsZWdhdGU6IE1vZHVsYXIucm91dGVyRGVsZWdhdGUsCiAgICApOwogIH0KfQonJyc7CiAgfQoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgc3RyaW5nIHRvIGNsYXNzIG5hbWUgKFBhc2NhbENhc2UpClN0cmluZyB0b0NsYXNzTmFtZShTdHJpbmcgbmFtZSkgewogIGZpbmFsIHBhcnRzID0gbmFtZS5zcGxpdCgnXycpOwogIHJldHVybiBwYXJ0cwogICAgICAubWFwKChwYXJ0KSA9PgogICAgICAgICAgcGFydC5pc05vdEVtcHR5ID8gcGFydFswXS50b1VwcGVyQ2FzZSgpICsgcGFydC5zdWJzdHJpbmcoMSkgOiAnJykKICAgICAgLmpvaW4oJycpOwp9Cg==",
      "type": "text",
    },
    {
      "path": "lib/architecture_handler.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCmltcG9ydCAndXRpbHMuZGFydCc7Cgp2b2lkIGNyZWF0ZUFyY2hpdGVjdHVyZVN0cnVjdHVyZSgKICAgIEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwgU3RyaW5nIGFyY2hpdGVjdHVyZSkgewogIExpc3Q8U3RyaW5nPiBkaXJlY3RvcmllcyA9IFtdOwoKICBzd2l0Y2ggKGFyY2hpdGVjdHVyZSkgewogICAgY2FzZSAnQ2xlYW4gQXJjaGl0ZWN0dXJlJzoKICAgICAgZGlyZWN0b3JpZXMgPSBbCiAgICAgICAgJ2xpYi9jb3JlJywKICAgICAgICAnbGliL2NvcmUvZXJyb3InLAogICAgICAgICdsaWIvY29yZS91dGlscycsCiAgICAgICAgJ2xpYi9pbmZyYXN0cnVjdHVyZS9pbmplY3RvcicsCiAgICAgICAgJ2xpYi9pbmZyYXN0cnVjdHVyZS9uYXZpZ2F0aW9uJywKICAgICAgXTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdNVlZNJzoKICAgICAgZGlyZWN0b3JpZXMgPSBbCiAgICAgICAgJ2xpYi9jb3JlJywKICAgICAgICAnbGliL2NvcmUvc2VydmljZXMnLAogICAgICAgICdsaWIvY29yZS91dGlscycsCiAgICAgICAgJ2xpYi9zaGFyZWQnLAogICAgICAgICdsaWIvc2hhcmVkL3dpZGdldHMnLAogICAgICAgICdsaWIvc2hhcmVkL3V0aWxzJywKICAgICAgXTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdNVkMnOgogICAgICBkaXJlY3RvcmllcyA9IFsKICAgICAgICAnbGliL2NvcmUnLAogICAgICAgICdsaWIvY29yZS9zZXJ2aWNlcycsCiAgICAgICAgJ2xpYi9jb3JlL3V0aWxzJywKICAgICAgICAnbGliL3NoYXJlZCcsCiAgICAgICAgJ2xpYi9zaGFyZWQvd2lkZ2V0cycsCiAgICAgICAgJ2xpYi9zaGFyZWQvdXRpbHMnLAogICAgICBdOwogICAgICBicmVhazsKICAgIGNhc2UgJ0ZlYXR1cmUtRHJpdmVuJzoKICAgICAgZGlyZWN0b3JpZXMgPSBbCiAgICAgICAgJ2xpYi9jb3JlJywKICAgICAgICAnbGliL2NvcmUvdXRpbHMnLAogICAgICAgICdsaWIvY29yZS9zZXJ2aWNlcycsCiAgICAgICAgJ2xpYi9zaGFyZWQvd2lkZ2V0cycsCiAgICAgIF07CiAgICAgIGJyZWFrOwogICAgZGVmYXVsdDoKICAgICAgY29udGV4dC5sb2dnZXIud2FybignVW5rbm93biBhcmNoaXRlY3R1cmU6ICRhcmNoaXRlY3R1cmUnKTsKICAgICAgcmV0dXJuOwogIH0KCiAgZm9yIChmaW5hbCBkaXIgaW4gZGlyZWN0b3JpZXMpIHsKICAgIGZpbmFsIGRpcmVjdG9yeSA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lLyRkaXInKTsKICAgIGlmICghZGlyZWN0b3J5LmV4aXN0c1N5bmMoKSkgewogICAgICBkaXJlY3RvcnkuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogICAgICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGFyY2hpdGVjdHVyZSBkaXJlY3Rvcnk6ICRkaXInKTsKICAgIH0KICB9CgogIC8vIENyZWF0ZSBhcmNoaXRlY3R1cmUtc3BlY2lmaWMgZmlsZXMKICBjcmVhdGVBcmNoaXRlY3R1cmVGaWxlcyhjb250ZXh0LCBwcm9qZWN0TmFtZSwgYXJjaGl0ZWN0dXJlKTsKfQoKdm9pZCBjcmVhdGVBcmNoaXRlY3R1cmVGaWxlcygKICAgIEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwgU3RyaW5nIGFyY2hpdGVjdHVyZSkgewogIHN3aXRjaCAoYXJjaGl0ZWN0dXJlKSB7CiAgICBjYXNlICdDbGVhbiBBcmNoaXRlY3R1cmUnOgogICAgICBjcmVhdGVDbGVhbkFyY2hpdGVjdHVyZUZpbGVzKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdNVlZNJzoKICAgICAgY3JlYXRlTVZWTUFyY2hpdGVjdHVyZUZpbGVzKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdNVkMnOgogICAgICBjcmVhdGVNVkNBcmNoaXRlY3R1cmVGaWxlcyhjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnRmVhdHVyZS1Ecml2ZW4nOgogICAgICBjcmVhdGVGZWF0dXJlRHJpdmVuQXJjaGl0ZWN0dXJlRmlsZXMoY29udGV4dCwgcHJvamVjdE5hbWUpOwogICAgICBicmVhazsKICAgIGRlZmF1bHQ6CiAgICAvLyBObyBzcGVjaWZpYyBmaWxlcyB0byBjcmVhdGUKICB9Cn0KCnZvaWQgY3JlYXRlQ2xlYW5BcmNoaXRlY3R1cmVGaWxlcyhIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICAvLyBDb3JlIGVycm9yIGhhbmRsaW5nCiAgY3JlYXRlRmlsZSgKICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9lcnJvci9mYWlsdXJlcy5kYXJ0JywKICAgICAgJycnCi8vIEZhaWx1cmUgYmFzZSBjbGFzcyBhbmQgaW1wbGVtZW50YXRpb25zCi8vIEdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKCmFic3RyYWN0IGNsYXNzIEZhaWx1cmUgewogIGZpbmFsIFN0cmluZyBtZXNzYWdlOwogIAogIGNvbnN0IEZhaWx1cmUoe3JlcXVpcmVkIHRoaXMubWVzc2FnZX0pOwp9CgpjbGFzcyBTZXJ2ZXJGYWlsdXJlIGV4dGVuZHMgRmFpbHVyZSB7CiAgY29uc3QgU2VydmVyRmFpbHVyZSh7cmVxdWlyZWQgU3RyaW5nIG1lc3NhZ2V9KSA6IHN1cGVyKG1lc3NhZ2U6IG1lc3NhZ2UpOwp9CgpjbGFzcyBDYWNoZUZhaWx1cmUgZXh0ZW5kcyBGYWlsdXJlIHsKICBjb25zdCBDYWNoZUZhaWx1cmUoe3JlcXVpcmVkIFN0cmluZyBtZXNzYWdlfSkgOiBzdXBlcihtZXNzYWdlOiBtZXNzYWdlKTsKfQoKY2xhc3MgTmV0d29ya0ZhaWx1cmUgZXh0ZW5kcyBGYWlsdXJlIHsKICBjb25zdCBOZXR3b3JrRmFpbHVyZSh7cmVxdWlyZWQgU3RyaW5nIG1lc3NhZ2V9KSA6IHN1cGVyKG1lc3NhZ2U6IG1lc3NhZ2UpOwp9CicnJywKICAgICAgY29udGV4dCk7CgogIC8vIERJIHNldHVwIGZpbGUKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9pbmZyYXN0cnVjdHVyZS9pbmplY3Rvci9pbmplY3Rvci5kYXJ0JywKICAgICAgJycnCi8vIERlcGVuZGVuY3kgaW5qZWN0aW9uIHNldHVwCi8vIEdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKCi8vIFRoaXMgZmlsZSB3aWxsIGJlIHVzZWQgdG8gc2V0dXAgZGVwZW5kZW5jeSBpbmplY3Rpb24KLy8gd2l0aCBhIHBhY2thZ2UgbGlrZSBnZXRfaXQsIGluamVjdGFibGUsIGV0Yy4KCnZvaWQgc2V0dXBJbmplY3RvcigpIHsKICAvLyBUT0RPOiBSZWdpc3RlciBkZXBlbmRlbmNpZXMKfQonJycsCiAgICAgIGNvbnRleHQpOwp9Cgp2b2lkIGNyZWF0ZU1WVk1BcmNoaXRlY3R1cmVGaWxlcyhIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICAvLyBCYXNlIHZpZXcgbW9kZWwKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2Jhc2Vfdmlld19tb2RlbC5kYXJ0JywKICAgICAgJycnCi8vIEJhc2UgdmlldyBtb2RlbAovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCgphYnN0cmFjdCBjbGFzcyBCYXNlVmlld01vZGVsIHsKICAvLyBCYXNlIHZpZXcgbW9kZWwgZnVuY3Rpb25hbGl0eQogIC8vIFRoaXMgd291bGQgdHlwaWNhbGx5IGluY2x1ZGUgY29tbW9uIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMKICAvLyBmb3IgYWxsIHZpZXcgbW9kZWxzIGluIHRoZSBhcHBsaWNhdGlvbgogIAogIGJvb2wgaXNMb2FkaW5nID0gZmFsc2U7CiAgU3RyaW5nPyBlcnJvck1lc3NhZ2U7CiAgCiAgdm9pZCBzZXRMb2FkaW5nKGJvb2wgbG9hZGluZykgewogICAgaXNMb2FkaW5nID0gbG9hZGluZzsKICAgIC8vIE5vdGlmeSBsaXN0ZW5lcnMgLSBpbXBsZW1lbnRhdGlvbiBkZXBlbmRzIG9uIHN0YXRlIG1hbmFnZW1lbnQKICB9CiAgCiAgdm9pZCBzZXRFcnJvcihTdHJpbmc/IGVycm9yKSB7CiAgICBlcnJvck1lc3NhZ2UgPSBlcnJvcjsKICAgIC8vIE5vdGlmeSBsaXN0ZW5lcnMgLSBpbXBsZW1lbnRhdGlvbiBkZXBlbmRzIG9uIHN0YXRlIG1hbmFnZW1lbnQKICB9Cn0KJycnLAogICAgICBjb250ZXh0KTsKfQoKdm9pZCBjcmVhdGVNVkNBcmNoaXRlY3R1cmVGaWxlcyhIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICAvLyBCYXNlIGNvbnRyb2xsZXIKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2Jhc2VfY29udHJvbGxlci5kYXJ0JywKICAgICAgJycnCi8vIEJhc2UgY29udHJvbGxlcgovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCgphYnN0cmFjdCBjbGFzcyBCYXNlQ29udHJvbGxlciB7CiAgLy8gQmFzZSBjb250cm9sbGVyIGZ1bmN0aW9uYWxpdHkKICAvLyBUaGlzIHdvdWxkIHR5cGljYWxseSBpbmNsdWRlIGNvbW1vbiBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzCiAgLy8gZm9yIGFsbCBjb250cm9sbGVycyBpbiB0aGUgYXBwbGljYXRpb24KICAKICBib29sIGlzTG9hZGluZyA9IGZhbHNlOwogIFN0cmluZz8gZXJyb3JNZXNzYWdlOwogIAogIHZvaWQgc2V0TG9hZGluZyhib29sIGxvYWRpbmcpIHsKICAgIGlzTG9hZGluZyA9IGxvYWRpbmc7CiAgICAvLyBOb3RpZnkgbGlzdGVuZXJzIC0gaW1wbGVtZW50YXRpb24gZGVwZW5kcyBvbiBzdGF0ZSBtYW5hZ2VtZW50CiAgfQogIAogIHZvaWQgc2V0RXJyb3IoU3RyaW5nPyBlcnJvcikgewogICAgZXJyb3JNZXNzYWdlID0gZXJyb3I7CiAgICAvLyBOb3RpZnkgbGlzdGVuZXJzIC0gaW1wbGVtZW50YXRpb24gZGVwZW5kcyBvbiBzdGF0ZSBtYW5hZ2VtZW50CiAgfQp9CicnJywKICAgICAgY29udGV4dCk7Cn0KCnZvaWQgY3JlYXRlRmVhdHVyZURyaXZlbkFyY2hpdGVjdHVyZUZpbGVzKAogICAgSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgLy8gQXBwIG5hdmlnYXRpb24KICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL25hdmlnYXRpb24vYXBwX3JvdXRlci5kYXJ0JywKICAgICAgJycnCi8vIEFwcCByb3V0ZXIKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAoKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CgpjbGFzcyBBcHBSb3V0ZXIgewogIHN0YXRpYyBSb3V0ZTxkeW5hbWljPiBnZW5lcmF0ZVJvdXRlKFJvdXRlU2V0dGluZ3Mgc2V0dGluZ3MpIHsKICAgIC8vIFRPRE86IEltcGxlbWVudCByb3V0ZSBnZW5lcmF0aW9uIGJhc2VkIG9uIHlvdXIgZmVhdHVyZXMKICAgIHN3aXRjaCAoc2V0dGluZ3MubmFtZSkgewogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiBNYXRlcmlhbFBhZ2VSb3V0ZSgKICAgICAgICAgIGJ1aWxkZXI6IChfKSA9PiBTY2FmZm9sZCgKICAgICAgICAgICAgYm9keTogQ2VudGVyKAogICAgICAgICAgICAgIGNoaWxkOiBUZXh0KCdObyByb3V0ZSBkZWZpbmVkIGZvciBcJHtzZXR0aW5ncy5uYW1lfScpLAogICAgICAgICAgICApLAogICAgICAgICAgKSwKICAgICAgICApOwogICAgfQogIH0KfQonJycsCiAgICAgIGNvbnRleHQpOwp9Cg==",
      "type": "text",
    },
    {
      "path": "lib/error_generator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBHZW5lcmF0ZXMgZXJyb3IgaGFuZGxpbmcgY2xhc3NlcyBmb3IgZXhjZXB0aW9ucyBhbmQgZmFpbHVyZXMKdm9pZCBnZW5lcmF0ZUVycm9ySGFuZGxpbmcoCiAgICBIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsIFN0cmluZyBhcmNoaXRlY3R1cmUpIHsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdHZW5lcmF0aW5nIGVycm9yIGhhbmRsaW5nIHN5c3RlbSBmb3IgJHByb2plY3ROYW1lJyk7CgogIC8vIENyZWF0ZSBkaXJlY3Rvcnkgc3RydWN0dXJlCiAgZmluYWwgZGlyZWN0b3JpZXMgPSBbCiAgICAnbGliL2NvcmUvZXJyb3InLAogICAgJ2xpYi9jb3JlL2Vycm9yL2V4Y2VwdGlvbnMnLAogICAgJ2xpYi9jb3JlL2Vycm9yL2ZhaWx1cmVzJywKICBdOwoKICBmb3IgKGZpbmFsIGRpciBpbiBkaXJlY3RvcmllcykgewogICAgZmluYWwgZGlyZWN0b3J5ID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvJGRpcicpOwogICAgaWYgKCFkaXJlY3RvcnkuZXhpc3RzU3luYygpKSB7CiAgICAgIGRpcmVjdG9yeS5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZGlyZWN0b3J5OiAkZGlyJyk7CiAgICB9CiAgfQoKICAvLyBHZW5lcmF0ZSBlcnJvciBmaWxlcwogIF9nZW5lcmF0ZUJhc2VFeGNlcHRpb25GaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICBfZ2VuZXJhdGVGYWlsdXJlRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgX2dlbmVyYXRlRXJyb3JNYXBwZXJGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gR2VuZXJhdGUgYWRkaXRpb25hbCBhcmNoaXRlY3R1cmUtc3BlY2lmaWMgZmlsZXMgaWYgbmVlZGVkCiAgLy8gaWYgKGFyY2hpdGVjdHVyZSA9PSAnQ2xlYW4gQXJjaGl0ZWN0dXJlJykgewogIC8vICAgX2dlbmVyYXRlRWl0aGVyRXh0ZW5zaW9uc0ZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwogIC8vIH0KCiAgY29udGV4dC5sb2dnZXIuc3VjY2VzcygnRXJyb3IgaGFuZGxpbmcgc3lzdGVtIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHkhJyk7Cn0KCi8vLyBHZW5lcmF0ZXMgdGhlIGJhc2UgZXhjZXB0aW9uIGZpbGUKdm9pZCBfZ2VuZXJhdGVCYXNlRXhjZXB0aW9uRmlsZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBmaWxlUGF0aCA9CiAgICAgICckcHJvamVjdE5hbWUvbGliL2NvcmUvZXJyb3IvZXhjZXB0aW9ucy9lcnJvcl9leGNlcHRpb24uZGFydCc7CiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6ZXF1YXRhYmxlL2VxdWF0YWJsZS5kYXJ0JzsKCi8vLyBCYXNlIGV4Y2VwdGlvbiBjbGFzcyBmb3IgYXBwbGljYXRpb24gZXJyb3JzCmNsYXNzIEVycm9yRXhjZXB0aW9uIGV4dGVuZHMgRXF1YXRhYmxlIGltcGxlbWVudHMgRXhjZXB0aW9uIHsKICBmaW5hbCBTdHJpbmc/IG1lc3NhZ2U7CiAgCiAgY29uc3QgRXJyb3JFeGNlcHRpb24oe3JlcXVpcmVkIHRoaXMubWVzc2FnZX0pOwogIAogIEBvdmVycmlkZQogIExpc3Q8T2JqZWN0Pz4gZ2V0IHByb3BzID0+IFttZXNzYWdlXTsKfQoKLy8vIEF1dGhlbnRpY2F0aW9uIHJlbGF0ZWQgZXhjZXB0aW9uCmNsYXNzIEF1dGhFeGNlcHRpb24gZXh0ZW5kcyBFcnJvckV4Y2VwdGlvbiB7CiAgY29uc3QgQXV0aEV4Y2VwdGlvbihbU3RyaW5nPyBtZXNzYWdlXSkgOiBzdXBlcihtZXNzYWdlOiBtZXNzYWdlID8/ICdBdXRoZW50aWNhdGlvbiBlcnJvciBvY2N1cnJlZCcpOwp9CgovLy8gU2VydmVyIHJlbGF0ZWQgZXhjZXB0aW9uCmNsYXNzIFNlcnZlckV4Y2VwdGlvbiBleHRlbmRzIEVycm9yRXhjZXB0aW9uIHsKICBjb25zdCBTZXJ2ZXJFeGNlcHRpb24oW1N0cmluZz8gbWVzc2FnZV0pIDogc3VwZXIobWVzc2FnZTogbWVzc2FnZSA/PyAnU2VydmVyIGVycm9yIG9jY3VycmVkJyk7Cn0KCi8vLyBVbmF1dGhvcml6ZWQgYWNjZXNzIGV4Y2VwdGlvbgpjbGFzcyBVbmF1dGhvcml6ZWRFeGNlcHRpb24gZXh0ZW5kcyBFcnJvckV4Y2VwdGlvbiB7CiAgY29uc3QgVW5hdXRob3JpemVkRXhjZXB0aW9uKFtTdHJpbmc/IG1lc3NhZ2VdKSA6IHN1cGVyKG1lc3NhZ2U6IG1lc3NhZ2UgPz8gJ1VuYXV0aG9yaXplZCBhY2Nlc3MnKTsKfQoKLy8vIFJlc291cmNlIG5vdCBmb3VuZCBleGNlcHRpb24KY2xhc3MgTm90Rm91bmRFeGNlcHRpb24gZXh0ZW5kcyBFcnJvckV4Y2VwdGlvbiB7CiAgY29uc3QgTm90Rm91bmRFeGNlcHRpb24oW1N0cmluZz8gbWVzc2FnZV0pIDogc3VwZXIobWVzc2FnZTogbWVzc2FnZSA/PyAnUmVzb3VyY2Ugbm90IGZvdW5kJyk7Cn0KCi8vLyBDb25mbGljdCBleGNlcHRpb24gZm9yIGR1cGxpY2F0ZSByZXNvdXJjZXMKY2xhc3MgQ29uZmxpY3RFeGNlcHRpb24gZXh0ZW5kcyBFcnJvckV4Y2VwdGlvbiB7CiAgY29uc3QgQ29uZmxpY3RFeGNlcHRpb24oW1N0cmluZz8gbWVzc2FnZV0pIDogc3VwZXIobWVzc2FnZTogbWVzc2FnZSA/PyAnQ29uZmxpY3Qgb2NjdXJyZWQnKTsKfQoKLy8vIEludGVybmFsIHNlcnZlciBlcnJvciBleGNlcHRpb24KY2xhc3MgSW50ZXJuYWxTZXJ2ZXJFcnJvckV4Y2VwdGlvbiBleHRlbmRzIEVycm9yRXhjZXB0aW9uIHsKICBjb25zdCBJbnRlcm5hbFNlcnZlckVycm9yRXhjZXB0aW9uKFtTdHJpbmc/IG1lc3NhZ2VdKSA6IHN1cGVyKG1lc3NhZ2U6IG1lc3NhZ2UgPz8gJ0ludGVybmFsIHNlcnZlciBlcnJvciBvY2N1cnJlZCcpOwp9CgovLy8gTm8gaW50ZXJuZXQgY29ubmVjdGlvbiBleGNlcHRpb24KY2xhc3MgTm9JbnRlcm5ldENvbm5lY3Rpb25FeGNlcHRpb24gZXh0ZW5kcyBFcnJvckV4Y2VwdGlvbiB7CiAgY29uc3QgTm9JbnRlcm5ldENvbm5lY3Rpb25FeGNlcHRpb24oW1N0cmluZz8gbWVzc2FnZV0pIDogc3VwZXIobWVzc2FnZTogbWVzc2FnZSA/PyAnTm8gaW50ZXJuZXQgY29ubmVjdGlvbicpOwp9CgovLy8gQ2FjaGUgcmVsYXRlZCBleGNlcHRpb24KY2xhc3MgQ2FjaGVFeGNlcHRpb24gZXh0ZW5kcyBFcnJvckV4Y2VwdGlvbiB7CiAgY29uc3QgQ2FjaGVFeGNlcHRpb24oW1N0cmluZz8gbWVzc2FnZV0pIDogc3VwZXIobWVzc2FnZTogbWVzc2FnZSA/PyAnQ2FjaGUgZXJyb3Igb2NjdXJyZWQnKTsKfQoKLy8vIEZvcm1hdCBleGNlcHRpb24gZm9yIGRhdGEgcGFyc2luZyBlcnJvcnMKY2xhc3MgRm9ybWF0RXJyb3JFeGNlcHRpb24gZXh0ZW5kcyBFcnJvckV4Y2VwdGlvbiB7CiAgY29uc3QgRm9ybWF0RXJyb3JFeGNlcHRpb24oW1N0cmluZz8gbWVzc2FnZV0pIDogc3VwZXIobWVzc2FnZTogbWVzc2FnZSA/PyAnRm9ybWF0IGVycm9yIG9jY3VycmVkJyk7Cn0KCi8vLyBWYWxpZGF0aW9uIGV4Y2VwdGlvbiBmb3IgaW5wdXQgdmFsaWRhdGlvbiBlcnJvcnMKY2xhc3MgVmFsaWRhdGlvbkV4Y2VwdGlvbiBleHRlbmRzIEVycm9yRXhjZXB0aW9uIHsKICBmaW5hbCBNYXA8U3RyaW5nLCBTdHJpbmc+PyBmaWVsZEVycm9yczsKICAKICBjb25zdCBWYWxpZGF0aW9uRXhjZXB0aW9uKHsKICAgIFN0cmluZz8gbWVzc2FnZSwKICAgIHRoaXMuZmllbGRFcnJvcnMsCiAgfSkgOiBzdXBlcihtZXNzYWdlOiBtZXNzYWdlID8/ICdWYWxpZGF0aW9uIGVycm9yIG9jY3VycmVkJyk7CiAgCiAgQG92ZXJyaWRlCiAgTGlzdDxPYmplY3Q/PiBnZXQgcHJvcHMgPT4gW21lc3NhZ2UsIGZpZWxkRXJyb3JzXTsKfQoKLy8vIFRpbWVvdXQgZXhjZXB0aW9uIGZvciByZXF1ZXN0IHRpbWVvdXRzCmNsYXNzIFRpbWVvdXRFeGNlcHRpb24gZXh0ZW5kcyBFcnJvckV4Y2VwdGlvbiB7CiAgY29uc3QgVGltZW91dEV4Y2VwdGlvbihbU3RyaW5nPyBtZXNzYWdlXSkgOiBzdXBlcihtZXNzYWdlOiBtZXNzYWdlID8/ICdSZXF1ZXN0IHRpbWVvdXQnKTsKfQoKLy8vIENhbmNlbGxhdGlvbiBleGNlcHRpb24gZm9yIGNhbmNlbGxlZCByZXF1ZXN0cwpjbGFzcyBDYW5jZWxsYXRpb25FeGNlcHRpb24gZXh0ZW5kcyBFcnJvckV4Y2VwdGlvbiB7CiAgY29uc3QgQ2FuY2VsbGF0aW9uRXhjZXB0aW9uKFtTdHJpbmc/IG1lc3NhZ2VdKSA6IHN1cGVyKG1lc3NhZ2U6IG1lc3NhZ2UgPz8gJ1JlcXVlc3QgY2FuY2VsbGVkJyk7Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIHRoZSBmYWlsdXJlIGZpbGUKdm9pZCBfZ2VuZXJhdGVGYWlsdXJlRmlsZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBmaWxlUGF0aCA9ICckcHJvamVjdE5hbWUvbGliL2NvcmUvZXJyb3IvZmFpbHVyZXMvZmFpbHVyZS5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTplcXVhdGFibGUvZXF1YXRhYmxlLmRhcnQnOwoKLy8vIEJhc2UgZmFpbHVyZSBjbGFzcyBmb3IgZG9tYWluIGxheWVyCmFic3RyYWN0IGNsYXNzIEZhaWx1cmUgZXh0ZW5kcyBFcXVhdGFibGUgewogIGZpbmFsIFN0cmluZyBtZXNzYWdlOwoKICBjb25zdCBGYWlsdXJlKHtyZXF1aXJlZCB0aGlzLm1lc3NhZ2V9KTsKICAKICBAb3ZlcnJpZGUKICBMaXN0PE9iamVjdD4gZ2V0IHByb3BzID0+IFttZXNzYWdlXTsKfQoKLy8vIFNlcnZlci1yZWxhdGVkIGZhaWx1cmUKY2xhc3MgU2VydmVyRmFpbHVyZSBleHRlbmRzIEZhaWx1cmUgewogIGNvbnN0IFNlcnZlckZhaWx1cmUoe3JlcXVpcmVkIHN1cGVyLm1lc3NhZ2V9KTsKfQoKLy8vIENhY2hlLXJlbGF0ZWQgZmFpbHVyZQpjbGFzcyBDYWNoZUZhaWx1cmUgZXh0ZW5kcyBGYWlsdXJlIHsKICBjb25zdCBDYWNoZUZhaWx1cmUoe3JlcXVpcmVkIHN1cGVyLm1lc3NhZ2V9KTsKfQoKLy8vIE5ldHdvcmstcmVsYXRlZCBmYWlsdXJlCmNsYXNzIE5ldHdvcmtGYWlsdXJlIGV4dGVuZHMgRmFpbHVyZSB7CiAgY29uc3QgTmV0d29ya0ZhaWx1cmUoe3JlcXVpcmVkIHN1cGVyLm1lc3NhZ2V9KTsKfQoKLy8vIFZhbGlkYXRpb24tcmVsYXRlZCBmYWlsdXJlCmNsYXNzIFZhbGlkYXRpb25GYWlsdXJlIGV4dGVuZHMgRmFpbHVyZSB7CiAgZmluYWwgTWFwPFN0cmluZywgU3RyaW5nPj8gZmllbGRFcnJvcnM7CiAgCiAgY29uc3QgVmFsaWRhdGlvbkZhaWx1cmUoewogICAgcmVxdWlyZWQgc3VwZXIubWVzc2FnZSwKICAgIHRoaXMuZmllbGRFcnJvcnMsCiAgfSk7CiAgCiAgQG92ZXJyaWRlCiAgTGlzdDxPYmplY3Q+IGdldCBwcm9wcyA9PiBbbWVzc2FnZSwgaWYgKGZpZWxkRXJyb3JzICE9IG51bGwpIGZpZWxkRXJyb3JzIV07Cn0KCi8vLyBBdXRoZW50aWNhdGlvbi1yZWxhdGVkIGZhaWx1cmUKY2xhc3MgQXV0aEZhaWx1cmUgZXh0ZW5kcyBGYWlsdXJlIHsKICBjb25zdCBBdXRoRmFpbHVyZSh7cmVxdWlyZWQgc3VwZXIubWVzc2FnZX0pOwp9CgovLy8gUmVzb3VyY2Ugbm90IGZvdW5kIGZhaWx1cmUKY2xhc3MgTm90Rm91bmRGYWlsdXJlIGV4dGVuZHMgRmFpbHVyZSB7CiAgY29uc3QgTm90Rm91bmRGYWlsdXJlKHtyZXF1aXJlZCBzdXBlci5tZXNzYWdlfSk7Cn0KCi8vLyBQZXJtaXNzaW9uLXJlbGF0ZWQgZmFpbHVyZQpjbGFzcyBQZXJtaXNzaW9uRmFpbHVyZSBleHRlbmRzIEZhaWx1cmUgewogIGNvbnN0IFBlcm1pc3Npb25GYWlsdXJlKHtyZXF1aXJlZCBzdXBlci5tZXNzYWdlfSk7Cn0KCi8vLyBUaW1lb3V0LXJlbGF0ZWQgZmFpbHVyZQpjbGFzcyBUaW1lb3V0RmFpbHVyZSBleHRlbmRzIEZhaWx1cmUgewogIGNvbnN0IFRpbWVvdXRGYWlsdXJlKHtyZXF1aXJlZCBzdXBlci5tZXNzYWdlfSk7Cn0KCi8vLyBVbmV4cGVjdGVkIGVycm9yIGZhaWx1cmUKY2xhc3MgVW5leHBlY3RlZEZhaWx1cmUgZXh0ZW5kcyBGYWlsdXJlIHsKICBjb25zdCBVbmV4cGVjdGVkRmFpbHVyZSh7cmVxdWlyZWQgc3VwZXIubWVzc2FnZX0pOwp9CgovLy8gSW5wdXQgZGF0YS1yZWxhdGVkIGZhaWx1cmUKY2xhc3MgSW5wdXRGYWlsdXJlIGV4dGVuZHMgRmFpbHVyZSB7CiAgY29uc3QgSW5wdXRGYWlsdXJlKHtyZXF1aXJlZCBzdXBlci5tZXNzYWdlfSk7Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIHRoZSBlcnJvciBtYXBwZXIgZmlsZQp2b2lkIF9nZW5lcmF0ZUVycm9yTWFwcGVyRmlsZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBmaWxlUGF0aCA9ICckcHJvamVjdE5hbWUvbGliL2NvcmUvZXJyb3IvZXJyb3JfbWFwcGVyLmRhcnQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdleGNlcHRpb25zL2Vycm9yX2V4Y2VwdGlvbi5kYXJ0JzsKaW1wb3J0ICdmYWlsdXJlcy9mYWlsdXJlLmRhcnQnOwoKLy8vIE1hcHMgZXhjZXB0aW9ucyB0byBmYWlsdXJlcyBmb3IgdXNlIGluIHJlcG9zaXRvcmllcwpjbGFzcyBFcnJvck1hcHBlciB7CiAgLy8vIE1hcHMgYW4gZXhjZXB0aW9uIHRvIHRoZSBhcHByb3ByaWF0ZSBmYWlsdXJlCiAgc3RhdGljIEZhaWx1cmUgbWFwRXhjZXB0aW9uVG9GYWlsdXJlKEV4Y2VwdGlvbiBleGNlcHRpb24pIHsKICAgIGlmIChleGNlcHRpb24gaXMgRXJyb3JFeGNlcHRpb24pIHsKICAgICAgcmV0dXJuIF9tYXBFcnJvckV4Y2VwdGlvblRvRmFpbHVyZShleGNlcHRpb24pOwogICAgfQogICAgCiAgICByZXR1cm4gVW5leHBlY3RlZEZhaWx1cmUoCiAgICAgIG1lc3NhZ2U6IGV4Y2VwdGlvbi50b1N0cmluZygpLAogICAgKTsKICB9CiAgCiAgLy8vIE1hcHMgYW4gRXJyb3JFeGNlcHRpb24gdG8gdGhlIGFwcHJvcHJpYXRlIGZhaWx1cmUKICBzdGF0aWMgRmFpbHVyZSBfbWFwRXJyb3JFeGNlcHRpb25Ub0ZhaWx1cmUoRXJyb3JFeGNlcHRpb24gZXhjZXB0aW9uKSB7CiAgICBmaW5hbCBtZXNzYWdlID0gZXhjZXB0aW9uLm1lc3NhZ2UgPz8gJ0FuIGVycm9yIG9jY3VycmVkJzsKICAgIAogICAgaWYgKGV4Y2VwdGlvbiBpcyBTZXJ2ZXJFeGNlcHRpb24pIHsKICAgICAgcmV0dXJuIFNlcnZlckZhaWx1cmUobWVzc2FnZTogbWVzc2FnZSk7CiAgICB9IGVsc2UgaWYgKGV4Y2VwdGlvbiBpcyBDYWNoZUV4Y2VwdGlvbikgewogICAgICByZXR1cm4gQ2FjaGVGYWlsdXJlKG1lc3NhZ2U6IG1lc3NhZ2UpOwogICAgfSBlbHNlIGlmIChleGNlcHRpb24gaXMgTm9JbnRlcm5ldENvbm5lY3Rpb25FeGNlcHRpb24pIHsKICAgICAgcmV0dXJuIE5ldHdvcmtGYWlsdXJlKG1lc3NhZ2U6IG1lc3NhZ2UpOwogICAgfSBlbHNlIGlmIChleGNlcHRpb24gaXMgQXV0aEV4Y2VwdGlvbiB8fCBleGNlcHRpb24gaXMgVW5hdXRob3JpemVkRXhjZXB0aW9uKSB7CiAgICAgIHJldHVybiBBdXRoRmFpbHVyZShtZXNzYWdlOiBtZXNzYWdlKTsKICAgIH0gZWxzZSBpZiAoZXhjZXB0aW9uIGlzIFZhbGlkYXRpb25FeGNlcHRpb24pIHsKICAgICAgcmV0dXJuIFZhbGlkYXRpb25GYWlsdXJlKAogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZmllbGRFcnJvcnM6IChleGNlcHRpb24pLmZpZWxkRXJyb3JzLAogICAgICApOwogICAgfSBlbHNlIGlmIChleGNlcHRpb24gaXMgTm90Rm91bmRFeGNlcHRpb24pIHsKICAgICAgcmV0dXJuIE5vdEZvdW5kRmFpbHVyZShtZXNzYWdlOiBtZXNzYWdlKTsKICAgIH0gZWxzZSBpZiAoZXhjZXB0aW9uIGlzIFRpbWVvdXRFeGNlcHRpb24pIHsKICAgICAgcmV0dXJuIFRpbWVvdXRGYWlsdXJlKG1lc3NhZ2U6IG1lc3NhZ2UpOwogICAgfQogICAgCiAgICByZXR1cm4gVW5leHBlY3RlZEZhaWx1cmUobWVzc2FnZTogbWVzc2FnZSk7CiAgfQogIAogIC8vLyBHZXRzIGEgdXNlci1mcmllbmRseSBlcnJvciBtZXNzYWdlIGZyb20gYSBmYWlsdXJlCiAgc3RhdGljIFN0cmluZyBnZXRFcnJvck1lc3NhZ2UoRmFpbHVyZSBmYWlsdXJlKSB7CiAgICByZXR1cm4gZmFpbHVyZS5tZXNzYWdlOwogIH0KfQonJyc7CgogIGZpbmFsIGZpbGUgPSBGaWxlKGZpbGVQYXRoKTsKICBmaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJGZpbGVQYXRoJyk7Cn0KCi8vLyBHZW5lcmF0ZXMgdGhlIGVpdGhlciBleHRlbnNpb25zIGZpbGUgZm9yIENsZWFuIEFyY2hpdGVjdHVyZQp2b2lkIF9nZW5lcmF0ZUVpdGhlckV4dGVuc2lvbnNGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvY29yZS9lcnJvci9laXRoZXJfZXh0ZW5zaW9ucy5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpkYXJ0ei9kYXJ0ei5kYXJ0JzsKCmltcG9ydCAnZXJyb3JfbWFwcGVyLmRhcnQnOwppbXBvcnQgJ2ZhaWx1cmVzL2ZhaWx1cmUuZGFydCc7CgovLy8gRXh0ZW5zaW9uIG1ldGhvZHMgZm9yIEVpdGhlciB0eXBlCmV4dGVuc2lvbiBFaXRoZXJFeHRlbnNpb25zPEwsIFI+IG9uIEVpdGhlcjxMLCBSPiB7CiAgLy8vIE1hcHMgdGhlIHJpZ2h0IHZhbHVlIHVzaW5nIHRoZSBnaXZlbiBtYXBwZXIgZnVuY3Rpb24KICBFaXRoZXI8TCwgVD4gbWFwUmlnaHQ8VD4oVCBGdW5jdGlvbihSIHJpZ2h0KSBtYXBwZXIpIHsKICAgIHJldHVybiBmb2xkKAogICAgICAobGVmdCkgPT4gTGVmdChsZWZ0KSwKICAgICAgKHJpZ2h0KSA9PiBSaWdodChtYXBwZXIocmlnaHQpKSwKICAgICk7CiAgfQogIAogIC8vLyBHZXRzIHRoZSByaWdodCB2YWx1ZSBvciBudWxsIGlmIGl0J3MgYSBMZWZ0CiAgUj8gZ2V0T3JOdWxsKCkgewogICAgcmV0dXJuIGZvbGQoCiAgICAgIChfKSA9PiBudWxsLAogICAgICAocmlnaHQpID0+IHJpZ2h0LAogICAgKTsKICB9CiAgCiAgLy8vIEdldHMgdGhlIHJpZ2h0IHZhbHVlIG9yIHRocm93cyBhbiBleGNlcHRpb24gaWYgaXQncyBhIExlZnQKICBSIGdldE9yVGhyb3coKSB7CiAgICByZXR1cm4gZm9sZCgKICAgICAgKGxlZnQpID0+IHRocm93IEV4Y2VwdGlvbignTGVmdCB2YWx1ZSBlbmNvdW50ZXJlZDogXCRsZWZ0JyksCiAgICAgIChyaWdodCkgPT4gcmlnaHQsCiAgICApOwogIH0KICAKICAvLy8gR2V0cyB0aGUgcmlnaHQgdmFsdWUgb3IgYSBkZWZhdWx0IHZhbHVlIGlmIGl0J3MgYSBMZWZ0CiAgUiBnZXRPckRlZmF1bHQoUiBkZWZhdWx0VmFsdWUpIHsKICAgIHJldHVybiBmb2xkKAogICAgICAoXykgPT4gZGVmYXVsdFZhbHVlLAogICAgICAocmlnaHQpID0+IHJpZ2h0LAogICAgKTsKICB9CiAgCiAgLy8vIFJldHVybnMgd2hldGhlciB0aGlzIGlzIGEgUmlnaHQgY29udGFpbmluZyB0aGUgZ2l2ZW4gdmFsdWUKICBib29sIGNvbnRhaW5zKFIgdmFsdWUpIHsKICAgIHJldHVybiBmb2xkKAogICAgICAoXykgPT4gZmFsc2UsCiAgICAgIChyaWdodCkgPT4gcmlnaHQgPT0gdmFsdWUsCiAgICApOwogIH0KfQoKLy8vIEV4dGVuc2lvbiBtZXRob2RzIGZvciBGdXR1cmU8RWl0aGVyPiB0eXBlCmV4dGVuc2lvbiBGdXR1cmVFaXRoZXJFeHRlbnNpb25zPEwsIFI+IG9uIEZ1dHVyZTxFaXRoZXI8TCwgUj4+IHsKICAvLy8gTWFwcyB0aGUgcmlnaHQgdmFsdWUgdXNpbmcgdGhlIGdpdmVuIG1hcHBlciBmdW5jdGlvbgogIEZ1dHVyZTxFaXRoZXI8TCwgVD4+IG1hcFJpZ2h0PFQ+KFQgRnVuY3Rpb24oUiByaWdodCkgbWFwcGVyKSBhc3luYyB7CiAgICBmaW5hbCBlaXRoZXIgPSBhd2FpdCB0aGlzOwogICAgcmV0dXJuIGVpdGhlci5tYXBSaWdodChtYXBwZXIpOwogIH0KICAKICAvLy8gTWFwcyBhIEZ1dHVyZTxFaXRoZXI8RmFpbHVyZSwgVD4+IHRvIGEgRnV0dXJlPFQ+IGJ5IGhhbmRsaW5nIHRoZSBmYWlsdXJlCiAgRnV0dXJlPFQ+IGhhbmRsZUZhaWx1cmUoewogICAgRnVuY3Rpb24oRmFpbHVyZSk/IG9uRmFpbHVyZSwKICAgIHJlcXVpcmVkIFQgRnVuY3Rpb24oKSBvbkZhaWx1cmVSZXR1cm4sCiAgfSkgYXN5bmMgewogICAgZmluYWwgcmVzdWx0ID0gYXdhaXQgdGhpczsKICAgIHJldHVybiByZXN1bHQuZm9sZCgKICAgICAgKGZhaWx1cmUpIHsKICAgICAgICBpZiAob25GYWlsdXJlICE9IG51bGwpIHsKICAgICAgICAgIG9uRmFpbHVyZShmYWlsdXJlIGFzIEZhaWx1cmUpOwogICAgICAgIH0KICAgICAgICByZXR1cm4gb25GYWlsdXJlUmV0dXJuKCk7CiAgICAgIH0sCiAgICAgIChzdWNjZXNzKSA9PiBzdWNjZXNzLAogICAgKTsKICB9CiAgCiAgLy8vIEV4ZWN1dGVzIGRpZmZlcmVudCBjYWxsYmFja3MgYmFzZWQgb24gRWl0aGVyIHJlc3VsdAogIEZ1dHVyZTx2b2lkPiBoYW5kbGUoewogICAgcmVxdWlyZWQgRnVuY3Rpb24oUikgb25TdWNjZXNzLAogICAgRnVuY3Rpb24oTCk/IG9uRmFpbHVyZSwKICB9KSBhc3luYyB7CiAgICBmaW5hbCBlaXRoZXIgPSBhd2FpdCB0aGlzOwogICAgcmV0dXJuIGVpdGhlci5mb2xkKAogICAgICAobGVmdCkgPT4gb25GYWlsdXJlPy5jYWxsKGxlZnQpLAogICAgICAocmlnaHQpID0+IG9uU3VjY2VzcyhyaWdodCksCiAgICApOwogIH0KfQoKLy8vIFV0aWxpdHkgZnVuY3Rpb25zIGZvciB3b3JraW5nIHdpdGggRWl0aGVyIGluIHJlcG9zaXRvcmllcwpjbGFzcyBFaXRoZXJIYW5kbGVyIHsKICAvLy8gU2FmZWx5IGV4ZWN1dGVzIGEgZnVuY3Rpb24gdGhhdCBtaWdodCB0aHJvdyBleGNlcHRpb25zCiAgLy8vIGFuZCByZXR1cm5zIGFuIEVpdGhlciB3aXRoIHRoZSByZXN1bHQgb3IgYSBGYWlsdXJlCiAgc3RhdGljIEZ1dHVyZTxFaXRoZXI8RmFpbHVyZSwgVD4+IGV4ZWN1dGU8VD4oCiAgICBGdXR1cmU8VD4gRnVuY3Rpb24oKSBmdW5jdGlvbiwKICApIGFzeW5jIHsKICAgIHRyeSB7CiAgICAgIGZpbmFsIHJlc3VsdCA9IGF3YWl0IGZ1bmN0aW9uKCk7CiAgICAgIHJldHVybiBSaWdodChyZXN1bHQpOwogICAgfSBvbiBFeGNlcHRpb24gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIExlZnQoRXJyb3JNYXBwZXIubWFwRXhjZXB0aW9uVG9GYWlsdXJlKGUpKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIExlZnQoVW5leHBlY3RlZEZhaWx1cmUoCiAgICAgICAgbWVzc2FnZTogZS50b1N0cmluZygpLAogICAgICApKTsKICAgIH0KICB9Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIGV4YW1wbGUgdXNhZ2UgZmlsZSB3aXRoIGNsZWFuIGFyY2hpdGVjdHVyZSByZXBvc2l0b3J5IHBhdHRlcm4Kdm9pZCBfZ2VuZXJhdGVFeGFtcGxlVXNhZ2VGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGRpcmVjdG9yeSA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lL2xpYi9jb3JlL2Vycm9yL2V4YW1wbGVzJyk7CiAgaWYgKCFkaXJlY3RvcnkuZXhpc3RzU3luYygpKSB7CiAgICBkaXJlY3RvcnkuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogIH0KCiAgZmluYWwgZmlsZVBhdGggPQogICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2Vycm9yL2V4YW1wbGVzL2V4YW1wbGVfcmVwb3NpdG9yeS5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpkYXJ0ei9kYXJ0ei5kYXJ0JzsKCmltcG9ydCAnLi4vZWl0aGVyX2V4dGVuc2lvbnMuZGFydCc7CmltcG9ydCAnLi4vZXJyb3JfbWFwcGVyLmRhcnQnOwppbXBvcnQgJy4uL2V4Y2VwdGlvbnMvZXJyb3JfZXhjZXB0aW9uLmRhcnQnOwppbXBvcnQgJy4uL2ZhaWx1cmVzL2ZhaWx1cmUuZGFydCc7CgovLy8gRXhhbXBsZSBlbnRpdHkKY2xhc3MgVXNlciB7CiAgZmluYWwgaW50IGlkOwogIGZpbmFsIFN0cmluZyBuYW1lOwogIAogIFVzZXIoe3JlcXVpcmVkIHRoaXMuaWQsIHJlcXVpcmVkIHRoaXMubmFtZX0pOwp9CgovLy8gRXhhbXBsZSByZXBvc2l0b3J5IGludGVyZmFjZQphYnN0cmFjdCBjbGFzcyBVc2VyUmVwb3NpdG9yeSB7CiAgRnV0dXJlPEVpdGhlcjxGYWlsdXJlLCBVc2VyPj4gZ2V0VXNlcihpbnQgaWQpOwogIEZ1dHVyZTxFaXRoZXI8RmFpbHVyZSwgTGlzdDxVc2VyPj4+IGdldFVzZXJzKCk7CiAgRnV0dXJlPEVpdGhlcjxGYWlsdXJlLCB2b2lkPj4gY3JlYXRlVXNlcihVc2VyIHVzZXIpOwp9CgovLy8gRXhhbXBsZSBkYXRhIHNvdXJjZQphYnN0cmFjdCBjbGFzcyBVc2VyRGF0YVNvdXJjZSB7CiAgRnV0dXJlPFVzZXI+IGdldFVzZXIoaW50IGlkKTsKICBGdXR1cmU8TGlzdDxVc2VyPj4gZ2V0VXNlcnMoKTsKICBGdXR1cmU8dm9pZD4gY3JlYXRlVXNlcihVc2VyIHVzZXIpOwp9CgovLy8gRXhhbXBsZSByZXBvc2l0b3J5IGltcGxlbWVudGF0aW9uIApjbGFzcyBVc2VyUmVwb3NpdG9yeUltcGwgaW1wbGVtZW50cyBVc2VyUmVwb3NpdG9yeSB7CiAgZmluYWwgVXNlckRhdGFTb3VyY2UgZGF0YVNvdXJjZTsKICAKICBVc2VyUmVwb3NpdG9yeUltcGwodGhpcy5kYXRhU291cmNlKTsKICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8RWl0aGVyPEZhaWx1cmUsIFVzZXI+PiBnZXRVc2VyKGludCBpZCkgYXN5bmMgewogICAgcmV0dXJuIEVpdGhlckhhbmRsZXIuZXhlY3V0ZSgoKSBhc3luYyB7CiAgICAgIHRyeSB7CiAgICAgICAgZmluYWwgdXNlciA9IGF3YWl0IGRhdGFTb3VyY2UuZ2V0VXNlcihpZCk7CiAgICAgICAgcmV0dXJuIHVzZXI7CiAgICAgIH0gb24gU2VydmVyRXhjZXB0aW9uIGNhdGNoIChlKSB7CiAgICAgICAgdGhyb3cgZTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRocm93IFNlcnZlckV4Y2VwdGlvbignRmFpbGVkIHRvIGdldCB1c2VyOiBcJGUnKTsKICAgICAgfQogICAgfSk7CiAgfQogIAogIEBvdmVycmlkZQogIEZ1dHVyZTxFaXRoZXI8RmFpbHVyZSwgTGlzdDxVc2VyPj4+IGdldFVzZXJzKCkgYXN5bmMgewogICAgdHJ5IHsKICAgICAgZmluYWwgdXNlcnMgPSBhd2FpdCBkYXRhU291cmNlLmdldFVzZXJzKCk7CiAgICAgIHJldHVybiBSaWdodCh1c2Vycyk7CiAgICB9IG9uIEV4Y2VwdGlvbiBjYXRjaCAoZSkgewogICAgICByZXR1cm4gTGVmdChFcnJvck1hcHBlci5tYXBFeGNlcHRpb25Ub0ZhaWx1cmUoZSkpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gTGVmdChVbmV4cGVjdGVkRmFpbHVyZShtZXNzYWdlOiBlLnRvU3RyaW5nKCkpKTsKICAgIH0KICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPEVpdGhlcjxGYWlsdXJlLCB2b2lkPj4gY3JlYXRlVXNlcihVc2VyIHVzZXIpIGFzeW5jIHsKICAgIC8vIEFsdGVybmF0aXZlIGltcGxlbWVudGF0aW9uIHNob3dpbmcgdHJ5L2NhdGNoIHBhdHRlcm4KICAgIHRyeSB7CiAgICAgIGF3YWl0IGRhdGFTb3VyY2UuY3JlYXRlVXNlcih1c2VyKTsKICAgICAgcmV0dXJuIGNvbnN0IFJpZ2h0KG51bGwpOwogICAgfSBvbiBOZXR3b3JrRmFpbHVyZSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gTGVmdChOZXR3b3JrRmFpbHVyZShtZXNzYWdlOiAnTmV0d29yayBlcnJvcjogXCR7ZS5tZXNzYWdlfScpKTsKICAgIH0gb24gRXhjZXB0aW9uIGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBMZWZ0KEVycm9yTWFwcGVyLm1hcEV4Y2VwdGlvblRvRmFpbHVyZShlKSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBMZWZ0KFVuZXhwZWN0ZWRGYWlsdXJlKG1lc3NhZ2U6IGUudG9TdHJpbmcoKSkpOwogICAgfQogIH0KfQoKLy8vIEV4YW1wbGUgdXNhZ2UgaW4gYSB1c2UgY2FzZSBvciBzZXJ2aWNlCmNsYXNzIEdldFVzZXJVc2VDYXNlIHsKICBmaW5hbCBVc2VyUmVwb3NpdG9yeSByZXBvc2l0b3J5OwogIAogIEdldFVzZXJVc2VDYXNlKHRoaXMucmVwb3NpdG9yeSk7CiAgCiAgRnV0dXJlPEVpdGhlcjxGYWlsdXJlLCBVc2VyPj4gZXhlY3V0ZShpbnQgaWQpIHsKICAgIHJldHVybiByZXBvc2l0b3J5LmdldFVzZXIoaWQpOwogIH0KfQoKLy8vIEV4YW1wbGUgb2YgaG93IHRvIHVzZSB0aGUgVXNlQ2FzZSBpbiBhIGNvbnRyb2xsZXIgb3IgVmlld01vZGVsCnZvaWQgZXhhbXBsZVVzYWdlKCkgYXN5bmMgewogIC8vIFRoaXMgaXMganVzdCBleGFtcGxlIGNvZGUgdG8gZGVtb25zdHJhdGUgdXNhZ2UKICBmaW5hbCByZXBvc2l0b3J5ID0gVXNlclJlcG9zaXRvcnlJbXBsKEZha2VVc2VyRGF0YVNvdXJjZSgpKTsKICBmaW5hbCB1c2VDYXNlID0gR2V0VXNlclVzZUNhc2UocmVwb3NpdG9yeSk7CiAgCiAgLy8gVXNpbmcgaGFuZGxlIGV4dGVuc2lvbgogIGF3YWl0IHVzZUNhc2UuZXhlY3V0ZSgxKS5oYW5kbGUoCiAgICBvblN1Y2Nlc3M6ICh1c2VyKSB7CiAgICAgIHByaW50KCdVc2VyIGZvdW5kOiBcJHt1c2VyLm5hbWV9Jyk7CiAgICB9LAogICAgb25GYWlsdXJlOiAoZmFpbHVyZSkgewogICAgICBwcmludCgnRXJyb3I6IFwke2ZhaWx1cmUubWVzc2FnZX0nKTsKICAgIH0sCiAgKTsKICAKICAvLyBVc2luZyBmb2xkIGRpcmVjdGx5CiAgZmluYWwgcmVzdWx0ID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKDEpOwogIHJlc3VsdC5mb2xkKAogICAgKGZhaWx1cmUpIHsKICAgICAgcHJpbnQoJ0Vycm9yOiBcJHtmYWlsdXJlLm1lc3NhZ2V9Jyk7CiAgICB9LAogICAgKHVzZXIpIHsKICAgICAgcHJpbnQoJ1VzZXIgZm91bmQ6IFwke3VzZXIubmFtZX0nKTsKICAgIH0sCiAgKTsKICAKICAvLyBVc2luZyBnZXRPck51bGwgZXh0ZW5zaW9uCiAgZmluYWwgdXNlciA9IChhd2FpdCB1c2VDYXNlLmV4ZWN1dGUoMSkpLmdldE9yTnVsbCgpOwogIGlmICh1c2VyICE9IG51bGwpIHsKICAgIHByaW50KCdVc2VyIGZvdW5kOiBcJHt1c2VyLm5hbWV9Jyk7CiAgfQogIAogIC8vIFVzaW5nIG1hcFJpZ2h0IGV4dGVuc2lvbgogIGZpbmFsIHVzZXJOYW1lRWl0aGVyID0gYXdhaXQgdXNlQ2FzZS5leGVjdXRlKDEpLm1hcFJpZ2h0KCh1c2VyKSA9PiB1c2VyLm5hbWUpOwogIHVzZXJOYW1lRWl0aGVyLmZvbGQoCiAgICAoZmFpbHVyZSkgewogICAgICBwcmludCgnRXJyb3I6IFwke2ZhaWx1cmUubWVzc2FnZX0nKTsKICAgIH0sCiAgICAodXNlck5hbWUpIHsKICAgICAgcHJpbnQoJ1VzZXIgbmFtZTogXCR1c2VyTmFtZScpOwogICAgfSwKICApOwp9CgovLy8gRmFrZSBpbXBsZW1lbnRhdGlvbiBmb3IgZXhhbXBsZQpjbGFzcyBGYWtlVXNlckRhdGFTb3VyY2UgaW1wbGVtZW50cyBVc2VyRGF0YVNvdXJjZSB7CiAgQG92ZXJyaWRlCiAgRnV0dXJlPHZvaWQ+IGNyZWF0ZVVzZXIoVXNlciB1c2VyKSBhc3luYyB7CiAgICAvLyBTaW11bGF0ZSBBUEkgY2FsbAogICAgYXdhaXQgRnV0dXJlLmRlbGF5ZWQoY29uc3QgRHVyYXRpb24obWlsbGlzZWNvbmRzOiAzMDApKTsKICAgIC8vIEV4YW1wbGU6IHRocm93IE5ldHdvcmtFeGNlcHRpb24oJ05vIGludGVybmV0IGNvbm5lY3Rpb24nKTsKICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPFVzZXI+IGdldFVzZXIoaW50IGlkKSBhc3luYyB7CiAgICAvLyBTaW11bGF0ZSBBUEkgY2FsbAogICAgYXdhaXQgRnV0dXJlLmRlbGF5ZWQoY29uc3QgRHVyYXRpb24obWlsbGlzZWNvbmRzOiAzMDApKTsKICAgIGlmIChpZCA8IDApIHsKICAgICAgdGhyb3cgVmFsaWRhdGlvbkV4Y2VwdGlvbihtZXNzYWdlOiAnSW52YWxpZCB1c2VyIElEJyk7CiAgICB9CiAgICBpZiAoaWQgPiAxMCkgewogICAgICB0aHJvdyBOb3RGb3VuZEV4Y2VwdGlvbignVXNlciBub3QgZm91bmQnKTsKICAgIH0KICAgIHJldHVybiBVc2VyKGlkOiBpZCwgbmFtZTogJ1VzZXIgXCRpZCcpOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8TGlzdDxVc2VyPj4gZ2V0VXNlcnMoKSBhc3luYyB7CiAgICAvLyBTaW11bGF0ZSBBUEkgY2FsbAogICAgYXdhaXQgRnV0dXJlLmRlbGF5ZWQoY29uc3QgRHVyYXRpb24obWlsbGlzZWNvbmRzOiAzMDApKTsKICAgIHJldHVybiBMaXN0LmdlbmVyYXRlKDUsIChpbmRleCkgPT4gVXNlcihpZDogaW5kZXgsIG5hbWU6ICdVc2VyIFwkaW5kZXgnKSk7CiAgfQp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlcyBhIFJFQURNRSBmaWxlIHdpdGggZXJyb3IgaGFuZGxpbmcgdXNhZ2UgaW5zdHJ1Y3Rpb25zCnZvaWQgX2dlbmVyYXRlRXJyb3JIYW5kbGluZ1JlYWRtZUZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2Vycm9yL1JFQURNRS5tZCc7CiAgZmluYWwgY29udGVudCA9ICcnJwojIEVycm9yIEhhbmRsaW5nIFN5c3RlbQoKVGhpcyBtb2R1bGUgcHJvdmlkZXMgYSBjb21wcmVoZW5zaXZlIGVycm9yIGhhbmRsaW5nIHN5c3RlbSBmb3IgeW91ciBhcHBsaWNhdGlvbiwgc2VwYXJhdGluZyBleGNlcHRpb25zIGFuZCBmYWlsdXJlcyBmb3IgY2xlYW4gYXJjaGl0ZWN0dXJlLgoKIyMgRmVhdHVyZXMKCi0g8J+aqyBDbGVhciBkaXN0aW5jdGlvbiBiZXR3ZWVuIGV4Y2VwdGlvbnMgYW5kIGZhaWx1cmVzCi0g8J+UhCBFYXN5IG1hcHBpbmcgYmV0d2VlbiBleGNlcHRpb25zIGFuZCBmYWlsdXJlcwotIPCfp6kgRXh0ZW5zaW9uIG1ldGhvZHMgZm9yIEVpdGhlciB0eXBlICh3aXRoIENsZWFuIEFyY2hpdGVjdHVyZSkKLSDwn5OdIERldGFpbGVkIGVycm9yIG1lc3NhZ2VzCi0g8J+UjSBWYWxpZGF0aW9uIGVycm9yIGhhbmRsaW5nIHdpdGggZmllbGQtc3BlY2lmaWMgZXJyb3JzCgojIyBVc2FnZQoKIyMjIEV4Y2VwdGlvbnMKCkV4Y2VwdGlvbnMgYXJlIHVzZWQgaW4gdGhlIGRhdGEgbGF5ZXIgYW5kIHNob3VsZCBiZSB0aHJvd24gd2hlbiBzb21ldGhpbmcgZ29lcyB3cm9uZzoKCmBgYGRhcnQKdHJ5IHsKICAvLyBTb21lIG9wZXJhdGlvbiB0aGF0IG1pZ2h0IGZhaWwKICBmaW5hbCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXRVc2VyKGlkKTsKICAKICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PSA0MDQpIHsKICAgIHRocm93IE5vdEZvdW5kRXhjZXB0aW9uKCdVc2VyIG5vdCBmb3VuZCcpOwogIH0KICAKICByZXR1cm4gVXNlci5mcm9tSnNvbihyZXNwb25zZS5kYXRhKTsKfSBvbiBEaW9FeGNlcHRpb24gY2F0Y2ggKGUpIHsKICB0aHJvdyBTZXJ2ZXJFeGNlcHRpb24oJ1NlcnZlciBlcnJvcjogJHsnZS5tZXNzYWdlJ30nKTsKfSBjYXRjaCAoZSkgewogIHRocm93IFNlcnZlckV4Y2VwdGlvbignVW5leHBlY3RlZCBlcnJvcjogJHsnZSd9Jyk7Cn0KYGBgCgojIyMgRmFpbHVyZXMKCkZhaWx1cmVzIGFyZSB1c2VkIGluIHRoZSBkb21haW4gYW5kIHByZXNlbnRhdGlvbiBsYXllcnMgdG8gcmVwcmVzZW50IGVycm9yczoKCmBgYGRhcnQKLy8gSW4gYSByZXBvc2l0b3J5CkZ1dHVyZTxFaXRoZXI8RmFpbHVyZSwgVXNlcj4+IGdldFVzZXIoaW50IGlkKSBhc3luYyB7CiAgdHJ5IHsKICAgIGZpbmFsIHVzZXIgPSBhd2FpdCBkYXRhU291cmNlLmdldFVzZXIoaWQpOwogICAgcmV0dXJuIFJpZ2h0KHVzZXIpOwogIH0gb24gRXhjZXB0aW9uIGNhdGNoIChlKSB7CiAgICByZXR1cm4gTGVmdChFcnJvck1hcHBlci5tYXBFeGNlcHRpb25Ub0ZhaWx1cmUoZSkpOwogIH0KfQpgYGAKCiMjIyBVc2luZyBFaXRoZXIgd2l0aCBDbGVhbiBBcmNoaXRlY3R1cmUKCldpdGggQ2xlYW4gQXJjaGl0ZWN0dXJlLCB3ZSB1c2UgdGhlIGBFaXRoZXJgIHR5cGUgZnJvbSB0aGUgYGRhcnR6YCBwYWNrYWdlIHRvIHJlcHJlc2VudCBvcGVyYXRpb25zIHRoYXQgY2FuIGVpdGhlciBzdWNjZWVkIG9yIGZhaWw6CgpgYGBkYXJ0Ci8vIEluIGEgdXNlIGNhc2Ugb3Igc2VydmljZQpGdXR1cmU8RWl0aGVyPEZhaWx1cmUsIFVzZXI+PiBnZXRVc2VyKGludCBpZCkgewogIHJldHVybiB1c2VyUmVwb3NpdG9yeS5nZXRVc2VyKGlkKTsKfQoKLy8gSW4gYSBjb250cm9sbGVyIG9yIFZpZXdNb2RlbApmaW5hbCByZXN1bHQgPSBhd2FpdCBnZXRVc2VyVXNlQ2FzZShpZCk7CnJlc3VsdC5mb2xkKAogIChmYWlsdXJlKSA9PiBfc2hvd0Vycm9yKGZhaWx1cmUubWVzc2FnZSksCiAgKHVzZXIpID0+IF9zaG93VXNlcih1c2VyKSwKKTsKYGBgCgojIyMgVXNpbmcgRXh0ZW5zaW9uIE1ldGhvZHMKCldlIHByb3ZpZGUgc2V2ZXJhbCBleHRlbnNpb24gbWV0aG9kcyB0byBtYWtlIHdvcmtpbmcgd2l0aCBgRWl0aGVyYCBlYXNpZXI6CgpgYGBkYXJ0Ci8vIE1hcCB0aGUgc3VjY2VzcyB2YWx1ZQpmaW5hbCB1c2VyTmFtZUVpdGhlciA9IGF3YWl0IHVzZUNhc2UuZXhlY3V0ZSgxKS5tYXBSaWdodCgodXNlcikgPT4gdXNlci5uYW1lKTsKCi8vIEdldCB0aGUgdmFsdWUgb3IgbnVsbApmaW5hbCB1c2VyID0gKGF3YWl0IHVzZUNhc2UuZXhlY3V0ZSgxKSkuZ2V0T3JOdWxsKCk7CgovLyBIYW5kbGUgc3VjY2VzcyBhbmQgZmFpbHVyZQphd2FpdCB1c2VDYXNlLmV4ZWN1dGUoMSkuaGFuZGxlKAogIG9uU3VjY2VzczogKHVzZXIpIHsKICAgIC8vIEhhbmRsZSBzdWNjZXNzCiAgfSwKICBvbkZhaWx1cmU6IChmYWlsdXJlKSB7CiAgICAvLyBIYW5kbGUgZmFpbHVyZQogIH0sCik7CmBgYAoKIyMjIFVzaW5nIEVpdGhlckhhbmRsZXIKCmBFaXRoZXJIYW5kbGVyYCBwcm92aWRlcyBhIGNvbnZlbmllbnQgd2F5IHRvIGV4ZWN1dGUgZnVuY3Rpb25zIHRoYXQgbWlnaHQgdGhyb3cgZXhjZXB0aW9uczoKCmBgYGRhcnQKRnV0dXJlPEVpdGhlcjxGYWlsdXJlLCBVc2VyPj4gZ2V0VXNlcihpbnQgaWQpIHsKICByZXR1cm4gRWl0aGVySGFuZGxlci5leGVjdXRlKCgpIGFzeW5jIHsKICAgIHJldHVybiBhd2FpdCBkYXRhU291cmNlLmdldFVzZXIoaWQpOwogIH0pOwp9CmBgYAoKIyMgVmFsaWRhdGlvbiBFcnJvcnMKCkZvciB2YWxpZGF0aW9uIGVycm9ycywgeW91IGNhbiBpbmNsdWRlIGZpZWxkLXNwZWNpZmljIGVycm9yczoKCmBgYGRhcnQKdGhyb3cgVmFsaWRhdGlvbkV4Y2VwdGlvbigKICBtZXNzYWdlOiAnVmFsaWRhdGlvbiBmYWlsZWQnLAogIGZpZWxkRXJyb3JzOiB7CiAgICAnZW1haWwnOiAnSW52YWxpZCBlbWFpbCBmb3JtYXQnLAogICAgJ3Bhc3N3b3JkJzogJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgOCBjaGFyYWN0ZXJzJywKICB9LAopOwpgYGAKCkluIHRoZSBVSSwgeW91IGNhbiB0aGVuIGRpc3BsYXkgZmllbGQtc3BlY2lmaWMgZXJyb3JzOgoKYGBgZGFydApyZXN1bHQuZm9sZCgKICAoZmFpbHVyZSkgewogICAgaWYgKGZhaWx1cmUgaXMgVmFsaWRhdGlvbkZhaWx1cmUgJiYgZmFpbHVyZS5maWVsZEVycm9ycyAhPSBudWxsKSB7CiAgICAgIC8vIEhhbmRsZSBmaWVsZCBlcnJvcnMKICAgICAgZmFpbHVyZS5maWVsZEVycm9ycyEuZm9yRWFjaCgoZmllbGQsIGVycm9yKSB7CiAgICAgICAgLy8gU2hvdyBlcnJvciBmb3Igc3BlY2lmaWMgZmllbGQKICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICAvLyBTaG93IGdlbmVyYWwgZXJyb3IKICAgICAgX3Nob3dFcnJvcihmYWlsdXJlLm1lc3NhZ2UpOwogICAgfQogIH0sCiAgKHN1Y2Nlc3MpID0+IF9oYW5kbGVTdWNjZXNzKHN1Y2Nlc3MpLAopOwpgYGAKCiMjIEVycm9yIFR5cGVzCgojIyMgRXhjZXB0aW9ucwoKLSBgRXJyb3JFeGNlcHRpb25gOiBCYXNlIGV4Y2VwdGlvbiBjbGFzcwotIGBTZXJ2ZXJFeGNlcHRpb25gOiBGb3Igc2VydmVyLXJlbGF0ZWQgZXJyb3JzCi0gYEF1dGhFeGNlcHRpb25gOiBGb3IgYXV0aGVudGljYXRpb24gZXJyb3JzCi0gYFVuYXV0aG9yaXplZEV4Y2VwdGlvbmA6IEZvciB1bmF1dGhvcml6ZWQgYWNjZXNzCi0gYE5vdEZvdW5kRXhjZXB0aW9uYDogRm9yIHJlc291cmNlIG5vdCBmb3VuZCBlcnJvcnMKLSBgQ29uZmxpY3RFeGNlcHRpb25gOiBGb3IgY29uZmxpY3RzIChlLmcuLCBkdXBsaWNhdGUgcmVzb3VyY2VzKQotIGBJbnRlcm5hbFNlcnZlckVycm9yRXhjZXB0aW9uYDogRm9yIGludGVybmFsIHNlcnZlciBlcnJvcnMKLSBgTm9JbnRlcm5ldENvbm5lY3Rpb25FeGNlcHRpb25gOiBGb3IgbmV0d29yayBjb25uZWN0aXZpdHkgaXNzdWVzCi0gYENhY2hlRXhjZXB0aW9uYDogRm9yIGxvY2FsIHN0b3JhZ2UgZXJyb3JzCi0gYFZhbGlkYXRpb25FeGNlcHRpb25gOiBGb3IgdmFsaWRhdGlvbiBlcnJvcnMKLSBgVGltZW91dEV4Y2VwdGlvbmA6IEZvciByZXF1ZXN0IHRpbWVvdXRzCi0gYENhbmNlbGxhdGlvbkV4Y2VwdGlvbmA6IEZvciBjYW5jZWxsZWQgcmVxdWVzdHMKCiMjIyBGYWlsdXJlcwoKLSBgRmFpbHVyZWA6IEJhc2UgZmFpbHVyZSBjbGFzcwotIGBTZXJ2ZXJGYWlsdXJlYDogRm9yIHNlcnZlci1yZWxhdGVkIGVycm9ycwotIGBBdXRoRmFpbHVyZWA6IEZvciBhdXRoZW50aWNhdGlvbiBlcnJvcnMKLSBgTmV0d29ya0ZhaWx1cmVgOiBGb3IgbmV0d29yayBjb25uZWN0aXZpdHkgaXNzdWVzCi0gYENhY2hlRmFpbHVyZWA6IEZvciBsb2NhbCBzdG9yYWdlIGVycm9ycwotIGBWYWxpZGF0aW9uRmFpbHVyZWA6IEZvciB2YWxpZGF0aW9uIGVycm9ycwotIGBOb3RGb3VuZEZhaWx1cmVgOiBGb3IgcmVzb3VyY2Ugbm90IGZvdW5kIGVycm9ycwotIGBQZXJtaXNzaW9uRmFpbHVyZWA6IEZvciBwZXJtaXNzaW9uIGlzc3VlcwotIGBUaW1lb3V0RmFpbHVyZWA6IEZvciB0aW1lb3V0cwotIGBVbmV4cGVjdGVkRmFpbHVyZWA6IEZvciB1bmV4cGVjdGVkIGVycm9ycwotIGBJbnB1dEZhaWx1cmVgOiBGb3IgdXNlciBpbnB1dCBlcnJvcnMKJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gQWRkIG5lZWRlZCBkZXBlbmRlbmNpZXMgZm9yIGVycm9yIGhhbmRsaW5nIHRvIHB1YnNwZWMueWFtbAp2b2lkIHVwZGF0ZVB1YnNwZWNGb3JFcnJvckhhbmRsaW5nKAogICAgSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lLCBTdHJpbmcgYXJjaGl0ZWN0dXJlKSB7CiAgZmluYWwgcHVic3BlY0ZpbGUgPSBGaWxlKCckcHJvamVjdE5hbWUvcHVic3BlYy55YW1sJyk7CiAgaWYgKCFwdWJzcGVjRmlsZS5leGlzdHNTeW5jKCkpIHsKICAgIGNvbnRleHQubG9nZ2VyLndhcm4oCiAgICAgICAgJ3B1YnNwZWMueWFtbCBub3QgZm91bmQsIHNraXBwaW5nIGFkZGluZyBlcnJvciBoYW5kbGluZyBkZXBlbmRlbmNpZXMnKTsKICAgIHJldHVybjsKICB9CgogIFN0cmluZyBjb250ZW50ID0gcHVic3BlY0ZpbGUucmVhZEFzU3RyaW5nU3luYygpOwoKICAvLyBDaGVjayBpZiBlcXVhdGFibGUgaXMgYWxyZWFkeSBhZGRlZAogIGlmICghY29udGVudC5jb250YWlucygnZXF1YXRhYmxlOicpKSB7CiAgICAvLyBGaW5kIHRoZSBlbmQgb2YgdGhlIGRlcGVuZGVuY2llcyBzZWN0aW9uCiAgICBmaW5hbCBkZXBlbmRlbmNpZXNNYXRjaCA9CiAgICAgICAgUmVnRXhwKHInZGVwZW5kZW5jaWVzOlxzKlxuKChcc3syfVtcd19dKzouKlxuKSspJykuZmlyc3RNYXRjaChjb250ZW50KTsKCiAgICBpZiAoZGVwZW5kZW5jaWVzTWF0Y2ggIT0gbnVsbCkgewogICAgICBmaW5hbCBlbmRPZkRlcGVuZGVuY2llcyA9IGRlcGVuZGVuY2llc01hdGNoLmVuZDsKCiAgICAgIC8vIERlcGVuZGVuY2llcyB0byBhZGQKICAgICAgU3RyaW5nIGVycm9yRGVwZW5kZW5jaWVzID0gJycnCgogICMgRXJyb3IgaGFuZGxpbmcgZGVwZW5kZW5jaWVzCiAgZXF1YXRhYmxlOiBeMi4wLjUKJycnOwoKICAgICAgLy8gQWRkIGRhcnR6IGlmIGl0J3MgQ2xlYW4gQXJjaGl0ZWN0dXJlIGFuZCBub3QgYWxyZWFkeSBwcmVzZW50CiAgICAgIGlmIChhcmNoaXRlY3R1cmUgPT0gJ0NsZWFuIEFyY2hpdGVjdHVyZScgJiYgIWNvbnRlbnQuY29udGFpbnMoJ2RhcnR6OicpKSB7CiAgICAgICAgZXJyb3JEZXBlbmRlbmNpZXMgKz0gJycnCiAgZGFydHo6IF4wLjEwLjEKJycnOwogICAgICB9CgogICAgICAvLyBJbnNlcnQgZGVwZW5kZW5jaWVzCiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBlbmRPZkRlcGVuZGVuY2llcykgKwogICAgICAgICAgZXJyb3JEZXBlbmRlbmNpZXMgKwogICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoZW5kT2ZEZXBlbmRlbmNpZXMpOwoKICAgICAgLy8gV3JpdGUgdXBkYXRlZCBjb250ZW50IGJhY2sgdG8gZmlsZQogICAgICBwdWJzcGVjRmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICAgICAgY29udGV4dC5sb2dnZXIKICAgICAgICAgIC5zdWNjZXNzKCdBZGRlZCBlcnJvciBoYW5kbGluZyBkZXBlbmRlbmNpZXMgdG8gcHVic3BlYy55YW1sJyk7CiAgICB9IGVsc2UgewogICAgICBjb250ZXh0LmxvZ2dlcgogICAgICAgICAgLndhcm4oJ0NvdWxkIG5vdCBmaW5kIGRlcGVuZGVuY2llcyBzZWN0aW9uIGluIHB1YnNwZWMueWFtbCcpOwogICAgfQogIH0gZWxzZSB7CiAgICBjb250ZXh0LmxvZ2dlcgogICAgICAgIC5pbmZvKCdFcnJvciBoYW5kbGluZyBkZXBlbmRlbmNpZXMgYWxyZWFkeSBleGlzdCBpbiBwdWJzcGVjLnlhbWwnKTsKICB9Cn0KCi8vLyBHZW5lcmF0ZSBhbGwgZXJyb3IgaGFuZGxpbmcgY29tcG9uZW50cwp2b2lkIGdlbmVyYXRlQ29tcGxldGVFcnJvckhhbmRsaW5nKAogICAgSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lLCBTdHJpbmcgYXJjaGl0ZWN0dXJlKSB7CiAgLy8gR2VuZXJhdGUgYmFzZSBjb21wb25lbnRzCiAgX2dlbmVyYXRlQmFzZUV4Y2VwdGlvbkZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwogIF9nZW5lcmF0ZUZhaWx1cmVGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICBfZ2VuZXJhdGVFcnJvck1hcHBlckZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwoKICAvLyBHZW5lcmF0ZSBjbGVhbiBhcmNoaXRlY3R1cmUgc3BlY2lmaWMgY29tcG9uZW50cyBpZiBuZWVkZWQKICBpZiAoYXJjaGl0ZWN0dXJlID09ICdDbGVhbiBBcmNoaXRlY3R1cmUnKSB7CiAgICBfZ2VuZXJhdGVFaXRoZXJFeHRlbnNpb25zRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgICBfZ2VuZXJhdGVFeGFtcGxlVXNhZ2VGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICB9CgogIC8vIEdlbmVyYXRlIFJFQURNRQogIF9nZW5lcmF0ZUVycm9ySGFuZGxpbmdSZWFkbWVGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gVXBkYXRlIHB1YnNwZWMueWFtbAogIHVwZGF0ZVB1YnNwZWNGb3JFcnJvckhhbmRsaW5nKGNvbnRleHQsIHByb2plY3ROYW1lLCBhcmNoaXRlY3R1cmUpOwp9Cg==",
      "type": "text",
    },
    {
      "path": "lib/feature_generator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCmltcG9ydCAnc3RhdGVfbWFuYWdlbWVudF9oYW5kbGVyLmRhcnQnOwppbXBvcnQgJ3V0aWxzLmRhcnQnOwoKdm9pZCBjcmVhdGVGZWF0dXJlU3RydWN0dXJlcyhIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBMaXN0PGR5bmFtaWM+IGZlYXR1cmVzLCBTdHJpbmcgYXJjaGl0ZWN0dXJlLCBTdHJpbmcgc3RhdGVNYW5hZ2VtZW50KSB7CiAgZm9yIChmaW5hbCBmZWF0dXJlIGluIGZlYXR1cmVzKSB7CiAgICBmaW5hbCBmZWF0dXJlTmFtZSA9IGZlYXR1cmUudG9TdHJpbmcoKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2VBbGwoJyAnLCAnXycpOwoKICAgIHN3aXRjaCAoYXJjaGl0ZWN0dXJlKSB7CiAgICAgIGNhc2UgJ0NsZWFuIEFyY2hpdGVjdHVyZSc6CiAgICAgICAgY3JlYXRlQ2xlYW5BcmNoaXRlY3R1cmVGZWF0dXJlKAogICAgICAgICAgICBjb250ZXh0LCBwcm9qZWN0TmFtZSwgZmVhdHVyZU5hbWUsIHN0YXRlTWFuYWdlbWVudCk7CiAgICAgICAgYnJlYWs7CiAgICAgIGNhc2UgJ01WVk0nOgogICAgICAgIGNyZWF0ZU1WVk1GZWF0dXJlKGNvbnRleHQsIHByb2plY3ROYW1lLCBmZWF0dXJlTmFtZSwgc3RhdGVNYW5hZ2VtZW50KTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnTVZDJzoKICAgICAgICBjcmVhdGVNVkNGZWF0dXJlKGNvbnRleHQsIHByb2plY3ROYW1lLCBmZWF0dXJlTmFtZSwgc3RhdGVNYW5hZ2VtZW50KTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnRmVhdHVyZS1Ecml2ZW4nOgogICAgICAgIGNyZWF0ZUZlYXR1cmVEcml2ZW5GZWF0dXJlKAogICAgICAgICAgICBjb250ZXh0LCBwcm9qZWN0TmFtZSwgZmVhdHVyZU5hbWUsIHN0YXRlTWFuYWdlbWVudCk7CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgY29udGV4dC5sb2dnZXIud2FybignVW5rbm93biBhcmNoaXRlY3R1cmU6ICRhcmNoaXRlY3R1cmUnKTsKICAgICAgICBjb250aW51ZTsKICAgIH0KICB9Cn0KCnZvaWQgY3JlYXRlQ2xlYW5BcmNoaXRlY3R1cmVGZWF0dXJlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwKICAgIFN0cmluZyBmZWF0dXJlTmFtZSwgU3RyaW5nIHN0YXRlTWFuYWdlbWVudCkgewogIC8vIENyZWF0ZSBDbGVhbiBBcmNoaXRlY3R1cmUgc3RydWN0dXJlIGZvciB0aGUgZmVhdHVyZQogIGZpbmFsIGJhc2VEaXJlY3RvcmllcyA9IFsKICAgICdsaWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL2RvbWFpbi9lbnRpdGllcycsCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kb21haW4vcmVwb3NpdG9yaWVzJywKICAgICdsaWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL2RvbWFpbi91c2VjYXNlcycsCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kYXRhL21vZGVscycsCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kYXRhL3JlcG9zaXRvcmllcycsCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kYXRhL2RhdGFzb3VyY2VzJywKICAgICdsaWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL3ByZXNlbnRhdGlvbi9wYWdlcycsCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9wcmVzZW50YXRpb24vd2lkZ2V0cycsCiAgXTsKCiAgLy8gQ3JlYXRlIGFsbCBiYXNlIGRpcmVjdG9yaWVzCiAgZm9yIChmaW5hbCBkaXIgaW4gYmFzZURpcmVjdG9yaWVzKSB7CiAgICBmaW5hbCBkaXJlY3RvcnkgPSBEaXJlY3RvcnkoJyRwcm9qZWN0TmFtZS8kZGlyJyk7CiAgICBpZiAoIWRpcmVjdG9yeS5leGlzdHNTeW5jKCkpIHsKICAgICAgZGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICAgICAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmZWF0dXJlIGRpcmVjdG9yeTogJGRpcicpOwogICAgfQogIH0KCiAgLy8gQ3JlYXRlIHNhbXBsZSBlbnRpdHkKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvZG9tYWluL2VudGl0aWVzLyR7ZmVhdHVyZU5hbWV9X2VudGl0eS5kYXJ0JywKICAgICAgZ2VuZXJhdGVFbnRpdHlUZW1wbGF0ZShmZWF0dXJlTmFtZSksCiAgICAgIGNvbnRleHQpOwoKICAvLyBDcmVhdGUgc2FtcGxlIHJlcG9zaXRvcnkgaW50ZXJmYWNlCiAgY3JlYXRlRmlsZSgKICAgICAgJyRwcm9qZWN0TmFtZS9saWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL2RvbWFpbi9yZXBvc2l0b3JpZXMvJHtmZWF0dXJlTmFtZX1fcmVwb3NpdG9yeS5kYXJ0JywKICAgICAgZ2VuZXJhdGVSZXBvc2l0b3J5VGVtcGxhdGUoZmVhdHVyZU5hbWUpLAogICAgICBjb250ZXh0KTsKCiAgLy8gQ3JlYXRlIHNhbXBsZSB1c2UgY2FzZQogIGNyZWF0ZUZpbGUoCiAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kb21haW4vdXNlY2FzZXMvJHtmZWF0dXJlTmFtZX1fdXNlY2FzZS5kYXJ0JywKICAgICAgZ2VuZXJhdGVVc2VDYXNlVGVtcGxhdGUoZmVhdHVyZU5hbWUpLAogICAgICBjb250ZXh0KTsKCiAgLy8gQ3JlYXRlIHNhbXBsZSBtb2RlbAogIGNyZWF0ZUZpbGUoCiAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kYXRhL21vZGVscy8ke2ZlYXR1cmVOYW1lfV9tb2RlbC5kYXJ0JywKICAgICAgZ2VuZXJhdGVNb2RlbFRlbXBsYXRlKGZlYXR1cmVOYW1lKSwKICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBzYW1wbGUgcmVwb3NpdG9yeSBpbXBsZW1lbnRhdGlvbgogIGNyZWF0ZUZpbGUoCiAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kYXRhL3JlcG9zaXRvcmllcy8ke2ZlYXR1cmVOYW1lfV9yZXBvc2l0b3J5X2ltcGwuZGFydCcsCiAgICAgIGdlbmVyYXRlUmVwb3NpdG9yeUltcGxUZW1wbGF0ZShmZWF0dXJlTmFtZSksCiAgICAgIGNvbnRleHQpOwoKICAvLyBDcmVhdGUgc2FtcGxlIGRhdGEgc291cmNlCiAgY3JlYXRlRmlsZSgKICAgICAgJyRwcm9qZWN0TmFtZS9saWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL2RhdGEvZGF0YXNvdXJjZXMvJHtmZWF0dXJlTmFtZX1fZGF0YV9zb3VyY2UuZGFydCcsCiAgICAgIGdlbmVyYXRlRGF0YVNvdXJjZVRlbXBsYXRlKGZlYXR1cmVOYW1lKSwKICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBzYW1wbGUgcGFnZQogIGNyZWF0ZUZpbGUoCiAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9wcmVzZW50YXRpb24vcGFnZXMvJHtmZWF0dXJlTmFtZX1fcGFnZS5kYXJ0JywKICAgICAgZ2VuZXJhdGVQYWdlVGVtcGxhdGUoZmVhdHVyZU5hbWUpLAogICAgICBjb250ZXh0KTsKCiAgLy8gQ3JlYXRlIHNhbXBsZSB3aWRnZXQKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvcHJlc2VudGF0aW9uL3dpZGdldHMvJHtmZWF0dXJlTmFtZX1fd2lkZ2V0LmRhcnQnLAogICAgICBnZW5lcmF0ZVdpZGdldFRlbXBsYXRlKGZlYXR1cmVOYW1lKSwKICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBzdGF0ZSBtYW5hZ2VtZW50IGZpbGVzCiAgY3JlYXRlU3RhdGVNYW5hZ2VtZW50RmlsZXMoY29udGV4dCwgcHJvamVjdE5hbWUsCiAgICAgICdsaWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL3ByZXNlbnRhdGlvbicsIGZlYXR1cmVOYW1lLCBzdGF0ZU1hbmFnZW1lbnQpOwp9Cgp2b2lkIGNyZWF0ZU1WVk1GZWF0dXJlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwKICAgIFN0cmluZyBmZWF0dXJlTmFtZSwgU3RyaW5nIHN0YXRlTWFuYWdlbWVudCkgewogIC8vIENyZWF0ZSBNVlZNIHN0cnVjdHVyZSBmb3IgdGhlIGZlYXR1cmUKICBmaW5hbCBiYXNlRGlyZWN0b3JpZXMgPSBbCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9tb2RlbHMnLAogICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvdmlld3MnLAogICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvdmlld21vZGVscycsCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9zZXJ2aWNlcycsCiAgXTsKCiAgLy8gQ3JlYXRlIGFsbCBiYXNlIGRpcmVjdG9yaWVzCiAgZm9yIChmaW5hbCBkaXIgaW4gYmFzZURpcmVjdG9yaWVzKSB7CiAgICBmaW5hbCBkaXJlY3RvcnkgPSBEaXJlY3RvcnkoJyRwcm9qZWN0TmFtZS8kZGlyJyk7CiAgICBpZiAoIWRpcmVjdG9yeS5leGlzdHNTeW5jKCkpIHsKICAgICAgZGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICAgICAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmZWF0dXJlIGRpcmVjdG9yeTogJGRpcicpOwogICAgfQogIH0KCiAgLy8gQ3JlYXRlIHNhbXBsZSBtb2RlbAogIGNyZWF0ZUZpbGUoCiAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9tb2RlbHMvJHtmZWF0dXJlTmFtZX1fbW9kZWwuZGFydCcsCiAgICAgICcnJwovLyAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1Nb2RlbAovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCgpjbGFzcyAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1Nb2RlbCB7CiAgZmluYWwgU3RyaW5nIGlkOwogIGZpbmFsIFN0cmluZyBuYW1lOwogIC8vIEFkZCBtb3JlIGZpZWxkcyBhcyBuZWVkZWQKICAKICAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1Nb2RlbCh7CiAgICByZXF1aXJlZCB0aGlzLmlkLAogICAgcmVxdWlyZWQgdGhpcy5uYW1lLAogIH0pOwogIAogIGZhY3RvcnkgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9TW9kZWwuZnJvbUpzb24oTWFwPFN0cmluZywgZHluYW1pYz4ganNvbikgewogICAgcmV0dXJuICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfU1vZGVsKAogICAgICBpZDoganNvblsnaWQnXSwKICAgICAgbmFtZToganNvblsnbmFtZSddLAogICAgKTsKICB9CiAgCiAgTWFwPFN0cmluZywgZHluYW1pYz4gdG9Kc29uKCkgewogICAgcmV0dXJuIHsKICAgICAgJ2lkJzogaWQsCiAgICAgICduYW1lJzogbmFtZSwKICAgIH07CiAgfQp9CicnJywKICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBzYW1wbGUgdmlldwogIGNyZWF0ZUZpbGUoCiAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS92aWV3cy8ke2ZlYXR1cmVOYW1lfV92aWV3LmRhcnQnLAogICAgICAnJycKLy8gJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9VmlldwovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9VmlldyBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgY29uc3QgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9Vmlldyh7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICAvLyBVc2Ugc3RhdGUgbWFuYWdlbWVudCBoZXJlIHRvIGNvbm5lY3Qgd2l0aCB2aWV3bW9kZWwKICAgIHJldHVybiBTY2FmZm9sZCgKICAgICAgYXBwQmFyOiBBcHBCYXIoCiAgICAgICAgdGl0bGU6IFRleHQoJyR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfScpLAogICAgICApLAogICAgICBib2R5OiBDZW50ZXIoCiAgICAgICAgY2hpbGQ6IFRleHQoJyR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfSBWaWV3JyksCiAgICAgICksCiAgICApOwogIH0KfQonJycsCiAgICAgIGNvbnRleHQpOwoKICAvLyBDcmVhdGUgc2FtcGxlIHNlcnZpY2UKLy8gICBjcmVhdGVGaWxlKAovLyAgICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvc2VydmljZXMvJHtmZWF0dXJlTmFtZX1fc2VydmljZS5kYXJ0JywKLy8gICAgICAgJycnCi8vIC8vICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVNlcnZpY2UKLy8gLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAoKLy8gY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U2VydmljZSB7Ci8vICAgLy8gVE9ETzogSW1wbGVtZW50IEFQSSBjYWxscywgZGF0YWJhc2Ugb3BlcmF0aW9ucywgZXRjLgogIAovLyAgIEZ1dHVyZTx2b2lkPiBmZXRjaERhdGEoKSBhc3luYyB7Ci8vICAgICAvLyBTYW1wbGUgaW1wbGVtZW50YXRpb24KLy8gICB9CiAgCi8vICAgRnV0dXJlPHZvaWQ+IHNhdmVEYXRhKCkgYXN5bmMgewovLyAgICAgLy8gU2FtcGxlIGltcGxlbWVudGF0aW9uCi8vICAgfQovLyB9Ci8vICcnJywKLy8gICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBzdGF0ZSBtYW5hZ2VtZW50LXNwZWNpZmljIHZpZXdtb2RlbAogIHN3aXRjaCAoc3RhdGVNYW5hZ2VtZW50KSB7CiAgICBjYXNlICdQcm92aWRlcic6CiAgICAgIGNyZWF0ZUZpbGUoCiAgICAgICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvdmlld21vZGVscy8ke2ZlYXR1cmVOYW1lfV92aWV3bW9kZWwuZGFydCcsCiAgICAgICAgICBnZW5lcmF0ZVByb3ZpZGVyVmlld01vZGVsKGZlYXR1cmVOYW1lKSwKICAgICAgICAgIGNvbnRleHQpOwogICAgICBicmVhazsKICAgIGNhc2UgJ1JpdmVycG9kJzoKICAgICAgY3JlYXRlRmlsZSgKICAgICAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS92aWV3bW9kZWxzLyR7ZmVhdHVyZU5hbWV9X3ZpZXdtb2RlbC5kYXJ0JywKICAgICAgICAgIGdlbmVyYXRlUml2ZXJwb2RWaWV3TW9kZWwoZmVhdHVyZU5hbWUpLAogICAgICAgICAgY29udGV4dCk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnQkxvQyc6CiAgICAgIGNyZWF0ZUJsb2NGaWxlcyhjb250ZXh0LCBwcm9qZWN0TmFtZSwKICAgICAgICAgICdsaWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL3ZpZXdtb2RlbHMnLCBmZWF0dXJlTmFtZSk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnR2V0WCc6CiAgICAgIGNyZWF0ZUZpbGUoCiAgICAgICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvdmlld21vZGVscy8ke2ZlYXR1cmVOYW1lfV92aWV3bW9kZWwuZGFydCcsCiAgICAgICAgICBnZW5lcmF0ZUdldFhWaWV3TW9kZWwoZmVhdHVyZU5hbWUpLAogICAgICAgICAgY29udGV4dCk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnTW9iWCc6CiAgICAgIGNyZWF0ZUZpbGUoCiAgICAgICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvdmlld21vZGVscy8ke2ZlYXR1cmVOYW1lfV92aWV3bW9kZWwuZGFydCcsCiAgICAgICAgICBnZW5lcmF0ZU1vYlhWaWV3TW9kZWwoZmVhdHVyZU5hbWUpLAogICAgICAgICAgY29udGV4dCk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnUmVkdXgnOgogICAgICBjcmVhdGVSZWR1eEZpbGVzKGNvbnRleHQsIHByb2plY3ROYW1lLAogICAgICAgICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvdmlld21vZGVscycsIGZlYXR1cmVOYW1lKTsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OgogICAgICBjcmVhdGVGaWxlKAogICAgICAgICAgJyRwcm9qZWN0TmFtZS9saWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL3ZpZXdtb2RlbHMvJHtmZWF0dXJlTmFtZX1fdmlld21vZGVsLmRhcnQnLAogICAgICAgICAgZ2VuZXJhdGVCYXNpY1ZpZXdNb2RlbChmZWF0dXJlTmFtZSksCiAgICAgICAgICBjb250ZXh0KTsKICB9Cn0KCnZvaWQgY3JlYXRlTVZDRmVhdHVyZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBTdHJpbmcgZmVhdHVyZU5hbWUsIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQpIHsKICAvLyBDcmVhdGUgTVZDIHN0cnVjdHVyZSBmb3IgdGhlIGZlYXR1cmUKICBmaW5hbCBiYXNlRGlyZWN0b3JpZXMgPSBbCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9tb2RlbHMnLAogICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvdmlld3MnLAogICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvY29udHJvbGxlcnMnLAogICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvc2VydmljZXMnLAogIF07CgogIC8vIENyZWF0ZSBhbGwgYmFzZSBkaXJlY3RvcmllcwogIGZvciAoZmluYWwgZGlyIGluIGJhc2VEaXJlY3RvcmllcykgewogICAgZmluYWwgZGlyZWN0b3J5ID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvJGRpcicpOwogICAgaWYgKCFkaXJlY3RvcnkuZXhpc3RzU3luYygpKSB7CiAgICAgIGRpcmVjdG9yeS5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmVhdHVyZSBkaXJlY3Rvcnk6ICRkaXInKTsKICAgIH0KICB9CgogIC8vIENyZWF0ZSBzYW1wbGUgbW9kZWwKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvbW9kZWxzLyR7ZmVhdHVyZU5hbWV9X21vZGVsLmRhcnQnLAogICAgICAnJycKLy8gJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9TW9kZWwKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9TW9kZWwgewogIGZpbmFsIFN0cmluZyBpZDsKICBmaW5hbCBTdHJpbmcgbmFtZTsKICAvLyBBZGQgbW9yZSBmaWVsZHMgYXMgbmVlZGVkCiAgCiAgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9TW9kZWwoewogICAgcmVxdWlyZWQgdGhpcy5pZCwKICAgIHJlcXVpcmVkIHRoaXMubmFtZSwKICB9KTsKICAKICBmYWN0b3J5ICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfU1vZGVsLmZyb21Kc29uKE1hcDxTdHJpbmcsIGR5bmFtaWM+IGpzb24pIHsKICAgIHJldHVybiAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1Nb2RlbCgKICAgICAgaWQ6IGpzb25bJ2lkJ10sCiAgICAgIG5hbWU6IGpzb25bJ25hbWUnXSwKICAgICk7CiAgfQogIAogIE1hcDxTdHJpbmcsIGR5bmFtaWM+IHRvSnNvbigpIHsKICAgIHJldHVybiB7CiAgICAgICdpZCc6IGlkLAogICAgICAnbmFtZSc6IG5hbWUsCiAgICB9OwogIH0KfQonJycsCiAgICAgIGNvbnRleHQpOwoKICAvLyBDcmVhdGUgc2FtcGxlIHZpZXcKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvdmlld3MvJHtmZWF0dXJlTmFtZX1fdmlldy5kYXJ0JywKICAgICAgJycnCi8vICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVZpZXcKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKCgpjbGFzcyAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1WaWV3IGV4dGVuZHMgU3RhdGVsZXNzV2lkZ2V0IHsKICBjb25zdCAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1WaWV3KHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIC8vIFVzZSBzdGF0ZSBtYW5hZ2VtZW50IGhlcmUgdG8gY29ubmVjdCB3aXRoIGNvbnRyb2xsZXIKICAgIHJldHVybiBTY2FmZm9sZCgKICAgICAgYXBwQmFyOiBBcHBCYXIoCiAgICAgICAgdGl0bGU6IFRleHQoJyR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfScpLAogICAgICApLAogICAgICBib2R5OiBDZW50ZXIoCiAgICAgICAgY2hpbGQ6IFRleHQoJyR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfSBWaWV3JyksCiAgICAgICksCiAgICApOwogIH0KfQonJycsCiAgICAgIGNvbnRleHQpOwoKLy8gICAvLyBDcmVhdGUgc2FtcGxlIHNlcnZpY2UKLy8gICBjcmVhdGVGaWxlKAovLyAgICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvc2VydmljZXMvJHtmZWF0dXJlTmFtZX1fc2VydmljZS5kYXJ0JywKLy8gICAgICAgJycnCi8vIC8vICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVNlcnZpY2UKLy8gLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAoKLy8gY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U2VydmljZSB7Ci8vICAgLy8gVE9ETzogSW1wbGVtZW50IEFQSSBjYWxscywgZGF0YWJhc2Ugb3BlcmF0aW9ucywgZXRjLgogIAovLyAgIEZ1dHVyZTx2b2lkPiBmZXRjaERhdGEoKSBhc3luYyB7Ci8vICAgICAvLyBTYW1wbGUgaW1wbGVtZW50YXRpb24KLy8gICB9CiAgCi8vICAgRnV0dXJlPHZvaWQ+IHNhdmVEYXRhKCkgYXN5bmMgewovLyAgICAgLy8gU2FtcGxlIGltcGxlbWVudGF0aW9uCi8vICAgfQovLyB9Ci8vICcnJywKLy8gICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBzdGF0ZSBtYW5hZ2VtZW50LXNwZWNpZmljIGNvbnRyb2xsZXIKICBzd2l0Y2ggKHN0YXRlTWFuYWdlbWVudCkgewogICAgY2FzZSAnUHJvdmlkZXInOgogICAgICBjcmVhdGVGaWxlKAogICAgICAgICAgJyRwcm9qZWN0TmFtZS9saWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL2NvbnRyb2xsZXJzLyR7ZmVhdHVyZU5hbWV9X2NvbnRyb2xsZXIuZGFydCcsCiAgICAgICAgICBnZW5lcmF0ZVByb3ZpZGVyQ29udHJvbGxlcihmZWF0dXJlTmFtZSksCiAgICAgICAgICBjb250ZXh0KTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdSaXZlcnBvZCc6CiAgICAgIGNyZWF0ZUZpbGUoCiAgICAgICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvY29udHJvbGxlcnMvJHtmZWF0dXJlTmFtZX1fY29udHJvbGxlci5kYXJ0JywKICAgICAgICAgIGdlbmVyYXRlUml2ZXJwb2RDb250cm9sbGVyKGZlYXR1cmVOYW1lKSwKICAgICAgICAgIGNvbnRleHQpOwogICAgICBicmVhazsKICAgIGNhc2UgJ0JMb0MnOgogICAgICBjcmVhdGVCbG9jRmlsZXMoY29udGV4dCwgcHJvamVjdE5hbWUsCiAgICAgICAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9jb250cm9sbGVycycsIGZlYXR1cmVOYW1lKTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdHZXRYJzoKICAgICAgY3JlYXRlRmlsZSgKICAgICAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9jb250cm9sbGVycy8ke2ZlYXR1cmVOYW1lfV9jb250cm9sbGVyLmRhcnQnLAogICAgICAgICAgZ2VuZXJhdGVHZXRYQ29udHJvbGxlcihmZWF0dXJlTmFtZSksCiAgICAgICAgICBjb250ZXh0KTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdNb2JYJzoKICAgICAgY3JlYXRlRmlsZSgKICAgICAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9jb250cm9sbGVycy8ke2ZlYXR1cmVOYW1lfV9jb250cm9sbGVyLmRhcnQnLAogICAgICAgICAgZ2VuZXJhdGVNb2JYQ29udHJvbGxlcihmZWF0dXJlTmFtZSksCiAgICAgICAgICBjb250ZXh0KTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdSZWR1eCc6CiAgICAgIGNyZWF0ZVJlZHV4RmlsZXMoY29udGV4dCwgcHJvamVjdE5hbWUsCiAgICAgICAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9jb250cm9sbGVycycsIGZlYXR1cmVOYW1lKTsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OgogICAgICBjcmVhdGVGaWxlKAogICAgICAgICAgJyRwcm9qZWN0TmFtZS9saWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL2NvbnRyb2xsZXJzLyR7ZmVhdHVyZU5hbWV9X2NvbnRyb2xsZXIuZGFydCcsCiAgICAgICAgICBnZW5lcmF0ZUJhc2ljQ29udHJvbGxlcihmZWF0dXJlTmFtZSksCiAgICAgICAgICBjb250ZXh0KTsKICB9Cn0KCnZvaWQgY3JlYXRlRmVhdHVyZURyaXZlbkZlYXR1cmUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lLAogICAgU3RyaW5nIGZlYXR1cmVOYW1lLCBTdHJpbmcgc3RhdGVNYW5hZ2VtZW50KSB7CiAgLy8gQ3JlYXRlIEZlYXR1cmUtRHJpdmVuIHN0cnVjdHVyZSBmb3IgdGhlIGZlYXR1cmUKICBmaW5hbCBiYXNlRGlyZWN0b3JpZXMgPSBbCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kb21haW4vZW50aXRpZXMnLAogICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvZG9tYWluL3JlcG9zaXRvcmllcycsCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kb21haW4vdXNlY2FzZXMnLAogICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvZGF0YS9tb2RlbHMnLAogICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvZGF0YS9yZXBvc2l0b3JpZXMnLAogICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvZGF0YS9kYXRhc291cmNlcycsCiAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9wcmVzZW50YXRpb24vcGFnZXMnLAogICAgJ2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvcHJlc2VudGF0aW9uL3dpZGdldHMnLAogIF07CgogIC8vIENyZWF0ZSBhbGwgYmFzZSBkaXJlY3RvcmllcwogIGZvciAoZmluYWwgZGlyIGluIGJhc2VEaXJlY3RvcmllcykgewogICAgZmluYWwgZGlyZWN0b3J5ID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvJGRpcicpOwogICAgaWYgKCFkaXJlY3RvcnkuZXhpc3RzU3luYygpKSB7CiAgICAgIGRpcmVjdG9yeS5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmVhdHVyZSBkaXJlY3Rvcnk6ICRkaXInKTsKICAgIH0KICB9CgogIC8vIENyZWF0ZSBzYW1wbGUgZW50aXR5CiAgY3JlYXRlRmlsZSgKICAgICAgJyRwcm9qZWN0TmFtZS9saWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL2RvbWFpbi9lbnRpdGllcy8ke2ZlYXR1cmVOYW1lfV9lbnRpdHkuZGFydCcsCiAgICAgIGdlbmVyYXRlRW50aXR5VGVtcGxhdGUoZmVhdHVyZU5hbWUpLAogICAgICBjb250ZXh0KTsKCiAgLy8gQ3JlYXRlIHNhbXBsZSByZXBvc2l0b3J5IGludGVyZmFjZQogIGNyZWF0ZUZpbGUoCiAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kb21haW4vcmVwb3NpdG9yaWVzLyR7ZmVhdHVyZU5hbWV9X3JlcG9zaXRvcnkuZGFydCcsCiAgICAgIGdlbmVyYXRlUmVwb3NpdG9yeVRlbXBsYXRlKGZlYXR1cmVOYW1lKSwKICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBzYW1wbGUgdXNlIGNhc2UKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvZG9tYWluL3VzZWNhc2VzLyR7ZmVhdHVyZU5hbWV9X3VzZWNhc2UuZGFydCcsCiAgICAgIGdlbmVyYXRlVXNlQ2FzZVRlbXBsYXRlKGZlYXR1cmVOYW1lKSwKICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBzYW1wbGUgbW9kZWwKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvZGF0YS9tb2RlbHMvJHtmZWF0dXJlTmFtZX1fbW9kZWwuZGFydCcsCiAgICAgIGdlbmVyYXRlTW9kZWxUZW1wbGF0ZShmZWF0dXJlTmFtZSksCiAgICAgIGNvbnRleHQpOwoKICAvLyBDcmVhdGUgc2FtcGxlIHJlcG9zaXRvcnkgaW1wbGVtZW50YXRpb24KICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvZGF0YS9yZXBvc2l0b3JpZXMvJHtmZWF0dXJlTmFtZX1fcmVwb3NpdG9yeV9pbXBsLmRhcnQnLAogICAgICBnZW5lcmF0ZVJlcG9zaXRvcnlJbXBsVGVtcGxhdGUoZmVhdHVyZU5hbWUpLAogICAgICBjb250ZXh0KTsKCiAgLy8gQ3JlYXRlIHNhbXBsZSBkYXRhIHNvdXJjZQogIGNyZWF0ZUZpbGUoCiAgICAgICckcHJvamVjdE5hbWUvbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9kYXRhL2RhdGFzb3VyY2VzLyR7ZmVhdHVyZU5hbWV9X2RhdGFfc291cmNlLmRhcnQnLAogICAgICBnZW5lcmF0ZURhdGFTb3VyY2VUZW1wbGF0ZShmZWF0dXJlTmFtZSksCiAgICAgIGNvbnRleHQpOwoKICAvLyBDcmVhdGUgc2FtcGxlIHBhZ2UKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy8kZmVhdHVyZU5hbWUvcHJlc2VudGF0aW9uL3BhZ2VzLyR7ZmVhdHVyZU5hbWV9X3BhZ2UuZGFydCcsCiAgICAgIGdlbmVyYXRlUGFnZVRlbXBsYXRlKGZlYXR1cmVOYW1lKSwKICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBzYW1wbGUgd2lkZ2V0CiAgY3JlYXRlRmlsZSgKICAgICAgJyRwcm9qZWN0TmFtZS9saWIvZmVhdHVyZXMvJGZlYXR1cmVOYW1lL3ByZXNlbnRhdGlvbi93aWRnZXRzLyR7ZmVhdHVyZU5hbWV9X3dpZGdldC5kYXJ0JywKICAgICAgZ2VuZXJhdGVXaWRnZXRUZW1wbGF0ZShmZWF0dXJlTmFtZSksCiAgICAgIGNvbnRleHQpOwoKICAvLyBDcmVhdGUgc3RhdGUgbWFuYWdlbWVudCBmaWxlcwogIGNyZWF0ZVN0YXRlTWFuYWdlbWVudEZpbGVzKGNvbnRleHQsIHByb2plY3ROYW1lLAogICAgICAnbGliL2ZlYXR1cmVzLyRmZWF0dXJlTmFtZS9wcmVzZW50YXRpb24nLCBmZWF0dXJlTmFtZSwgc3RhdGVNYW5hZ2VtZW50KTsKfQo=",
      "type": "text",
    },
    {
      "path": "lib/integrate_network_generator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBJbnRlZ3JhdGUgdGhlIG5ldHdvcmsgbGF5ZXIgd2l0aCB0aGUgbWFpbiBydW4gZnVuY3Rpb24gYW5kIHVwZGF0ZSBwdWJzcGVjLnlhbWwKdm9pZCBpbnRlZ3JhdGVOZXR3b3JrTGF5ZXIoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgLy8gVXBkYXRlIHRoZSBydW4gZnVuY3Rpb24gaW4gbWFpbi5kYXJ0IHRvIGltcG9ydCBhbmQgaW5jbHVkZSB0aGUgbmV0d29yayBsYXllcgogIGZpbmFsIG1haW5EYXJ0RmlsZSA9IEZpbGUoJyRwcm9qZWN0TmFtZS9saWIvbWFpbi5kYXJ0Jyk7CiAgCiAgaWYgKG1haW5EYXJ0RmlsZS5leGlzdHNTeW5jKCkpIHsKICAgIFN0cmluZyBjb250ZW50ID0gbWFpbkRhcnRGaWxlLnJlYWRBc1N0cmluZ1N5bmMoKTsKICAgIAogICAgLy8gQWRkIGltcG9ydHMgaWYgbm90IGFscmVhZHkgcHJlc2VudAogICAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdjb25uZWN0aXZpdHlfc2VydmljZS5kYXJ0JykpIHsKICAgICAgZmluYWwgaW1wb3J0UGF0dGVybiA9IFJlZ0V4cChyJ2ltcG9ydCAuKjtcbicpOwogICAgICBmaW5hbCBsYXN0SW1wb3J0TWF0Y2ggPSBpbXBvcnRQYXR0ZXJuLmFsbE1hdGNoZXMoY29udGVudCkubGFzdE9yTnVsbDsKICAgICAgCiAgICAgIGlmIChsYXN0SW1wb3J0TWF0Y2ggIT0gbnVsbCkgewogICAgICAgIGZpbmFsIGluc2VydFBvc2l0aW9uID0gbGFzdEltcG9ydE1hdGNoLmVuZDsKICAgICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9zaXRpb24pICsKICAgICAgICAgICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvbmV0d29yay9zZXJ2aWNlcy9jb25uZWN0aXZpdHlfc2VydmljZS5kYXJ0JztcbiIgKwogICAgICAgICAgICAgICAgImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9uZXR3b3JrL25ldHdvcmtfaW5mby5kYXJ0JztcbiIgKwogICAgICAgICAgICAgICAgImltcG9ydCAncGFja2FnZTppbnRlcm5ldF9jb25uZWN0aW9uX2NoZWNrZXIvaW50ZXJuZXRfY29ubmVjdGlvbl9jaGVja2VyLmRhcnQnO1xuIiArCiAgICAgICAgICAgICAgICBjb250ZW50LnN1YnN0cmluZyhpbnNlcnRQb3NpdGlvbik7CiAgICAgIH0KICAgIH0KICAgIAogICAgLy8gQWRkIG5ldHdvcmsgaW5pdGlhbGl6YXRpb24gaWYgbm90IGFscmVhZHkgcHJlc2VudAogICAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdDb25uZWN0aXZpdHlTZXJ2aWNlKCknKSkgewogICAgICAvLyBGaW5kIGEgZ29vZCBwb3NpdGlvbiB0byBpbnNlcnQgdGhlIGluaXRpYWxpemF0aW9uCiAgICAgIGZpbmFsIHNldHVwUG9zaXRpb24gPSBjb250ZW50LmluZGV4T2YoJ3ZvaWQgbWFpbigpIGFzeW5jIHsnKSArICd2b2lkIG1haW4oKSBhc3luYyB7Jy5sZW5ndGg7CiAgICAgIAogICAgICBpZiAoc2V0dXBQb3NpdGlvbiA+IDApIHsKICAgICAgICAvLyBJbnNlcnQgbmV0d29yayBpbml0aWFsaXphdGlvbgogICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBzZXR1cFBvc2l0aW9uKSArIAogICAgICAgICAgICAgICJcbiAgLy8gSW5pdGlhbGl6ZSBuZXR3b3JrIHNlcnZpY2VzXG4iICsKICAgICAgICAgICAgICAiICBmaW5hbCBjb25uZWN0aXZpdHlTZXJ2aWNlID0gQ29ubmVjdGl2aXR5U2VydmljZSgpO1xuIiArCiAgICAgICAgICAgICAgIiAgZmluYWwgbmV0d29ya0luZm8gPSBOZXR3b3JrSW5mb0ltcGwoSW50ZXJuZXRDb25uZWN0aW9uQ2hlY2tlcigpKTtcblxuIiArCiAgICAgICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoc2V0dXBQb3NpdGlvbik7CiAgICAgIH0KICAgIH0KICAgIAogICAgLy8gV3JpdGUgdXBkYXRlZCBjb250ZW50IGJhY2sgdG8gZmlsZQogICAgbWFpbkRhcnRGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogICAgY29udGV4dC5sb2dnZXIuc3VjY2VzcygnVXBkYXRlZCBtYWluLmRhcnQgd2l0aCBuZXR3b3JrIGxheWVyIGluaXRpYWxpemF0aW9uJyk7CiAgfQp9CgovLy8gVXBkYXRlIHB1YnNwZWMueWFtbCB0byBhZGQgbmV0d29yay1yZWxhdGVkIGRlcGVuZGVuY2llcwp2b2lkIHVwZGF0ZVB1YnNwZWNGb3JOZXR3b3JrKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIHB1YnNwZWNGaWxlID0gRmlsZSgnJHByb2plY3ROYW1lL3B1YnNwZWMueWFtbCcpOwogIGlmICghcHVic3BlY0ZpbGUuZXhpc3RzU3luYygpKSB7CiAgICBjb250ZXh0LmxvZ2dlci53YXJuKCdwdWJzcGVjLnlhbWwgbm90IGZvdW5kLCBza2lwcGluZyBhZGRpbmcgbmV0d29yayBkZXBlbmRlbmNpZXMnKTsKICAgIHJldHVybjsKICB9CgogIFN0cmluZyBjb250ZW50ID0gcHVic3BlY0ZpbGUucmVhZEFzU3RyaW5nU3luYygpOwogIAogIC8vIENoZWNrIGlmIHRoZSBkZXBlbmRlbmNpZXMgYXJlIGFscmVhZHkgYWRkZWQKICBpZiAoIWNvbnRlbnQuY29udGFpbnMoJ2RpbzonKSB8fCAhY29udGVudC5jb250YWlucygnY29ubmVjdGl2aXR5X3BsdXM6JykpIHsKICAgIC8vIEZpbmQgdGhlIGVuZCBvZiB0aGUgZGVwZW5kZW5jaWVzIHNlY3Rpb24KICAgIGZpbmFsIGRlcGVuZGVuY2llc01hdGNoID0gUmVnRXhwKHInZGVwZW5kZW5jaWVzOlxzKlxuKChcc3syfVtcd19dKzouKlxuKSspJykuZmlyc3RNYXRjaChjb250ZW50KTsKICAgIAogICAgaWYgKGRlcGVuZGVuY2llc01hdGNoICE9IG51bGwpIHsKICAgICAgZmluYWwgZW5kT2ZEZXBlbmRlbmNpZXMgPSBkZXBlbmRlbmNpZXNNYXRjaC5lbmQ7CiAgICAgIAogICAgICAvLyBOZXR3b3JrIGRlcGVuZGVuY2llcyB0byBhZGQKICAgICAgZmluYWwgbmV0d29ya0RlcGVuZGVuY2llcyA9ICcnJwoKICAjIE5ldHdvcmsgZGVwZW5kZW5jaWVzCiAgZGlvOiBeNS4zLjMKICBjb25uZWN0aXZpdHlfcGx1czogXjYuMC4wCiAgaW50ZXJuZXRfY29ubmVjdGlvbl9jaGVja2VyOiBeMy4wLjEKJycnOwogICAgICAKICAgICAgLy8gSW5zZXJ0IGRlcGVuZGVuY2llcwogICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgZW5kT2ZEZXBlbmRlbmNpZXMpICsgCiAgICAgICAgICAgICAgIG5ldHdvcmtEZXBlbmRlbmNpZXMgKyAKICAgICAgICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoZW5kT2ZEZXBlbmRlbmNpZXMpOwogICAgICAKICAgICAgLy8gV3JpdGUgdXBkYXRlZCBjb250ZW50IGJhY2sgdG8gZmlsZQogICAgICBwdWJzcGVjRmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICAgICAgY29udGV4dC5sb2dnZXIuc3VjY2VzcygnQWRkZWQgbmV0d29yayBkZXBlbmRlbmNpZXMgdG8gcHVic3BlYy55YW1sJyk7CiAgICB9IGVsc2UgewogICAgICBjb250ZXh0LmxvZ2dlci53YXJuKCdDb3VsZCBub3QgZmluZCBkZXBlbmRlbmNpZXMgc2VjdGlvbiBpbiBwdWJzcGVjLnlhbWwnKTsKICAgIH0KICB9IGVsc2UgewogICAgY29udGV4dC5sb2dnZXIuaW5mbygnTmV0d29yayBkZXBlbmRlbmNpZXMgYWxyZWFkeSBleGlzdCBpbiBwdWJzcGVjLnlhbWwnKTsKICB9Cn0KCi8vLyBDcmVhdGUgYSBzYW1wbGUgbW9kZWwgdG8gZGVtb25zdHJhdGUgQVBJIHVzYWdlIHdpdGggbmV0d29yayBsYXllcgp2b2lkIGNyZWF0ZVNhbXBsZU1vZGVsKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGRpcmVjdG9yeSA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lL2xpYi9jb3JlL25ldHdvcmsvbW9kZWxzJyk7CiAgaWYgKCFkaXJlY3RvcnkuZXhpc3RzU3luYygpKSB7CiAgICBkaXJlY3RvcnkuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogIH0KICAKICBmaW5hbCBmaWxlUGF0aCA9ICckcHJvamVjdE5hbWUvbGliL2NvcmUvbmV0d29yay9tb2RlbHMvdXNlcl9tb2RlbC5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpqc29uX2Fubm90YXRpb24vanNvbl9hbm5vdGF0aW9uLmRhcnQnOwoKcGFydCAndXNlcl9tb2RlbC5nLmRhcnQnOwoKLy8vIFNhbXBsZSB1c2VyIG1vZGVsIHRvIGRlbW9uc3RyYXRlIEFQSSBpbnRlZ3JhdGlvbgpASnNvblNlcmlhbGl6YWJsZSgpCmNsYXNzIFVzZXJNb2RlbCB7CiAgZmluYWwgaW50IGlkOwogIGZpbmFsIFN0cmluZyBuYW1lOwogIGZpbmFsIFN0cmluZyBlbWFpbDsKICAKICBASnNvbktleShuYW1lOiAncHJvZmlsZV9pbWFnZScpCiAgZmluYWwgU3RyaW5nPyBwcm9maWxlSW1hZ2U7CiAgCiAgQEpzb25LZXkoZGVmYXVsdFZhbHVlOiBmYWxzZSkKICBmaW5hbCBib29sIGlzQWN0aXZlOwoKICBVc2VyTW9kZWwoewogICAgcmVxdWlyZWQgdGhpcy5pZCwKICAgIHJlcXVpcmVkIHRoaXMubmFtZSwKICAgIHJlcXVpcmVkIHRoaXMuZW1haWwsCiAgICB0aGlzLnByb2ZpbGVJbWFnZSwKICAgIHJlcXVpcmVkIHRoaXMuaXNBY3RpdmUsCiAgfSk7CgogIGZhY3RvcnkgVXNlck1vZGVsLmZyb21Kc29uKE1hcDxTdHJpbmcsIGR5bmFtaWM+IGpzb24pID0+IAogICAgICBfXCRVc2VyTW9kZWxGcm9tSnNvbihqc29uKTsKICAgICAgCiAgTWFwPFN0cmluZywgZHluYW1pYz4gdG9Kc29uKCkgPT4gX1wkVXNlck1vZGVsVG9Kc29uKHRoaXMpOwp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgCiAgLy8gQ3JlYXRlIHRoZSBhc3NvY2lhdGVkIC5nLmRhcnQgZmlsZQogIGZpbmFsIGdlbmVyYXRlZEZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvY29yZS9uZXR3b3JrL21vZGVscy91c2VyX21vZGVsLmcuZGFydCc7CiAgZmluYWwgZ2VuZXJhdGVkQ29udGVudCA9ICcnJwovLyBHRU5FUkFURUQgQ09ERSAtIERPIE5PVCBNT0RJRlkgQlkgSEFORAoKcGFydCBvZiAndXNlcl9tb2RlbC5kYXJ0JzsKCi8vICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqCi8vIEpzb25TZXJpYWxpemFibGVHZW5lcmF0b3IKLy8gKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKClVzZXJNb2RlbCBfXCRVc2VyTW9kZWxGcm9tSnNvbihNYXA8U3RyaW5nLCBkeW5hbWljPiBqc29uKSA9PiBVc2VyTW9kZWwoCiAgICAgIGlkOiBqc29uWydpZCddIGFzIGludCwKICAgICAgbmFtZToganNvblsnbmFtZSddIGFzIFN0cmluZywKICAgICAgZW1haWw6IGpzb25bJ2VtYWlsJ10gYXMgU3RyaW5nLAogICAgICBwcm9maWxlSW1hZ2U6IGpzb25bJ3Byb2ZpbGVfaW1hZ2UnXSBhcyBTdHJpbmc/LAogICAgICBpc0FjdGl2ZToganNvblsnaXNBY3RpdmUnXSBhcyBib29sPyA/PyBmYWxzZSwKICAgICk7CgpNYXA8U3RyaW5nLCBkeW5hbWljPiBfXCRVc2VyTW9kZWxUb0pzb24oVXNlck1vZGVsIGluc3RhbmNlKSA9PiA8U3RyaW5nLCBkeW5hbWljPnsKICAgICAgJ2lkJzogaW5zdGFuY2UuaWQsCiAgICAgICduYW1lJzogaW5zdGFuY2UubmFtZSwKICAgICAgJ2VtYWlsJzogaW5zdGFuY2UuZW1haWwsCiAgICAgICdwcm9maWxlX2ltYWdlJzogaW5zdGFuY2UucHJvZmlsZUltYWdlLAogICAgICAnaXNBY3RpdmUnOiBpbnN0YW5jZS5pc0FjdGl2ZSwKICAgIH07CicnJzsKCiAgZmluYWwgZ2VuZXJhdGVkRmlsZSA9IEZpbGUoZ2VuZXJhdGVkRmlsZVBhdGgpOwogIGdlbmVyYXRlZEZpbGUud3JpdGVBc1N0cmluZ1N5bmMoZ2VuZXJhdGVkQ29udGVudCk7CiAgCiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBzYW1wbGUgbW9kZWwgZmlsZXMgdG8gZGVtb25zdHJhdGUgQVBJIHVzYWdlJyk7Cn0KCi8vLyBTZXR1cCBOZXR3b3JrTW9kdWxlIHdpdGggZGVwZW5kZW5jeSBpbmplY3Rpb24gKGV4YW1wbGUgZm9yIEdldEl0IGlmIHVzZWQpCnZvaWQgc2V0dXBOZXR3b3JrTW9kdWxlRm9yREkoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lLCBTdHJpbmcgYXJjaGl0ZWN0dXJlKSB7CiAgLy8gT25seSBwcm9jZWVkIHdpdGggdGhpcyBmb3IgQ2xlYW4gQXJjaGl0ZWN0dXJlIHdoaWNoIGxpa2VseSB1c2VzIGRlcGVuZGVuY3kgaW5qZWN0aW9uCiAgaWYgKGFyY2hpdGVjdHVyZSAhPSAnQ2xlYW4gQXJjaGl0ZWN0dXJlJykgewogICAgcmV0dXJuOwogIH0KICAKICBmaW5hbCBkaXJlY3RvcnkgPSBEaXJlY3RvcnkoJyRwcm9qZWN0TmFtZS9saWIvY29yZS9kaScpOwogIGlmICghZGlyZWN0b3J5LmV4aXN0c1N5bmMoKSkgewogICAgZGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICB9CiAgCiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2RpL25ldHdvcmtfbW9kdWxlLmRhcnQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmRpby9kaW8uZGFydCc7CmltcG9ydCAncGFja2FnZTpnZXRfaXQvZ2V0X2l0LmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6aW50ZXJuZXRfY29ubmVjdGlvbl9jaGVja2VyL2ludGVybmV0X2Nvbm5lY3Rpb25fY2hlY2tlci5kYXJ0JzsKCmltcG9ydCAnLi4vbmV0d29yay9hcGlfY2xpZW50LmRhcnQnOwppbXBvcnQgJy4uL25ldHdvcmsvYXBpX2NvbnN0YW50cy5kYXJ0JzsKaW1wb3J0ICcuLi9uZXR3b3JrL25ldHdvcmtfaW5mby5kYXJ0JzsKaW1wb3J0ICcuLi9uZXR3b3JrL3NlcnZpY2VzL2Nvbm5lY3Rpdml0eV9zZXJ2aWNlLmRhcnQnOwoKLy8vIFJlZ2lzdGVyIG5ldHdvcmstcmVsYXRlZCBkZXBlbmRlbmNpZXMKdm9pZCByZWdpc3Rlck5ldHdvcmtEZXBlbmRlbmNpZXMoR2V0SXQgc2wpIHsKICAvLyBDb3JlIG5ldHdvcmsgY29tcG9uZW50cwogIHNsLnJlZ2lzdGVyTGF6eVNpbmdsZXRvbjxJbnRlcm5ldENvbm5lY3Rpb25DaGVja2VyPigKICAgICgpID0+IEludGVybmV0Q29ubmVjdGlvbkNoZWNrZXIoKSwKICApOwogIAogIHNsLnJlZ2lzdGVyTGF6eVNpbmdsZXRvbjxOZXR3b3JrSW5mbz4oCiAgICAoKSA9PiBOZXR3b3JrSW5mb0ltcGwoc2w8SW50ZXJuZXRDb25uZWN0aW9uQ2hlY2tlcj4oKSksCiAgKTsKICAKICBzbC5yZWdpc3RlckxhenlTaW5nbGV0b248Q29ubmVjdGl2aXR5U2VydmljZT4oCiAgICAoKSA9PiBDb25uZWN0aXZpdHlTZXJ2aWNlKCksCiAgKTsKICAKICAvLyBBUEkgY2xpZW50CiAgc2wucmVnaXN0ZXJMYXp5U2luZ2xldG9uPEFwaUNsaWVudD4oCiAgICAoKSA9PiBBcGlDbGllbnQoCiAgICAgIGJhc2VVcmw6IEFwaUNvbnN0YW50cy5iYXNlVXJsLAogICAgICB0aW1lb3V0OiBBcGlDb25zdGFudHMudGltZW91dCwKICAgICAgdXNlQXV0aDogdHJ1ZSwKICAgICksCiAgKTsKICAKICAvLyBSZWdpc3RlciBpbmRpdmlkdWFsIEFQSSBzZXJ2aWNlcwogIC8vIFRPRE86IEFkZCB5b3VyIEFQSSBzZXJ2aWNlcyBoZXJlCiAgLy8gRXhhbXBsZToKICAvLyBzbC5yZWdpc3RlckxhenlTaW5nbGV0b248VXNlckFwaVNlcnZpY2U+KAogIC8vICAgKCkgPT4gVXNlckFwaVNlcnZpY2UoKSwKICAvLyApOwp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgCiAgLy8gVXBkYXRlIHRoZSBtYWluIERJIGZpbGUgaWYgaXQgZXhpc3RzCiAgZmluYWwgZGlGaWxlUGF0aCA9ICckcHJvamVjdE5hbWUvbGliL2NvcmUvZGkvaW5qZWN0aW9uLmRhcnQnOwogIGZpbmFsIGRpRmlsZSA9IEZpbGUoZGlGaWxlUGF0aCk7CiAgCiAgaWYgKGRpRmlsZS5leGlzdHNTeW5jKCkpIHsKICAgIFN0cmluZyBkaUNvbnRlbnQgPSBkaUZpbGUucmVhZEFzU3RyaW5nU3luYygpOwogICAgCiAgICAvLyBBZGQgaW1wb3J0IGlmIG5vdCBwcmVzZW50CiAgICBpZiAoIWRpQ29udGVudC5jb250YWlucygnbmV0d29ya19tb2R1bGUuZGFydCcpKSB7CiAgICAgIGZpbmFsIGltcG9ydFBhdHRlcm4gPSBSZWdFeHAocidpbXBvcnQgLio7XG4nKTsKICAgICAgZmluYWwgbGFzdEltcG9ydE1hdGNoID0gaW1wb3J0UGF0dGVybi5hbGxNYXRjaGVzKGRpQ29udGVudCkubGFzdE9yTnVsbDsKICAgICAgCiAgICAgIGlmIChsYXN0SW1wb3J0TWF0Y2ggIT0gbnVsbCkgewogICAgICAgIGZpbmFsIGluc2VydFBvc2l0aW9uID0gbGFzdEltcG9ydE1hdGNoLmVuZDsKICAgICAgICBkaUNvbnRlbnQgPSBkaUNvbnRlbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvc2l0aW9uKSArCiAgICAgICAgICAgICAgICAgImltcG9ydCAnbmV0d29ya19tb2R1bGUuZGFydCc7XG4iICsKICAgICAgICAgICAgICAgICBkaUNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvc2l0aW9uKTsKICAgICAgfQogICAgfQogICAgCiAgICAvLyBBZGQgbmV0d29yayByZWdpc3RyYXRpb24gZnVuY3Rpb24gY2FsbCBpZiBub3QgcHJlc2VudAogICAgaWYgKCFkaUNvbnRlbnQuY29udGFpbnMoJ3JlZ2lzdGVyTmV0d29ya0RlcGVuZGVuY2llcycpKSB7CiAgICAgIGZpbmFsIGNvbmZpZ1BhdHRlcm4gPSBSZWdFeHAocid2b2lkIGNvbmZpZ3VyZURlcGVuZGVuY2llc1woXCkgYXN5bmMgXHsnKTsKICAgICAgZmluYWwgY29uZmlnTWF0Y2ggPSBjb25maWdQYXR0ZXJuLmZpcnN0TWF0Y2goZGlDb250ZW50KTsKICAgICAgCiAgICAgIGlmIChjb25maWdNYXRjaCAhPSBudWxsKSB7CiAgICAgICAgZmluYWwgaW5zZXJ0UG9zaXRpb24gPSBjb25maWdNYXRjaC5lbmQ7CiAgICAgICAgZGlDb250ZW50ID0gZGlDb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb3NpdGlvbikgKwogICAgICAgICAgICAgICAgICJcbiAgLy8gUmVnaXN0ZXIgbmV0d29yayBkZXBlbmRlbmNpZXNcbiIgKwogICAgICAgICAgICAgICAgICIgIHJlZ2lzdGVyTmV0d29ya0RlcGVuZGVuY2llcyhzbCk7XG4iICsKICAgICAgICAgICAgICAgICBkaUNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvc2l0aW9uKTsKICAgICAgfQogICAgfQogICAgCiAgICAvLyBXcml0ZSB1cGRhdGVkIGNvbnRlbnQgYmFjayB0byBmaWxlCiAgICBkaUZpbGUud3JpdGVBc1N0cmluZ1N5bmMoZGlDb250ZW50KTsKICB9CiAgCiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBuZXR3b3JrIG1vZHVsZSBmb3IgZGVwZW5kZW5jeSBpbmplY3Rpb24nKTsKfQo=",
      "type": "text",
    },
    {
      "path": "lib/integrate_theme_manager.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBJbnRlZ3JhdGVzIHRoZSB0aGVtZSBzeXN0ZW0gd2l0aCB0aGUgbWFpbi5kYXJ0IGZpbGUKdm9pZCBpbnRlZ3JhdGVUaGVtZU1hbmFnZXIoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lLAogICAgU3RyaW5nIHN0YXRlTWFuYWdlbWVudCwgTGlzdDxkeW5hbWljPiBtb2R1bGVzKSB7CiAgLy8gT25seSBwcm9jZWVkIGlmIFRoZW1lIE1hbmFnZXIgaXMgc2VsZWN0ZWQKICBpZiAoIW1vZHVsZXMuY29udGFpbnMoJ1RoZW1lIE1hbmFnZXInKSkgewogICAgcmV0dXJuOwogIH0KCiAgLy8gR2V0IHRoZSBtYWluLmRhcnQgZmlsZQogIGZpbmFsIG1haW5EYXJ0RmlsZSA9IEZpbGUoJyRwcm9qZWN0TmFtZS9saWIvbWFpbi5kYXJ0Jyk7CiAgaWYgKCFtYWluRGFydEZpbGUuZXhpc3RzU3luYygpKSB7CiAgICBjb250ZXh0LmxvZ2dlcgogICAgICAgIC53YXJuKCdtYWluLmRhcnQgbm90IGZvdW5kLCBza2lwcGluZyB0aGVtZSBtYW5hZ2VyIGludGVncmF0aW9uJyk7CiAgICByZXR1cm47CiAgfQoKICAvLyBSZWFkIHRoZSBleGlzdGluZyBjb250ZW50CiAgU3RyaW5nIGNvbnRlbnQgPSBtYWluRGFydEZpbGUucmVhZEFzU3RyaW5nU3luYygpOwoKICAvLyBBZGQgdGhlbWUtcmVsYXRlZCBpbXBvcnRzCiAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdhcHBfdGhlbWVfZXh0ZW5zaW9uLmRhcnQnKSkgewogICAgZmluYWwgaW1wb3J0UGF0dGVybiA9IFJlZ0V4cChyJ2ltcG9ydCAuKjtcbicpOwogICAgZmluYWwgbGFzdEltcG9ydE1hdGNoID0gaW1wb3J0UGF0dGVybi5hbGxNYXRjaGVzKGNvbnRlbnQpLmxhc3RPck51bGw7CgogICAgaWYgKGxhc3RJbXBvcnRNYXRjaCAhPSBudWxsKSB7CiAgICAgIGZpbmFsIGluc2VydFBvc2l0aW9uID0gbGFzdEltcG9ydE1hdGNoLmVuZDsKICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvc2l0aW9uKSArCiAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL2Rlc2lnbl9zeXN0ZW0vdGhlbWVfZXh0ZW5zaW9uL2FwcF90aGVtZV9leHRlbnNpb24uZGFydCc7XG4iICsKICAgICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvZGVzaWduX3N5c3RlbS90aGVtZV9leHRlbnNpb24vdGhlbWVfbWFuYWdlci5kYXJ0JztcbiIgKwogICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9zaXRpb24pOwogICAgfQogIH0KCiAgLy8gVXBkYXRlIE1hdGVyaWFsQXBwIHdpdGggdGhlbWUgc2V0dGluZ3MgYmFzZWQgb24gc3RhdGUgbWFuYWdlbWVudAogIHN3aXRjaCAoc3RhdGVNYW5hZ2VtZW50KSB7CiAgICBjYXNlICdCTG9DJzoKICAgIGNhc2UgJ0Jsb2MnOgogICAgICBfaW50ZWdyYXRlV2l0aEJsb2MoY29udGV4dCwgcHJvamVjdE5hbWUsIGNvbnRlbnQsIG1haW5EYXJ0RmlsZSk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnUHJvdmlkZXInOgogICAgICBfaW50ZWdyYXRlV2l0aFByb3ZpZGVyKGNvbnRleHQsIHByb2plY3ROYW1lLCBjb250ZW50LCBtYWluRGFydEZpbGUpOwogICAgICBicmVhazsKICAgIGNhc2UgJ1JpdmVycG9kJzoKICAgICAgX2ludGVncmF0ZVdpdGhSaXZlcnBvZChjb250ZXh0LCBwcm9qZWN0TmFtZSwgY29udGVudCwgbWFpbkRhcnRGaWxlKTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdHZXRYJzoKICAgICAgX2ludGVncmF0ZVdpdGhHZXRYKGNvbnRleHQsIHByb2plY3ROYW1lLCBjb250ZW50LCBtYWluRGFydEZpbGUpOwogICAgICBicmVhazsKICAgIGNhc2UgJ01vYlgnOgogICAgICBfaW50ZWdyYXRlV2l0aE1vYlgoY29udGV4dCwgcHJvamVjdE5hbWUsIGNvbnRlbnQsIG1haW5EYXJ0RmlsZSk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnUmVkdXgnOgogICAgICBfaW50ZWdyYXRlV2l0aFJlZHV4KGNvbnRleHQsIHByb2plY3ROYW1lLCBjb250ZW50LCBtYWluRGFydEZpbGUpOwogICAgICBicmVhazsKICAgIGRlZmF1bHQ6CiAgICAgIF9pbnRlZ3JhdGVXaXRoRGVmYXVsdChjb250ZXh0LCBwcm9qZWN0TmFtZSwgY29udGVudCwgbWFpbkRhcnRGaWxlKTsKICAgICAgYnJlYWs7CiAgfQoKICBjb250ZXh0LmxvZ2dlci5zdWNjZXNzKCdUaGVtZSBtYW5hZ2VyIGludGVncmF0ZWQgd2l0aCBtYWluLmRhcnQnKTsKfQoKLy8vIEludGVncmF0ZXMgdGhlbWUgbWFuYWdlciB3aXRoIEJMb0Mgc3RhdGUgbWFuYWdlbWVudAp2b2lkIF9pbnRlZ3JhdGVXaXRoQmxvYyhIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsIFN0cmluZyBjb250ZW50LAogICAgRmlsZSBtYWluRGFydEZpbGUpIHsKICAvLyBGaXJzdCwgY2hlY2sgaWYgdGhlbWUgaW1wb3J0cyBhcmUgYWxyZWFkeSBwcmVzZW50CiAgYm9vbCBoYXNUaGVtZUltcG9ydHMgPSBjb250ZW50LmNvbnRhaW5zKCd0aGVtZV9tYW5hZ2VyLmRhcnQnKTsKICBpZiAoIWhhc1RoZW1lSW1wb3J0cykgewogICAgLy8gQWRkIG5lY2Vzc2FyeSBpbXBvcnRzIGZvciBCbG9jIGFuZCB0aGVtZSBtYW5hZ2VtZW50CiAgICBmaW5hbCBpbXBvcnRQYXR0ZXJuID0gUmVnRXhwKHInaW1wb3J0IC4qO1xuJyk7CiAgICBmaW5hbCBsYXN0SW1wb3J0TWF0Y2ggPSBpbXBvcnRQYXR0ZXJuLmFsbE1hdGNoZXMoY29udGVudCkubGFzdE9yTnVsbDsKICAgIGlmIChsYXN0SW1wb3J0TWF0Y2ggIT0gbnVsbCkgewogICAgICBmaW5hbCBpbnNlcnRQb3NpdGlvbiA9IGxhc3RJbXBvcnRNYXRjaC5lbmQ7CiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb3NpdGlvbikgKwogICAgICAgICAgImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9kZXNpZ25fc3lzdGVtL3RoZW1lX2V4dGVuc2lvbi90aGVtZV9tYW5hZ2VyLmRhcnQnO1xuIiArCiAgICAgICAgICBjb250ZW50LnN1YnN0cmluZyhpbnNlcnRQb3NpdGlvbik7CiAgICB9CiAgfQoKICAvLyBDaGVjayBmb3IgZXhpc3Rpbmcgc3RhdGUgbWFuYWdlbWVudCBwYXR0ZXJucwogIGJvb2wgaGFzTXVsdGlCbG9jUHJvdmlkZXIgPSBjb250ZW50LmNvbnRhaW5zKCdNdWx0aUJsb2NQcm92aWRlcignKTsKICBib29sIGhhc1NpbmdsZUJsb2NQcm92aWRlciA9CiAgICAgIGNvbnRlbnQuY29udGFpbnMoJ0Jsb2NQcm92aWRlcignKSAmJiAhaGFzTXVsdGlCbG9jUHJvdmlkZXI7CiAgYm9vbCBoYXNUaGVtZUN1Yml0ID0KICAgICAgY29udGVudC5jb250YWlucygnQmxvY1Byb3ZpZGVyKGNyZWF0ZTogKF8pID0+IFRoZW1lQ3ViaXQoKSknKTsKCiAgaWYgKGhhc1RoZW1lQ3ViaXQpIHsKICAgIC8vIEFscmVhZHkgaGFzIHRoZW1lIGN1Yml0LCBub3RoaW5nIHRvIGRvCiAgICBjb250ZXh0LmxvZ2dlci5pbmZvKCdUaGVtZUN1Yml0IGFscmVhZHkgYWRkZWQgdG8gcHJvdmlkZXJzJyk7CiAgfSBlbHNlIGlmIChoYXNNdWx0aUJsb2NQcm92aWRlcikgewogICAgLy8gRmluZCBhIHNhZmUgcGxhY2UgdG8gaW5zZXJ0IHRoZSBUaGVtZUN1Yml0IHByb3ZpZGVyCiAgICBmaW5hbCBwcm92aWRlcnNTdGFydCA9CiAgICAgICAgY29udGVudC5pbmRleE9mKCdwcm92aWRlcnM6IFsnLCBjb250ZW50LmluZGV4T2YoJ011bHRpQmxvY1Byb3ZpZGVyKCcpKTsKICAgIGlmIChwcm92aWRlcnNTdGFydCAhPSAtMSkgewogICAgICBmaW5hbCBpbnNlcnRQb2ludCA9IGNvbnRlbnQuaW5kZXhPZignWycsIHByb3ZpZGVyc1N0YXJ0KSArIDE7CiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb2ludCkgKwogICAgICAgICAgJ1xuICAgICAgICAvLyBUaGVtZSBtYW5hZ2VtZW50XG4gICAgICAgIEJsb2NQcm92aWRlcihjcmVhdGU6IChfKSA9PiBUaGVtZUN1Yml0KCkpLCcgKwogICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9pbnQpOwogICAgfQogIH0gZWxzZSBpZiAoaGFzU2luZ2xlQmxvY1Byb3ZpZGVyKSB7CiAgICAvLyBDb252ZXJ0IHNpbmdsZSBCbG9jUHJvdmlkZXIgdG8gTXVsdGlCbG9jUHJvdmlkZXIgc2FmZWx5CiAgICBmaW5hbCBibG9jUHJvdmlkZXJTdGFydCA9IGNvbnRlbnQuaW5kZXhPZignQmxvY1Byb3ZpZGVyKCcpOwogICAgZmluYWwgYmxvY1Byb3ZpZGVyRW5kID0gZmluZENsb3NpbmdQYXJlbnRoZXNpcygKICAgICAgICBjb250ZW50LCBibG9jUHJvdmlkZXJTdGFydCArICdCbG9jUHJvdmlkZXIoJy5sZW5ndGgpOwoKICAgIGlmIChibG9jUHJvdmlkZXJFbmQgIT0gLTEpIHsKICAgICAgZmluYWwgYmxvY1Byb3ZpZGVyQ29udGVudCA9CiAgICAgICAgICBjb250ZW50LnN1YnN0cmluZyhibG9jUHJvdmlkZXJTdGFydCwgYmxvY1Byb3ZpZGVyRW5kICsgMSk7CiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdCgKICAgICAgICAgIGJsb2NQcm92aWRlckNvbnRlbnQsCiAgICAgICAgICAnTXVsdGlCbG9jUHJvdmlkZXIoXG4gICAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgLy8gVGhlbWUgbWFuYWdlbWVudFxuICAgICAgICBCbG9jUHJvdmlkZXIoY3JlYXRlOiAoXykgPT4gVGhlbWVDdWJpdCgpKSxcbiAgICAgICAgJyArCiAgICAgICAgICAgICAgYmxvY1Byb3ZpZGVyQ29udGVudC5zdWJzdHJpbmcoCiAgICAgICAgICAgICAgICAgICdCbG9jUHJvdmlkZXIoJy5sZW5ndGgsIGJsb2NQcm92aWRlckNvbnRlbnQubGVuZ3RoIC0gMSkgKwogICAgICAgICAgICAgICcsXG4gICAgICBdLFxuICAgICAgY2hpbGQ6IGNvbnN0IEFwcCgpLFxuICAgICknKTsKICAgIH0KICB9IGVsc2UgewogICAgLy8gTm8gZXhpc3RpbmcgQmxvY1Byb3ZpZGVyLCBhZGQgYSBuZXcgb25lCiAgICBmaW5hbCBydW5BcHBQYXR0ZXJuID0gUmVnRXhwKHIncnVuQXBwXChccyooY29uc3QpP1xzKkFwcFwoXClccypcKTsnKTsKICAgIGlmIChydW5BcHBQYXR0ZXJuLmhhc01hdGNoKGNvbnRlbnQpKSB7CiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdE1hcHBlZCgKICAgICAgICAgIHJ1bkFwcFBhdHRlcm4sCiAgICAgICAgICAobWF0Y2gpID0+CiAgICAgICAgICAgICAgJ3J1bkFwcChcbiAgICBCbG9jUHJvdmlkZXIoXG4gICAgICBjcmVhdGU6IChfKSA9PiBUaGVtZUN1Yml0KCksXG4gICAgICBjaGlsZDogJHttYXRjaC5ncm91cCgxKSA/PyAnJ30gQXBwKCksXG4gICAgKVxuICApOycpOwogICAgfQogIH0KCiAgLy8gVXBkYXRlIEFwcCB3aWRnZXQgdG8gdXNlIFRoZW1lQ3ViaXQKICBfdXBkYXRlQXBwV2lkZ2V0KGNvbnRleHQsIHByb2plY3ROYW1lLCAnYmxvYycpOwoKICAvLyBXcml0ZSB1cGRhdGVkIGNvbnRlbnQgYmFjayB0byBmaWxlCiAgbWFpbkRhcnRGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwp9CgovLyBIZWxwZXIgZnVuY3Rpb24gdG8gZmluZCB0aGUgY2xvc2luZyBwYXJlbnRoZXNpcyBmb3IgYSBmdW5jdGlvbiBjYWxsCmludCBmaW5kQ2xvc2luZ1BhcmVudGhlc2lzKFN0cmluZyB0ZXh0LCBpbnQgb3BlblBhcmVuSW5kZXgpIHsKICBpbnQgZGVwdGggPSAxOwogIGZvciAoaW50IGkgPSBvcGVuUGFyZW5JbmRleDsgaSA8IHRleHQubGVuZ3RoOyBpKyspIHsKICAgIGlmICh0ZXh0W2ldID09ICcoJykgewogICAgICBkZXB0aCsrOwogICAgfSBlbHNlIGlmICh0ZXh0W2ldID09ICcpJykgewogICAgICBkZXB0aC0tOwogICAgICBpZiAoZGVwdGggPT0gMCkgewogICAgICAgIHJldHVybiBpOwogICAgICB9CiAgICB9CiAgfQogIHJldHVybiAtMTsgLy8gTm90IGZvdW5kCn0KCi8vLyBJbnRlZ3JhdGVzIHRoZW1lIG1hbmFnZXIgd2l0aCBQcm92aWRlciBzdGF0ZSBtYW5hZ2VtZW50CnZvaWQgX2ludGVncmF0ZVdpdGhQcm92aWRlcihIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBTdHJpbmcgY29udGVudCwgRmlsZSBtYWluRGFydEZpbGUpIHsKICAvLyBBZGQgQ2hhbmdlTm90aWZpZXJQcm92aWRlciBmb3IgVGhlbWVQcm92aWRlcgogIGlmIChjb250ZW50LmNvbnRhaW5zKCdNdWx0aVByb3ZpZGVyKCcpKSB7CiAgICAvLyBJZiBNdWx0aVByb3ZpZGVyIGV4aXN0cywgYWRkIFRoZW1lUHJvdmlkZXIgdG8gdGhlIHByb3ZpZGVycyBsaXN0CiAgICBmaW5hbCBwcm92aWRlclBhdHRlcm4gPQogICAgICAgIFJlZ0V4cChyJ3Byb3ZpZGVyczogXFtccyovLyBBZGQgeW91ciBwcm92aWRlcnMgaGVyZScpOwogICAgaWYgKHByb3ZpZGVyUGF0dGVybi5oYXNNYXRjaChjb250ZW50KSkgewogICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QocHJvdmlkZXJQYXR0ZXJuLAogICAgICAgICAgJ3Byb3ZpZGVyczogW1xuICAgICAgICAvLyBUaGVtZSBtYW5hZ2VtZW50XG4gICAgICAgIENoYW5nZU5vdGlmaWVyUHJvdmlkZXIoY3JlYXRlOiAoXykgPT4gVGhlbWVQcm92aWRlcigpKSxcbiAgICAgICAgLy8gQWRkIHlvdXIgcHJvdmlkZXJzIGhlcmUnKTsKICAgIH0KICB9IGVsc2UgaWYgKGNvbnRlbnQuY29udGFpbnMoJ0NoYW5nZU5vdGlmaWVyUHJvdmlkZXIoJykpIHsKICAgIC8vIElmIHRoZXJlJ3MgYSBzaW5nbGUgQ2hhbmdlTm90aWZpZXJQcm92aWRlciwgY29udmVydCBpdCB0byBNdWx0aVByb3ZpZGVyCiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoJ0NoYW5nZU5vdGlmaWVyUHJvdmlkZXIoJywKICAgICAgICAnTXVsdGlQcm92aWRlcihcbiAgICAgIHByb3ZpZGVyczogW1xuICAgICAgICAvLyBUaGVtZSBtYW5hZ2VtZW50XG4gICAgICAgIENoYW5nZU5vdGlmaWVyUHJvdmlkZXIoY3JlYXRlOiAoXykgPT4gVGhlbWVQcm92aWRlcigpKSxcbiAgICAgICAgJyk7CiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoCiAgICAgICAgJ2NoaWxkOiBjb25zdCBBcHAoKSwnLCAnXSxcbiAgICAgIGNoaWxkOiBjb25zdCBBcHAoKSwnKTsKICB9IGVsc2UgaWYgKGNvbnRlbnQuY29udGFpbnMoJ3J1bkFwcChjb25zdCBBcHAoKSknKSkgewogICAgLy8gSWYgbm8gQ2hhbmdlTm90aWZpZXJQcm92aWRlciBleGlzdHMsIGFkZCBvbmUKICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdCgncnVuQXBwKGNvbnN0IEFwcCgpKScsCiAgICAgICAgJ3J1bkFwcChcbiAgICBDaGFuZ2VOb3RpZmllclByb3ZpZGVyKFxuICAgICAgY3JlYXRlOiAoXykgPT4gVGhlbWVQcm92aWRlcigpLFxuICAgICAgY2hpbGQ6IGNvbnN0IEFwcCgpLFxuICAgICknKTsKICB9CgogIC8vIFVwZGF0ZSBBcHAgd2lkZ2V0IHRvIHVzZSBUaGVtZVByb3ZpZGVyCiAgX3VwZGF0ZUFwcFdpZGdldChjb250ZXh0LCBwcm9qZWN0TmFtZSwgJ3Byb3ZpZGVyJyk7CgogIC8vIFdyaXRlIHVwZGF0ZWQgY29udGVudCBiYWNrIHRvIGZpbGUKICBtYWluRGFydEZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7Cn0KCi8vLyBJbnRlZ3JhdGVzIHRoZW1lIG1hbmFnZXIgd2l0aCBSaXZlcnBvZCBzdGF0ZSBtYW5hZ2VtZW50CnZvaWQgX2ludGVncmF0ZVdpdGhSaXZlcnBvZChIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBTdHJpbmcgY29udGVudCwgRmlsZSBtYWluRGFydEZpbGUpIHsKICAvLyBBZGQgaW5pdGlhbGl6YXRpb24gZm9yIHRoZW1lIGluIFByb3ZpZGVyU2NvcGUKICBpZiAoY29udGVudC5jb250YWlucygnUHJvdmlkZXJTY29wZSgnKSkgewogICAgLy8gRW5zdXJlIHRoZW1lUHJvdmlkZXIgaXMgaW1wb3J0ZWQKICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdCgnY2hpbGQ6IGNvbnN0IEFwcCgpLCcsCiAgICAgICAgJ2NoaWxkOiBDb25zdW1lcihcbiAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHJlZiwgY2hpbGQpIHtcbiAgICAgICAgICBmaW5hbCB0aGVtZU1vZGUgPSByZWYud2F0Y2goZmx1dHRlclRoZW1lTW9kZVByb3ZpZGVyKTtcbiAgICAgICAgICByZXR1cm4gQXBwKHRoZW1lTW9kZTogdGhlbWVNb2RlKTtcbiAgICAgICAgfSxcbiAgICAgICksJyk7CiAgfSBlbHNlIGlmIChjb250ZW50LmNvbnRhaW5zKCdydW5BcHAoY29uc3QgQXBwKCkpJykpIHsKICAgIC8vIElmIG5vIFByb3ZpZGVyU2NvcGUgZXhpc3RzLCBhZGQgb25lCiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoJ3J1bkFwcChjb25zdCBBcHAoKSknLAogICAgICAgICdydW5BcHAoXG4gICAgUHJvdmlkZXJTY29wZShcbiAgICAgIGNoaWxkOiBDb25zdW1lcihcbiAgICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHJlZiwgY2hpbGQpIHtcbiAgICAgICAgICBmaW5hbCB0aGVtZU1vZGUgPSByZWYud2F0Y2goZmx1dHRlclRoZW1lTW9kZVByb3ZpZGVyKTtcbiAgICAgICAgICByZXR1cm4gQXBwKHRoZW1lTW9kZTogdGhlbWVNb2RlKTtcbiAgICAgICAgfSxcbiAgICAgICksXG4gICAgKScpOwogIH0KCiAgLy8gVXBkYXRlIEFwcCB3aWRnZXQgdG8gdXNlIFJpdmVycG9kIHRoZW1lCiAgX3VwZGF0ZUFwcFdpZGdldChjb250ZXh0LCBwcm9qZWN0TmFtZSwgJ3JpdmVycG9kJyk7CgogIC8vIFdyaXRlIHVwZGF0ZWQgY29udGVudCBiYWNrIHRvIGZpbGUKICBtYWluRGFydEZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7Cn0KCi8vLyBJbnRlZ3JhdGVzIHRoZW1lIG1hbmFnZXIgd2l0aCBHZXRYIHN0YXRlIG1hbmFnZW1lbnQKdm9pZCBfaW50ZWdyYXRlV2l0aEdldFgoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lLCBTdHJpbmcgY29udGVudCwKICAgIEZpbGUgbWFpbkRhcnRGaWxlKSB7CiAgLy8gSW5pdGlhbGl6ZSB0aGVtZSBjb250cm9sbGVyIGluIG1haW4KICBpZiAoY29udGVudC5jb250YWlucygndm9pZCBtYWluKCkgYXN5bmMgeycpKSB7CiAgICBmaW5hbCBtYWluUG9zaXRpb24gPQogICAgICAgIGNvbnRlbnQuaW5kZXhPZigndm9pZCBtYWluKCkgYXN5bmMgeycpICsgJ3ZvaWQgbWFpbigpIGFzeW5jIHsnLmxlbmd0aDsKICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBtYWluUG9zaXRpb24pICsKICAgICAgICAiXG4gIC8vIEluaXRpYWxpemUgdGhlbWUgY29udHJvbGxlclxuICBHZXQucHV0KFRoZW1lQ29udHJvbGxlcigpKTsiICsKICAgICAgICBjb250ZW50LnN1YnN0cmluZyhtYWluUG9zaXRpb24pOwogIH0KCiAgLy8gVXBkYXRlIEdldE1hdGVyaWFsQXBwIGZvciB0aGVtZQogIGlmIChjb250ZW50LmNvbnRhaW5zKCdHZXRNYXRlcmlhbEFwcCgnKSkgewogICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgnR2V0TWF0ZXJpYWxBcHAoJywKICAgICAgICAnR2V0TWF0ZXJpYWxBcHAoXG4gICAgICB0aGVtZTogQXBwVGhlbWUubGlnaHQsXG4gICAgICBkYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssXG4gICAgICB0aGVtZU1vZGU6IEdldC5maW5kPFRoZW1lQ29udHJvbGxlcj4oKS50aGVtZU1vZGUsJyk7CiAgfSBlbHNlIGlmIChjb250ZW50LmNvbnRhaW5zKCdNYXRlcmlhbEFwcCgnKSkgewogICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgnTWF0ZXJpYWxBcHAoJywKICAgICAgICAnR2V0TWF0ZXJpYWxBcHAoXG4gICAgICB0aGVtZTogQXBwVGhlbWUubGlnaHQsXG4gICAgICBkYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssXG4gICAgICB0aGVtZU1vZGU6IEdldC5maW5kPFRoZW1lQ29udHJvbGxlcj4oKS50aGVtZU1vZGUsJyk7CiAgfQoKICAvLyBXcml0ZSB1cGRhdGVkIGNvbnRlbnQgYmFjayB0byBmaWxlCiAgbWFpbkRhcnRGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwp9CgovLy8gSW50ZWdyYXRlcyB0aGVtZSBtYW5hZ2VyIHdpdGggTW9iWCBzdGF0ZSBtYW5hZ2VtZW50CnZvaWQgX2ludGVncmF0ZVdpdGhNb2JYKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwgU3RyaW5nIGNvbnRlbnQsCiAgICBGaWxlIG1haW5EYXJ0RmlsZSkgewogIC8vIEFkZCBPYnNlcnZlciBmb3IgdGhlbWUKICBpZiAoY29udGVudC5jb250YWlucygncnVuQXBwKGNvbnN0IEFwcCgpKScpKSB7CiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoJ3J1bkFwcChjb25zdCBBcHAoKSknLAogICAgICAgICdydW5BcHAoXG4gICAgT2JzZXJ2ZXIoXG4gICAgICBidWlsZGVyOiAoXykgPT4gQXBwKFxuICAgICAgICB0aGVtZU1vZGU6IHRoZW1lU3RvcmUuZmx1dHRlclRoZW1lTW9kZSxcbiAgICAgICksXG4gICAgKScpOwogIH0KCiAgLy8gVXBkYXRlIEFwcCB3aWRnZXQgdG8gdXNlIE1vYlggdGhlbWUKICBfdXBkYXRlQXBwV2lkZ2V0KGNvbnRleHQsIHByb2plY3ROYW1lLCAnbW9ieCcpOwoKICAvLyBXcml0ZSB1cGRhdGVkIGNvbnRlbnQgYmFjayB0byBmaWxlCiAgbWFpbkRhcnRGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwoKICAvLyBJbXBvcnQgZmx1dHRlcl9tb2J4CiAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdmbHV0dGVyX21vYngnKSkgewogICAgZmluYWwgaW1wb3J0UG9zaXRpb24gPSBjb250ZW50LmluZGV4T2YoJ2ltcG9ydCAnKTsKICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBpbXBvcnRQb3NpdGlvbikgKwogICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9tb2J4L2ZsdXR0ZXJfbW9ieC5kYXJ0JztcbiIgKwogICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGltcG9ydFBvc2l0aW9uKTsKICAgIG1haW5EYXJ0RmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICB9Cn0KCi8vLyBJbnRlZ3JhdGVzIHRoZW1lIG1hbmFnZXIgd2l0aCBSZWR1eCBzdGF0ZSBtYW5hZ2VtZW50CnZvaWQgX2ludGVncmF0ZVdpdGhSZWR1eChIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBTdHJpbmcgY29udGVudCwgRmlsZSBtYWluRGFydEZpbGUpIHsKICAvLyBBZGQgdGhlbWUgbWlkZGxld2FyZSB0byBzdG9yZSBjcmVhdGlvbgogIGlmIChjb250ZW50LmNvbnRhaW5zKCdtaWRkbGV3YXJlOiBbdGh1bmtNaWRkbGV3YXJlXScpKSB7CiAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKCdtaWRkbGV3YXJlOiBbdGh1bmtNaWRkbGV3YXJlXScsCiAgICAgICAgJ21pZGRsZXdhcmU6IFt0aHVua01pZGRsZXdhcmUsIC4uLmNyZWF0ZVRoZW1lTWlkZGxld2FyZSgpXScpOwogIH0KCiAgLy8gRGlzcGF0Y2ggbG9hZCB0aGVtZSBhY3Rpb24KICBpZiAoY29udGVudC5jb250YWlucygndm9pZCBtYWluKCkgYXN5bmMgeycpKSB7CiAgICBmaW5hbCBzdG9yZVBhdHRlcm4gPSBSZWdFeHAocidmaW5hbCBzdG9yZSA9IFN0b3JlPEFwcFN0YXRlPlwoJyk7CiAgICBpZiAoc3RvcmVQYXR0ZXJuLmhhc01hdGNoKGNvbnRlbnQpKSB7CiAgICAgIGZpbmFsIGRpc3BhdGNoUG9zaXRpb24gPSBjb250ZW50LmluZGV4T2YoJ3J1bkFwcCgnKTsKICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGRpc3BhdGNoUG9zaXRpb24pICsKICAgICAgICAgICIgIC8vIExvYWQgdGhlbWUgd2hlbiBhcHAgc3RhcnRzXG4gIHN0b3JlLmRpc3BhdGNoKExvYWRUaGVtZUFjdGlvbigpKTtcblxuIiArCiAgICAgICAgICBjb250ZW50LnN1YnN0cmluZyhkaXNwYXRjaFBvc2l0aW9uKTsKICAgIH0KICB9CgogIC8vIFVwZGF0ZSBTdG9yZVByb3ZpZGVyIHRvIGhhbmRsZSB0aGVtZQogIGlmIChjb250ZW50LmNvbnRhaW5zKCdTdG9yZVByb3ZpZGVyPEFwcFN0YXRlPignKSkgewogICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgnY2hpbGQ6IGNvbnN0IEFwcCgpLCcsCiAgICAgICAgJ2NoaWxkOiBTdG9yZUNvbm5lY3RvcjxBcHBTdGF0ZSwgVGhlbWVTdGF0ZT4oXG4gICAgICAgIGNvbnZlcnRlcjogKHN0b3JlKSA9PiBzdG9yZS5zdGF0ZS50aGVtZVN0YXRlLFxuICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgdGhlbWVTdGF0ZSkge1xuICAgICAgICAgIHJldHVybiBBcHAoXG4gICAgICAgICAgICB0aGVtZU1vZGU6IHRoZW1lU3RhdGUuZmx1dHRlclRoZW1lTW9kZSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgKSwnKTsKICB9CgogIC8vIFVwZGF0ZSBBcHAgd2lkZ2V0IHRvIHVzZSBSZWR1eCB0aGVtZQogIF91cGRhdGVBcHBXaWRnZXQoY29udGV4dCwgcHJvamVjdE5hbWUsICdyZWR1eCcpOwoKICAvLyBXcml0ZSB1cGRhdGVkIGNvbnRlbnQgYmFjayB0byBmaWxlCiAgbWFpbkRhcnRGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwp9CgovLy8gSW50ZWdyYXRlcyB0aGVtZSBtYW5hZ2VyIHdpdGggZGVmYXVsdCBpbXBsZW1lbnRhdGlvbgp2b2lkIF9pbnRlZ3JhdGVXaXRoRGVmYXVsdChIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBTdHJpbmcgY29udGVudCwgRmlsZSBtYWluRGFydEZpbGUpIHsKICAvLyBJbml0aWFsaXplIHRoZW1lIG1hbmFnZXIKICBpZiAoY29udGVudC5jb250YWlucygndm9pZCBtYWluKCkgYXN5bmMgeycpKSB7CiAgICBmaW5hbCBtYWluUG9zaXRpb24gPQogICAgICAgIGNvbnRlbnQuaW5kZXhPZigndm9pZCBtYWluKCkgYXN5bmMgeycpICsgJ3ZvaWQgbWFpbigpIGFzeW5jIHsnLmxlbmd0aDsKICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBtYWluUG9zaXRpb24pICsKICAgICAgICAiXG4gIC8vIEluaXRpYWxpemUgdGhlbWUgbWFuYWdlclxuICBhd2FpdCB0aGVtZU1hbmFnZXIuaW5pdGlhbGl6ZSgpOyIgKwogICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKG1haW5Qb3NpdGlvbik7CiAgfQoKICAvLyBDcmVhdGUgc2ltcGxlIHRoZW1lIGxpc3RlbmVyIHNldHVwIGFuZCBtb2RpZnkgQXBwIHBhcmFtZXRlcnMKICBmaW5hbCBhcHBXaWRnZXRGaWxlID0gRmlsZSgnJHByb2plY3ROYW1lL2xpYi9hcHAvYXBwLmRhcnQnKTsKICBpZiAoYXBwV2lkZ2V0RmlsZS5leGlzdHNTeW5jKCkpIHsKICAgIFN0cmluZyBhcHBDb250ZW50ID0gYXBwV2lkZ2V0RmlsZS5yZWFkQXNTdHJpbmdTeW5jKCk7CgogICAgLy8gQ2hlY2sgaWYgYWxyZWFkeSBtb2RpZmllZAogICAgaWYgKCFhcHBDb250ZW50LmNvbnRhaW5zKCd0aGVtZU1vZGU6JykpIHsKICAgICAgLy8gQWRkIGEgU3RhdGVmdWxXaWRnZXQgdmVyc2lvbiB0aGF0IGxpc3RlbnMgdG8gdGhlbWUgY2hhbmdlcwogICAgICBhcHBDb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvZGVzaWduX3N5c3RlbS90aGVtZV9leHRlbnNpb24vYXBwX3RoZW1lX2V4dGVuc2lvbi5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL2Rlc2lnbl9zeXN0ZW0vdGhlbWVfZXh0ZW5zaW9uL3RoZW1lX21hbmFnZXIuZGFydCc7CgpjbGFzcyBBcHAgZXh0ZW5kcyBTdGF0ZWZ1bFdpZGdldCB7CiAgY29uc3QgQXBwKHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBfQXBwU3RhdGUgY3JlYXRlU3RhdGUoKSA9PiBfQXBwU3RhdGUoKTsKfQoKY2xhc3MgX0FwcFN0YXRlIGV4dGVuZHMgU3RhdGU8QXBwPiB7CiAgVGhlbWVNb2RlRW51bSBfY3VycmVudFRoZW1lID0gVGhlbWVNb2RlRW51bS5zeXN0ZW07CgogIEBvdmVycmlkZQogIHZvaWQgaW5pdFN0YXRlKCkgewogICAgc3VwZXIuaW5pdFN0YXRlKCk7CiAgICBfY3VycmVudFRoZW1lID0gdGhlbWVNYW5hZ2VyLmN1cnJlbnRUaGVtZTsKICAgIHRoZW1lTWFuYWdlci5hZGRMaXN0ZW5lcihfb25UaGVtZUNoYW5nZWQpOwogIH0KCiAgQG92ZXJyaWRlCiAgdm9pZCBkaXNwb3NlKCkgewogICAgdGhlbWVNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKF9vblRoZW1lQ2hhbmdlZCk7CiAgICBzdXBlci5kaXNwb3NlKCk7CiAgfQoKICB2b2lkIF9vblRoZW1lQ2hhbmdlZChUaGVtZU1vZGVFbnVtIHRoZW1lKSB7CiAgICBzZXRTdGF0ZSgoKSB7CiAgICAgIF9jdXJyZW50VGhlbWUgPSB0aGVtZTsKICAgIH0pOwogIH0KCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gTWF0ZXJpYWxBcHAoCiAgICAgIHRpdGxlOiAnRmx1dHRlciBEZW1vJywKICAgICAgdGhlbWU6IEFwcFRoZW1lLmxpZ2h0LAogICAgICBkYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssCiAgICAgIHRoZW1lTW9kZTogX2N1cnJlbnRUaGVtZS50b1RoZW1lTW9kZSgpLAogICAgICBob21lOiBjb25zdCBIb21lUGFnZSh0aXRsZTogJ0ZsdXR0ZXIgRGVtbyBIb21lIFBhZ2UnKSwKICAgICk7CiAgfQp9CgpjbGFzcyBIb21lUGFnZSBleHRlbmRzIFN0YXRlZnVsV2lkZ2V0IHsKICBjb25zdCBIb21lUGFnZSh7S2V5PyBrZXksIHJlcXVpcmVkIHRoaXMudGl0bGV9KSA6IHN1cGVyKGtleToga2V5KTsKICBmaW5hbCBTdHJpbmcgdGl0bGU7CgogIEBvdmVycmlkZQogIF9Ib21lUGFnZVN0YXRlIGNyZWF0ZVN0YXRlKCkgPT4gX0hvbWVQYWdlU3RhdGUoKTsKfQoKY2xhc3MgX0hvbWVQYWdlU3RhdGUgZXh0ZW5kcyBTdGF0ZTxIb21lUGFnZT4gewogIGludCBfY291bnRlciA9IDA7CgogIHZvaWQgX2luY3JlbWVudENvdW50ZXIoKSB7CiAgICBzZXRTdGF0ZSgoKSB7CiAgICAgIF9jb3VudGVyKys7CiAgICB9KTsKICB9CgogIEBvdmVycmlkZQogIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewogICAgcmV0dXJuIFNjYWZmb2xkKAogICAgICBhcHBCYXI6IEFwcEJhcigKICAgICAgICB0aXRsZTogVGV4dCh3aWRnZXQudGl0bGUpLAogICAgICAgIGFjdGlvbnM6IFsKICAgICAgICAgIEljb25CdXR0b24oCiAgICAgICAgICAgIGljb246IGNvbnN0IEljb24oSWNvbnMuYnJpZ2h0bmVzc182KSwKICAgICAgICAgICAgb25QcmVzc2VkOiAoKSB7CiAgICAgICAgICAgICAgLy8gVG9nZ2xlIGJldHdlZW4gbGlnaHQsIGRhcmssIGFuZCBzeXN0ZW0gdGhlbWUKICAgICAgICAgICAgICBmaW5hbCBuZXdUaGVtZSA9IF9nZXROZXh0VGhlbWUodGhlbWVNYW5hZ2VyLmN1cnJlbnRUaGVtZSk7CiAgICAgICAgICAgICAgdGhlbWVNYW5hZ2VyLnNldFRoZW1lKG5ld1RoZW1lKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICksCiAgICAgICAgXSwKICAgICAgKSwKICAgICAgYm9keTogQ2VudGVyKAogICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICBtYWluQXhpc0FsaWdubWVudDogTWFpbkF4aXNBbGlnbm1lbnQuY2VudGVyLAogICAgICAgICAgY2hpbGRyZW46IDxXaWRnZXQ+WwogICAgICAgICAgICBjb25zdCBUZXh0KAogICAgICAgICAgICAgICdZb3UgaGF2ZSBwdXNoZWQgdGhlIGJ1dHRvbiB0aGlzIG1hbnkgdGltZXM6JywKICAgICAgICAgICAgKSwKICAgICAgICAgICAgVGV4dCgKICAgICAgICAgICAgICAnXCRfY291bnRlcicsCiAgICAgICAgICAgICAgc3R5bGU6IFRoZW1lLm9mKGNvbnRleHQpLnRleHRUaGVtZS5oZWFkbGluZU1lZGl1bSwKICAgICAgICAgICAgKSwKICAgICAgICAgIF0sCiAgICAgICAgKSwKICAgICAgKSwKICAgICAgZmxvYXRpbmdBY3Rpb25CdXR0b246IEZsb2F0aW5nQWN0aW9uQnV0dG9uKAogICAgICAgIG9uUHJlc3NlZDogX2luY3JlbWVudENvdW50ZXIsCiAgICAgICAgdG9vbHRpcDogJ0luY3JlbWVudCcsCiAgICAgICAgY2hpbGQ6IGNvbnN0IEljb24oSWNvbnMuYWRkKSwKICAgICAgKSwKICAgICk7CiAgfQoKICBUaGVtZU1vZGVFbnVtIF9nZXROZXh0VGhlbWUoVGhlbWVNb2RlRW51bSBjdXJyZW50KSB7CiAgICBzd2l0Y2ggKGN1cnJlbnQpIHsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmxpZ2h0OgogICAgICAgIHJldHVybiBUaGVtZU1vZGVFbnVtLmRhcms7CiAgICAgIGNhc2UgVGhlbWVNb2RlRW51bS5kYXJrOgogICAgICAgIHJldHVybiBUaGVtZU1vZGVFbnVtLnN5c3RlbTsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLnN5c3RlbToKICAgICAgICByZXR1cm4gVGhlbWVNb2RlRW51bS5saWdodDsKICAgIH0KICB9Cn0KJycnOwoKICAgICAgYXBwV2lkZ2V0RmlsZS53cml0ZUFzU3RyaW5nU3luYyhhcHBDb250ZW50KTsKICAgICAgY29udGV4dC5sb2dnZXIuaW5mbygnVXBkYXRlZCBhcHAuZGFydCB3aXRoIHRoZW1lIGZ1bmN0aW9uYWxpdHknKTsKICAgIH0KICB9CgogIC8vIFdyaXRlIHVwZGF0ZWQgY29udGVudCBiYWNrIHRvIGZpbGUKICBtYWluRGFydEZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7Cn0KCi8vLyBVcGRhdGVzIHRoZSBBcHAgd2lkZ2V0IHRvIHVzZSB0aGUgY29ycmVjdCB0aGVtZSBpbXBsZW1lbnRhdGlvbgp2b2lkIF91cGRhdGVBcHBXaWRnZXQoCiAgICBIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQpIHsKICBmaW5hbCBhcHBXaWRnZXRGaWxlID0gRmlsZSgnJHByb2plY3ROYW1lL2xpYi9hcHAvYXBwLmRhcnQnKTsKICBpZiAoIWFwcFdpZGdldEZpbGUuZXhpc3RzU3luYygpKSB7CiAgICBjb250ZXh0LmxvZ2dlci53YXJuKCdhcHAuZGFydCBub3QgZm91bmQsIHNraXBwaW5nIGFwcCB3aWRnZXQgdXBkYXRlJyk7CiAgICByZXR1cm47CiAgfQoKICBTdHJpbmcgYXBwQ29udGVudCA9IGFwcFdpZGdldEZpbGUucmVhZEFzU3RyaW5nU3luYygpOwoKICAvLyBBZGQgdGhlbWUgaW1wb3J0cyBpZiBub3QgcHJlc2VudAogIGlmICghYXBwQ29udGVudC5jb250YWlucygnYXBwX3RoZW1lX2V4dGVuc2lvbi5kYXJ0JykpIHsKICAgIGZpbmFsIGltcG9ydFBhdHRlcm4gPSBSZWdFeHAocidpbXBvcnQgLio7XG4nKTsKICAgIGZpbmFsIGxhc3RJbXBvcnRNYXRjaCA9IGltcG9ydFBhdHRlcm4uYWxsTWF0Y2hlcyhhcHBDb250ZW50KS5sYXN0T3JOdWxsOwoKICAgIGlmIChsYXN0SW1wb3J0TWF0Y2ggIT0gbnVsbCkgewogICAgICBmaW5hbCBpbnNlcnRQb3NpdGlvbiA9IGxhc3RJbXBvcnRNYXRjaC5lbmQ7CiAgICAgIGFwcENvbnRlbnQgPSBhcHBDb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb3NpdGlvbikgKwogICAgICAgICAgImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9kZXNpZ25fc3lzdGVtL3RoZW1lX2V4dGVuc2lvbi9hcHBfdGhlbWVfZXh0ZW5zaW9uLmRhcnQnO1xuIiArCiAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL2Rlc2lnbl9zeXN0ZW0vdGhlbWVfZXh0ZW5zaW9uL3RoZW1lX21hbmFnZXIuZGFydCc7XG4iICsKICAgICAgICAgIGFwcENvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvc2l0aW9uKTsKICAgIH0KICB9CgogIC8vIFVwZGF0ZSB0aGUgYnVpbGQgbWV0aG9kIGJhc2VkIG9uIHN0YXRlIG1hbmFnZW1lbnQKICBpZiAoYXBwQ29udGVudC5jb250YWlucygnY2xhc3MgQXBwIGV4dGVuZHMgU3RhdGVsZXNzV2lkZ2V0JykpIHsKICAgIC8vIEZpcnN0IGFkZCBUaGVtZU1vZGUgcGFyYW1ldGVyIHRvIEFwcCBjb25zdHJ1Y3RvcgogICAgaWYgKCFhcHBDb250ZW50LmNvbnRhaW5zKCdmaW5hbCBUaGVtZU1vZGU/JykpIHsKICAgICAgYXBwQ29udGVudCA9IGFwcENvbnRlbnQucmVwbGFjZUZpcnN0KAogICAgICAgICAgJ2NsYXNzIEFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7JywKICAgICAgICAgICdjbGFzcyBBcHAgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQge1xuICBmaW5hbCBUaGVtZU1vZGU/IHRoZW1lTW9kZTtcbicpOwoKICAgICAgYXBwQ29udGVudCA9IGFwcENvbnRlbnQucmVwbGFjZUZpcnN0KAogICAgICAgICAgJ2NvbnN0IEFwcCh7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsnLAogICAgICAgICAgJ2NvbnN0IEFwcCh7S2V5PyBrZXksIHRoaXMudGhlbWVNb2RlfSkgOiBzdXBlcihrZXk6IGtleSk7Jyk7CiAgICB9CgogICAgLy8gVXBkYXRlIE1hdGVyaWFsQXBwIHdpdGggdGhlbWUgcHJvcGVydGllcwogICAgaWYgKGFwcENvbnRlbnQuY29udGFpbnMoJ3JldHVybiBNYXRlcmlhbEFwcCgnKSkgewogICAgICBhcHBDb250ZW50ID0gYXBwQ29udGVudC5yZXBsYWNlQWxsKCdyZXR1cm4gTWF0ZXJpYWxBcHAoJywKICAgICAgICAgICdyZXR1cm4gTWF0ZXJpYWxBcHAoXG4gICAgICB0aGVtZTogQXBwVGhlbWUubGlnaHQsXG4gICAgICBkYXJrVGhlbWU6IEFwcFRoZW1lLmRhcmssXG4gICAgICB0aGVtZU1vZGU6IHRoZW1lTW9kZSA/PyBUaGVtZU1vZGUuc3lzdGVtLCcpOwogICAgfQogIH0KCiAgLy8gU3RhdGUgbWFuYWdlbWVudC1zcGVjaWZpYyBtb2RpZmljYXRpb25zCiAgc3dpdGNoIChzdGF0ZU1hbmFnZW1lbnQpIHsKICAgIGNhc2UgJ2Jsb2MnOgogICAgICAvLyBBZGQgQmxvY0J1aWxkZXIgZm9yIHRoZW1lIGlmIG5vdCBhbHJlYWR5IGFkZGVkCiAgICAgIGlmICghYXBwQ29udGVudC5jb250YWlucygnQmxvY0J1aWxkZXI8VGhlbWVDdWJpdCwgVGhlbWVTdGF0ZT4nKSkgewogICAgICAgIGlmIChhcHBDb250ZW50LmNvbnRhaW5zKCdXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsnKSkgewogICAgICAgICAgYXBwQ29udGVudCA9IGFwcENvbnRlbnQucmVwbGFjZUZpcnN0KAogICAgICAgICAgICAgICdXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsnLAogICAgICAgICAgICAgICdXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHtcbiAgICByZXR1cm4gQmxvY0J1aWxkZXI8VGhlbWVDdWJpdCwgVGhlbWVTdGF0ZT4oXG4gICAgICBidWlsZGVyOiAoY29udGV4dCwgdGhlbWVTdGF0ZSkgeycpOwoKICAgICAgICAgIGFwcENvbnRlbnQgPSBhcHBDb250ZW50LnJlcGxhY2VGaXJzdCgKICAgICAgICAgICAgICAncmV0dXJuIE1hdGVyaWFsQXBwKCcsICcgICAgICAgIHJldHVybiBNYXRlcmlhbEFwcCgnKTsKCiAgICAgICAgICAvLyBGaW5kIHRoZSBlbmQgb2YgdGhlIE1hdGVyaWFsQXBwIGFuZCBhZGQgY2xvc2luZyBicmFja2V0cwogICAgICAgICAgZmluYWwgbWF0ZXJpYWxBcHBFbmRNYXRjaCA9IFJlZ0V4cChyJztccypcfScpLmZpcnN0TWF0Y2goYXBwQ29udGVudCk7CiAgICAgICAgICBpZiAobWF0ZXJpYWxBcHBFbmRNYXRjaCAhPSBudWxsKSB7CiAgICAgICAgICAgIGZpbmFsIHBvc2l0aW9uID0gbWF0ZXJpYWxBcHBFbmRNYXRjaC5zdGFydDsKICAgICAgICAgICAgYXBwQ29udGVudCA9IGFwcENvbnRlbnQuc3Vic3RyaW5nKDAsIHBvc2l0aW9uKSArCiAgICAgICAgICAgICAgICAnO1xuICAgICAgfSxcbiAgICApO1xuICAnICsKICAgICAgICAgICAgICAgIGFwcENvbnRlbnQuc3Vic3RyaW5nKHBvc2l0aW9uKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgICAgYnJlYWs7CgogICAgY2FzZSAncHJvdmlkZXInOgogICAgICAvLyBBZGQgQ29uc3VtZXIgZm9yIHRoZW1lIGlmIG5vdCBhbHJlYWR5IGFkZGVkCiAgICAgIGlmICghYXBwQ29udGVudC5jb250YWlucygnQ29uc3VtZXI8VGhlbWVQcm92aWRlcj4nKSkgewogICAgICAgIGlmIChhcHBDb250ZW50LmNvbnRhaW5zKCdXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsnKSkgewogICAgICAgICAgYXBwQ29udGVudCA9IGFwcENvbnRlbnQucmVwbGFjZUZpcnN0KAogICAgICAgICAgICAgICdXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsnLAogICAgICAgICAgICAgICdXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHtcbiAgICByZXR1cm4gQ29uc3VtZXI8VGhlbWVQcm92aWRlcj4oXG4gICAgICBidWlsZGVyOiAoY29udGV4dCwgdGhlbWVQcm92aWRlciwgXykgeycpOwoKICAgICAgICAgIGFwcENvbnRlbnQgPSBhcHBDb250ZW50LnJlcGxhY2VGaXJzdCgKICAgICAgICAgICAgICAncmV0dXJuIE1hdGVyaWFsQXBwKCcsICcgICAgICAgIHJldHVybiBNYXRlcmlhbEFwcCgnKTsKCiAgICAgICAgICAvLyBVcGRhdGUgdGhlbWVNb2RlIHRvIHVzZSB0aGVtZVByb3ZpZGVyCiAgICAgICAgICBhcHBDb250ZW50ID0gYXBwQ29udGVudC5yZXBsYWNlQWxsKAogICAgICAgICAgICAgICd0aGVtZU1vZGU6IHRoZW1lTW9kZSA/PyBUaGVtZU1vZGUuc3lzdGVtLCcsCiAgICAgICAgICAgICAgJ3RoZW1lTW9kZTogdGhlbWVQcm92aWRlci5mbHV0dGVyVGhlbWVNb2RlLCcpOwoKICAgICAgICAgIC8vIEZpbmQgdGhlIGVuZCBvZiB0aGUgTWF0ZXJpYWxBcHAgYW5kIGFkZCBjbG9zaW5nIGJyYWNrZXRzCiAgICAgICAgICBmaW5hbCBtYXRlcmlhbEFwcEVuZE1hdGNoID0gUmVnRXhwKHInO1xzKlx9JykuZmlyc3RNYXRjaChhcHBDb250ZW50KTsKICAgICAgICAgIGlmIChtYXRlcmlhbEFwcEVuZE1hdGNoICE9IG51bGwpIHsKICAgICAgICAgICAgZmluYWwgcG9zaXRpb24gPSBtYXRlcmlhbEFwcEVuZE1hdGNoLnN0YXJ0OwogICAgICAgICAgICBhcHBDb250ZW50ID0gYXBwQ29udGVudC5zdWJzdHJpbmcoMCwgcG9zaXRpb24pICsKICAgICAgICAgICAgICAgICc7XG4gICAgICB9LFxuICAgICk7XG4gICcgKwogICAgICAgICAgICAgICAgYXBwQ29udGVudC5zdWJzdHJpbmcocG9zaXRpb24pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBicmVhazsKCiAgICBjYXNlICdyaXZlcnBvZCc6CiAgICAgIC8vIEZvciBSaXZlcnBvZCwgdGhlIHRoZW1lTW9kZSBwYXJhbWV0ZXIgcGFzc2VkIHRvIEFwcCBpcyBhbHJlYWR5IGNvcnJlY3RseSBoYW5kbGVkCiAgICAgIC8vIE5vIG5lZWQgZm9yIGFkZGl0aW9uYWwgY2hhbmdlcyBoZXJlLCBhcyB3ZSdyZSBwYXNzaW5nIHRoZSB0aGVtZU1vZGUgZnJvbSB0aGUgQ29uc3VtZXIKICAgICAgYnJlYWs7CgogICAgY2FzZSAnbW9ieCc6CiAgICAgIC8vIEZvciBNb2JYLCB0aGUgdGhlbWVNb2RlIHBhcmFtZXRlciBwYXNzZWQgdG8gQXBwIGlzIGFscmVhZHkgY29ycmVjdGx5IGhhbmRsZWQKICAgICAgLy8gZnJvbSB0aGUgT2JzZXJ2ZXIgd2lkZ2V0IGluIHRoZSBtYWluLmRhcnQgZmlsZQogICAgICBicmVhazsKCiAgICBjYXNlICdyZWR1eCc6CiAgICAgIC8vIEZvciBSZWR1eCwgdGhlIHRoZW1lTW9kZSBwYXJhbWV0ZXIgcGFzc2VkIHRvIEFwcCBpcyBhbHJlYWR5IGNvcnJlY3RseSBoYW5kbGVkCiAgICAgIC8vIGZyb20gdGhlIFN0b3JlQ29ubmVjdG9yIGluIHRoZSBtYWluLmRhcnQgZmlsZQogICAgICBicmVhazsKICB9CgogIC8vIFdyaXRlIHVwZGF0ZWQgY29udGVudCBiYWNrIHRvIGZpbGUKICBhcHBXaWRnZXRGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGFwcENvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ1VwZGF0ZWQgYXBwLmRhcnQgd2l0aCB0aGVtZSBzdXBwb3J0Jyk7Cn0K",
      "type": "text",
    },
    {
      "path": "lib/localization_generator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBHZW5lcmF0ZXMgbG9jYWxpemF0aW9uIHN5c3RlbSBmb3IgYSBGbHV0dGVyIHByb2plY3QgaWYgTG9jYWxpemF0aW9uIG1vZHVsZSBpcyBzZWxlY3RlZAp2b2lkIGdlbmVyYXRlTG9jYWxpemF0aW9uU3lzdGVtKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwKICAgIExpc3Q8ZHluYW1pYz4gbW9kdWxlcywgU3RyaW5nIHN0YXRlTWFuYWdlbWVudCkgewogIC8vIENoZWNrIGlmIExvY2FsaXphdGlvbiBpcyBpbiB0aGUgc2VsZWN0ZWQgbW9kdWxlcwogIGlmICghbW9kdWxlcy5jb250YWlucygnTG9jYWxpemF0aW9uJykpIHsKICAgIGNvbnRleHQubG9nZ2VyLmluZm8oCiAgICAgICAgJ0xvY2FsaXphdGlvbiBtb2R1bGUgbm90IHNlbGVjdGVkLCBza2lwcGluZyBsb2NhbGl6YXRpb24gc3lzdGVtIGdlbmVyYXRpb24nKTsKICAgIHJldHVybjsKICB9CgogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0dlbmVyYXRpbmcgbG9jYWxpemF0aW9uIHN5c3RlbSBmb3IgJHByb2plY3ROYW1lJyk7CgogIC8vIENyZWF0ZSBkaXJlY3Rvcnkgc3RydWN0dXJlCiAgX2NyZWF0ZURpcmVjdG9yeVN0cnVjdHVyZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CgogIC8vIEdlbmVyYXRlIGJhc2UgbG9jYWxpemF0aW9uIGZpbGVzCiAgX2dlbmVyYXRlQmFzZUZpbGVzKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gR2VuZXJhdGUgc3RhdGUgbWFuYWdlbWVudCBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbgogIF9nZW5lcmF0ZVN0YXRlTWFuYWdlbWVudEltcGwoY29udGV4dCwgcHJvamVjdE5hbWUsIHN0YXRlTWFuYWdlbWVudCk7CgogIC8vIFVwZGF0ZSBwdWJzcGVjLnlhbWwgdG8gYWRkIGxvY2FsaXphdGlvbiBkZXBlbmRlbmNpZXMKICBfdXBkYXRlUHVic3BlY0ZvckxvY2FsaXphdGlvbihjb250ZXh0LCBwcm9qZWN0TmFtZSk7CgogIC8vIFVwZGF0ZSBtYWluLmRhcnQgdG8gaW5pdGlhbGl6ZSBsb2NhbGl6YXRpb24KICBfdXBkYXRlTWFpbkZvckxvY2FsaXphdGlvbihjb250ZXh0LCBwcm9qZWN0TmFtZSwgc3RhdGVNYW5hZ2VtZW50KTsKCiAgY29udGV4dC5sb2dnZXIuc3VjY2VzcygnTG9jYWxpemF0aW9uIHN5c3RlbSBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5IScpOwp9CgovLy8gQ3JlYXRlcyB0aGUgZGlyZWN0b3J5IHN0cnVjdHVyZSBmb3IgbG9jYWxpemF0aW9uCnZvaWQgX2NyZWF0ZURpcmVjdG9yeVN0cnVjdHVyZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBkaXJlY3RvcmllcyA9IFsKICAgICdsaWIvY29yZS9sb2NhbGl6YXRpb24nLAogICAgJ2xpYi9jb3JlL2xvY2FsaXphdGlvbi9nZW5lcmF0ZWQnLAogICAgJ2xpYi9jb3JlL2xvY2FsaXphdGlvbi9sMTBuJywKICBdOwoKICBmb3IgKGZpbmFsIGRpciBpbiBkaXJlY3RvcmllcykgewogICAgZmluYWwgZGlyZWN0b3J5ID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvJGRpcicpOwogICAgaWYgKCFkaXJlY3RvcnkuZXhpc3RzU3luYygpKSB7CiAgICAgIGRpcmVjdG9yeS5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZGlyZWN0b3J5OiAkZGlyJyk7CiAgICB9CiAgfQp9CgovLy8gR2VuZXJhdGVzIGJhc2UgbG9jYWxpemF0aW9uIGZpbGVzCnZvaWQgX2dlbmVyYXRlQmFzZUZpbGVzKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIC8vIEdlbmVyYXRlIGxvY2FsaXphdGlvbi5kYXJ0IGZpbGUKICBfZ2VuZXJhdGVMb2NhbGl6YXRpb25GaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gR2VuZXJhdGUgbDEwbiBjb25maWd1cmF0aW9uCiAgX2dlbmVyYXRlTDEwbkZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwogIF9nZW5lcmF0ZUwxMG5ZYW1sRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CgogIC8vIEdlbmVyYXRlIEFSQiBmaWxlcwogIF9nZW5lcmF0ZUFyYkZpbGVzKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gR2VuZXJhdGUgbGFuZ3VhZ2Ugc2VsZWN0b3Igd2lkZ2V0CiAgX2dlbmVyYXRlTGFuZ3VhZ2VTZWxlY3RvcldpZGdldChjb250ZXh0LCBwcm9qZWN0TmFtZSk7Cn0KCi8vLyBHZW5lcmF0ZXMgc3RhdGUgbWFuYWdlbWVudCBzcGVjaWZpYyBpbXBsZW1lbnRhdGlvbgp2b2lkIF9nZW5lcmF0ZVN0YXRlTWFuYWdlbWVudEltcGwoCiAgICBIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQpIHsKICBzd2l0Y2ggKHN0YXRlTWFuYWdlbWVudCkgewogICAgY2FzZSAnQmxvYyc6CiAgICBjYXNlICdCTG9DJzoKICAgICAgX2dlbmVyYXRlQmxvY0ltcGxlbWVudGF0aW9uKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdQcm92aWRlcic6CiAgICAgIF9nZW5lcmF0ZVByb3ZpZGVySW1wbGVtZW50YXRpb24oY29udGV4dCwgcHJvamVjdE5hbWUpOwogICAgICBicmVhazsKICAgIGNhc2UgJ1JpdmVycG9kJzoKICAgICAgX2dlbmVyYXRlUml2ZXJwb2RJbXBsZW1lbnRhdGlvbihjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnR2V0WCc6CiAgICAgIF9nZW5lcmF0ZUdldFhJbXBsZW1lbnRhdGlvbihjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnTW9iWCc6CiAgICAgIF9nZW5lcmF0ZU1vYlhJbXBsZW1lbnRhdGlvbihjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnUmVkdXgnOgogICAgICBfZ2VuZXJhdGVSZWR1eEltcGxlbWVudGF0aW9uKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICAgICAgYnJlYWs7CiAgICBkZWZhdWx0OgogICAgICBfZ2VuZXJhdGVEZWZhdWx0SW1wbGVtZW50YXRpb24oY29udGV4dCwgcHJvamVjdE5hbWUpOwogIH0KfQoKLy8vIEdlbmVyYXRlIHRoZSBsb2NhbGl6YXRpb24uZGFydCBmaWxlIHdpdGggZXh0ZW5zaW9uIG1ldGhvZHMKdm9pZCBfZ2VuZXJhdGVMb2NhbGl6YXRpb25GaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvY29yZS9sb2NhbGl6YXRpb24vbG9jYWxpemF0aW9uLmRhcnQnOwoKICAvLyBHZW5lcmF0ZSBleHRlbnNpb24gbWV0aG9kIGZvciBzdHJpbmdzCiAgZmluYWwgc3RyaW5nRXh0ZW5zaW9uTWV0aG9kID0gJycnCiAgLy8gRXh0ZW5zaW9uIGZvciBlYXN5IGFjY2VzcyB0byBsb2NhbGl6ZWQgc3RyaW5ncwogIGV4dGVuc2lvbiBvbiBCdWlsZENvbnRleHQgewogICAgQXBwTG9jYWxpemF0aW9ucyBnZXQgc3RyaW5ncyA9PiBsMTBuOwogIH0nJyc7CgogIHN0cmluZ0V4dGVuc2lvbk1ldGhvZDsKCiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdnZW5lcmF0ZWQvYXBwX2xvY2FsaXphdGlvbnMuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2xvY2FsaXphdGlvbnMvZmx1dHRlcl9sb2NhbGl6YXRpb25zLmRhcnQnOwoKLy8vIEV4dGVuc2lvbiBtZXRob2QgdG8gZ2V0IGxvY2FsaXplZCBzdHJpbmdzIGVhc2llcgpleHRlbnNpb24gTG9jYWxpemF0aW9uRXh0ZW5zaW9uIG9uIEJ1aWxkQ29udGV4dCB7CiAgLy8vIEdldCB0aGUgdHJhbnNsYXRpb24gc3RyaW5ncyBpbnN0YW5jZQogIEFwcExvY2FsaXphdGlvbnMgZ2V0IGwxMG4gPT4gQXBwTG9jYWxpemF0aW9ucy5vZih0aGlzKSE7Cn0KCi8vLyBVdGlsaXR5IG1ldGhvZHMgZm9yIGxvY2FsaXphdGlvbgpjbGFzcyBMb2NhbGl6YXRpb24gewogIExvY2FsaXphdGlvbi5fKCk7CiAgCiAgLy8vIEdldCBhbGwgYXZhaWxhYmxlIGxvY2FsZXMKICBzdGF0aWMgTGlzdDxMb2NhbGU+IGdldCBzdXBwb3J0ZWRMb2NhbGVzID0+IEFwcExvY2FsaXphdGlvbnMuc3VwcG9ydGVkTG9jYWxlczsKICAKICAvLy8gR2V0IGFsbCBsb2NhbGl6YXRpb24gZGVsZWdhdGVzCiAgc3RhdGljIExpc3Q8TG9jYWxpemF0aW9uc0RlbGVnYXRlPGR5bmFtaWM+PiBnZXQgbG9jYWxpemF0aW9uRGVsZWdhdGVzID0+IFsKICAgIEFwcExvY2FsaXphdGlvbnMuZGVsZWdhdGUsCiAgICAuLi5HbG9iYWxNYXRlcmlhbExvY2FsaXphdGlvbnMuZGVsZWdhdGVzLAogIF07CiAgCiAgLy8vIEdldCBhIGZyaWVuZGx5IGRpc3BsYXkgbmFtZSBmb3IgYSBsb2NhbGUKICBzdGF0aWMgU3RyaW5nIGdldExhbmd1YWdlTmFtZShTdHJpbmcgbGFuZ3VhZ2VDb2RlKSB7CiAgICBzd2l0Y2ggKGxhbmd1YWdlQ29kZSkgewogICAgICBjYXNlICdlcyc6CiAgICAgICAgcmV0dXJuICdFc3Bhw7FvbCc7CiAgICAgIGNhc2UgJ2ZyJzoKICAgICAgICByZXR1cm4gJ0ZyYW7Dp2Fpcyc7CiAgICAgIGNhc2UgJ2RlJzoKICAgICAgICByZXR1cm4gJ0RldXRzY2gnOwogICAgICBjYXNlICdqYSc6CiAgICAgICAgcmV0dXJuICfml6XmnKzoqp4nOwogICAgICBjYXNlICd6aCc6CiAgICAgICAgcmV0dXJuICfkuK3mlocnOwogICAgICBjYXNlICdhcic6CiAgICAgICAgcmV0dXJuICfYp9mE2LnYsdio2YrYqSc7CiAgICAgIGNhc2UgJ3B0JzoKICAgICAgICByZXR1cm4gJ1BvcnR1Z3XDqnMnOwogICAgICBjYXNlICdydSc6CiAgICAgICAgcmV0dXJuICfQoNGD0YHRgdC60LjQuSc7CiAgICAgIGNhc2UgJ2tvJzoKICAgICAgICByZXR1cm4gJ+2VnOq1reyWtCc7CiAgICAgIGNhc2UgJ2l0JzoKICAgICAgICByZXR1cm4gJ0l0YWxpYW5vJzsKICAgICAgY2FzZSAnZW4nOgogICAgICBkZWZhdWx0OgogICAgICAgIHJldHVybiAnRW5nbGlzaCc7CiAgICB9CiAgfQogIAogIC8vLyBHZXQgYSBmbGFnIGVtb2ppIGZvciBhIGxhbmd1YWdlCiAgc3RhdGljIFN0cmluZyBnZXRMYW5ndWFnZUZsYWcoU3RyaW5nIGxhbmd1YWdlQ29kZSkgewogICAgc3dpdGNoIChsYW5ndWFnZUNvZGUpIHsKICAgICAgY2FzZSAnZXMnOgogICAgICAgIHJldHVybiAn8J+HqvCfh7gnOwogICAgICBjYXNlICdmcic6CiAgICAgICAgcmV0dXJuICfwn4er8J+Htyc7CiAgICAgIGNhc2UgJ2RlJzoKICAgICAgICByZXR1cm4gJ/Cfh6nwn4eqJzsKICAgICAgY2FzZSAnamEnOgogICAgICAgIHJldHVybiAn8J+Hr/Cfh7UnOwogICAgICBjYXNlICd6aCc6CiAgICAgICAgcmV0dXJuICfwn4eo8J+Hsyc7CiAgICAgIGNhc2UgJ2FyJzoKICAgICAgICByZXR1cm4gJ/Cfh7jwn4emJzsKICAgICAgY2FzZSAncHQnOgogICAgICAgIHJldHVybiAn8J+Hp/Cfh7cnOwogICAgICBjYXNlICdydSc6CiAgICAgICAgcmV0dXJuICfwn4e38J+Huic7CiAgICAgIGNhc2UgJ2tvJzoKICAgICAgICByZXR1cm4gJ/Cfh7Dwn4e3JzsKICAgICAgY2FzZSAnaXQnOgogICAgICAgIHJldHVybiAn8J+HrvCfh7knOwogICAgICBjYXNlICdlbic6CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgcmV0dXJuICfwn4e68J+HuCc7CiAgICB9CiAgfQp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlIHRoZSBsMTBuLmRhcnQgZmlsZSB3aXRoIHN1cHBvcnRlZCBsb2NhbGVzCnZvaWQgX2dlbmVyYXRlTDEwbkZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2xvY2FsaXphdGlvbi9sMTBuL2wxMG4uZGFydCc7CiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKCi8vLyBDbGFzcyB0byBtYW5hZ2Ugc3VwcG9ydGVkIGxvY2FsZXMKY2xhc3MgTDEwbiB7CiAgTDEwbi5fKCk7CiAgCiAgLy8vIEFsbCBzdXBwb3J0ZWQgbG9jYWxlcyBpbiB0aGUgYXBwCiAgc3RhdGljIGNvbnN0IHN1cHBvcnRlZExvY2FsZXMgPSBbCiAgICBMb2NhbGUoJ2VuJyksCiAgICBMb2NhbGUoJ2VzJyksCiAgICAvLyBBZGQgbW9yZSBsb2NhbGVzIGFzIG5lZWRlZAogIF07Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGUgdGhlIGwxMG4ueWFtbCBjb25maWd1cmF0aW9uIGZpbGUKdm9pZCBfZ2VuZXJhdGVMMTBuWWFtbEZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2wxMG4ueWFtbCc7CiAgZmluYWwgY29udGVudCA9ICcnJwphcmItZGlyOiBsaWIvY29yZS9sb2NhbGl6YXRpb24vbDEwbgpvdXRwdXQtZGlyOiBsaWIvY29yZS9sb2NhbGl6YXRpb24vZ2VuZXJhdGVkCnRlbXBsYXRlLWFyYi1maWxlOiBhcHBfZW4uYXJiCm91dHB1dC1sb2NhbGl6YXRpb24tZmlsZTogYXBwX2xvY2FsaXphdGlvbnMuZGFydApvdXRwdXQtY2xhc3M6IEFwcExvY2FsaXphdGlvbnMKbnVsbGFibGUtZ2V0dGVyOiBmYWxzZQpzeW50aGV0aWMtcGFja2FnZTogZmFsc2UKJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGUgQVJCIGZpbGVzIGZvciBFbmdsaXNoIGFuZCBTcGFuaXNoCnZvaWQgX2dlbmVyYXRlQXJiRmlsZXMoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgLy8gRW5nbGlzaCBBUkIgZmlsZSAodGVtcGxhdGUpCiAgZmluYWwgZW5GaWxlUGF0aCA9ICckcHJvamVjdE5hbWUvbGliL2NvcmUvbG9jYWxpemF0aW9uL2wxMG4vYXBwX2VuLmFyYic7CiAgZmluYWwgZW5Db250ZW50ID0gJycnewogICJAQGxvY2FsZSI6ICJlbiIsCiAgImFwcFRpdGxlIjogIk15IEFwcCIsCiAgIkBhcHBUaXRsZSI6IHsKICAgICJkZXNjcmlwdGlvbiI6ICJUaGUgdGl0bGUgb2YgdGhlIGFwcGxpY2F0aW9uIgogIH0sCiAgIndlbGNvbWUiOiAiV2VsY29tZSIsCiAgIkB3ZWxjb21lIjogewogICAgImRlc2NyaXB0aW9uIjogIldlbGNvbWUgbWVzc2FnZSIKICB9LAogICJoZWxsbyI6ICJIZWxsbywge25hbWV9IiwKICAiQGhlbGxvIjogewogICAgImRlc2NyaXB0aW9uIjogIkEgd2VsY29tZSBtZXNzYWdlIHdpdGggYSBuYW1lIHBhcmFtZXRlciIsCiAgICAicGxhY2Vob2xkZXJzIjogewogICAgICAibmFtZSI6IHsKICAgICAgICAidHlwZSI6ICJTdHJpbmciLAogICAgICAgICJleGFtcGxlIjogIkpvaG4iCiAgICAgIH0KICAgIH0KICB9LAogICJjb3VudGVyIjogIntjb3VudCwgcGx1cmFsLCA9MHtObyBpdGVtc30gPTF7MSBpdGVtfSBvdGhlcnt7Y291bnR9IGl0ZW1zfX0iLAogICJAY291bnRlciI6IHsKICAgICJkZXNjcmlwdGlvbiI6ICJBIHBsdXJhbCBtZXNzYWdlIGZvciBjb3VudGVyIGl0ZW1zIiwKICAgICJwbGFjZWhvbGRlcnMiOiB7CiAgICAgICJjb3VudCI6IHsKICAgICAgICAidHlwZSI6ICJpbnQiLAogICAgICAgICJmb3JtYXQiOiAiY29tcGFjdCIKICAgICAgfQogICAgfQogIH0sCiAgInNpZ25JbiI6ICJTaWduIEluIiwKICAiQHNpZ25JbiI6IHsKICAgICJkZXNjcmlwdGlvbiI6ICJTaWduIGluIGJ1dHRvbiB0ZXh0IgogIH0sCiAgInNpZ25VcCI6ICJTaWduIFVwIiwKICAiQHNpZ25VcCI6IHsKICAgICJkZXNjcmlwdGlvbiI6ICJTaWduIHVwIGJ1dHRvbiB0ZXh0IgogIH0sCiAgImVtYWlsIjogIkVtYWlsIiwKICAiQGVtYWlsIjogewogICAgImRlc2NyaXB0aW9uIjogIkVtYWlsIGZpZWxkIGxhYmVsIgogIH0sCiAgInBhc3N3b3JkIjogIlBhc3N3b3JkIiwKICAiQHBhc3N3b3JkIjogewogICAgImRlc2NyaXB0aW9uIjogIlBhc3N3b3JkIGZpZWxkIGxhYmVsIgogIH0sCiAgImZvcmdvdFBhc3N3b3JkIjogIkZvcmdvdCBQYXNzd29yZD8iLAogICJAZm9yZ290UGFzc3dvcmQiOiB7CiAgICAiZGVzY3JpcHRpb24iOiAiRm9yZ290IHBhc3N3b3JkIGJ1dHRvbiB0ZXh0IgogIH0sCiAgInNldHRpbmdzIjogIlNldHRpbmdzIiwKICAiQHNldHRpbmdzIjogewogICAgImRlc2NyaXB0aW9uIjogIlNldHRpbmdzIG1lbnUgaXRlbSIKICB9LAogICJsYW5ndWFnZSI6ICJMYW5ndWFnZSIsCiAgIkBsYW5ndWFnZSI6IHsKICAgICJkZXNjcmlwdGlvbiI6ICJMYW5ndWFnZSBzZXR0aW5nIgogIH0sCiAgInRoZW1lIjogIlRoZW1lIiwKICAiQHRoZW1lIjogewogICAgImRlc2NyaXB0aW9uIjogIlRoZW1lIHNldHRpbmciCiAgfSwKICAiZGFya01vZGUiOiAiRGFyayBNb2RlIiwKICAiQGRhcmtNb2RlIjogewogICAgImRlc2NyaXB0aW9uIjogIkRhcmsgbW9kZSBzZXR0aW5nIgogIH0sCiAgImxpZ2h0TW9kZSI6ICJMaWdodCBNb2RlIiwKICAiQGxpZ2h0TW9kZSI6IHsKICAgICJkZXNjcmlwdGlvbiI6ICJMaWdodCBtb2RlIHNldHRpbmciCiAgfSwKICAic3lzdGVtTW9kZSI6ICJTeXN0ZW0gTW9kZSIsCiAgIkBzeXN0ZW1Nb2RlIjogewogICAgImRlc2NyaXB0aW9uIjogIlN5c3RlbSB0aGVtZSBtb2RlIHNldHRpbmciCiAgfSwKICAibm90aWZpY2F0aW9ucyI6ICJOb3RpZmljYXRpb25zIiwKICAiQG5vdGlmaWNhdGlvbnMiOiB7CiAgICAiZGVzY3JpcHRpb24iOiAiTm90aWZpY2F0aW9ucyB0aXRsZSIKICB9LAogICJub3RpZmljYXRpb25TZW50IjogIk5vdGlmaWNhdGlvbiBzZW50IiwKICAiQG5vdGlmaWNhdGlvblNlbnQiOiB7CiAgICAiZGVzY3JpcHRpb24iOiAiTWVzc2FnZSBzaG93biB3aGVuIG5vdGlmaWNhdGlvbiBpcyBzZW50IgogIH0sCiAgImVuYWJsZU5vdGlmaWNhdGlvbnMiOiAiRW5hYmxlIE5vdGlmaWNhdGlvbnMiLAogICJAZW5hYmxlTm90aWZpY2F0aW9ucyI6IHsKICAgICJkZXNjcmlwdGlvbiI6ICJTd2l0Y2ggbGFiZWwgZm9yIGVuYWJsaW5nIG5vdGlmaWNhdGlvbnMiCiAgfSwKICAicmVjZWl2ZU5vdGlmaWNhdGlvbnMiOiAiUmVjZWl2ZSBwdXNoIG5vdGlmaWNhdGlvbnMiLAogICJAcmVjZWl2ZU5vdGlmaWNhdGlvbnMiOiB7CiAgICAiZGVzY3JpcHRpb24iOiAiRGVzY3JpcHRpb24gZm9yIG5vdGlmaWNhdGlvbiBzd2l0Y2giCiAgfSwKICAic2VuZFRlc3ROb3RpZmljYXRpb24iOiAiU2VuZCBUZXN0IE5vdGlmaWNhdGlvbiIsCiAgIkBzZW5kVGVzdE5vdGlmaWNhdGlvbiI6IHsKICAgICJkZXNjcmlwdGlvbiI6ICJCdXR0b24gdG8gc2VuZCBhIHRlc3Qgbm90aWZpY2F0aW9uIgogIH0sCiAgImRldmljZVRva2VuIjogIkRldmljZSBUb2tlbiIsCiAgIkBkZXZpY2VUb2tlbiI6IHsKICAgICJkZXNjcmlwdGlvbiI6ICJMYWJlbCBmb3IgZGV2aWNlIHRva2VuIHNlY3Rpb24iCiAgfSwKICAibG9hZGluZyI6ICJMb2FkaW5nLi4uIiwKICAiQGxvYWRpbmciOiB7CiAgICAiZGVzY3JpcHRpb24iOiAiTG9hZGluZyB0ZXh0IgogIH0sCiAgIm5vdEF2YWlsYWJsZSI6ICJOb3QgYXZhaWxhYmxlIiwKICAiQG5vdEF2YWlsYWJsZSI6IHsKICAgICJkZXNjcmlwdGlvbiI6ICJUZXh0IGZvciB3aGVuIGEgZmVhdHVyZSBpcyBub3QgYXZhaWxhYmxlIgogIH0KfScnJzsKCiAgZmluYWwgZW5GaWxlID0gRmlsZShlbkZpbGVQYXRoKTsKICBlbkZpbGUud3JpdGVBc1N0cmluZ1N5bmMoZW5Db250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRlbkZpbGVQYXRoJyk7CgogIC8vIFNwYW5pc2ggQVJCIGZpbGUKICBmaW5hbCBlc0ZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvY29yZS9sb2NhbGl6YXRpb24vbDEwbi9hcHBfZXMuYXJiJzsKICBmaW5hbCBlc0NvbnRlbnQgPSAnJyd7CiAgIkBAbG9jYWxlIjogImVzIiwKICAiYXBwVGl0bGUiOiAiTWkgQXBsaWNhY2nDs24iLAogICJ3ZWxjb21lIjogIkJpZW52ZW5pZG8iLAogICJoZWxsbyI6ICJIb2xhLCB7bmFtZX0iLAogICJjb3VudGVyIjogIntjb3VudCwgcGx1cmFsLCA9MHtTaW4gZWxlbWVudG9zfSA9MXsxIGVsZW1lbnRvfSBvdGhlcnt7Y291bnR9IGVsZW1lbnRvc319IiwKICAic2lnbkluIjogIkluaWNpYXIgU2VzacOzbiIsCiAgInNpZ25VcCI6ICJSZWdpc3RyYXJzZSIsCiAgImVtYWlsIjogIkNvcnJlbyBlbGVjdHLDs25pY28iLAogICJwYXNzd29yZCI6ICJDb250cmFzZcOxYSIsCiAgImZvcmdvdFBhc3N3b3JkIjogIsK/T2x2aWRhc3RlIHR1IGNvbnRyYXNlw7FhPyIsCiAgInNldHRpbmdzIjogIkNvbmZpZ3VyYWNpw7NuIiwKICAibGFuZ3VhZ2UiOiAiSWRpb21hIiwKICAidGhlbWUiOiAiVGVtYSIsCiAgImRhcmtNb2RlIjogIk1vZG8gT3NjdXJvIiwKICAibGlnaHRNb2RlIjogIk1vZG8gQ2xhcm8iLAogICJzeXN0ZW1Nb2RlIjogIk1vZG8gZGVsIFNpc3RlbWEiLAogICJub3RpZmljYXRpb25zIjogIk5vdGlmaWNhY2lvbmVzIiwKICAibm90aWZpY2F0aW9uU2VudCI6ICJOb3RpZmljYWNpw7NuIGVudmlhZGEiLAogICJlbmFibGVOb3RpZmljYXRpb25zIjogIkFjdGl2YXIgTm90aWZpY2FjaW9uZXMiLAogICJyZWNlaXZlTm90aWZpY2F0aW9ucyI6ICJSZWNpYmlyIG5vdGlmaWNhY2lvbmVzIHB1c2giLAogICJzZW5kVGVzdE5vdGlmaWNhdGlvbiI6ICJFbnZpYXIgTm90aWZpY2FjacOzbiBkZSBQcnVlYmEiLAogICJkZXZpY2VUb2tlbiI6ICJUb2tlbiBkZWwgRGlzcG9zaXRpdm8iLAogICJsb2FkaW5nIjogIkNhcmdhbmRvLi4uIiwKICAibm90QXZhaWxhYmxlIjogIk5vIGRpc3BvbmlibGUiCn0nJyc7CgogIGZpbmFsIGVzRmlsZSA9IEZpbGUoZXNGaWxlUGF0aCk7CiAgZXNGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGVzQ29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZXNGaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGUgYSBsYW5ndWFnZSBzZWxlY3RvciB3aWRnZXQgZm9yIGVhc2llciBsYW5ndWFnZSBzd2l0Y2hpbmcKdm9pZCBfZ2VuZXJhdGVMYW5ndWFnZVNlbGVjdG9yV2lkZ2V0KEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9sb2NhbGl6YXRpb24vd2lkZ2V0cy9sYW5ndWFnZV9zZWxlY3Rvci5kYXJ0JzsKICBmaW5hbCBkaXJlY3RvcnkgPSBEaXJlY3RvcnkoJyRwcm9qZWN0TmFtZS9saWIvY29yZS9sb2NhbGl6YXRpb24vd2lkZ2V0cycpOwogIGlmICghZGlyZWN0b3J5LmV4aXN0c1N5bmMoKSkgewogICAgZGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICB9CgogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAnLi4vbDEwbi9sMTBuLmRhcnQnOwppbXBvcnQgJy4uL2xvY2FsaXphdGlvbi5kYXJ0JzsKCi8vLyBBIHdpZGdldCB0byBzZWxlY3QgbGFuZ3VhZ2UgaW4gc2V0dGluZ3MKY2xhc3MgTGFuZ3VhZ2VTZWxlY3RvciBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCB7CiAgLy8vIENhbGxiYWNrIHdoZW4gbGFuZ3VhZ2UgY2hhbmdlcwogIGZpbmFsIEZ1bmN0aW9uKExvY2FsZSkgb25DaGFuZ2VkOwoKICBjb25zdCBMYW5ndWFnZVNlbGVjdG9yKHtLZXk/IGtleSwgcmVxdWlyZWQgdGhpcy5vbkNoYW5nZWR9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICBmaW5hbCBjdXJyZW50TG9jYWxlID0gTG9jYWxpemF0aW9ucy5sb2NhbGVPZihjb250ZXh0KTsKICAgIAogICAgcmV0dXJuIENvbHVtbigKICAgICAgY3Jvc3NBeGlzQWxpZ25tZW50OiBDcm9zc0F4aXNBbGlnbm1lbnQuc3RhcnQsCiAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgUGFkZGluZygKICAgICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuc3ltbWV0cmljKGhvcml6b250YWw6IDE2LCB2ZXJ0aWNhbDogOCksCiAgICAgICAgICBjaGlsZDogVGV4dCgKICAgICAgICAgICAgY29udGV4dC5sMTBuLmxhbmd1YWdlLAogICAgICAgICAgICBzdHlsZTogVGhlbWUub2YoY29udGV4dCkudGV4dFRoZW1lLnRpdGxlTWVkaXVtLAogICAgICAgICAgKSwKICAgICAgICApLAogICAgICAgIGNvbnN0IFNpemVkQm94KGhlaWdodDogOCksCiAgICAgICAgLi4uTDEwbi5zdXBwb3J0ZWRMb2NhbGVzLm1hcCgobG9jYWxlKSB7CiAgICAgICAgICBmaW5hbCBpc1NlbGVjdGVkID0gY3VycmVudExvY2FsZS5sYW5ndWFnZUNvZGUgPT0gbG9jYWxlLmxhbmd1YWdlQ29kZTsKICAgICAgICAgIAogICAgICAgICAgcmV0dXJuIExpc3RUaWxlKAogICAgICAgICAgICBsZWFkaW5nOiBUZXh0KAogICAgICAgICAgICAgIExvY2FsaXphdGlvbi5nZXRMYW5ndWFnZUZsYWcobG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgICAgICAgc3R5bGU6IGNvbnN0IFRleHRTdHlsZShmb250U2l6ZTogMjQpLAogICAgICAgICAgICApLAogICAgICAgICAgICB0aXRsZTogVGV4dChMb2NhbGl6YXRpb24uZ2V0TGFuZ3VhZ2VOYW1lKGxvY2FsZS5sYW5ndWFnZUNvZGUpKSwKICAgICAgICAgICAgdHJhaWxpbmc6IGlzU2VsZWN0ZWQgCiAgICAgICAgICAgICAgPyBjb25zdCBJY29uKEljb25zLmNoZWNrLCBjb2xvcjogQ29sb3JzLmdyZWVuKSAKICAgICAgICAgICAgICA6IG51bGwsCiAgICAgICAgICAgIG9uVGFwOiAoKSB7CiAgICAgICAgICAgICAgaWYgKCFpc1NlbGVjdGVkKSB7CiAgICAgICAgICAgICAgICBvbkNoYW5nZWQobG9jYWxlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sCiAgICAgICAgICApOwogICAgICAgIH0pLnRvTGlzdCgpLAogICAgICBdLAogICAgKTsKICB9Cn0KCi8vLyBBIHNpbXBsZSBsYW5ndWFnZSB0b2dnbGUgZm9yIHRoZSBhcHAgYmFyCmNsYXNzIExhbmd1YWdlVG9nZ2xlIGV4dGVuZHMgU3RhdGVsZXNzV2lkZ2V0IHsKICAvLy8gQ2FsbGJhY2sgd2hlbiBsYW5ndWFnZSBjaGFuZ2VzCiAgZmluYWwgRnVuY3Rpb24oTG9jYWxlKSBvbkNoYW5nZWQ7CgogIGNvbnN0IExhbmd1YWdlVG9nZ2xlKHtLZXk/IGtleSwgcmVxdWlyZWQgdGhpcy5vbkNoYW5nZWR9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICBmaW5hbCBjdXJyZW50TG9jYWxlID0gTG9jYWxpemF0aW9ucy5sb2NhbGVPZihjb250ZXh0KTsKICAgIAogICAgcmV0dXJuIEljb25CdXR0b24oCiAgICAgIGljb246IFRleHQoCiAgICAgICAgTG9jYWxpemF0aW9uLmdldExhbmd1YWdlRmxhZyhjdXJyZW50TG9jYWxlLmxhbmd1YWdlQ29kZSksCiAgICAgICAgc3R5bGU6IGNvbnN0IFRleHRTdHlsZShmb250U2l6ZTogMjQpLAogICAgICApLAogICAgICB0b29sdGlwOiBjb250ZXh0LmwxMG4ubGFuZ3VhZ2UsCiAgICAgIG9uUHJlc3NlZDogKCkgewogICAgICAgIC8vIFRvZ2dsZSBiZXR3ZWVuIEVuZ2xpc2ggYW5kIFNwYW5pc2ggKG9yIG90aGVyIGF2YWlsYWJsZSBsb2NhbGVzKQogICAgICAgIGZpbmFsIHN1cHBvcnRlZExvY2FsZXMgPSBMMTBuLnN1cHBvcnRlZExvY2FsZXM7CiAgICAgICAgZmluYWwgY3VycmVudEluZGV4ID0gc3VwcG9ydGVkTG9jYWxlcy5pbmRleFdoZXJlKAogICAgICAgICAgKGxvY2FsZSkgPT4gbG9jYWxlLmxhbmd1YWdlQ29kZSA9PSBjdXJyZW50TG9jYWxlLmxhbmd1YWdlQ29kZQogICAgICAgICk7CiAgICAgICAgZmluYWwgbmV4dEluZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgc3VwcG9ydGVkTG9jYWxlcy5sZW5ndGg7CiAgICAgICAgb25DaGFuZ2VkKHN1cHBvcnRlZExvY2FsZXNbbmV4dEluZGV4XSk7CiAgICAgIH0sCiAgICApOwogIH0KfQonJyc7CgogIGZpbmFsIGZpbGUgPSBGaWxlKGZpbGVQYXRoKTsKICBmaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJGZpbGVQYXRoJyk7Cn0KCi8vLyBHZW5lcmF0ZSBCTG9DIGltcGxlbWVudGF0aW9uIGZvciBsb2NhbGl6YXRpb24Kdm9pZCBfZ2VuZXJhdGVCbG9jSW1wbGVtZW50YXRpb24oSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgLy8gQ3JlYXRlIGRpcmVjdG9yaWVzCiAgZmluYWwgYmxvY0RpciA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lL2xpYi9jb3JlL2xvY2FsaXphdGlvbi9ibG9jJyk7CiAgaWYgKCFibG9jRGlyLmV4aXN0c1N5bmMoKSkgewogICAgYmxvY0Rpci5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgfQoKICAvLyBHZW5lcmF0ZSB0aGUgbG9jYWxlIGJsb2MgZmlsZQogIGZpbmFsIGJsb2NGaWxlUGF0aCA9CiAgICAgICckcHJvamVjdE5hbWUvbGliL2NvcmUvbG9jYWxpemF0aW9uL2Jsb2MvbG9jYWxlX2Jsb2MuZGFydCc7CiAgZmluYWwgYmxvY0NvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2Jsb2MvZmx1dHRlcl9ibG9jLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6ZXF1YXRhYmxlL2VxdWF0YWJsZS5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnNoYXJlZF9wcmVmZXJlbmNlcy9zaGFyZWRfcHJlZmVyZW5jZXMuZGFydCc7CmltcG9ydCAnLi4vbDEwbi9sMTBuLmRhcnQnOwoKLy8gRXZlbnRzCmFic3RyYWN0IGNsYXNzIExvY2FsZUV2ZW50IGV4dGVuZHMgRXF1YXRhYmxlIHsKICBjb25zdCBMb2NhbGVFdmVudCgpOwogIAogIEBvdmVycmlkZQogIExpc3Q8T2JqZWN0PiBnZXQgcHJvcHMgPT4gW107Cn0KCmNsYXNzIENoYW5nZUxvY2FsZUV2ZW50IGV4dGVuZHMgTG9jYWxlRXZlbnQgewogIGZpbmFsIFN0cmluZyBsYW5ndWFnZUNvZGU7CiAgCiAgY29uc3QgQ2hhbmdlTG9jYWxlRXZlbnQodGhpcy5sYW5ndWFnZUNvZGUpOwogIAogIEBvdmVycmlkZQogIExpc3Q8T2JqZWN0PiBnZXQgcHJvcHMgPT4gW2xhbmd1YWdlQ29kZV07Cn0KCmNsYXNzIExvYWRMb2NhbGVFdmVudCBleHRlbmRzIExvY2FsZUV2ZW50IHt9CgovLyBTdGF0ZQpjbGFzcyBMb2NhbGVTdGF0ZSBleHRlbmRzIEVxdWF0YWJsZSB7CiAgZmluYWwgTG9jYWxlIGxvY2FsZTsKICAKICBjb25zdCBMb2NhbGVTdGF0ZSh0aGlzLmxvY2FsZSk7CiAgCiAgQG92ZXJyaWRlCiAgTGlzdDxPYmplY3Q+IGdldCBwcm9wcyA9PiBbbG9jYWxlXTsKfQoKLy8gQkxvQwpjbGFzcyBMb2NhbGVCbG9jIGV4dGVuZHMgQmxvYzxMb2NhbGVFdmVudCwgTG9jYWxlU3RhdGU+IHsKICBzdGF0aWMgY29uc3QgU3RyaW5nIExPQ0FMRV9LRVkgPSAnYXBwX2xvY2FsZSc7CiAgCiAgTG9jYWxlQmxvYygpIDogc3VwZXIoY29uc3QgTG9jYWxlU3RhdGUoTG9jYWxlKCdlbicpKSkgewogICAgb248Q2hhbmdlTG9jYWxlRXZlbnQ+KF9vbkNoYW5nZUxvY2FsZSk7CiAgICBvbjxMb2FkTG9jYWxlRXZlbnQ+KF9vbkxvYWRMb2NhbGUpOwogICAgCiAgICAvLyBMb2FkIHNhdmVkIGxvY2FsZSB3aGVuIGJsb2MgaXMgY3JlYXRlZAogICAgYWRkKExvYWRMb2NhbGVFdmVudCgpKTsKICB9CiAgCiAgRnV0dXJlPHZvaWQ+IF9vbkNoYW5nZUxvY2FsZSgKICAgIENoYW5nZUxvY2FsZUV2ZW50IGV2ZW50LCAKICAgIEVtaXR0ZXI8TG9jYWxlU3RhdGU+IGVtaXQKICApIGFzeW5jIHsKICAgIGZpbmFsIGxvY2FsZSA9IExvY2FsZShldmVudC5sYW5ndWFnZUNvZGUpOwogICAgZW1pdChMb2NhbGVTdGF0ZShsb2NhbGUpKTsKICAgIAogICAgLy8gU2F2ZSB0aGUgbG9jYWxlIHByZWZlcmVuY2UKICAgIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKICAgIGF3YWl0IHByZWZzLnNldFN0cmluZyhMT0NBTEVfS0VZLCBldmVudC5sYW5ndWFnZUNvZGUpOwogIH0KICAKICBGdXR1cmU8dm9pZD4gX29uTG9hZExvY2FsZSgKICAgIExvYWRMb2NhbGVFdmVudCBldmVudCwgCiAgICBFbWl0dGVyPExvY2FsZVN0YXRlPiBlbWl0CiAgKSBhc3luYyB7CiAgICB0cnkgewogICAgICBmaW5hbCBwcmVmcyA9IGF3YWl0IFNoYXJlZFByZWZlcmVuY2VzLmdldEluc3RhbmNlKCk7CiAgICAgIGZpbmFsIFN0cmluZz8gbGFuZ3VhZ2VDb2RlID0gcHJlZnMuZ2V0U3RyaW5nKExPQ0FMRV9LRVkpOwogICAgICAKICAgICAgaWYgKGxhbmd1YWdlQ29kZSAhPSBudWxsKSB7CiAgICAgICAgZW1pdChMb2NhbGVTdGF0ZShMb2NhbGUobGFuZ3VhZ2VDb2RlKSkpOwogICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIC8vIElmIHRoZXJlJ3MgYW4gZXJyb3IsIGtlZXAgdXNpbmcgdGhlIGRlZmF1bHQgbG9jYWxlCiAgICB9CiAgfQp9CgovLyBFeHRlbnNpb24gZm9yIGVhc3kgdXNlIHdpdGggQnVpbGRDb250ZXh0CmV4dGVuc2lvbiBMb2NhbGVCbG9jRXh0ZW5zaW9uIG9uIEJ1aWxkQ29udGV4dCB7CiAgdm9pZCBjaGFuZ2VMb2NhbGUoU3RyaW5nIGxhbmd1YWdlQ29kZSkgewogICAgcmVhZDxMb2NhbGVCbG9jPigpLmFkZChDaGFuZ2VMb2NhbGVFdmVudChsYW5ndWFnZUNvZGUpKTsKICB9CiAgCiAgTG9jYWxlIGdldCBsb2NhbGUgPT4gcmVhZDxMb2NhbGVCbG9jPigpLnN0YXRlLmxvY2FsZTsKfQonJyc7CgogIGZpbmFsIGJsb2NGaWxlID0gRmlsZShibG9jRmlsZVBhdGgpOwogIGJsb2NGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGJsb2NDb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRibG9jRmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlIFByb3ZpZGVyIGltcGxlbWVudGF0aW9uIGZvciBsb2NhbGl6YXRpb24Kdm9pZCBfZ2VuZXJhdGVQcm92aWRlckltcGxlbWVudGF0aW9uKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIC8vIENyZWF0ZSBkaXJlY3RvcmllcwogIGZpbmFsIHByb3ZpZGVyRGlyID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvbGliL2NvcmUvbG9jYWxpemF0aW9uL3Byb3ZpZGVycycpOwogIGlmICghcHJvdmlkZXJEaXIuZXhpc3RzU3luYygpKSB7CiAgICBwcm92aWRlckRpci5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgfQoKICAvLyBHZW5lcmF0ZSB0aGUgbG9jYWxpemF0aW9uIHByb3ZpZGVyIGZpbGUKICBmaW5hbCBwcm92aWRlckZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9sb2NhbGl6YXRpb24vcHJvdmlkZXJzL2xvY2FsaXphdGlvbl9wcm92aWRlci5kYXJ0JzsKICBmaW5hbCBwcm92aWRlckNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTpwcm92aWRlci9wcm92aWRlci5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnNoYXJlZF9wcmVmZXJlbmNlcy9zaGFyZWRfcHJlZmVyZW5jZXMuZGFydCc7CmltcG9ydCAnLi4vbDEwbi9sMTBuLmRhcnQnOwoKY2xhc3MgTG9jYWxpemF0aW9uUHJvdmlkZXIgZXh0ZW5kcyBDaGFuZ2VOb3RpZmllciB7CiAgc3RhdGljIGNvbnN0IFN0cmluZyBMT0NBTEVfS0VZID0gJ2FwcF9sb2NhbGUnOwogIAogIExvY2FsZSBfbG9jYWxlID0gY29uc3QgTG9jYWxlKCdlbicpOwogIAogIExvY2FsaXphdGlvblByb3ZpZGVyKCkgewogICAgX2xvYWRTYXZlZExvY2FsZSgpOwogIH0KICAKICBMb2NhbGUgZ2V0IGxvY2FsZSA9PiBfbG9jYWxlOwogIAogIEZ1dHVyZTx2b2lkPiBfbG9hZFNhdmVkTG9jYWxlKCkgYXN5bmMgewogICAgdHJ5IHsKICAgICAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogICAgICBmaW5hbCBTdHJpbmc/IGxhbmd1YWdlQ29kZSA9IHByZWZzLmdldFN0cmluZyhMT0NBTEVfS0VZKTsKICAgICAgCiAgICAgIGlmIChsYW5ndWFnZUNvZGUgIT0gbnVsbCkgewogICAgICAgIF9sb2NhbGUgPSBMb2NhbGUobGFuZ3VhZ2VDb2RlKTsKICAgICAgICBub3RpZnlMaXN0ZW5lcnMoKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICAvLyBJZiB0aGVyZSdzIGFuIGVycm9yLCBrZWVwIHVzaW5nIHRoZSBkZWZhdWx0IGxvY2FsZQogICAgfQogIH0KICAKICBGdXR1cmU8dm9pZD4gc2V0TG9jYWxlKExvY2FsZSBsb2NhbGUpIGFzeW5jIHsKICAgIGlmIChfbG9jYWxlID09IGxvY2FsZSkgcmV0dXJuOwogICAgCiAgICBfbG9jYWxlID0gbG9jYWxlOwogICAgbm90aWZ5TGlzdGVuZXJzKCk7CiAgICAKICAgIHRyeSB7CiAgICAgIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKICAgICAgYXdhaXQgcHJlZnMuc2V0U3RyaW5nKExPQ0FMRV9LRVksIGxvY2FsZS5sYW5ndWFnZUNvZGUpOwogICAgfSBjYXRjaCAoZSkgewogICAgICAvLyBJZiB0aGVyZSdzIGFuIGVycm9yIHNhdmluZywgd2Ugc3RpbGwgaGF2ZSB0aGUgbG9jYWxlIGluIG1lbW9yeQogICAgfQogIH0KICAKICBGdXR1cmU8dm9pZD4gc2V0TG9jYWxlQnlMYW5ndWFnZUNvZGUoU3RyaW5nIGxhbmd1YWdlQ29kZSkgYXN5bmMgewogICAgYXdhaXQgc2V0TG9jYWxlKExvY2FsZShsYW5ndWFnZUNvZGUpKTsKICB9Cn0KCi8vIEV4dGVuc2lvbiBmb3IgZWFzeSB1c2Ugd2l0aCBCdWlsZENvbnRleHQKZXh0ZW5zaW9uIExvY2FsaXphdGlvblByb3ZpZGVyRXh0ZW5zaW9uIG9uIEJ1aWxkQ29udGV4dCB7CiAgdm9pZCBjaGFuZ2VMb2NhbGUoU3RyaW5nIGxhbmd1YWdlQ29kZSkgewogICAgUHJvdmlkZXIub2Y8TG9jYWxpemF0aW9uUHJvdmlkZXI+KHRoaXMsIGxpc3RlbjogZmFsc2UpCiAgICAgICAgLnNldExvY2FsZUJ5TGFuZ3VhZ2VDb2RlKGxhbmd1YWdlQ29kZSk7CiAgfQogIAogIExvY2FsZSBnZXQgbG9jYWxlID0+IAogICAgICBQcm92aWRlci5vZjxMb2NhbGl6YXRpb25Qcm92aWRlcj4odGhpcywgbGlzdGVuOiBmYWxzZSkubG9jYWxlOwp9CicnJzsKCiAgZmluYWwgcHJvdmlkZXJGaWxlID0gRmlsZShwcm92aWRlckZpbGVQYXRoKTsKICBwcm92aWRlckZpbGUud3JpdGVBc1N0cmluZ1N5bmMocHJvdmlkZXJDb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRwcm92aWRlckZpbGVQYXRoJyk7Cn0KCi8vLyBHZW5lcmF0ZSBSaXZlcnBvZCBpbXBsZW1lbnRhdGlvbiBmb3IgbG9jYWxpemF0aW9uCnZvaWQgX2dlbmVyYXRlUml2ZXJwb2RJbXBsZW1lbnRhdGlvbihIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICAvLyBDcmVhdGUgZGlyZWN0b3JpZXMKICBmaW5hbCByaXZlcnBvZERpciA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lL2xpYi9jb3JlL2xvY2FsaXphdGlvbi9wcm92aWRlcnMnKTsKICBpZiAoIXJpdmVycG9kRGlyLmV4aXN0c1N5bmMoKSkgewogICAgcml2ZXJwb2REaXIuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogIH0KCiAgLy8gR2VuZXJhdGUgdGhlIGxvY2FsZSBwcm92aWRlciBmaWxlCiAgZmluYWwgcHJvdmlkZXJGaWxlUGF0aCA9CiAgICAgICckcHJvamVjdE5hbWUvbGliL2NvcmUvbG9jYWxpemF0aW9uL3Byb3ZpZGVycy9sb2NhbGVfcHJvdmlkZXIuZGFydCc7CiAgZmluYWwgcHJvdmlkZXJDb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9yaXZlcnBvZC9mbHV0dGVyX3JpdmVycG9kLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6c2hhcmVkX3ByZWZlcmVuY2VzL3NoYXJlZF9wcmVmZXJlbmNlcy5kYXJ0JzsKaW1wb3J0ICcuLi9sMTBuL2wxMG4uZGFydCc7CgpjbGFzcyBMb2NhbGVOb3RpZmllciBleHRlbmRzIFN0YXRlTm90aWZpZXI8TG9jYWxlPiB7CiAgc3RhdGljIGNvbnN0IFN0cmluZyBMT0NBTEVfS0VZID0gJ2FwcF9sb2NhbGUnOwogIAogIExvY2FsZU5vdGlmaWVyKCkgOiBzdXBlcihjb25zdCBMb2NhbGUoJ2VuJykpIHsKICAgIF9sb2FkU2F2ZWRMb2NhbGUoKTsKICB9CiAgCiAgRnV0dXJlPHZvaWQ+IF9sb2FkU2F2ZWRMb2NhbGUoKSBhc3luYyB7CiAgICB0cnkgewogICAgICBmaW5hbCBwcmVmcyA9IGF3YWl0IFNoYXJlZFByZWZlcmVuY2VzLmdldEluc3RhbmNlKCk7CiAgICAgIGZpbmFsIFN0cmluZz8gbGFuZ3VhZ2VDb2RlID0gcHJlZnMuZ2V0U3RyaW5nKExPQ0FMRV9LRVkpOwogICAgICAKICAgICAgaWYgKGxhbmd1YWdlQ29kZSAhPSBudWxsKSB7CiAgICAgICAgc3RhdGUgPSBMb2NhbGUobGFuZ3VhZ2VDb2RlKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICAvLyBJZiB0aGVyZSdzIGFuIGVycm9yLCBrZWVwIHVzaW5nIHRoZSBkZWZhdWx0IGxvY2FsZQogICAgfQogIH0KICAKICBGdXR1cmU8dm9pZD4gc2V0TG9jYWxlKFN0cmluZyBsYW5ndWFnZUNvZGUpIGFzeW5jIHsKICAgIGlmIChzdGF0ZS5sYW5ndWFnZUNvZGUgPT0gbGFuZ3VhZ2VDb2RlKSByZXR1cm47CiAgICAKICAgIHN0YXRlID0gTG9jYWxlKGxhbmd1YWdlQ29kZSk7CiAgICAKICAgIHRyeSB7CiAgICAgIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKICAgICAgYXdhaXQgcHJlZnMuc2V0U3RyaW5nKExPQ0FMRV9LRVksIGxhbmd1YWdlQ29kZSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIC8vIElmIHRoZXJlJ3MgYW4gZXJyb3Igc2F2aW5nLCB3ZSBzdGlsbCBoYXZlIHRoZSBsb2NhbGUgaW4gbWVtb3J5CiAgICB9CiAgfQp9CgpmaW5hbCBsb2NhbGVQcm92aWRlciA9IFN0YXRlTm90aWZpZXJQcm92aWRlcjxMb2NhbGVOb3RpZmllciwgTG9jYWxlPigocmVmKSB7CiAgcmV0dXJuIExvY2FsZU5vdGlmaWVyKCk7Cn0pOwoKLy8gRXh0ZW5zaW9ucyBmb3IgdXNlIHdpdGggV2lkZ2V0UmVmIGluIENvbnN1bWVyIHdpZGdldHMKZXh0ZW5zaW9uIExvY2FsZVJpdmVycG9kRXh0ZW5zaW9uIG9uIFdpZGdldFJlZiB7CiAgdm9pZCBjaGFuZ2VMb2NhbGUoU3RyaW5nIGxhbmd1YWdlQ29kZSkgewogICAgcmVhZChsb2NhbGVQcm92aWRlci5ub3RpZmllcikuc2V0TG9jYWxlKGxhbmd1YWdlQ29kZSk7CiAgfQogIAogIExvY2FsZSBnZXQgbG9jYWxlID0+IHJlYWQobG9jYWxlUHJvdmlkZXIpOwp9CicnJzsKCiAgZmluYWwgcHJvdmlkZXJGaWxlID0gRmlsZShwcm92aWRlckZpbGVQYXRoKTsKICBwcm92aWRlckZpbGUud3JpdGVBc1N0cmluZ1N5bmMocHJvdmlkZXJDb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRwcm92aWRlckZpbGVQYXRoJyk7Cn0KCi8vLyBHZW5lcmF0ZSBHZXRYIGltcGxlbWVudGF0aW9uIGZvciBsb2NhbGl6YXRpb24Kdm9pZCBfZ2VuZXJhdGVHZXRYSW1wbGVtZW50YXRpb24oSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgLy8gQ3JlYXRlIGRpcmVjdG9yaWVzCiAgZmluYWwgZ2V0eERpciA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lL2xpYi9jb3JlL2xvY2FsaXphdGlvbi9jb250cm9sbGVycycpOwogIGlmICghZ2V0eERpci5leGlzdHNTeW5jKCkpIHsKICAgIGdldHhEaXIuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogIH0KCiAgLy8gR2VuZXJhdGUgdGhlIGxvY2FsaXphdGlvbiBjb250cm9sbGVyIGZpbGUKICBmaW5hbCBjb250cm9sbGVyRmlsZVBhdGggPQogICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2xvY2FsaXphdGlvbi9jb250cm9sbGVycy9sb2NhbGl6YXRpb25fY29udHJvbGxlci5kYXJ0JzsKICBmaW5hbCBjb250cm9sbGVyQ29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmdldC9nZXQuZGFydCc7CmltcG9ydCAncGFja2FnZTpzaGFyZWRfcHJlZmVyZW5jZXMvc2hhcmVkX3ByZWZlcmVuY2VzLmRhcnQnOwppbXBvcnQgJy4uL2wxMG4vbDEwbi5kYXJ0JzsKCmNsYXNzIExvY2FsaXphdGlvbkNvbnRyb2xsZXIgZXh0ZW5kcyBHZXR4Q29udHJvbGxlciB7CiAgc3RhdGljIGNvbnN0IFN0cmluZyBMT0NBTEVfS0VZID0gJ2FwcF9sb2NhbGUnOwogIAogIC8vIE9ic2VydmFibGUgbG9jYWxlCiAgZmluYWwgX2xvY2FsZSA9IFJ4PExvY2FsZT4oY29uc3QgTG9jYWxlKCdlbicpKTsKICAKICAvLyBHZXR0ZXIgZm9yIHRoZSBsb2NhbGUKICBMb2NhbGUgZ2V0IGxvY2FsZSA9PiBfbG9jYWxlLnZhbHVlOwogIAogIEBvdmVycmlkZQogIHZvaWQgb25Jbml0KCkgewogICAgc3VwZXIub25Jbml0KCk7CiAgICBfbG9hZFNhdmVkTG9jYWxlKCk7CiAgfQogIAogIEZ1dHVyZTx2b2lkPiBfbG9hZFNhdmVkTG9jYWxlKCkgYXN5bmMgewogICAgdHJ5IHsKICAgICAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogICAgICBmaW5hbCBTdHJpbmc/IGxhbmd1YWdlQ29kZSA9IHByZWZzLmdldFN0cmluZyhMT0NBTEVfS0VZKTsKICAgICAgCiAgICAgIGlmIChsYW5ndWFnZUNvZGUgIT0gbnVsbCkgewogICAgICAgIF9sb2NhbGUudmFsdWUgPSBMb2NhbGUobGFuZ3VhZ2VDb2RlKTsKICAgICAgICBHZXQudXBkYXRlTG9jYWxlKF9sb2NhbGUudmFsdWUpOwogICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIC8vIElmIHRoZXJlJ3MgYW4gZXJyb3IsIGtlZXAgdXNpbmcgdGhlIGRlZmF1bHQgbG9jYWxlCiAgICB9CiAgfQogIAogIEZ1dHVyZTx2b2lkPiBzZXRMb2NhbGUoU3RyaW5nIGxhbmd1YWdlQ29kZSkgYXN5bmMgewogICAgX2xvY2FsZS52YWx1ZSA9IExvY2FsZShsYW5ndWFnZUNvZGUpOwogICAgR2V0LnVwZGF0ZUxvY2FsZShfbG9jYWxlLnZhbHVlKTsKICAgIAogICAgdHJ5IHsKICAgICAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogICAgICBhd2FpdCBwcmVmcy5zZXRTdHJpbmcoTE9DQUxFX0tFWSwgbGFuZ3VhZ2VDb2RlKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgLy8gSWYgdGhlcmUncyBhbiBlcnJvciBzYXZpbmcsIHdlIHN0aWxsIGhhdmUgdGhlIGxvY2FsZSBpbiBtZW1vcnkKICAgIH0KICB9CiAgCiAgdm9pZCB0b2dnbGVMb2NhbGUoKSB7CiAgICBmaW5hbCBzdXBwb3J0ZWRMb2NhbGVzID0gTDEwbi5zdXBwb3J0ZWRMb2NhbGVzOwogICAgZmluYWwgY3VycmVudEluZGV4ID0gc3VwcG9ydGVkTG9jYWxlcy5pbmRleFdoZXJlKAogICAgICAobG9jYWxlKSA9PiBsb2NhbGUubGFuZ3VhZ2VDb2RlID09IF9sb2NhbGUudmFsdWUubGFuZ3VhZ2VDb2RlCiAgICApOwogICAgZmluYWwgbmV4dEluZGV4ID0gKGN1cnJlbnRJbmRleCArIDEpICUgc3VwcG9ydGVkTG9jYWxlcy5sZW5ndGg7CiAgICBzZXRMb2NhbGUoc3VwcG9ydGVkTG9jYWxlc1tuZXh0SW5kZXhdLmxhbmd1YWdlQ29kZSk7CiAgfQp9CgovLyBFeHRlbnNpb24gZm9yIGVhc3kgdXNlIHdpdGggR2V0WApleHRlbnNpb24gTG9jYWxpemF0aW9uR2V0WEV4dGVuc2lvbiBvbiBHZXRJbnRlcmZhY2UgewogIHZvaWQgY2hhbmdlTG9jYWxlKFN0cmluZyBsYW5ndWFnZUNvZGUpIHsKICAgIEdldC5maW5kPExvY2FsaXphdGlvbkNvbnRyb2xsZXI+KCkuc2V0TG9jYWxlKGxhbmd1YWdlQ29kZSk7CiAgfQogIAogIExvY2FsZSBnZXQgY3VycmVudExvY2FsZSA9PiBHZXQuZmluZDxMb2NhbGl6YXRpb25Db250cm9sbGVyPigpLmxvY2FsZTsKfQonJyc7CgogIGZpbmFsIGNvbnRyb2xsZXJGaWxlID0gRmlsZShjb250cm9sbGVyRmlsZVBhdGgpOwogIGNvbnRyb2xsZXJGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRyb2xsZXJDb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRjb250cm9sbGVyRmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlIE1vYlggaW1wbGVtZW50YXRpb24gZm9yIGxvY2FsaXphdGlvbgp2b2lkIF9nZW5lcmF0ZU1vYlhJbXBsZW1lbnRhdGlvbihIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICAvLyBDcmVhdGUgZGlyZWN0b3JpZXMKICBmaW5hbCBtb2J4RGlyID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvbGliL2NvcmUvbG9jYWxpemF0aW9uL3N0b3JlcycpOwogIGlmICghbW9ieERpci5leGlzdHNTeW5jKCkpIHsKICAgIG1vYnhEaXIuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogIH0KCiAgLy8gR2VuZXJhdGUgdGhlIGxvY2FsaXphdGlvbiBzdG9yZSBmaWxlCiAgZmluYWwgc3RvcmVGaWxlUGF0aCA9CiAgICAgICckcHJvamVjdE5hbWUvbGliL2NvcmUvbG9jYWxpemF0aW9uL3N0b3Jlcy9sb2NhbGl6YXRpb25fc3RvcmUuZGFydCc7CiAgZmluYWwgc3RvcmVDb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6bW9ieC9tb2J4LmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6c2hhcmVkX3ByZWZlcmVuY2VzL3NoYXJlZF9wcmVmZXJlbmNlcy5kYXJ0JzsKaW1wb3J0ICcuLi9sMTBuL2wxMG4uZGFydCc7CgovLyBJbmNsdWRlIGdlbmVyYXRlZCBmaWxlCnBhcnQgJ2xvY2FsaXphdGlvbl9zdG9yZS5nLmRhcnQnOwoKLy8gVGhpcyBpcyB0aGUgY2xhc3MgdXNlZCBieSByZXN0IG9mIHRoZSBjb2RlYmFzZQpjbGFzcyBMb2NhbGl6YXRpb25TdG9yZSA9IF9Mb2NhbGl6YXRpb25TdG9yZSB3aXRoIF9cJExvY2FsaXphdGlvblN0b3JlOwoKLy8gVGhlIHN0b3JlIGNsYXNzCmFic3RyYWN0IGNsYXNzIF9Mb2NhbGl6YXRpb25TdG9yZSB3aXRoIFN0b3JlIHsKICBzdGF0aWMgY29uc3QgU3RyaW5nIExPQ0FMRV9LRVkgPSAnYXBwX2xvY2FsZSc7CgogIF9Mb2NhbGl6YXRpb25TdG9yZSgpIHsKICAgIF9sb2FkU2F2ZWRMb2NhbGUoKTsKICB9CiAgCiAgQG9ic2VydmFibGUKICBMb2NhbGUgbG9jYWxlID0gY29uc3QgTG9jYWxlKCdlbicpOwogIAogIEBhY3Rpb24KICBGdXR1cmU8dm9pZD4gX2xvYWRTYXZlZExvY2FsZSgpIGFzeW5jIHsKICAgIHRyeSB7CiAgICAgIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKICAgICAgZmluYWwgU3RyaW5nPyBsYW5ndWFnZUNvZGUgPSBwcmVmcy5nZXRTdHJpbmcoTE9DQUxFX0tFWSk7CiAgICAgIAogICAgICBpZiAobGFuZ3VhZ2VDb2RlICE9IG51bGwpIHsKICAgICAgICBsb2NhbGUgPSBMb2NhbGUobGFuZ3VhZ2VDb2RlKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICAvLyBJZiB0aGVyZSdzIGFuIGVycm9yLCBrZWVwIHVzaW5nIHRoZSBkZWZhdWx0IGxvY2FsZQogICAgfQogIH0KICAKICBAYWN0aW9uCiAgRnV0dXJlPHZvaWQ+IHNldExvY2FsZShTdHJpbmcgbGFuZ3VhZ2VDb2RlKSBhc3luYyB7CiAgICBsb2NhbGUgPSBMb2NhbGUobGFuZ3VhZ2VDb2RlKTsKICAgIAogICAgdHJ5IHsKICAgICAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogICAgICBhd2FpdCBwcmVmcy5zZXRTdHJpbmcoTE9DQUxFX0tFWSwgbGFuZ3VhZ2VDb2RlKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgLy8gSWYgdGhlcmUncyBhbiBlcnJvciBzYXZpbmcsIHdlIHN0aWxsIGhhdmUgdGhlIGxvY2FsZSBpbiBtZW1vcnkKICAgIH0KICB9CiAgCiAgQGNvbXB1dGVkCiAgU3RyaW5nIGdldCBsYW5ndWFnZUNvZGUgPT4gbG9jYWxlLmxhbmd1YWdlQ29kZTsKfQoKLy8gQ3JlYXRlIGEgc2luZ2xldG9uIGluc3RhbmNlCmZpbmFsIGxvY2FsaXphdGlvblN0b3JlID0gTG9jYWxpemF0aW9uU3RvcmUoKTsKJycnOwoKICBmaW5hbCBzdG9yZUZpbGUgPSBGaWxlKHN0b3JlRmlsZVBhdGgpOwogIHN0b3JlRmlsZS53cml0ZUFzU3RyaW5nU3luYyhzdG9yZUNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJHN0b3JlRmlsZVBhdGgnKTsKCiAgLy8gQWRkIGEgbm90ZSBhYm91dCBnZW5lcmF0aW5nIE1vYlggY29kZQogIGNvbnRleHQubG9nZ2VyLmluZm8oCiAgICAgICdOb3RlOiBZb3UgbmVlZCB0byBydW4gImZsdXR0ZXIgcHViIHJ1biBidWlsZF9ydW5uZXIgYnVpbGQiIHRvIGdlbmVyYXRlIHRoZSBNb2JYIGNvZGUnKTsKfQoKLy8vIEdlbmVyYXRlIFJlZHV4IGltcGxlbWVudGF0aW9uIGZvciBsb2NhbGl6YXRpb24Kdm9pZCBfZ2VuZXJhdGVSZWR1eEltcGxlbWVudGF0aW9uKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIC8vIENyZWF0ZSBkaXJlY3RvcmllcwogIGZpbmFsIHJlZHV4RGlyID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvbGliL2NvcmUvbG9jYWxpemF0aW9uL3JlZHV4Jyk7CiAgaWYgKCFyZWR1eERpci5leGlzdHNTeW5jKCkpIHsKICAgIHJlZHV4RGlyLmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICB9CgogIC8vIEdlbmVyYXRlIHRoZSBsb2NhbGl6YXRpb24gcmVkdXggZmlsZQogIGZpbmFsIHJlZHV4RmlsZVBhdGggPQogICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2xvY2FsaXphdGlvbi9yZWR1eC9sb2NhbGVfcmVkdXguZGFydCc7CiAgZmluYWwgcmVkdXhDb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6cmVkdXgvcmVkdXguZGFydCc7CmltcG9ydCAncGFja2FnZTpyZWR1eF90aHVuay9yZWR1eF90aHVuay5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnNoYXJlZF9wcmVmZXJlbmNlcy9zaGFyZWRfcHJlZmVyZW5jZXMuZGFydCc7CgovLyBBY3Rpb25zCmNsYXNzIFNldExvY2FsZUFjdGlvbiB7CiAgZmluYWwgTG9jYWxlIGxvY2FsZTsKICAKICBTZXRMb2NhbGVBY3Rpb24odGhpcy5sb2NhbGUpOwp9CgovLyBUaHVuayBBY3Rpb25zClRodW5rQWN0aW9uPEFwcFN0YXRlPiBsb2FkU2F2ZWRMb2NhbGUoKSB7CiAgcmV0dXJuIChTdG9yZTxBcHBTdGF0ZT4gc3RvcmUpIGFzeW5jIHsKICAgIHRyeSB7CiAgICAgIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKICAgICAgZmluYWwgU3RyaW5nPyBsYW5ndWFnZUNvZGUgPSBwcmVmcy5nZXRTdHJpbmcoJ2FwcF9sb2NhbGUnKTsKICAgICAgaWYgKGxhbmd1YWdlQ29kZSAhPSBudWxsKSB7CiAgICAgICAgc3RvcmUuZGlzcGF0Y2goU2V0TG9jYWxlQWN0aW9uKExvY2FsZShsYW5ndWFnZUNvZGUpKSk7CiAgICAgIH0KICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgLy8gSWYgdGhlcmUncyBhbiBlcnJvciwga2VlcCB1c2luZyB0aGUgZGVmYXVsdCBsb2NhbGUKICAgIH0KICB9Owp9CgpUaHVua0FjdGlvbjxBcHBTdGF0ZT4gc2V0TG9jYWxlKFN0cmluZyBsYW5ndWFnZUNvZGUpIHsKICByZXR1cm4gKFN0b3JlPEFwcFN0YXRlPiBzdG9yZSkgYXN5bmMgewogICAgc3RvcmUuZGlzcGF0Y2goU2V0TG9jYWxlQWN0aW9uKExvY2FsZShsYW5ndWFnZUNvZGUpKSk7CiAgICAKICAgIHRyeSB7CiAgICAgIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKICAgICAgYXdhaXQgcHJlZnMuc2V0U3RyaW5nKCdhcHBfbG9jYWxlJywgbGFuZ3VhZ2VDb2RlKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgLy8gSWYgdGhlcmUncyBhbiBlcnJvciBzYXZpbmcsIHdlIHN0aWxsIGhhdmUgdGhlIGxvY2FsZSBpbiBtZW1vcnkKICAgIH0KICB9Owp9CgovLyBSZWR1Y2VyCkxvY2FsZSBsb2NhbGVSZWR1Y2VyKExvY2FsZSBzdGF0ZSwgZHluYW1pYyBhY3Rpb24pIHsKICBpZiAoYWN0aW9uIGlzIFNldExvY2FsZUFjdGlvbikgewogICAgcmV0dXJuIGFjdGlvbi5sb2NhbGU7CiAgfQogIAogIHJldHVybiBzdGF0ZTsKfQoKLy8gU3RhdGUKY2xhc3MgTG9jYWxlU3RhdGUgewogIGZpbmFsIExvY2FsZSBsb2NhbGU7CiAgCiAgTG9jYWxlU3RhdGUoe3JlcXVpcmVkIHRoaXMubG9jYWxlfSk7CiAgCiAgZmFjdG9yeSBMb2NhbGVTdGF0ZS5pbml0aWFsKCkgewogICAgcmV0dXJuIExvY2FsZVN0YXRlKGxvY2FsZTogY29uc3QgTG9jYWxlKCdlbicpKTsKICB9CiAgCiAgTG9jYWxlU3RhdGUgY29weVdpdGgoe0xvY2FsZT8gbG9jYWxlfSkgewogICAgcmV0dXJuIExvY2FsZVN0YXRlKAogICAgICBsb2NhbGU6IGxvY2FsZSA/PyB0aGlzLmxvY2FsZSwKICAgICk7CiAgfQp9CgovLyBFeHRlbnNpb25zIGZvciB1c2Ugd2l0aCBTdG9yZVByb3ZpZGVyCmV4dGVuc2lvbiBMb2NhbGVSZWR1eEV4dGVuc2lvbiB7CiAgc3RhdGljIHZvaWQgY2hhbmdlTG9jYWxlKEJ1aWxkQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgbGFuZ3VhZ2VDb2RlKSB7CiAgICBTdG9yZVByb3ZpZGVyLm9mPEFwcFN0YXRlPihjb250ZXh0KS5kaXNwYXRjaChzZXRMb2NhbGUobGFuZ3VhZ2VDb2RlKSk7CiAgfQogIAogIHN0YXRpYyBMb2NhbGUgZ2V0Q3VycmVudExvY2FsZShCdWlsZENvbnRleHQgY29udGV4dCkgewogICAgcmV0dXJuIFN0b3JlUHJvdmlkZXIub2Y8QXBwU3RhdGU+KGNvbnRleHQpLnN0YXRlLmxvY2FsZVN0YXRlLmxvY2FsZTsKICB9Cn0KJycnOwoKICBmaW5hbCByZWR1eEZpbGUgPSBGaWxlKHJlZHV4RmlsZVBhdGgpOwogIHJlZHV4RmlsZS53cml0ZUFzU3RyaW5nU3luYyhyZWR1eENvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJHJlZHV4RmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gZm9yIGxvY2FsaXphdGlvbiB3aGVuIG5vIHN0YXRlIG1hbmFnZW1lbnQgaXMgc3BlY2lmaWVkCnZvaWQgX2dlbmVyYXRlRGVmYXVsdEltcGxlbWVudGF0aW9uKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvY29yZS9sb2NhbGl6YXRpb24vbG9jYWxlX21hbmFnZXIuZGFydCc7CiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnNoYXJlZF9wcmVmZXJlbmNlcy9zaGFyZWRfcHJlZmVyZW5jZXMuZGFydCc7CmltcG9ydCAnbDEwbi9sMTBuLmRhcnQnOwoKLy8vIFNpbXBsZSBjbGFzcyB0byBtYW5hZ2UgbG9jYWxpemF0aW9uIHdpdGhvdXQgY29tcGxleCBzdGF0ZSBtYW5hZ2VtZW50CmNsYXNzIExvY2FsZU1hbmFnZXIgewogIHN0YXRpYyBjb25zdCBTdHJpbmcgTE9DQUxFX0tFWSA9ICdhcHBfbG9jYWxlJzsKICAKICBMb2NhbGUgX2xvY2FsZSA9IGNvbnN0IExvY2FsZSgnZW4nKTsKICBmaW5hbCBMaXN0PEZ1bmN0aW9uKExvY2FsZSk+IF9saXN0ZW5lcnMgPSBbXTsKICAKICBzdGF0aWMgZmluYWwgTG9jYWxlTWFuYWdlciBfaW5zdGFuY2UgPSBMb2NhbGVNYW5hZ2VyLl9pbnRlcm5hbCgpOwogIAogIGZhY3RvcnkgTG9jYWxlTWFuYWdlcigpIHsKICAgIHJldHVybiBfaW5zdGFuY2U7CiAgfQogIAogIExvY2FsZU1hbmFnZXIuX2ludGVybmFsKCkgewogICAgX2xvYWRTYXZlZExvY2FsZSgpOwogIH0KICAKICAvLy8gR2V0IHRoZSBjdXJyZW50IGxvY2FsZQogIExvY2FsZSBnZXQgbG9jYWxlID0+IF9sb2NhbGU7CiAgCiAgLy8vIEFkZCBhIGxpc3RlbmVyIGZvciB3aGVuIHRoZSBsb2NhbGUgY2hhbmdlcwogIHZvaWQgYWRkTGlzdGVuZXIoRnVuY3Rpb24oTG9jYWxlKSBsaXN0ZW5lcikgewogICAgX2xpc3RlbmVycy5hZGQobGlzdGVuZXIpOwogIH0KICAKICAvLy8gUmVtb3ZlIGEgbGlzdGVuZXIKICB2b2lkIHJlbW92ZUxpc3RlbmVyKEZ1bmN0aW9uKExvY2FsZSkgbGlzdGVuZXIpIHsKICAgIF9saXN0ZW5lcnMucmVtb3ZlKGxpc3RlbmVyKTsKICB9CiAgCiAgLy8vIExvYWQgdGhlIHNhdmVkIGxvY2FsZSBmcm9tIFNoYXJlZFByZWZlcmVuY2VzCiAgRnV0dXJlPHZvaWQ+IF9sb2FkU2F2ZWRMb2NhbGUoKSBhc3luYyB7CiAgICB0cnkgewogICAgICBmaW5hbCBwcmVmcyA9IGF3YWl0IFNoYXJlZFByZWZlcmVuY2VzLmdldEluc3RhbmNlKCk7CiAgICAgIGZpbmFsIFN0cmluZz8gbGFuZ3VhZ2VDb2RlID0gcHJlZnMuZ2V0U3RyaW5nKExPQ0FMRV9LRVkpOwogICAgICAKICAgICAgaWYgKGxhbmd1YWdlQ29kZSAhPSBudWxsKSB7CiAgICAgICAgX3NldExvY2FsZUludGVybmFsKExvY2FsZShsYW5ndWFnZUNvZGUpKTsKICAgICAgfQogICAgfSBjYXRjaCAoZSkgewogICAgICAvLyBJZiB0aGVyZSdzIGFuIGVycm9yLCBrZWVwIHVzaW5nIHRoZSBkZWZhdWx0IGxvY2FsZQogICAgfQogIH0KICAKICAvLy8gU2V0IHRoZSBsb2NhbGUgYW5kIG5vdGlmeSBsaXN0ZW5lcnMKICB2b2lkIF9zZXRMb2NhbGVJbnRlcm5hbChMb2NhbGUgbG9jYWxlKSB7CiAgICBfbG9jYWxlID0gbG9jYWxlOwogICAgCiAgICAvLyBOb3RpZnkgYWxsIGxpc3RlbmVycwogICAgZm9yIChmaW5hbCBsaXN0ZW5lciBpbiBfbGlzdGVuZXJzKSB7CiAgICAgIGxpc3RlbmVyKF9sb2NhbGUpOwogICAgfQogIH0KICAKICAvLy8gQ2hhbmdlIHRoZSBsb2NhbGUgYW5kIHNhdmUgdG8gU2hhcmVkUHJlZmVyZW5jZXMKICBGdXR1cmU8dm9pZD4gc2V0TG9jYWxlKExvY2FsZSBsb2NhbGUpIGFzeW5jIHsKICAgIGlmIChfbG9jYWxlID09IGxvY2FsZSkgcmV0dXJuOwogICAgCiAgICBfc2V0TG9jYWxlSW50ZXJuYWwobG9jYWxlKTsKICAgIAogICAgdHJ5IHsKICAgICAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogICAgICBhd2FpdCBwcmVmcy5zZXRTdHJpbmcoTE9DQUxFX0tFWSwgbG9jYWxlLmxhbmd1YWdlQ29kZSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIC8vIElmIHRoZXJlJ3MgYW4gZXJyb3Igc2F2aW5nLCB3ZSBzdGlsbCBoYXZlIHRoZSBsb2NhbGUgaW4gbWVtb3J5CiAgICB9CiAgfQogIAogIC8vLyBTZXQgbG9jYWxlIHVzaW5nIGxhbmd1YWdlIGNvZGUKICBGdXR1cmU8dm9pZD4gc2V0TG9jYWxlQnlMYW5ndWFnZUNvZGUoU3RyaW5nIGxhbmd1YWdlQ29kZSkgYXN5bmMgewogICAgYXdhaXQgc2V0TG9jYWxlKExvY2FsZShsYW5ndWFnZUNvZGUpKTsKICB9CiAgCiAgLy8vIFRvZ2dsZSB0byB0aGUgbmV4dCBsb2NhbGUgaW4gdGhlIGxpc3Qgb2Ygc3VwcG9ydGVkIGxvY2FsZXMKICBGdXR1cmU8dm9pZD4gdG9nZ2xlTG9jYWxlKCkgYXN5bmMgewogICAgZmluYWwgc3VwcG9ydGVkTG9jYWxlcyA9IEwxMG4uc3VwcG9ydGVkTG9jYWxlczsKICAgIGZpbmFsIGN1cnJlbnRJbmRleCA9IHN1cHBvcnRlZExvY2FsZXMuaW5kZXhXaGVyZSgKICAgICAgKHN1cHBvcnRlZExvY2FsZSkgPT4gc3VwcG9ydGVkTG9jYWxlLmxhbmd1YWdlQ29kZSA9PSBfbG9jYWxlLmxhbmd1YWdlQ29kZQogICAgKTsKICAgIGZpbmFsIG5leHRJbmRleCA9IChjdXJyZW50SW5kZXggKyAxKSAlIHN1cHBvcnRlZExvY2FsZXMubGVuZ3RoOwogICAgYXdhaXQgc2V0TG9jYWxlKHN1cHBvcnRlZExvY2FsZXNbbmV4dEluZGV4XSk7CiAgfQp9CgovLyBHbG9iYWwgaW5zdGFuY2UKZmluYWwgbG9jYWxlTWFuYWdlciA9IExvY2FsZU1hbmFnZXIoKTsKJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gVXBkYXRlIHB1YnNwZWMueWFtbCB0byBhZGQgbG9jYWxpemF0aW9uIGRlcGVuZGVuY2llcwp2b2lkIF91cGRhdGVQdWJzcGVjRm9yTG9jYWxpemF0aW9uKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIHB1YnNwZWNGaWxlID0gRmlsZSgnJHByb2plY3ROYW1lL3B1YnNwZWMueWFtbCcpOwogIGlmICghcHVic3BlY0ZpbGUuZXhpc3RzU3luYygpKSB7CiAgICBjb250ZXh0LmxvZ2dlci53YXJuKAogICAgICAgICdwdWJzcGVjLnlhbWwgbm90IGZvdW5kLCBza2lwcGluZyBhZGRpbmcgbG9jYWxpemF0aW9uIGRlcGVuZGVuY2llcycpOwogICAgcmV0dXJuOwogIH0KCiAgU3RyaW5nIGNvbnRlbnQgPSBwdWJzcGVjRmlsZS5yZWFkQXNTdHJpbmdTeW5jKCk7CiAgYm9vbCBtb2RpZmllZCA9IGZhbHNlOwoKICAvLyBBZGQgZmx1dHRlcl9sb2NhbGl6YXRpb25zIGRlcGVuZGVuY3kgaWYgbm90IGFscmVhZHkgcHJlc2VudAogIGlmICghY29udGVudC5jb250YWlucygnZmx1dHRlcl9sb2NhbGl6YXRpb25zOicpKSB7CiAgICBmaW5hbCBmbHV0dGVyRGVwSW5kZXggPSBjb250ZW50LmluZGV4T2YoJ2ZsdXR0ZXI6Jyk7CiAgICBpZiAoZmx1dHRlckRlcEluZGV4ICE9IC0xKSB7CiAgICAgIGZpbmFsIGluc2VydFBvc2l0aW9uID0gY29udGVudC5pbmRleE9mKCdzZGs6IGZsdXR0ZXInKTsKICAgICAgaWYgKGluc2VydFBvc2l0aW9uICE9IC0xKSB7CiAgICAgICAgZmluYWwgZW5kT2ZMaW5lID0gY29udGVudC5pbmRleE9mKCdcbicsIGluc2VydFBvc2l0aW9uKTsKICAgICAgICBpZiAoZW5kT2ZMaW5lICE9IC0xKSB7CiAgICAgICAgICBmaW5hbCBuZXdDb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgZW5kT2ZMaW5lICsgMSkgKwogICAgICAgICAgICAgICcgIGZsdXR0ZXJfbG9jYWxpemF0aW9uczpcbiAgICBzZGs6IGZsdXR0ZXJcbicgKwogICAgICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGVuZE9mTGluZSArIDEpOwogICAgICAgICAgY29udGVudCA9IG5ld0NvbnRlbnQ7CiAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQoKICAvLyBBZGQgaW50bCBkZXBlbmRlbmN5IGlmIG5vdCBhbHJlYWR5IHByZXNlbnQKICBpZiAoIWNvbnRlbnQuY29udGFpbnMoJ2ludGw6JykpIHsKICAgIGZpbmFsIGRlcFBvc2l0aW9uID0gY29udGVudC5pbmRleE9mKCdkZXBlbmRlbmNpZXM6Jyk7CiAgICBpZiAoZGVwUG9zaXRpb24gIT0gLTEpIHsKICAgICAgLy8gRmluZCBhIGdvb2Qgc3BvdCB0byBpbnNlcnQgaW50bCBkZXBlbmRlbmN5CiAgICAgIGZpbmFsIGluc2VydFBvc2l0aW9uID0gY29udGVudC5pbmRleE9mKCdcblxuJywgZGVwUG9zaXRpb24pOwogICAgICBpZiAoaW5zZXJ0UG9zaXRpb24gIT0gLTEpIHsKICAgICAgICBmaW5hbCBuZXdDb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9zaXRpb24pICsKICAgICAgICAgICAgJ1xuICBpbnRsOiBeMC4xOC4wJyArCiAgICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvc2l0aW9uKTsKICAgICAgICBjb250ZW50ID0gbmV3Q29udGVudDsKICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIEFkZCBzaGFyZWRfcHJlZmVyZW5jZXMgZGVwZW5kZW5jeSBpZiBub3QgYWxyZWFkeSBwcmVzZW50CiAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdzaGFyZWRfcHJlZmVyZW5jZXM6JykpIHsKICAgIGZpbmFsIGRlcFBvc2l0aW9uID0gY29udGVudC5pbmRleE9mKCdkZXBlbmRlbmNpZXM6Jyk7CiAgICBpZiAoZGVwUG9zaXRpb24gIT0gLTEpIHsKICAgICAgLy8gRmluZCBhIGdvb2Qgc3BvdCB0byBpbnNlcnQgZGVwZW5kZW5jeQogICAgICBmaW5hbCBpbnNlcnRQb3NpdGlvbiA9IGNvbnRlbnQuaW5kZXhPZignXG5cbicsIGRlcFBvc2l0aW9uKTsKICAgICAgaWYgKGluc2VydFBvc2l0aW9uICE9IC0xKSB7CiAgICAgICAgZmluYWwgbmV3Q29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvc2l0aW9uKSArCiAgICAgICAgICAgICdcbiAgc2hhcmVkX3ByZWZlcmVuY2VzOiBeMi4xLjEnICsKICAgICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9zaXRpb24pOwogICAgICAgIGNvbnRlbnQgPSBuZXdDb250ZW50OwogICAgICAgIG1vZGlmaWVkID0gdHJ1ZTsKICAgICAgfQogICAgfQogIH0KCiAgLy8gRW5hYmxlIEZsdXR0ZXIncyBnZW5lcmF0aW9uIGluIHB1YnNwZWMueWFtbAogIGlmICghY29udGVudC5jb250YWlucygnZ2VuZXJhdGU6IHRydWUnKSkgewogICAgZmluYWwgZmx1dHRlclNlY3Rpb24gPSBjb250ZW50LmluZGV4T2YoJ2ZsdXR0ZXI6Jyk7CiAgICBpZiAoZmx1dHRlclNlY3Rpb24gIT0gLTEpIHsKICAgICAgLy8gRmluZCB3aGVyZSB0byBhZGQgZ2VuZXJhdGU6IHRydWUKICAgICAgZmluYWwgaW5zZXJ0UG9zaXRpb24gPSBjb250ZW50LmluZGV4T2YoJ1xuJywgZmx1dHRlclNlY3Rpb24pOwogICAgICBpZiAoaW5zZXJ0UG9zaXRpb24gIT0gLTEpIHsKICAgICAgICBmaW5hbCBuZXdDb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9zaXRpb24gKyAxKSArCiAgICAgICAgICAgICcgIGdlbmVyYXRlOiB0cnVlXG4nICsKICAgICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9zaXRpb24gKyAxKTsKICAgICAgICBjb250ZW50ID0gbmV3Q29udGVudDsKICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgIH0KICAgIH0KICB9CgogIC8vIFdyaXRlIHVwZGF0ZWQgY29udGVudCBiYWNrIHRvIGZpbGUKICBpZiAobW9kaWZpZWQpIHsKICAgIHB1YnNwZWNGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogICAgY29udGV4dC5sb2dnZXIKICAgICAgICAuc3VjY2VzcygnVXBkYXRlZCBwdWJzcGVjLnlhbWwgd2l0aCBsb2NhbGl6YXRpb24gZGVwZW5kZW5jaWVzJyk7CiAgfSBlbHNlIHsKICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ3B1YnNwZWMueWFtbCBhbHJlYWR5IGhhcyBsb2NhbGl6YXRpb24gZGVwZW5kZW5jaWVzJyk7CiAgfQp9CgovLy8gVXBkYXRlIG1haW4uZGFydCB0byBpbml0aWFsaXplIGxvY2FsaXphdGlvbgp2b2lkIF91cGRhdGVNYWluRm9yTG9jYWxpemF0aW9uKAogICAgSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lLCBTdHJpbmcgc3RhdGVNYW5hZ2VtZW50KSB7CiAgZmluYWwgbWFpbkRhcnRGaWxlID0gRmlsZSgnJHByb2plY3ROYW1lL2xpYi9tYWluLmRhcnQnKTsKICBpZiAoIW1haW5EYXJ0RmlsZS5leGlzdHNTeW5jKCkpIHsKICAgIGNvbnRleHQubG9nZ2VyCiAgICAgICAgLndhcm4oJ21haW4uZGFydCBub3QgZm91bmQsIHNraXBwaW5nIGxvY2FsaXphdGlvbiBpbml0aWFsaXphdGlvbicpOwogICAgcmV0dXJuOwogIH0KCiAgU3RyaW5nIGNvbnRlbnQgPSBtYWluRGFydEZpbGUucmVhZEFzU3RyaW5nU3luYygpOwogIGJvb2wgbW9kaWZpZWQgPSBmYWxzZTsKCiAgLy8gQWRkIGltcG9ydCBmb3IgbG9jYWxpemF0aW9uCiAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdsb2NhbGl6YXRpb24uZGFydCcpKSB7CiAgICBmaW5hbCBpbXBvcnRQYXR0ZXJuID0gUmVnRXhwKHInaW1wb3J0IC4qO1xuJyk7CiAgICBmaW5hbCBsYXN0SW1wb3J0TWF0Y2ggPSBpbXBvcnRQYXR0ZXJuLmFsbE1hdGNoZXMoY29udGVudCkubGFzdE9yTnVsbDsKCiAgICBpZiAobGFzdEltcG9ydE1hdGNoICE9IG51bGwpIHsKICAgICAgZmluYWwgaW5zZXJ0UG9zaXRpb24gPSBsYXN0SW1wb3J0TWF0Y2guZW5kOwogICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9zaXRpb24pICsKICAgICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvbG9jYWxpemF0aW9uL2xvY2FsaXphdGlvbi5kYXJ0JztcbiIgKwogICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9zaXRpb24pOwogICAgICBtb2RpZmllZCA9IHRydWU7CiAgICB9CiAgfQoKICAvLyBBZGQgc3RhdGUgbWFuYWdlbWVudCBzcGVjaWZpYyBpbXBvcnQKICBTdHJpbmcgc3RhdGVNYW5hZ2VtZW50SW1wb3J0ID0gJyc7CiAgc3dpdGNoIChzdGF0ZU1hbmFnZW1lbnQpIHsKICAgIGNhc2UgJ0Jsb2MnOgogICAgY2FzZSAnQkxvQyc6CiAgICAgIGlmICghY29udGVudC5jb250YWlucygnYmxvYy9sb2NhbGVfYmxvYy5kYXJ0JykpIHsKICAgICAgICBzdGF0ZU1hbmFnZW1lbnRJbXBvcnQgPQogICAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL2xvY2FsaXphdGlvbi9ibG9jL2xvY2FsZV9ibG9jLmRhcnQnO1xuIjsKICAgICAgfQogICAgICBicmVhazsKICAgIGNhc2UgJ1Byb3ZpZGVyJzoKICAgICAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdwcm92aWRlcnMvbG9jYWxpemF0aW9uX3Byb3ZpZGVyLmRhcnQnKSkgewogICAgICAgIHN0YXRlTWFuYWdlbWVudEltcG9ydCA9CiAgICAgICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvbG9jYWxpemF0aW9uL3Byb3ZpZGVycy9sb2NhbGl6YXRpb25fcHJvdmlkZXIuZGFydCc7XG4iOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgY2FzZSAnUml2ZXJwb2QnOgogICAgICBpZiAoIWNvbnRlbnQuY29udGFpbnMoJ3Byb3ZpZGVycy9sb2NhbGVfcHJvdmlkZXIuZGFydCcpKSB7CiAgICAgICAgc3RhdGVNYW5hZ2VtZW50SW1wb3J0ID0KICAgICAgICAgICAgImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9sb2NhbGl6YXRpb24vcHJvdmlkZXJzL2xvY2FsZV9wcm92aWRlci5kYXJ0JztcbiI7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICBjYXNlICdHZXRYJzoKICAgICAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdjb250cm9sbGVycy9sb2NhbGl6YXRpb25fY29udHJvbGxlci5kYXJ0JykpIHsKICAgICAgICBzdGF0ZU1hbmFnZW1lbnRJbXBvcnQgPQogICAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL2xvY2FsaXphdGlvbi9jb250cm9sbGVycy9sb2NhbGl6YXRpb25fY29udHJvbGxlci5kYXJ0JztcbiI7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgICBjYXNlICdNb2JYJzoKICAgICAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdzdG9yZXMvbG9jYWxpemF0aW9uX3N0b3JlLmRhcnQnKSkgewogICAgICAgIHN0YXRlTWFuYWdlbWVudEltcG9ydCA9CiAgICAgICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvbG9jYWxpemF0aW9uL3N0b3Jlcy9sb2NhbGl6YXRpb25fc3RvcmUuZGFydCc7XG4iOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgY2FzZSAnUmVkdXgnOgogICAgICBpZiAoIWNvbnRlbnQuY29udGFpbnMoJ3JlZHV4L2xvY2FsZV9yZWR1eC5kYXJ0JykpIHsKICAgICAgICBzdGF0ZU1hbmFnZW1lbnRJbXBvcnQgPQogICAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL2xvY2FsaXphdGlvbi9yZWR1eC9sb2NhbGVfcmVkdXguZGFydCc7XG4iOwogICAgICB9CiAgICAgIGJyZWFrOwogICAgZGVmYXVsdDoKICAgICAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdsb2NhbGVfbWFuYWdlci5kYXJ0JykpIHsKICAgICAgICBzdGF0ZU1hbmFnZW1lbnRJbXBvcnQgPQogICAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL2xvY2FsaXphdGlvbi9sb2NhbGVfbWFuYWdlci5kYXJ0JztcbiI7CiAgICAgIH0KICAgICAgYnJlYWs7CiAgfQoKICBpZiAoc3RhdGVNYW5hZ2VtZW50SW1wb3J0LmlzTm90RW1wdHkpIHsKICAgIGZpbmFsIGltcG9ydFBhdHRlcm4gPSBSZWdFeHAocidpbXBvcnQgLio7XG4nKTsKICAgIGZpbmFsIGxhc3RJbXBvcnRNYXRjaCA9IGltcG9ydFBhdHRlcm4uYWxsTWF0Y2hlcyhjb250ZW50KS5sYXN0T3JOdWxsOwoKICAgIGlmIChsYXN0SW1wb3J0TWF0Y2ggIT0gbnVsbCkgewogICAgICBmaW5hbCBpbnNlcnRQb3NpdGlvbiA9IGxhc3RJbXBvcnRNYXRjaC5lbmQ7CiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb3NpdGlvbikgKwogICAgICAgICAgc3RhdGVNYW5hZ2VtZW50SW1wb3J0ICsKICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvc2l0aW9uKTsKICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgfQogIH0KCiAgLy8gVXBkYXRlIE1hdGVyaWFsQXBwIG9yIHNpbWlsYXIgd2lkZ2V0IHRvIGFkZCBsb2NhbGl6YXRpb24gZGVsZWdhdGVzCiAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdsb2NhbGl6YXRpb25zRGVsZWdhdGVzOicpICYmCiAgICAgICFjb250ZW50LmNvbnRhaW5zKCdzdXBwb3J0ZWRMb2NhbGVzOicpKSB7CiAgICAvLyBEZWZpbmUgcGF0dGVybnMgZm9yIGRpZmZlcmVudCBhcHAgd2lkZ2V0cwogICAgZmluYWwgbWF0ZXJpYWxBcHBQYXR0ZXJuID0gUmVnRXhwKHInTWF0ZXJpYWxBcHBcKCcpOwogICAgZmluYWwgY3VwZXJ0aW9BcHBQYXR0ZXJuID0gUmVnRXhwKHInQ3VwZXJ0aW5vQXBwXCgnKTsKICAgIGZpbmFsIGdldE1hdEFwcFBhdHRlcm4gPSBSZWdFeHAocidHZXRNYXRlcmlhbEFwcFwoJyk7CiAgICBmaW5hbCBwcm92aWRlclNjb3BlUGF0dGVybiA9IFJlZ0V4cChyJ1Byb3ZpZGVyU2NvcGVcKCcpOwoKICAgIGlmIChtYXRlcmlhbEFwcFBhdHRlcm4uaGFzTWF0Y2goY29udGVudCkpIHsKICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgKICAgICAgICAnTWF0ZXJpYWxBcHAoJywKICAgICAgICAnTWF0ZXJpYWxBcHAoXG4gICAgICBsb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBMb2NhbGl6YXRpb24ubG9jYWxpemF0aW9uRGVsZWdhdGVzLFxuICAgICAgc3VwcG9ydGVkTG9jYWxlczogTG9jYWxpemF0aW9uLnN1cHBvcnRlZExvY2FsZXMsJywKICAgICAgKTsKICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgfSBlbHNlIGlmIChjdXBlcnRpb0FwcFBhdHRlcm4uaGFzTWF0Y2goY29udGVudCkpIHsKICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgKICAgICAgICAnQ3VwZXJ0aW5vQXBwKCcsCiAgICAgICAgJ0N1cGVydGlub0FwcChcbiAgICAgIGxvY2FsaXphdGlvbnNEZWxlZ2F0ZXM6IExvY2FsaXphdGlvbi5sb2NhbGl6YXRpb25EZWxlZ2F0ZXMsXG4gICAgICBzdXBwb3J0ZWRMb2NhbGVzOiBMb2NhbGl6YXRpb24uc3VwcG9ydGVkTG9jYWxlcywnLAogICAgICApOwogICAgICBtb2RpZmllZCA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGdldE1hdEFwcFBhdHRlcm4uaGFzTWF0Y2goY29udGVudCkpIHsKICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgKICAgICAgICAnR2V0TWF0ZXJpYWxBcHAoJywKICAgICAgICAnR2V0TWF0ZXJpYWxBcHAoXG4gICAgICBsb2NhbGl6YXRpb25zRGVsZWdhdGVzOiBMb2NhbGl6YXRpb24ubG9jYWxpemF0aW9uRGVsZWdhdGVzLFxuICAgICAgc3VwcG9ydGVkTG9jYWxlczogTG9jYWxpemF0aW9uLnN1cHBvcnRlZExvY2FsZXMsJywKICAgICAgKTsKICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgfQogIH0KCiAgLy8gQWRkIGxvY2FsZSBpbml0aWFsaXphdGlvbiBiYXNlZCBvbiBzdGF0ZSBtYW5hZ2VtZW50CiAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdsb2NhbGU6JykpIHsKICAgIFN0cmluZyBsb2NhbGVJbml0aWFsaXphdGlvbiA9ICcnOwoKICAgIHN3aXRjaCAoc3RhdGVNYW5hZ2VtZW50KSB7CiAgICAgIGNhc2UgJ0Jsb2MnOgogICAgICBjYXNlICdCTG9DJzoKICAgICAgICBpZiAoY29udGVudC5jb250YWlucygnTXVsdGlCbG9jUHJvdmlkZXIoJykpIHsKICAgICAgICAgIC8vIElmIE11bHRpQmxvY1Byb3ZpZGVyIGV4aXN0cywgYWRkIEJsb2NQcm92aWRlciBmb3IgTG9jYWxlQmxvYwogICAgICAgICAgZmluYWwgcHJvdmlkZXJQYXR0ZXJuID0gUmVnRXhwKHIncHJvdmlkZXJzOiBcW1xzKicpOwogICAgICAgICAgaWYgKHByb3ZpZGVyUGF0dGVybi5oYXNNYXRjaChjb250ZW50KSkgewogICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoCiAgICAgICAgICAgICAgcHJvdmlkZXJQYXR0ZXJuLAogICAgICAgICAgICAgICdwcm92aWRlcnM6IFtcbiAgICAgICAgQmxvY1Byb3ZpZGVyKGNyZWF0ZTogKF8pID0+IExvY2FsZUJsb2MoKSksXG4gICAgICAgICcsCiAgICAgICAgICAgICk7CgogICAgICAgICAgICAvLyBBbHNvIGFkZCB0aGUgbG9jYWxlIHRvIE1hdGVyaWFsQXBwL290aGVyIGFwcCB3aWRnZXQKICAgICAgICAgICAgZmluYWwgYXBwUGF0dGVybiA9CiAgICAgICAgICAgICAgICBSZWdFeHAocicoTWF0ZXJpYWxBcHB8Q3VwZXJ0aW5vQXBwfEdldE1hdGVyaWFsQXBwKVwoJyk7CiAgICAgICAgICAgIGlmIChhcHBQYXR0ZXJuLmhhc01hdGNoKGNvbnRlbnQpKSB7CiAgICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUZpcnN0KAogICAgICAgICAgICAgICAgJ3N1cHBvcnRlZExvY2FsZXM6IExvY2FsaXphdGlvbi5zdXBwb3J0ZWRMb2NhbGVzLCcsCiAgICAgICAgICAgICAgICAnc3VwcG9ydGVkTG9jYWxlczogTG9jYWxpemF0aW9uLnN1cHBvcnRlZExvY2FsZXMsXG4gICAgICBsb2NhbGU6IGNvbnRleHQud2F0Y2g8TG9jYWxlQmxvYz4oKS5zdGF0ZS5sb2NhbGUsJywKICAgICAgICAgICAgICApOwogICAgICAgICAgICB9CiAgICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgLy8gSWYgbm8gTXVsdGlCbG9jUHJvdmlkZXIsIHdyYXAgd2l0aCBCbG9jUHJvdmlkZXIKICAgICAgICAgIGZpbmFsIHJ1bkFwcFBhdHRlcm4gPSBSZWdFeHAocidydW5BcHBcKFxzKihjb25zdFxzKik/KC4qKVxzKlwpOycpOwogICAgICAgICAgZmluYWwgbWF0Y2ggPSBydW5BcHBQYXR0ZXJuLmZpcnN0TWF0Y2goY29udGVudCk7CiAgICAgICAgICBpZiAobWF0Y2ggIT0gbnVsbCkgewogICAgICAgICAgICBmaW5hbCBjb25zdEtleXdvcmQgPSBtYXRjaC5ncm91cCgxKSA/PyAnJzsKICAgICAgICAgICAgZmluYWwgYXBwV2lkZ2V0ID0gbWF0Y2guZ3JvdXAoMikgPz8gJyc7CgogICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoCiAgICAgICAgICAgICAgcnVuQXBwUGF0dGVybiwKICAgICAgICAgICAgICAncnVuQXBwKFxuICAgIEJsb2NQcm92aWRlcihcbiAgICAgIGNyZWF0ZTogKF8pID0+IExvY2FsZUJsb2MoKSxcbiAgICAgIGNoaWxkOiBCbG9jQnVpbGRlcjxMb2NhbGVCbG9jLCBMb2NhbGVTdGF0ZT4oXG4gICAgICAgIGJ1aWxkZXI6IChjb250ZXh0LCBzdGF0ZSkge1xuICAgICAgICAgIHJldHVybiAkY29uc3RLZXl3b3JkJGFwcFdpZGdldC5jb3B5V2l0aChcbiAgICAgICAgICAgIGxvY2FsZTogc3RhdGUubG9jYWxlLFxuICAgICAgICAgICk7XG4gICAgICAgIH0sXG4gICAgICApLFxuICAgICksXG4gICk7JywKICAgICAgICAgICAgKTsKICAgICAgICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ1Byb3ZpZGVyJzoKICAgICAgICBpZiAoY29udGVudC5jb250YWlucygnTXVsdGlQcm92aWRlcignKSkgewogICAgICAgICAgLy8gSWYgTXVsdGlQcm92aWRlciBleGlzdHMsIGFkZCBDaGFuZ2VOb3RpZmllclByb3ZpZGVyIGZvciBMb2NhbGl6YXRpb25Qcm92aWRlcgogICAgICAgICAgZmluYWwgcHJvdmlkZXJQYXR0ZXJuID0gUmVnRXhwKHIncHJvdmlkZXJzOiBcW1xzKicpOwogICAgICAgICAgaWYgKHByb3ZpZGVyUGF0dGVybi5oYXNNYXRjaChjb250ZW50KSkgewogICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoCiAgICAgICAgICAgICAgcHJvdmlkZXJQYXR0ZXJuLAogICAgICAgICAgICAgICdwcm92aWRlcnM6IFtcbiAgICAgICAgQ2hhbmdlTm90aWZpZXJQcm92aWRlcihjcmVhdGU6IChfKSA9PiBMb2NhbGl6YXRpb25Qcm92aWRlcigpKSxcbiAgICAgICAgJywKICAgICAgICAgICAgKTsKCiAgICAgICAgICAgIC8vIEFsc28gYWRkIHRoZSBsb2NhbGUgdG8gTWF0ZXJpYWxBcHAvb3RoZXIgYXBwIHdpZGdldAogICAgICAgICAgICBmaW5hbCBhcHBQYXR0ZXJuID0KICAgICAgICAgICAgICAgIFJlZ0V4cChyJyhNYXRlcmlhbEFwcHxDdXBlcnRpbm9BcHB8R2V0TWF0ZXJpYWxBcHApXCgnKTsKICAgICAgICAgICAgaWYgKGFwcFBhdHRlcm4uaGFzTWF0Y2goY29udGVudCkpIHsKICAgICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoCiAgICAgICAgICAgICAgICAnc3VwcG9ydGVkTG9jYWxlczogTG9jYWxpemF0aW9uLnN1cHBvcnRlZExvY2FsZXMsJywKICAgICAgICAgICAgICAgICdzdXBwb3J0ZWRMb2NhbGVzOiBMb2NhbGl6YXRpb24uc3VwcG9ydGVkTG9jYWxlcyxcbiAgICAgIGxvY2FsZTogUHJvdmlkZXIub2Y8TG9jYWxpemF0aW9uUHJvdmlkZXI+KGNvbnRleHQpLmxvY2FsZSwnLAogICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyBJZiBubyBNdWx0aVByb3ZpZGVyLCB3cmFwIHdpdGggQ2hhbmdlTm90aWZpZXJQcm92aWRlcgogICAgICAgICAgZmluYWwgcnVuQXBwUGF0dGVybiA9IFJlZ0V4cChyJ3J1bkFwcFwoXHMqKGNvbnN0XHMqKT8oLiopXHMqXCk7Jyk7CiAgICAgICAgICBmaW5hbCBtYXRjaCA9IHJ1bkFwcFBhdHRlcm4uZmlyc3RNYXRjaChjb250ZW50KTsKICAgICAgICAgIGlmIChtYXRjaCAhPSBudWxsKSB7CiAgICAgICAgICAgIGZpbmFsIGNvbnN0S2V5d29yZCA9IG1hdGNoLmdyb3VwKDEpID8/ICcnOwogICAgICAgICAgICBmaW5hbCBhcHBXaWRnZXQgPSBtYXRjaC5ncm91cCgyKSA/PyAnJzsKCiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdCgKICAgICAgICAgICAgICBydW5BcHBQYXR0ZXJuLAogICAgICAgICAgICAgICdydW5BcHAoXG4gICAgQ2hhbmdlTm90aWZpZXJQcm92aWRlcihcbiAgICAgIGNyZWF0ZTogKF8pID0+IExvY2FsaXphdGlvblByb3ZpZGVyKCksXG4gICAgICBjaGlsZDogQ29uc3VtZXI8TG9jYWxpemF0aW9uUHJvdmlkZXI+KFxuICAgICAgICBidWlsZGVyOiAoY29udGV4dCwgcHJvdmlkZXIsIF8pIHtcbiAgICAgICAgICByZXR1cm4gJGNvbnN0S2V5d29yZCRhcHBXaWRnZXQuY29weVdpdGgoXG4gICAgICAgICAgICBsb2NhbGU6IHByb3ZpZGVyLmxvY2FsZSxcbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgKSxcbiAgICApLFxuICApOycsCiAgICAgICAgICAgICk7CiAgICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdSaXZlcnBvZCc6CiAgICAgICAgLy8gUml2ZXJwb2QgYWxyZWFkeSB3cmFwcyB3aXRoIFByb3ZpZGVyU2NvcGUsIGp1c3QgYWRkIGxvY2FsZQogICAgICAgIGZpbmFsIGFwcFBhdHRlcm4gPQogICAgICAgICAgICBSZWdFeHAocicoTWF0ZXJpYWxBcHB8Q3VwZXJ0aW5vQXBwfEdldE1hdGVyaWFsQXBwKVwoJyk7CiAgICAgICAgaWYgKGFwcFBhdHRlcm4uaGFzTWF0Y2goY29udGVudCkpIHsKICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdCgKICAgICAgICAgICAgJ3N1cHBvcnRlZExvY2FsZXM6IExvY2FsaXphdGlvbi5zdXBwb3J0ZWRMb2NhbGVzLCcsCiAgICAgICAgICAgICdzdXBwb3J0ZWRMb2NhbGVzOiBMb2NhbGl6YXRpb24uc3VwcG9ydGVkTG9jYWxlcyxcbiAgICAgIGxvY2FsZTogcmVmLndhdGNoKGxvY2FsZVByb3ZpZGVyKSwnLAogICAgICAgICAgKTsKICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CgogICAgICBjYXNlICdHZXRYJzoKICAgICAgICAvLyBBZGQgY29udHJvbGxlciBpbml0aWFsaXphdGlvbiB0byBtYWluIGZ1bmN0aW9uCiAgICAgICAgZmluYWwgbWFpbkZ1bmN0aW9uUGF0dGVybiA9IFJlZ0V4cChyJ3ZvaWQgbWFpblwoXCkgYXN5bmMgXHsnKTsKICAgICAgICBpZiAobWFpbkZ1bmN0aW9uUGF0dGVybi5oYXNNYXRjaChjb250ZW50KSkgewogICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUZpcnN0KAogICAgICAgICAgICBtYWluRnVuY3Rpb25QYXR0ZXJuLAogICAgICAgICAgICAndm9pZCBtYWluKCkgYXN5bmMge1xuICAvLyBJbml0aWFsaXplIGxvY2FsaXphdGlvbiBjb250cm9sbGVyXG4gIEdldC5wdXQoTG9jYWxpemF0aW9uQ29udHJvbGxlcigpKTtcbicsCiAgICAgICAgICApOwoKICAgICAgICAgIC8vIEFsc28gYWRkIGxvY2FsZSB0byBHZXRNYXRlcmlhbEFwcAogICAgICAgICAgZmluYWwgYXBwUGF0dGVybiA9IFJlZ0V4cChyJ0dldE1hdGVyaWFsQXBwXCgnKTsKICAgICAgICAgIGlmIChhcHBQYXR0ZXJuLmhhc01hdGNoKGNvbnRlbnQpKSB7CiAgICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdCgKICAgICAgICAgICAgICAnc3VwcG9ydGVkTG9jYWxlczogTG9jYWxpemF0aW9uLnN1cHBvcnRlZExvY2FsZXMsJywKICAgICAgICAgICAgICAnc3VwcG9ydGVkTG9jYWxlczogTG9jYWxpemF0aW9uLnN1cHBvcnRlZExvY2FsZXMsXG4gICAgICBsb2NhbGU6IEdldC5maW5kPExvY2FsaXphdGlvbkNvbnRyb2xsZXI+KCkubG9jYWxlLCcsCiAgICAgICAgICAgICk7CiAgICAgICAgICB9CiAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnTW9iWCc6CiAgICAgICAgLy8gQWRkIGxvY2FsZSB0byBhcHAgd2lkZ2V0CiAgICAgICAgZmluYWwgYXBwUGF0dGVybiA9CiAgICAgICAgICAgIFJlZ0V4cChyJyhNYXRlcmlhbEFwcHxDdXBlcnRpbm9BcHB8R2V0TWF0ZXJpYWxBcHApXCgnKTsKICAgICAgICBpZiAoYXBwUGF0dGVybi5oYXNNYXRjaChjb250ZW50KSkgewogICAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUZpcnN0KAogICAgICAgICAgICAnc3VwcG9ydGVkTG9jYWxlczogTG9jYWxpemF0aW9uLnN1cHBvcnRlZExvY2FsZXMsJywKICAgICAgICAgICAgJ3N1cHBvcnRlZExvY2FsZXM6IExvY2FsaXphdGlvbi5zdXBwb3J0ZWRMb2NhbGVzLFxuICAgICAgbG9jYWxlOiBsb2NhbGl6YXRpb25TdG9yZS5sb2NhbGUsJywKICAgICAgICAgICk7CiAgICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgICAgfQogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnUmVkdXgnOgogICAgICAgIC8vIFJlZHV4IHJlcXVpcmVzIG1vcmUgY29tcGxleCBjaGFuZ2VzIC0gd2UnbGwganVzdCBhZGQgbG9jYWxlIHRvIGFwcCBzdGF0ZQogICAgICAgIC8vIFRoaXMgaXMgYSBzaW1wbGlmaWNhdGlvbiBhbmQgd291bGQgbmVlZCBtb3JlIGN1c3RvbWl6YXRpb24gYmFzZWQgb24gYXBwIHN0cnVjdHVyZQogICAgICAgIGZpbmFsIGFwcFBhdHRlcm4gPQogICAgICAgICAgICBSZWdFeHAocicoTWF0ZXJpYWxBcHB8Q3VwZXJ0aW5vQXBwfEdldE1hdGVyaWFsQXBwKVwoJyk7CiAgICAgICAgaWYgKGFwcFBhdHRlcm4uaGFzTWF0Y2goY29udGVudCkpIHsKICAgICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdCgKICAgICAgICAgICAgJ3N1cHBvcnRlZExvY2FsZXM6IExvY2FsaXphdGlvbi5zdXBwb3J0ZWRMb2NhbGVzLCcsCiAgICAgICAgICAgICdzdXBwb3J0ZWRMb2NhbGVzOiBMb2NhbGl6YXRpb24uc3VwcG9ydGVkTG9jYWxlcyxcbiAgICAgIGxvY2FsZTogc3RvcmUuc3RhdGUubG9jYWxlU3RhdGUubG9jYWxlLCcsCiAgICAgICAgICApOwoKICAgICAgICAgIC8vIEFsc28gYWRkIG1pZGRsZXdhcmUgZm9yIGxvY2FsaXphdGlvbgogICAgICAgICAgZmluYWwgY3JlYXRlU3RvcmVQYXR0ZXJuID0gUmVnRXhwKHInbWlkZGxld2FyZTogXFt0aHVua01pZGRsZXdhcmVcXScpOwogICAgICAgICAgaWYgKGNyZWF0ZVN0b3JlUGF0dGVybi5oYXNNYXRjaChjb250ZW50KSkgewogICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlQWxsKAogICAgICAgICAgICAgICdtaWRkbGV3YXJlOiBbdGh1bmtNaWRkbGV3YXJlXScsCiAgICAgICAgICAgICAgJ21pZGRsZXdhcmU6IFt0aHVua01pZGRsZXdhcmUsIC4uLmNyZWF0ZUxvY2FsZU1pZGRsZXdhcmUoKV0nLAogICAgICAgICAgICApOwogICAgICAgICAgfQogICAgICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBicmVhazsKCiAgICAgIGRlZmF1bHQ6CiAgICAgICAgLy8gQWRkIGxvY2FsZSBtYW5hZ2VyIHRvIGFwcCB3aWRnZXQKICAgICAgICBmaW5hbCBhcHBQYXR0ZXJuID0KICAgICAgICAgICAgUmVnRXhwKHInKE1hdGVyaWFsQXBwfEN1cGVydGlub0FwcHxHZXRNYXRlcmlhbEFwcClcKCcpOwogICAgICAgIGlmIChhcHBQYXR0ZXJuLmhhc01hdGNoKGNvbnRlbnQpKSB7CiAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoCiAgICAgICAgICAgICdzdXBwb3J0ZWRMb2NhbGVzOiBMb2NhbGl6YXRpb24uc3VwcG9ydGVkTG9jYWxlcywnLAogICAgICAgICAgICAnc3VwcG9ydGVkTG9jYWxlczogTG9jYWxpemF0aW9uLnN1cHBvcnRlZExvY2FsZXMsXG4gICAgICBsb2NhbGU6IGxvY2FsZU1hbmFnZXIubG9jYWxlLCcsCiAgICAgICAgICApOwoKICAgICAgICAgIC8vIEFsc28gYWRkIFN0YXRlZnVsQnVpbGRlciB0byB1cGRhdGUgb24gbG9jYWxlIGNoYW5nZXMKICAgICAgICAgIGZpbmFsIHJ1bkFwcFBhdHRlcm4gPSBSZWdFeHAocidydW5BcHBcKFxzKihjb25zdFxzKik/KC4qKVxzKlwpOycpOwogICAgICAgICAgZmluYWwgbWF0Y2ggPSBydW5BcHBQYXR0ZXJuLmZpcnN0TWF0Y2goY29udGVudCk7CiAgICAgICAgICBpZiAobWF0Y2ggIT0gbnVsbCkgewogICAgICAgICAgICBmaW5hbCBjb25zdEtleXdvcmQgPSBtYXRjaC5ncm91cCgxKSA/PyAnJzsKICAgICAgICAgICAgZmluYWwgYXBwV2lkZ2V0ID0gbWF0Y2guZ3JvdXAoMikgPz8gJyc7CgogICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5yZXBsYWNlRmlyc3QoCiAgICAgICAgICAgICAgcnVuQXBwUGF0dGVybiwKICAgICAgICAgICAgICAncnVuQXBwKFxuICAgIFN0YXRlZnVsQnVpbGRlcihcbiAgICAgIGJ1aWxkZXI6IChjb250ZXh0LCBzZXRTdGF0ZSkge1xuICAgICAgICAvLyBMaXN0ZW4gZm9yIGxvY2FsZSBjaGFuZ2VzXG4gICAgICAgIGxvY2FsZU1hbmFnZXIuYWRkTGlzdGVuZXIoKF8pID0+IHNldFN0YXRlKCgpIHt9KSk7XG4gICAgICAgIHJldHVybiAkY29uc3RLZXl3b3JkJGFwcFdpZGdldDtcbiAgICAgIH0sXG4gICAgKSxcbiAgKTsnLAogICAgICAgICAgICApOwogICAgICAgICAgfQoKICAgICAgICAgIG1vZGlmaWVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICAvLyBXcml0ZSB1cGRhdGVkIGNvbnRlbnQgYmFjayB0byBmaWxlCiAgaWYgKG1vZGlmaWVkKSB7CiAgICBtYWluRGFydEZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgICBjb250ZXh0LmxvZ2dlci5zdWNjZXNzKCdVcGRhdGVkIG1haW4uZGFydCB3aXRoIGxvY2FsaXphdGlvbiBjb25maWd1cmF0aW9uJyk7CiAgfSBlbHNlIHsKICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ21haW4uZGFydCBhbHJlYWR5IGhhcyBsb2NhbGl6YXRpb24gY29uZmlndXJhdGlvbicpOwogIH0KfQo=",
      "type": "text",
    },
    {
      "path": "lib/main_configurator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBHZW5lcmF0ZXMgdGhlIG1haW4uZGFydCBmaWxlIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCBhcmNoaXRlY3R1cmUsIHN0YXRlIG1hbmFnZW1lbnQsCi8vLyBmZWF0dXJlcywgYW5kIG1vZHVsZXMKdm9pZCBnZW5lcmF0ZU1haW5EYXJ0KAogICAgSG9va0NvbnRleHQgY29udGV4dCwKICAgIFN0cmluZyBwcm9qZWN0TmFtZSwKICAgIFN0cmluZyBvcmdhbml6YXRpb24sCiAgICBTdHJpbmcgYXJjaGl0ZWN0dXJlLAogICAgU3RyaW5nIHN0YXRlTWFuYWdlbWVudCwKICAgIExpc3Q8ZHluYW1pYz4gZmVhdHVyZXMsCiAgICBMaXN0PGR5bmFtaWM+IG1vZHVsZXMpIHsKICBmaW5hbCBtYWluRmlsZSA9IEZpbGUoJyRwcm9qZWN0TmFtZS9saWIvbWFpbi5kYXJ0Jyk7CiAgU3RyaW5nIG1haW5Db250ZW50ID0gJyc7CgogIC8vIERldGVybWluZSBpZiBGaXJlYmFzZSBpcyBuZWVkZWQgYmFzZWQgb24gbW9kdWxlcwogIGZpbmFsIG5lZWRzRmlyZWJhc2UgPSBtb2R1bGVzLmNvbnRhaW5zKCdQdXNoIE5vdGlmaWNhdGlvbicpOwoKICAvLyBTdGFydCB3aXRoIGltcG9ydHMgaW4gdGhlIGNvcnJlY3Qgb3JkZXIKICB2YXIgaW1wb3J0cyA9IFsKICAgIC8vIEZpcmViYXNlIHNob3VsZCBiZSBmaXJzdCBpZiB1c2VkCiAgICBuZWVkc0ZpcmViYXNlID8gImltcG9ydCAncGFja2FnZTpmaXJlYmFzZV9jb3JlL2ZpcmViYXNlX2NvcmUuZGFydCc7IiA6ICIiLAogICAgImltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOyIsCiAgICAiaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvc2VydmljZXMuZGFydCc7IiwKICBdOwoKICAvLyBBZGQgYXJjaGl0ZWN0dXJlLXNwZWNpZmljIGltcG9ydHMKICBpZiAoYXJjaGl0ZWN0dXJlID09ICdDbGVhbiBBcmNoaXRlY3R1cmUnIHx8CiAgICAgIGFyY2hpdGVjdHVyZSA9PSAnTVZWTScgfHwKICAgICAgYXJjaGl0ZWN0dXJlID09ICdNVkMnKSB7CiAgICBpbXBvcnRzLmFkZCgiaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfZG90ZW52L2ZsdXR0ZXJfZG90ZW52LmRhcnQnOyIpOwogIH0KCiAgLy8gQWRkIHN0YXRlIG1hbmFnZW1lbnQgaW1wb3J0cwogIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ0Jsb2MnKSB7CiAgICBpbXBvcnRzLmFkZCgiaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfYmxvYy9mbHV0dGVyX2Jsb2MuZGFydCc7Iik7CiAgICBpbXBvcnRzLmFkZCgiaW1wb3J0ICdwYWNrYWdlOmh5ZHJhdGVkX2Jsb2MvaHlkcmF0ZWRfYmxvYy5kYXJ0JzsiKTsKICAgIGltcG9ydHMuYWRkKAogICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvdXRpbHMvc3RhdGVfbWFuYWdlbWVudF9vYnNlcnZhYmlsaXR5LmRhcnQnOyIpOwogIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdQcm92aWRlcicpIHsKICAgIGltcG9ydHMuYWRkKCJpbXBvcnQgJ3BhY2thZ2U6cHJvdmlkZXIvcHJvdmlkZXIuZGFydCc7Iik7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ1JpdmVycG9kJykgewogICAgaW1wb3J0cy5hZGQoImltcG9ydCAncGFja2FnZTpmbHV0dGVyX3JpdmVycG9kL2ZsdXR0ZXJfcml2ZXJwb2QuZGFydCc7Iik7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ0dldFgnKSB7CiAgICBpbXBvcnRzLmFkZCgiaW1wb3J0ICdwYWNrYWdlOmdldC9nZXQuZGFydCc7Iik7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ01vYlgnKSB7CiAgICBpbXBvcnRzLmFkZCgiaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbW9ieC9mbHV0dGVyX21vYnguZGFydCc7Iik7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ1JlZHV4JykgewogICAgaW1wb3J0cy5hZGQoImltcG9ydCAncGFja2FnZTpmbHV0dGVyX3JlZHV4L2ZsdXR0ZXJfcmVkdXguZGFydCc7Iik7CiAgICBpbXBvcnRzLmFkZCgiaW1wb3J0ICdwYWNrYWdlOnJlZHV4L3JlZHV4LmRhcnQnOyIpOwogICAgaW1wb3J0cy5hZGQoImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9yZWR1eC9hcHBfcmVkdWNlci5kYXJ0JzsiKTsKICAgIGltcG9ydHMuYWRkKCJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvcmVkdXgvYXBwX3N0YXRlLmRhcnQnOyIpOwogICAgaW1wb3J0cy5hZGQoImltcG9ydCAncGFja2FnZTpyZWR1eF90aHVuay9yZWR1eF90aHVuay5kYXJ0JzsiKTsKICB9CgogIC8vIEZlYXR1cmUtRHJpdmVuIGFyY2hpdGVjdHVyZSBpbXBvcnRzCiAgaWYgKGFyY2hpdGVjdHVyZSA9PSAnRmVhdHVyZS1Ecml2ZW4nKSB7CiAgICBpbXBvcnRzLmFkZCgiaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbW9kdWxhci9mbHV0dGVyX21vZHVsYXIuZGFydCc7Iik7CiAgICBpbXBvcnRzLmFkZCgiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9hcHAvYXBwX21vZHVsZS5kYXJ0JzsiKTsKICAgIGltcG9ydHMuYWRkKCJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2FwcC9hcHBfd2lkZ2V0LmRhcnQnOyIpOwogIH0gZWxzZSB7CiAgICBpbXBvcnRzLmFkZCgiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9hcHAvYXBwLmRhcnQnOyIpOwogIH0KCiAgLy8gQWRkIG5vdGlmaWNhdGlvbiBoYW5kbGVyIGltcG9ydCBpZiBuZWVkZWQKICBpZiAobmVlZHNGaXJlYmFzZSkgewogICAgaW1wb3J0cy5hZGQoCiAgICAgICAgImltcG9ydCAncGFja2FnZTokcHJvamVjdE5hbWUvY29yZS9ub3RpZmljYXRpb25zL25vdGlmaWNhdGlvbl9oYW5kbGVyLmRhcnQnOyIpOwogIH0KCiAgLy8gRmlsdGVyIG91dCBlbXB0eSBpbXBvcnRzIGFuZCBqb2luIHRoZW0KICBtYWluQ29udGVudCA9CiAgICAgIGltcG9ydHMud2hlcmUoKGltcG9ydCkgPT4gaW1wb3J0LmlzTm90RW1wdHkpLmpvaW4oJ1xuJykgKyAnXG5cbic7CgogIC8vIE1haW4gZnVuY3Rpb24gZGVjbGFyYXRpb24KICBtYWluQ29udGVudCArPSAnJycKdm9pZCBtYWluKCkgYXN5bmMgewogIC8vIEluaXRpYWxpemUgRmx1dHRlciBiaW5kaW5nCiAgV2lkZ2V0c0ZsdXR0ZXJCaW5kaW5nLmVuc3VyZUluaXRpYWxpemVkKCk7CicnJzsKCiAgLy8gRmlyZWJhc2UgaW5pdGlhbGl6YXRpb24gc2hvdWxkIGNvbWUgZmlyc3QgaWYgbmVlZGVkCiAgaWYgKG5lZWRzRmlyZWJhc2UpIHsKICAgIG1haW5Db250ZW50ICs9ICcnJwogIC8vIEluaXRpYWxpemUgRmlyZWJhc2UKICBhd2FpdCBGaXJlYmFzZS5pbml0aWFsaXplQXBwKAovLyBVbmNvbW1lbnQgdGhlIGZvbGxvd2luZyBsaW5lIGlmIHlvdSBoYXZlIGEgY3VzdG9tIEZpcmViYXNlIG9wdGlvbnMgZmlsZQogICAgLy8gb3B0aW9uczogRGVmYXVsdEZpcmViYXNlT3B0aW9ucy5jdXJyZW50UGxhdGZvcm0sCiAgKTsKCiAgLy8gSW5pdGlhbGl6ZSBub3RpZmljYXRpb24gc2VydmljZXMKICBhd2FpdCBub3RpZmljYXRpb25IYW5kbGVyLmluaXRpYWxpemUoKTsKCicnJzsKICB9CgogIC8vIEVudmlyb25tZW50IHZhcmlhYmxlcyBsb2FkaW5nCiAgaWYgKGFyY2hpdGVjdHVyZSA9PSAnQ2xlYW4gQXJjaGl0ZWN0dXJlJyB8fAogICAgICBhcmNoaXRlY3R1cmUgPT0gJ01WVk0nIHx8CiAgICAgIGFyY2hpdGVjdHVyZSA9PSAnTVZDJykgewogICAgbWFpbkNvbnRlbnQgKz0gJycnCiAgLy8gTG9hZCBlbnZpcm9ubWVudCB2YXJpYWJsZXMKICBhd2FpdCBkb3RlbnYubG9hZChmaWxlTmFtZTogIi5lbnYiKTsKJycnOwogIH0KCiAgLy8gU2V0dXAgc3RhdGUgbWFuYWdlbWVudCBpbml0aWFsaXphdGlvbgogIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ0Jsb2MnKSB7CiAgICBtYWluQ29udGVudCArPSAnJycKICAvLyBJbml0aWFsaXplIEJMb0Mgb2JzZXJ2ZXIKICBCbG9jLm9ic2VydmVyID0gQXBwQmxvY09ic2VydmVyKCk7CicnJzsKICB9CgogIC8vIFBsYXRmb3JtLXNwZWNpZmljIGNvbmZpZ3VyYXRpb25zCiAgbWFpbkNvbnRlbnQgKz0gJycnCiAgLy8gU2V0IHByZWZlcnJlZCBvcmllbnRhdGlvbnMKICBhd2FpdCBTeXN0ZW1DaHJvbWUuc2V0UHJlZmVycmVkT3JpZW50YXRpb25zKFsKICAgIERldmljZU9yaWVudGF0aW9uLnBvcnRyYWl0VXAsCiAgICBEZXZpY2VPcmllbnRhdGlvbi5wb3J0cmFpdERvd24sCiAgXSk7CiAgCiAgLy8gU2V0IHN5c3RlbSBVSSBvdmVybGF5IHN0eWxlCiAgU3lzdGVtQ2hyb21lLnNldFN5c3RlbVVJT3ZlcmxheVN0eWxlKAogICAgY29uc3QgU3lzdGVtVWlPdmVybGF5U3R5bGUoCiAgICAgIHN0YXR1c0JhckNvbG9yOiBDb2xvcnMudHJhbnNwYXJlbnQsCiAgICAgIHN0YXR1c0Jhckljb25CcmlnaHRuZXNzOiBCcmlnaHRuZXNzLmRhcmssCiAgICAgIHN5c3RlbU5hdmlnYXRpb25CYXJDb2xvcjogQ29sb3JzLndoaXRlLAogICAgICBzeXN0ZW1OYXZpZ2F0aW9uQmFySWNvbkJyaWdodG5lc3M6IEJyaWdodG5lc3MuZGFyaywKICAgICksCiAgKTsKJycnOwoKICAvLyBBcHAgbGF1bmNoIGJhc2VkIG9uIGFyY2hpdGVjdHVyZSBhbmQgc3RhdGUgbWFuYWdlbWVudAogIGlmIChhcmNoaXRlY3R1cmUgPT0gJ0ZlYXR1cmUtRHJpdmVuJykgewogICAgbWFpbkNvbnRlbnQgKz0gJycnCiAgcnVuQXBwKE1vZHVsYXJBcHAobW9kdWxlOiBBcHBNb2R1bGUoKSwgY2hpbGQ6IGNvbnN0IEFwcFdpZGdldCgpKSk7CicnJzsKICB9IGVsc2UgewogICAgLy8gUnVuIGFwcCBiYXNlZCBvbiBzdGF0ZSBtYW5hZ2VtZW50CiAgICBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdQcm92aWRlcicpIHsKICAgICAgbWFpbkNvbnRlbnQgKz0gJycnCiAgcnVuQXBwKAogICAgTXVsdGlQcm92aWRlcigKICAgICAgcHJvdmlkZXJzOiBbCiAgICAgICAgLy8gQWRkIHlvdXIgcHJvdmlkZXJzIGhlcmUKICAgICAgICAvLyBDaGFuZ2VOb3RpZmllclByb3ZpZGVyKGNyZWF0ZTogKF8pID0+IFlvdXJQcm92aWRlcigpKSwKICAgICAgXSwKICAgICAgY2hpbGQ6IGNvbnN0IEFwcCgpLAogICAgKSwKICApOwonJyc7CiAgICB9IGVsc2UgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnUml2ZXJwb2QnKSB7CiAgICAgIG1haW5Db250ZW50ICs9ICcnJwogIHJ1bkFwcCgKICAgIGNvbnN0IFByb3ZpZGVyU2NvcGUoCiAgICAgIGNoaWxkOiBBcHAoKSwKICAgICksCiAgKTsKJycnOwogICAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ0dldFgnKSB7CiAgICAgIG1haW5Db250ZW50ICs9ICcnJwogIHJ1bkFwcChjb25zdCBBcHAoKSk7CicnJzsKICAgIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdCbG9jJykgewogICAgICBtYWluQ29udGVudCArPSAnJycKICBydW5BcHAoCiAgICBNdWx0aUJsb2NQcm92aWRlcigKICAgICAgcHJvdmlkZXJzOiBbCiAgICAgICAgLy8gQWRkIHlvdXIgQkxvQ3MgaGVyZQogICAgICAgIC8vIEJsb2NQcm92aWRlcihjcmVhdGU6IChfKSA9PiBZb3VyQmxvYygpKSwKICAgICAgXSwKICAgICAgY2hpbGQ6IGNvbnN0IEFwcCgpLAogICAgKSwKICApOwonJyc7CiAgICB9IGVsc2UgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnTW9iWCcpIHsKICAgICAgbWFpbkNvbnRlbnQgKz0gJycnCiAgcnVuQXBwKGNvbnN0IEFwcCgpKTsKJycnOwogICAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ1JlZHV4JykgewogICAgICBtYWluQ29udGVudCArPSAnJycKICBmaW5hbCBzdG9yZSA9IFN0b3JlPEFwcFN0YXRlPigKICAgIGFwcFJlZHVjZXIsCiAgICBpbml0aWFsU3RhdGU6IEFwcFN0YXRlLmluaXRpYWwoKSwKICAgIG1pZGRsZXdhcmU6IFt0aHVua01pZGRsZXdhcmVdLAogICk7CiAgCiAgcnVuQXBwKAogICAgU3RvcmVQcm92aWRlcjxBcHBTdGF0ZT4oCiAgICAgIHN0b3JlOiBzdG9yZSwKICAgICAgY2hpbGQ6IGNvbnN0IEFwcCgpLAogICAgKSwKICApOwonJyc7CiAgICB9IGVsc2UgewogICAgICAvLyBEZWZhdWx0CiAgICAgIG1haW5Db250ZW50ICs9ICcnJwogIHJ1bkFwcChjb25zdCBBcHAoKSk7CicnJzsKICAgIH0KICB9CgogIC8vIENsb3NlIG1haW4gZnVuY3Rpb24KICBtYWluQ29udGVudCArPSAnJyd9CicnJzsKCiAgLy8gQ3JlYXRlIHBhcmVudCBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdAogIGZpbmFsIGxpYkRpcmVjdG9yeSA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lL2xpYicpOwogIGlmICghbGliRGlyZWN0b3J5LmV4aXN0c1N5bmMoKSkgewogICAgbGliRGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgbGliIGRpcmVjdG9yeTogJHByb2plY3ROYW1lL2xpYicpOwogIH0KCiAgLy8gV3JpdGUgdGhlIG1haW4uZGFydCBmaWxlCiAgbWFpbkZpbGUud3JpdGVBc1N0cmluZ1N5bmMobWFpbkNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLnN1Y2Nlc3MoJ0dlbmVyYXRlZCBtYWluLmRhcnQgYmFzZWQgb24gcHJvamVjdCBjb25maWd1cmF0aW9uJyk7Cn0K",
      "type": "text",
    },
    {
      "path": "lib/network_layer_generator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCmltcG9ydCAnaW50ZWdyYXRlX25ldHdvcmtfZ2VuZXJhdG9yLmRhcnQnOwoKLy8vIEdlbmVyYXRlcyBhIG5ldHdvcmsgbGF5ZXIgc2VydmljZSBpZiB0aGUgTmV0d29yayBMYXllciBtb2R1bGUgaXMgc2VsZWN0ZWQKdm9pZCBnZW5lcmF0ZU5ldHdvcmtMYXllclNlcnZpY2UoCiAgICBIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsIExpc3Q8ZHluYW1pYz4gbW9kdWxlcykgewogIC8vIENoZWNrIGlmIE5ldHdvcmsgTGF5ZXIgaXMgaW4gdGhlIHNlbGVjdGVkIG1vZHVsZXMKICBpZiAoIW1vZHVsZXMuY29udGFpbnMoJ05ldHdvcmsgTGF5ZXInKSkgewogICAgY29udGV4dC5sb2dnZXIuaW5mbygKICAgICAgICAnTmV0d29yayBMYXllciBtb2R1bGUgbm90IHNlbGVjdGVkLCBza2lwcGluZyBuZXR3b3JrIGxheWVyIGdlbmVyYXRpb24nKTsKICAgIHJldHVybjsKICB9CgogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0dlbmVyYXRpbmcgbmV0d29yayBsYXllciBmb3IgJHByb2plY3ROYW1lJyk7CgogIC8vIENyZWF0ZSBkaXJlY3Rvcnkgc3RydWN0dXJlCiAgZmluYWwgZGlyZWN0b3JpZXMgPSBbCiAgICAnbGliL2NvcmUvbmV0d29yaycsCiAgICAnbGliL2NvcmUvbmV0d29yay9tb2RlbHMnLAogICAgJ2xpYi9jb3JlL25ldHdvcmsvaW50ZXJjZXB0b3JzJywKICAgICdsaWIvY29yZS9uZXR3b3JrL2V4Y2VwdGlvbnMnLAogIF07CgogIGZvciAoZmluYWwgZGlyIGluIGRpcmVjdG9yaWVzKSB7CiAgICBmaW5hbCBkaXJlY3RvcnkgPSBEaXJlY3RvcnkoJyRwcm9qZWN0TmFtZS8kZGlyJyk7CiAgICBpZiAoIWRpcmVjdG9yeS5leGlzdHNTeW5jKCkpIHsKICAgICAgZGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICAgICAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBkaXJlY3Rvcnk6ICRkaXInKTsKICAgIH0KICB9CgogIC8vIEdlbmVyYXRlIG5ldHdvcmsgbGF5ZXIgZmlsZXMKICBfZ2VuZXJhdGVBcGlDbGllbnRGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICBfZ2VuZXJhdGVOZXR3b3JrRXhjZXB0aW9uRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgX2dlbmVyYXRlQXBpUmVzcG9uc2VNb2RlbEZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwogIF9nZW5lcmF0ZUxvZ2dpbmdJbnRlcmNlcHRvckZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwogIF9nZW5lcmF0ZUF1dGhJbnRlcmNlcHRvckZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwogIC8vIF9nZW5lcmF0ZUNvbm5lY3Rpdml0eVNlcnZpY2VGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICBfZ2VuZXJhdGVBcGlDb25zdGFudHNGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICBfZ2VuZXJhdGVOZXR3b3JrUmVhZG1lRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgX2dlbmVyYXRlTmV0d29ya0luZm9GaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gQWRkIGEgc2FtcGxlIEFQSSBzZXJ2aWNlIHRvIHNob3djYXNlIGhvdyB0byBpbXBsZW1lbnQgYSBzZXJ2aWNlCiAgLy8gX2dlbmVyYXRlU2FtcGxlQXBpU2VydmljZUZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwoKICAvLyBJbnRlZ3JhdGUgd2l0aCBtYWluLmRhcnQKICBpbnRlZ3JhdGVOZXR3b3JrTGF5ZXIoY29udGV4dCwgcHJvamVjdE5hbWUpOwoKICBjb250ZXh0LmxvZ2dlci5zdWNjZXNzKCdOZXR3b3JrIGxheWVyIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHkhJyk7Cn0KCi8vLyBHZW5lcmF0ZXMgdGhlIEFQSSBjbGllbnQgZmlsZSB1c2luZyBEaW8Kdm9pZCBfZ2VuZXJhdGVBcGlDbGllbnRGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvY29yZS9uZXR3b3JrL2FwaV9jbGllbnQuZGFydCc7CiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ2RhcnQ6aW8nOwppbXBvcnQgJ3BhY2thZ2U6ZGlvL2Rpby5kYXJ0JzsKCmltcG9ydCAnaW50ZXJjZXB0b3JzL2F1dGhfaW50ZXJjZXB0b3IuZGFydCc7CmltcG9ydCAnaW50ZXJjZXB0b3JzL2xvZ2dpbmdfaW50ZXJjZXB0b3IuZGFydCc7CmltcG9ydCAnbW9kZWxzL2FwaV9yZXNwb25zZS5kYXJ0JzsKaW1wb3J0ICdleGNlcHRpb25zL25ldHdvcmtfZXhjZXB0aW9ucy5kYXJ0JzsKCi8vLyBBUEkgY2xpZW50IGZvciBoYW5kbGluZyBuZXR3b3JrIHJlcXVlc3RzCmNsYXNzIEFwaUNsaWVudCB7CiAgbGF0ZSBmaW5hbCBEaW8gX2RpbzsKICAKICAvLy8gQmFzZSBVUkwgZm9yIGFsbCBBUEkgcmVxdWVzdHMKICBmaW5hbCBTdHJpbmcgYmFzZVVybDsKICAKICAvLy8gRGVmYXVsdCB0aW1lb3V0IGluIG1pbGxpc2Vjb25kcwogIGZpbmFsIGludCB0aW1lb3V0OwogIAogIC8vLyBXaGV0aGVyIHRvIHVzZSBhdXRoZW50aWNhdGlvbiBpbnRlcmNlcHRvcgogIGZpbmFsIGJvb2wgdXNlQXV0aDsKICAKICAvLy8gQVBJIGNsaWVudCBjb25zdHJ1Y3RvcgogIEFwaUNsaWVudCh7CiAgICByZXF1aXJlZCB0aGlzLmJhc2VVcmwsCiAgICB0aGlzLnRpbWVvdXQgPSAzMDAwMCwKICAgIHRoaXMudXNlQXV0aCA9IHRydWUsCiAgfSkgewogICAgX2luaXREaW8oKTsKICB9CiAgCiAgLy8vIEluaXRpYWxpemUgRGlvIGNsaWVudCB3aXRoIGJhc2Ugb3B0aW9ucyBhbmQgaW50ZXJjZXB0b3JzCiAgdm9pZCBfaW5pdERpbygpIHsKICAgIGZpbmFsIG9wdGlvbnMgPSBCYXNlT3B0aW9ucygKICAgICAgYmFzZVVybDogYmFzZVVybCwKICAgICAgY29ubmVjdFRpbWVvdXQ6IER1cmF0aW9uKG1pbGxpc2Vjb25kczogdGltZW91dCksCiAgICAgIHJlY2VpdmVUaW1lb3V0OiBEdXJhdGlvbihtaWxsaXNlY29uZHM6IHRpbWVvdXQpLAogICAgICByZXNwb25zZVR5cGU6IFJlc3BvbnNlVHlwZS5qc29uLAogICAgICBoZWFkZXJzOiB7CiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJywKICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgICB9LAogICAgKTsKICAgIAogICAgX2RpbyA9IERpbyhvcHRpb25zKTsKICAgIAogICAgLy8gQWRkIGludGVyY2VwdG9ycwogICAgX2Rpby5pbnRlcmNlcHRvcnMuYWRkKExvZ2dpbmdJbnRlcmNlcHRvcigpKTsKICAgIAogICAgaWYgKHVzZUF1dGgpIHsKICAgICAgX2Rpby5pbnRlcmNlcHRvcnMuYWRkKEF1dGhJbnRlcmNlcHRvcigpKTsKICAgIH0KICB9CiAgCiAgLy8vIEdFVCByZXF1ZXN0CiAgRnV0dXJlPEFwaVJlc3BvbnNlPFQ+PiBnZXQ8VD4oCiAgICBTdHJpbmcgcGF0aCwgewogICAgTWFwPFN0cmluZywgZHluYW1pYz4/IHF1ZXJ5UGFyYW1ldGVycywKICAgIE9wdGlvbnM/IG9wdGlvbnMsCiAgICBDYW5jZWxUb2tlbj8gY2FuY2VsVG9rZW4sCiAgICBQcm9ncmVzc0NhbGxiYWNrPyBvblJlY2VpdmVQcm9ncmVzcywKICB9KSBhc3luYyB7CiAgICB0cnkgewogICAgICBmaW5hbCByZXNwb25zZSA9IGF3YWl0IF9kaW8uZ2V0PGR5bmFtaWM+KAogICAgICAgIHBhdGgsCiAgICAgICAgcXVlcnlQYXJhbWV0ZXJzOiBxdWVyeVBhcmFtZXRlcnMsCiAgICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgICBjYW5jZWxUb2tlbjogY2FuY2VsVG9rZW4sCiAgICAgICAgb25SZWNlaXZlUHJvZ3Jlc3M6IG9uUmVjZWl2ZVByb2dyZXNzLAogICAgICApOwogICAgICAKICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlPFQ+LmZyb21SZXNwb25zZShyZXNwb25zZSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBBcGlSZXNwb25zZTxUPi53aXRoRXJyb3IoX2hhbmRsZUVycm9yKGUpKTsKICAgIH0KICB9CiAgCiAgLy8vIFBPU1QgcmVxdWVzdAogIEZ1dHVyZTxBcGlSZXNwb25zZTxUPj4gcG9zdDxUPigKICAgIFN0cmluZyBwYXRoLCB7CiAgICBkeW5hbWljIGRhdGEsCiAgICBNYXA8U3RyaW5nLCBkeW5hbWljPj8gcXVlcnlQYXJhbWV0ZXJzLAogICAgT3B0aW9ucz8gb3B0aW9ucywKICAgIENhbmNlbFRva2VuPyBjYW5jZWxUb2tlbiwKICAgIFByb2dyZXNzQ2FsbGJhY2s/IG9uU2VuZFByb2dyZXNzLAogICAgUHJvZ3Jlc3NDYWxsYmFjaz8gb25SZWNlaXZlUHJvZ3Jlc3MsCiAgfSkgYXN5bmMgewogICAgdHJ5IHsKICAgICAgZmluYWwgcmVzcG9uc2UgPSBhd2FpdCBfZGlvLnBvc3Q8ZHluYW1pYz4oCiAgICAgICAgcGF0aCwKICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgIHF1ZXJ5UGFyYW1ldGVyczogcXVlcnlQYXJhbWV0ZXJzLAogICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsCiAgICAgICAgY2FuY2VsVG9rZW46IGNhbmNlbFRva2VuLAogICAgICAgIG9uU2VuZFByb2dyZXNzOiBvblNlbmRQcm9ncmVzcywKICAgICAgICBvblJlY2VpdmVQcm9ncmVzczogb25SZWNlaXZlUHJvZ3Jlc3MsCiAgICAgICk7CiAgICAgIAogICAgICByZXR1cm4gQXBpUmVzcG9uc2U8VD4uZnJvbVJlc3BvbnNlKHJlc3BvbnNlKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlPFQ+LndpdGhFcnJvcihfaGFuZGxlRXJyb3IoZSkpOwogICAgfQogIH0KICAKICAvLy8gUFVUIHJlcXVlc3QKICBGdXR1cmU8QXBpUmVzcG9uc2U8VD4+IHB1dDxUPigKICAgIFN0cmluZyBwYXRoLCB7CiAgICBkeW5hbWljIGRhdGEsCiAgICBNYXA8U3RyaW5nLCBkeW5hbWljPj8gcXVlcnlQYXJhbWV0ZXJzLAogICAgT3B0aW9ucz8gb3B0aW9ucywKICAgIENhbmNlbFRva2VuPyBjYW5jZWxUb2tlbiwKICAgIFByb2dyZXNzQ2FsbGJhY2s/IG9uU2VuZFByb2dyZXNzLAogICAgUHJvZ3Jlc3NDYWxsYmFjaz8gb25SZWNlaXZlUHJvZ3Jlc3MsCiAgfSkgYXN5bmMgewogICAgdHJ5IHsKICAgICAgZmluYWwgcmVzcG9uc2UgPSBhd2FpdCBfZGlvLnB1dDxkeW5hbWljPigKICAgICAgICBwYXRoLAogICAgICAgIGRhdGE6IGRhdGEsCiAgICAgICAgcXVlcnlQYXJhbWV0ZXJzOiBxdWVyeVBhcmFtZXRlcnMsCiAgICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgICBjYW5jZWxUb2tlbjogY2FuY2VsVG9rZW4sCiAgICAgICAgb25TZW5kUHJvZ3Jlc3M6IG9uU2VuZFByb2dyZXNzLAogICAgICAgIG9uUmVjZWl2ZVByb2dyZXNzOiBvblJlY2VpdmVQcm9ncmVzcywKICAgICAgKTsKICAgICAgCiAgICAgIHJldHVybiBBcGlSZXNwb25zZTxUPi5mcm9tUmVzcG9uc2UocmVzcG9uc2UpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gQXBpUmVzcG9uc2U8VD4ud2l0aEVycm9yKF9oYW5kbGVFcnJvcihlKSk7CiAgICB9CiAgfQogIAogIC8vLyBERUxFVEUgcmVxdWVzdAogIEZ1dHVyZTxBcGlSZXNwb25zZTxUPj4gZGVsZXRlPFQ+KAogICAgU3RyaW5nIHBhdGgsIHsKICAgIGR5bmFtaWMgZGF0YSwKICAgIE1hcDxTdHJpbmcsIGR5bmFtaWM+PyBxdWVyeVBhcmFtZXRlcnMsCiAgICBPcHRpb25zPyBvcHRpb25zLAogICAgQ2FuY2VsVG9rZW4/IGNhbmNlbFRva2VuLAogIH0pIGFzeW5jIHsKICAgIHRyeSB7CiAgICAgIGZpbmFsIHJlc3BvbnNlID0gYXdhaXQgX2Rpby5kZWxldGU8ZHluYW1pYz4oCiAgICAgICAgcGF0aCwKICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgIHF1ZXJ5UGFyYW1ldGVyczogcXVlcnlQYXJhbWV0ZXJzLAogICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsCiAgICAgICAgY2FuY2VsVG9rZW46IGNhbmNlbFRva2VuLAogICAgICApOwogICAgICAKICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlPFQ+LmZyb21SZXNwb25zZShyZXNwb25zZSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHJldHVybiBBcGlSZXNwb25zZTxUPi53aXRoRXJyb3IoX2hhbmRsZUVycm9yKGUpKTsKICAgIH0KICB9CiAgCiAgLy8vIFBBVENIIHJlcXVlc3QKICBGdXR1cmU8QXBpUmVzcG9uc2U8VD4+IHBhdGNoPFQ+KAogICAgU3RyaW5nIHBhdGgsIHsKICAgIGR5bmFtaWMgZGF0YSwKICAgIE1hcDxTdHJpbmcsIGR5bmFtaWM+PyBxdWVyeVBhcmFtZXRlcnMsCiAgICBPcHRpb25zPyBvcHRpb25zLAogICAgQ2FuY2VsVG9rZW4/IGNhbmNlbFRva2VuLAogICAgUHJvZ3Jlc3NDYWxsYmFjaz8gb25TZW5kUHJvZ3Jlc3MsCiAgICBQcm9ncmVzc0NhbGxiYWNrPyBvblJlY2VpdmVQcm9ncmVzcywKICB9KSBhc3luYyB7CiAgICB0cnkgewogICAgICBmaW5hbCByZXNwb25zZSA9IGF3YWl0IF9kaW8ucGF0Y2g8ZHluYW1pYz4oCiAgICAgICAgcGF0aCwKICAgICAgICBkYXRhOiBkYXRhLAogICAgICAgIHF1ZXJ5UGFyYW1ldGVyczogcXVlcnlQYXJhbWV0ZXJzLAogICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsCiAgICAgICAgY2FuY2VsVG9rZW46IGNhbmNlbFRva2VuLAogICAgICAgIG9uU2VuZFByb2dyZXNzOiBvblNlbmRQcm9ncmVzcywKICAgICAgICBvblJlY2VpdmVQcm9ncmVzczogb25SZWNlaXZlUHJvZ3Jlc3MsCiAgICAgICk7CiAgICAgIAogICAgICByZXR1cm4gQXBpUmVzcG9uc2U8VD4uZnJvbVJlc3BvbnNlKHJlc3BvbnNlKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgcmV0dXJuIEFwaVJlc3BvbnNlPFQ+LndpdGhFcnJvcihfaGFuZGxlRXJyb3IoZSkpOwogICAgfQogIH0KICAKICAvLy8gRG93bmxvYWQgZmlsZQogIEZ1dHVyZTxBcGlSZXNwb25zZTxTdHJpbmc+PiBkb3dubG9hZCgKICAgIFN0cmluZyB1cmwsCiAgICBTdHJpbmcgc2F2ZVBhdGgsIHsKICAgIFByb2dyZXNzQ2FsbGJhY2s/IG9uUmVjZWl2ZVByb2dyZXNzLAogICAgQ2FuY2VsVG9rZW4/IGNhbmNlbFRva2VuLAogICAgYm9vbCBkZWxldGVPbkVycm9yID0gdHJ1ZSwKICAgIE9wdGlvbnM/IG9wdGlvbnMsCiAgfSkgYXN5bmMgewogICAgdHJ5IHsKICAgICAgZmluYWwgcmVzcG9uc2UgPSBhd2FpdCBfZGlvLmRvd25sb2FkKAogICAgICAgIHVybCwKICAgICAgICBzYXZlUGF0aCwKICAgICAgICBvblJlY2VpdmVQcm9ncmVzczogb25SZWNlaXZlUHJvZ3Jlc3MsCiAgICAgICAgY2FuY2VsVG9rZW46IGNhbmNlbFRva2VuLAogICAgICAgIGRlbGV0ZU9uRXJyb3I6IGRlbGV0ZU9uRXJyb3IsCiAgICAgICAgb3B0aW9uczogb3B0aW9ucywKICAgICAgKTsKICAgICAgCiAgICAgIHJldHVybiBBcGlSZXNwb25zZTxTdHJpbmc+LmZyb21SZXNwb25zZShyZXNwb25zZSwgZGF0YTogc2F2ZVBhdGgpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gQXBpUmVzcG9uc2U8U3RyaW5nPi53aXRoRXJyb3IoX2hhbmRsZUVycm9yKGUpKTsKICAgIH0KICB9CiAgCiAgLy8vIEhhbmRsZSBhbGwgcG9zc2libGUgZXJyb3JzIGZyb20gRGlvCiAgTmV0d29ya0V4Y2VwdGlvbnMgX2hhbmRsZUVycm9yKGR5bmFtaWMgZXJyb3IpIHsKICAgIGlmIChlcnJvciBpcyBEaW9FeGNlcHRpb24pIHsKICAgICAgc3dpdGNoIChlcnJvci50eXBlKSB7CiAgICAgICAgY2FzZSBEaW9FeGNlcHRpb25UeXBlLmNvbm5lY3Rpb25UaW1lb3V0OgogICAgICAgICAgcmV0dXJuIGNvbnN0IE5ldHdvcmtFeGNlcHRpb25zLnJlcXVlc3RUaW1lb3V0KCk7CiAgICAgICAgY2FzZSBEaW9FeGNlcHRpb25UeXBlLnNlbmRUaW1lb3V0OgogICAgICAgICAgcmV0dXJuIGNvbnN0IE5ldHdvcmtFeGNlcHRpb25zLnNlbmRUaW1lb3V0KCk7CiAgICAgICAgY2FzZSBEaW9FeGNlcHRpb25UeXBlLnJlY2VpdmVUaW1lb3V0OgogICAgICAgICAgcmV0dXJuIGNvbnN0IE5ldHdvcmtFeGNlcHRpb25zLnJlY2VpdmVUaW1lb3V0KCk7CiAgICAgICAgY2FzZSBEaW9FeGNlcHRpb25UeXBlLmNhbmNlbDoKICAgICAgICAgIHJldHVybiBjb25zdCBOZXR3b3JrRXhjZXB0aW9ucy5yZXF1ZXN0Q2FuY2VsbGVkKCk7CiAgICAgICAgY2FzZSBEaW9FeGNlcHRpb25UeXBlLmJhZFJlc3BvbnNlOgogICAgICAgICAgcmV0dXJuIF9oYW5kbGVCYWRSZXNwb25zZShlcnJvcik7CiAgICAgICAgY2FzZSBEaW9FeGNlcHRpb25UeXBlLmNvbm5lY3Rpb25FcnJvcjoKICAgICAgICAgIHJldHVybiBjb25zdCBOZXR3b3JrRXhjZXB0aW9ucy5ub0ludGVybmV0Q29ubmVjdGlvbigpOwogICAgICAgIGNhc2UgRGlvRXhjZXB0aW9uVHlwZS5iYWRDZXJ0aWZpY2F0ZToKICAgICAgICAgIHJldHVybiBjb25zdCBOZXR3b3JrRXhjZXB0aW9ucy5iYWRDZXJ0aWZpY2F0ZSgpOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gY29uc3QgTmV0d29ya0V4Y2VwdGlvbnMudW5leHBlY3RlZEVycm9yKCk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAoZXJyb3IgaXMgU29ja2V0RXhjZXB0aW9uKSB7CiAgICAgIHJldHVybiBjb25zdCBOZXR3b3JrRXhjZXB0aW9ucy5ub0ludGVybmV0Q29ubmVjdGlvbigpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGNvbnN0IE5ldHdvcmtFeGNlcHRpb25zLnVuZXhwZWN0ZWRFcnJvcigpOwogICAgfQogIH0KICAKICAvLy8gSGFuZGxlIGJhZCByZXNwb25zZXMgd2l0aCBkaWZmZXJlbnQgc3RhdHVzIGNvZGVzCiAgTmV0d29ya0V4Y2VwdGlvbnMgX2hhbmRsZUJhZFJlc3BvbnNlKERpb0V4Y2VwdGlvbiBlcnJvcikgewogICAgaWYgKGVycm9yLnJlc3BvbnNlID09IG51bGwpIHsKICAgICAgcmV0dXJuIGNvbnN0IE5ldHdvcmtFeGNlcHRpb25zLnVuZXhwZWN0ZWRFcnJvcigpOwogICAgfQogICAgCiAgICBzd2l0Y2ggKGVycm9yLnJlc3BvbnNlIS5zdGF0dXNDb2RlKSB7CiAgICAgIGNhc2UgNDAwOgogICAgICAgIHJldHVybiBjb25zdCBOZXR3b3JrRXhjZXB0aW9ucy5iYWRSZXF1ZXN0KCk7CiAgICAgIGNhc2UgNDAxOgogICAgICAgIHJldHVybiBjb25zdCBOZXR3b3JrRXhjZXB0aW9ucy51bmF1dGhvcml6ZWRSZXF1ZXN0KCk7CiAgICAgIGNhc2UgNDAzOgogICAgICAgIHJldHVybiBjb25zdCBOZXR3b3JrRXhjZXB0aW9ucy5mb3JiaWRkZW5SZXF1ZXN0KCk7CiAgICAgIGNhc2UgNDA0OgogICAgICAgIHJldHVybiBjb25zdCBOZXR3b3JrRXhjZXB0aW9ucy5ub3RGb3VuZCgpOwogICAgICBjYXNlIDQwOToKICAgICAgICByZXR1cm4gY29uc3QgTmV0d29ya0V4Y2VwdGlvbnMuY29uZmxpY3QoKTsKICAgICAgY2FzZSA0MDg6CiAgICAgICAgcmV0dXJuIGNvbnN0IE5ldHdvcmtFeGNlcHRpb25zLnJlcXVlc3RUaW1lb3V0KCk7CiAgICAgIGNhc2UgNTAwOgogICAgICAgIHJldHVybiBjb25zdCBOZXR3b3JrRXhjZXB0aW9ucy5pbnRlcm5hbFNlcnZlckVycm9yKCk7CiAgICAgIGNhc2UgNTAzOgogICAgICAgIHJldHVybiBjb25zdCBOZXR3b3JrRXhjZXB0aW9ucy5zZXJ2aWNlVW5hdmFpbGFibGUoKTsKICAgICAgZGVmYXVsdDoKICAgICAgICByZXR1cm4gTmV0d29ya0V4Y2VwdGlvbnMuZGVmYXVsdEVycm9yKAogICAgICAgICAgJ0Vycm9yIHdpdGggc3RhdHVzIGNvZGU6IFwke2Vycm9yLnJlc3BvbnNlIS5zdGF0dXNDb2RlfScsCiAgICAgICAgKTsKICAgIH0KICB9CiAgCiAgLy8vIEdldCByYXcgRGlvIGNsaWVudCAodXNlIHdpdGggY2F1dGlvbikKICBEaW8gZ2V0IGRpbyA9PiBfZGlvOwp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlcyB0aGUgbmV0d29yayBleGNlcHRpb25zIGZpbGUKdm9pZCBfZ2VuZXJhdGVOZXR3b3JrRXhjZXB0aW9uRmlsZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBmaWxlUGF0aCA9CiAgICAgICckcHJvamVjdE5hbWUvbGliL2NvcmUvbmV0d29yay9leGNlcHRpb25zL25ldHdvcmtfZXhjZXB0aW9ucy5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmcmVlemVkX2Fubm90YXRpb24vZnJlZXplZF9hbm5vdGF0aW9uLmRhcnQnOwoKcGFydCAnbmV0d29ya19leGNlcHRpb25zLmZyZWV6ZWQuZGFydCc7CgovLy8gQ3VzdG9tIGV4Y2VwdGlvbiBjbGFzcyB0byBoYW5kbGUgdmFyaW91cyBuZXR3b3JrLXJlbGF0ZWQgZXJyb3JzCkBmcmVlemVkCmNsYXNzIE5ldHdvcmtFeGNlcHRpb25zIHdpdGggX1wkTmV0d29ya0V4Y2VwdGlvbnMgewogIGNvbnN0IGZhY3RvcnkgTmV0d29ya0V4Y2VwdGlvbnMucmVxdWVzdENhbmNlbGxlZCgpID0gUmVxdWVzdENhbmNlbGxlZDsKICAKICBjb25zdCBmYWN0b3J5IE5ldHdvcmtFeGNlcHRpb25zLnVuYXV0aG9yaXplZFJlcXVlc3QoKSA9IFVuYXV0aG9yaXplZFJlcXVlc3Q7CiAgCiAgY29uc3QgZmFjdG9yeSBOZXR3b3JrRXhjZXB0aW9ucy5iYWRSZXF1ZXN0KCkgPSBCYWRSZXF1ZXN0OwogIAogIGNvbnN0IGZhY3RvcnkgTmV0d29ya0V4Y2VwdGlvbnMuZm9yYmlkZGVuKCkgPSBGb3JiaWRkZW47CiAgCiAgY29uc3QgZmFjdG9yeSBOZXR3b3JrRXhjZXB0aW9ucy5mb3JiaWRkZW5SZXF1ZXN0KCkgPSBGb3JiaWRkZW5SZXF1ZXN0OwogIAogIGNvbnN0IGZhY3RvcnkgTmV0d29ya0V4Y2VwdGlvbnMubm90Rm91bmQoKSA9IE5vdEZvdW5kOwogIAogIGNvbnN0IGZhY3RvcnkgTmV0d29ya0V4Y2VwdGlvbnMubWV0aG9kTm90QWxsb3dlZCgpID0gTWV0aG9kTm90QWxsb3dlZDsKICAKICBjb25zdCBmYWN0b3J5IE5ldHdvcmtFeGNlcHRpb25zLm5vdEFjY2VwdGFibGUoKSA9IE5vdEFjY2VwdGFibGU7CiAgCiAgY29uc3QgZmFjdG9yeSBOZXR3b3JrRXhjZXB0aW9ucy5yZXF1ZXN0VGltZW91dCgpID0gUmVxdWVzdFRpbWVvdXQ7CiAgCiAgY29uc3QgZmFjdG9yeSBOZXR3b3JrRXhjZXB0aW9ucy5yZWNlaXZlVGltZW91dCgpID0gUmVjZWl2ZVRpbWVvdXQ7CiAgCiAgY29uc3QgZmFjdG9yeSBOZXR3b3JrRXhjZXB0aW9ucy5zZW5kVGltZW91dCgpID0gU2VuZFRpbWVvdXQ7CiAgCiAgY29uc3QgZmFjdG9yeSBOZXR3b3JrRXhjZXB0aW9ucy5jb25mbGljdCgpID0gQ29uZmxpY3Q7CiAgCiAgY29uc3QgZmFjdG9yeSBOZXR3b3JrRXhjZXB0aW9ucy5pbnRlcm5hbFNlcnZlckVycm9yKCkgPSBJbnRlcm5hbFNlcnZlckVycm9yOwogIAogIGNvbnN0IGZhY3RvcnkgTmV0d29ya0V4Y2VwdGlvbnMubm90SW1wbGVtZW50ZWQoKSA9IE5vdEltcGxlbWVudGVkOwogIAogIGNvbnN0IGZhY3RvcnkgTmV0d29ya0V4Y2VwdGlvbnMuc2VydmljZVVuYXZhaWxhYmxlKCkgPSBTZXJ2aWNlVW5hdmFpbGFibGU7CiAgCiAgY29uc3QgZmFjdG9yeSBOZXR3b3JrRXhjZXB0aW9ucy5ub0ludGVybmV0Q29ubmVjdGlvbigpID0gTm9JbnRlcm5ldENvbm5lY3Rpb247CiAgCiAgY29uc3QgZmFjdG9yeSBOZXR3b3JrRXhjZXB0aW9ucy5mb3JtYXRFeGNlcHRpb24oKSA9IEZvcm1hdEV4Y2VwdGlvbjsKICAKICBjb25zdCBmYWN0b3J5IE5ldHdvcmtFeGNlcHRpb25zLnVuYWJsZVRvUHJvY2VzcygpID0gVW5hYmxlVG9Qcm9jZXNzOwogIAogIGNvbnN0IGZhY3RvcnkgTmV0d29ya0V4Y2VwdGlvbnMuZGVmYXVsdEVycm9yKFN0cmluZyBlcnJvcikgPSBEZWZhdWx0RXJyb3I7CiAgCiAgY29uc3QgZmFjdG9yeSBOZXR3b3JrRXhjZXB0aW9ucy51bmV4cGVjdGVkRXJyb3IoKSA9IFVuZXhwZWN0ZWRFcnJvcjsKICAKICBjb25zdCBmYWN0b3J5IE5ldHdvcmtFeGNlcHRpb25zLmJhZENlcnRpZmljYXRlKCkgPSBCYWRDZXJ0aWZpY2F0ZTsKCiAgLy8vIFJldHVybnMgYSBtZXNzYWdlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXhjZXB0aW9uIHR5cGUKICBzdGF0aWMgU3RyaW5nIGdldEVycm9yTWVzc2FnZShOZXR3b3JrRXhjZXB0aW9ucyBuZXR3b3JrRXhjZXB0aW9ucykgewogICAgdmFyIGVycm9yTWVzc2FnZSA9ICIiOwogICAgCiAgICBuZXR3b3JrRXhjZXB0aW9ucy53aGVuKAogICAgICByZXF1ZXN0Q2FuY2VsbGVkOiAoKSB7CiAgICAgICAgZXJyb3JNZXNzYWdlID0gIlJlcXVlc3Qgd2FzIGNhbmNlbGxlZCI7CiAgICAgIH0sCiAgICAgIHVuYXV0aG9yaXplZFJlcXVlc3Q6ICgpIHsKICAgICAgICBlcnJvck1lc3NhZ2UgPSAiVW5hdXRob3JpemVkIHJlcXVlc3QiOwogICAgICB9LAogICAgICBiYWRSZXF1ZXN0OiAoKSB7CiAgICAgICAgZXJyb3JNZXNzYWdlID0gIkJhZCByZXF1ZXN0IjsKICAgICAgfSwKICAgICAgZm9yYmlkZGVuOiAoKSB7CiAgICAgICAgZXJyb3JNZXNzYWdlID0gIkZvcmJpZGRlbiI7CiAgICAgIH0sCiAgICAgIGZvcmJpZGRlblJlcXVlc3Q6ICgpIHsKICAgICAgICBlcnJvck1lc3NhZ2UgPSAiRm9yYmlkZGVuIHJlcXVlc3QiOwogICAgICB9LAogICAgICBub3RGb3VuZDogKCkgewogICAgICAgIGVycm9yTWVzc2FnZSA9ICJUaGUgcmVxdWVzdGVkIHJlc291cmNlIGNvdWxkIG5vdCBiZSBmb3VuZCI7CiAgICAgIH0sCiAgICAgIG1ldGhvZE5vdEFsbG93ZWQ6ICgpIHsKICAgICAgICBlcnJvck1lc3NhZ2UgPSAiTWV0aG9kIG5vdCBhbGxvd2VkIjsKICAgICAgfSwKICAgICAgbm90QWNjZXB0YWJsZTogKCkgewogICAgICAgIGVycm9yTWVzc2FnZSA9ICJUaGUgcmVxdWVzdCBpcyBub3QgYWNjZXB0YWJsZSI7CiAgICAgIH0sCiAgICAgIHJlcXVlc3RUaW1lb3V0OiAoKSB7CiAgICAgICAgZXJyb3JNZXNzYWdlID0gIlJlcXVlc3QgdGltZW91dCI7CiAgICAgIH0sCiAgICAgIHJlY2VpdmVUaW1lb3V0OiAoKSB7CiAgICAgICAgZXJyb3JNZXNzYWdlID0gIlJlY2VpdmUgdGltZW91dCI7CiAgICAgIH0sCiAgICAgIHNlbmRUaW1lb3V0OiAoKSB7CiAgICAgICAgZXJyb3JNZXNzYWdlID0gIlNlbmQgdGltZW91dCI7CiAgICAgIH0sCiAgICAgIGNvbmZsaWN0OiAoKSB7CiAgICAgICAgZXJyb3JNZXNzYWdlID0gIlJlc291cmNlIGNvbmZsaWN0IjsKICAgICAgfSwKICAgICAgaW50ZXJuYWxTZXJ2ZXJFcnJvcjogKCkgewogICAgICAgIGVycm9yTWVzc2FnZSA9ICJJbnRlcm5hbCBzZXJ2ZXIgZXJyb3IiOwogICAgICB9LAogICAgICBub3RJbXBsZW1lbnRlZDogKCkgewogICAgICAgIGVycm9yTWVzc2FnZSA9ICJOb3QgaW1wbGVtZW50ZWQiOwogICAgICB9LAogICAgICBzZXJ2aWNlVW5hdmFpbGFibGU6ICgpIHsKICAgICAgICBlcnJvck1lc3NhZ2UgPSAiU2VydmljZSB1bmF2YWlsYWJsZSI7CiAgICAgIH0sCiAgICAgIG5vSW50ZXJuZXRDb25uZWN0aW9uOiAoKSB7CiAgICAgICAgZXJyb3JNZXNzYWdlID0gIk5vIGludGVybmV0IGNvbm5lY3Rpb24iOwogICAgICB9LAogICAgICBmb3JtYXRFeGNlcHRpb246ICgpIHsKICAgICAgICBlcnJvck1lc3NhZ2UgPSAiRm9ybWF0IGV4Y2VwdGlvbiI7CiAgICAgIH0sCiAgICAgIHVuYWJsZVRvUHJvY2VzczogKCkgewogICAgICAgIGVycm9yTWVzc2FnZSA9ICJVbmFibGUgdG8gcHJvY2VzcyB0aGUgZGF0YSI7CiAgICAgIH0sCiAgICAgIGRlZmF1bHRFcnJvcjogKFN0cmluZyBlcnJvcikgewogICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yOwogICAgICB9LAogICAgICB1bmV4cGVjdGVkRXJyb3I6ICgpIHsKICAgICAgICBlcnJvck1lc3NhZ2UgPSAiQW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCI7CiAgICAgIH0sCiAgICAgIGJhZENlcnRpZmljYXRlOiAoKSB7CiAgICAgICAgZXJyb3JNZXNzYWdlID0gIkJhZCBjZXJ0aWZpY2F0ZSI7CiAgICAgIH0sCiAgICApOwogICAgCiAgICByZXR1cm4gZXJyb3JNZXNzYWdlOwogIH0KfQonJyc7CgogIGZpbmFsIGZpbGUgPSBGaWxlKGZpbGVQYXRoKTsKICBmaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJGZpbGVQYXRoJyk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygKICAgICAgJ05vdGU6IFJ1biAiZmx1dHRlciBwdWIgcnVuIGJ1aWxkX3J1bm5lciBidWlsZCAtLWRlbGV0ZS1jb25mbGljdGluZy1vdXRwdXRzIiB0byBnZW5lcmF0ZSB0aGUgZnJlZXplZCBjb2RlJyk7Cn0KCi8vLyBHZW5lcmF0ZXMgdGhlIEFQSSByZXNwb25zZSBtb2RlbCBmaWxlCnZvaWQgX2dlbmVyYXRlQXBpUmVzcG9uc2VNb2RlbEZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9jb3JlL25ldHdvcmsvbW9kZWxzL2FwaV9yZXNwb25zZS5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpkaW8vZGlvLmRhcnQnOwoKaW1wb3J0ICcuLi9leGNlcHRpb25zL25ldHdvcmtfZXhjZXB0aW9ucy5kYXJ0JzsKCi8vLyBTdGF0dXMgb2YgdGhlIEFQSSByZXNwb25zZQplbnVtIEFwaVN0YXR1cyB7CiAgc3VjY2VzcywKICBlcnJvciwKICBsb2FkaW5nLAp9CgovLy8gV3JhcHBlciBjbGFzcyBmb3IgQVBJIHJlc3BvbnNlcyB0byBoYW5kbGUgc3VjY2VzcyBhbmQgZXJyb3Igc3RhdGVzCmNsYXNzIEFwaVJlc3BvbnNlPFQ+IHsKICBmaW5hbCBBcGlTdGF0dXMgc3RhdHVzOwogIGZpbmFsIFQ/IGRhdGE7CiAgZmluYWwgTmV0d29ya0V4Y2VwdGlvbnM/IGVycm9yOwogIGZpbmFsIFJlc3BvbnNlPGR5bmFtaWM+PyByZXNwb25zZTsKICAKICBBcGlSZXNwb25zZSh7CiAgICByZXF1aXJlZCB0aGlzLnN0YXR1cywKICAgIHRoaXMuZGF0YSwKICAgIHRoaXMuZXJyb3IsCiAgICB0aGlzLnJlc3BvbnNlLAogIH0pOwogIAogIC8vLyBDcmVhdGUgYSBzdWNjZXNzZnVsIHJlc3BvbnNlCiAgZmFjdG9yeSBBcGlSZXNwb25zZS5zdWNjZXNzKFQgZGF0YSwge1Jlc3BvbnNlPGR5bmFtaWM+PyByZXNwb25zZX0pIHsKICAgIHJldHVybiBBcGlSZXNwb25zZTxUPigKICAgICAgc3RhdHVzOiBBcGlTdGF0dXMuc3VjY2VzcywKICAgICAgZGF0YTogZGF0YSwKICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlLAogICAgKTsKICB9CiAgCiAgLy8vIENyZWF0ZSBhbiBlcnJvciByZXNwb25zZQogIGZhY3RvcnkgQXBpUmVzcG9uc2Uud2l0aEVycm9yKE5ldHdvcmtFeGNlcHRpb25zIGVycm9yKSB7CiAgICByZXR1cm4gQXBpUmVzcG9uc2U8VD4oCiAgICAgIHN0YXR1czogQXBpU3RhdHVzLmVycm9yLAogICAgICBlcnJvcjogZXJyb3IsCiAgICApOwogIH0KICAKICAvLy8gQ3JlYXRlIGEgbG9hZGluZyByZXNwb25zZQogIGZhY3RvcnkgQXBpUmVzcG9uc2UubG9hZGluZygpIHsKICAgIHJldHVybiBBcGlSZXNwb25zZTxUPihzdGF0dXM6IEFwaVN0YXR1cy5sb2FkaW5nKTsKICB9CiAgCiAgLy8vIENyZWF0ZSBhIHJlc3BvbnNlIGZyb20gYSBEaW8gcmVzcG9uc2UKICBmYWN0b3J5IEFwaVJlc3BvbnNlLmZyb21SZXNwb25zZSgKICAgIFJlc3BvbnNlPGR5bmFtaWM+IHJlc3BvbnNlLCB7CiAgICBUPyBkYXRhLAogIH0pIHsKICAgIHJldHVybiBBcGlSZXNwb25zZTxUPigKICAgICAgc3RhdHVzOiBBcGlTdGF0dXMuc3VjY2VzcywKICAgICAgZGF0YTogZGF0YSA/PyByZXNwb25zZS5kYXRhIGFzIFQsCiAgICAgIHJlc3BvbnNlOiByZXNwb25zZSwKICAgICk7CiAgfQogIAogIC8vLyBDaGVjayBpZiB0aGUgcmVzcG9uc2UgaXMgc3VjY2Vzc2Z1bAogIGJvb2wgZ2V0IGlzU3VjY2VzcyA9PiBzdGF0dXMgPT0gQXBpU3RhdHVzLnN1Y2Nlc3M7CiAgCiAgLy8vIENoZWNrIGlmIHRoZSByZXNwb25zZSBoYXMgYW4gZXJyb3IKICBib29sIGdldCBpc0Vycm9yID0+IHN0YXR1cyA9PSBBcGlTdGF0dXMuZXJyb3I7CiAgCiAgLy8vIENoZWNrIGlmIHRoZSByZXNwb25zZSBpcyBsb2FkaW5nCiAgYm9vbCBnZXQgaXNMb2FkaW5nID0+IHN0YXR1cyA9PSBBcGlTdGF0dXMubG9hZGluZzsKICAKICAvLy8gR2V0IHRoZSBIVFRQIHN0YXR1cyBjb2RlIGlmIGF2YWlsYWJsZQogIGludD8gZ2V0IHN0YXR1c0NvZGUgPT4gcmVzcG9uc2U/LnN0YXR1c0NvZGU7CiAgCiAgLy8vIEdldCB0aGUgZXJyb3IgbWVzc2FnZSBpZiBhdmFpbGFibGUKICBTdHJpbmcgZ2V0IGVycm9yTWVzc2FnZSA9PiBlcnJvciAhPSBudWxsIAogICAgPyBOZXR3b3JrRXhjZXB0aW9ucy5nZXRFcnJvck1lc3NhZ2UoZXJyb3IhKQogICAgOiAnVW5rbm93biBlcnJvcic7Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIHRoZSBsb2dnaW5nIGludGVyY2VwdG9yIGZpbGUKdm9pZCBfZ2VuZXJhdGVMb2dnaW5nSW50ZXJjZXB0b3JGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9uZXR3b3JrL2ludGVyY2VwdG9ycy9sb2dnaW5nX2ludGVyY2VwdG9yLmRhcnQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmRpby9kaW8uZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyL2ZvdW5kYXRpb24uZGFydCc7CgovLy8gSW50ZXJjZXB0b3IgZm9yIGxvZ2dpbmcgcmVxdWVzdHMsIHJlc3BvbnNlcywgYW5kIGVycm9ycwpjbGFzcyBMb2dnaW5nSW50ZXJjZXB0b3IgZXh0ZW5kcyBJbnRlcmNlcHRvciB7CiAgQG92ZXJyaWRlCiAgdm9pZCBvblJlcXVlc3QoUmVxdWVzdE9wdGlvbnMgb3B0aW9ucywgUmVxdWVzdEludGVyY2VwdG9ySGFuZGxlciBoYW5kbGVyKSB7CiAgICBpZiAoa0RlYnVnTW9kZSkgewogICAgICBmaW5hbCBtZXRob2QgPSBvcHRpb25zLm1ldGhvZC50b1VwcGVyQ2FzZSgpOwogICAgICBmaW5hbCB1cmwgPSBvcHRpb25zLnVyaS50b1N0cmluZygpOwogICAgICAKICAgICAgcHJpbnQoJ1xcbi0tPiBcJG1ldGhvZCBcJHVybCcpOwogICAgICAKICAgICAgaWYgKG9wdGlvbnMuaGVhZGVycy5pc05vdEVtcHR5KSB7CiAgICAgICAgcHJpbnQoJ0hlYWRlcnM6Jyk7CiAgICAgICAgb3B0aW9ucy5oZWFkZXJzLmZvckVhY2goKGtleSwgdmFsdWUpID0+IHByaW50KCdcJGtleTogXCR2YWx1ZScpKTsKICAgICAgfQogICAgICAKICAgICAgaWYgKG9wdGlvbnMuZGF0YSAhPSBudWxsKSB7CiAgICAgICAgcHJpbnQoJ1JlcXVlc3QgQm9keTonKTsKICAgICAgICBfcHJldHR5UHJpbnRKc29uKG9wdGlvbnMuZGF0YSk7CiAgICAgIH0KICAgICAgCiAgICAgIGlmIChvcHRpb25zLnF1ZXJ5UGFyYW1ldGVycy5pc05vdEVtcHR5KSB7CiAgICAgICAgcHJpbnQoJ1F1ZXJ5IFBhcmFtZXRlcnM6Jyk7CiAgICAgICAgb3B0aW9ucy5xdWVyeVBhcmFtZXRlcnMuZm9yRWFjaCgoa2V5LCB2YWx1ZSkgPT4gcHJpbnQoJ1wka2V5OiBcJHZhbHVlJykpOwogICAgICB9CiAgICB9CiAgICAKICAgIHN1cGVyLm9uUmVxdWVzdChvcHRpb25zLCBoYW5kbGVyKTsKICB9CgogIEBvdmVycmlkZQogIHZvaWQgb25SZXNwb25zZShSZXNwb25zZSByZXNwb25zZSwgUmVzcG9uc2VJbnRlcmNlcHRvckhhbmRsZXIgaGFuZGxlcikgewogICAgaWYgKGtEZWJ1Z01vZGUpIHsKICAgICAgZmluYWwgc3RhdHVzQ29kZSA9IHJlc3BvbnNlLnN0YXR1c0NvZGU7CiAgICAgIGZpbmFsIG1ldGhvZCA9IHJlc3BvbnNlLnJlcXVlc3RPcHRpb25zLm1ldGhvZC50b1VwcGVyQ2FzZSgpOwogICAgICBmaW5hbCB1cmwgPSByZXNwb25zZS5yZXF1ZXN0T3B0aW9ucy51cmkudG9TdHJpbmcoKTsKICAgICAgCiAgICAgIHByaW50KCdcXG48LS0gXCRzdGF0dXNDb2RlIFwkbWV0aG9kIFwkdXJsJyk7CiAgICAgIAogICAgICBpZiAocmVzcG9uc2UuaGVhZGVycy5tYXAuaXNOb3RFbXB0eSkgewogICAgICAgIHByaW50KCdIZWFkZXJzOicpOwogICAgICAgIHJlc3BvbnNlLmhlYWRlcnMuZm9yRWFjaCgobmFtZSwgdmFsdWVzKSA9PiBwcmludCgnXCRuYW1lOiBcJHt2YWx1ZXMuam9pbignLCcpfScpKTsKICAgICAgfQogICAgICAKICAgICAgcHJpbnQoJ1Jlc3BvbnNlIEJvZHk6Jyk7CiAgICAgIF9wcmV0dHlQcmludEpzb24ocmVzcG9uc2UuZGF0YSk7CiAgICB9CiAgICAKICAgIHN1cGVyLm9uUmVzcG9uc2UocmVzcG9uc2UsIGhhbmRsZXIpOwogIH0KCiAgQG92ZXJyaWRlCiAgdm9pZCBvbkVycm9yKERpb0V4Y2VwdGlvbiBlcnIsIEVycm9ySW50ZXJjZXB0b3JIYW5kbGVyIGhhbmRsZXIpIHsKICAgIGlmIChrRGVidWdNb2RlKSB7CiAgICAgIGZpbmFsIHN0YXR1c0NvZGUgPSBlcnIucmVzcG9uc2U/LnN0YXR1c0NvZGU7CiAgICAgIGZpbmFsIG1ldGhvZCA9IGVyci5yZXF1ZXN0T3B0aW9ucy5tZXRob2QudG9VcHBlckNhc2UoKTsKICAgICAgZmluYWwgdXJsID0gZXJyLnJlcXVlc3RPcHRpb25zLnVyaS50b1N0cmluZygpOwogICAgICAKICAgICAgcHJpbnQoJ1xcbjwtLSBFcnJvciBcJHN0YXR1c0NvZGUgXCRtZXRob2QgXCR1cmwnKTsKICAgICAgcHJpbnQoJ0Vycm9yOiBcJHtlcnIuZXJyb3J9Jyk7CiAgICAgIAogICAgICBpZiAoZXJyLnJlc3BvbnNlICE9IG51bGwpIHsKICAgICAgICBwcmludCgnUmVzcG9uc2UgQm9keTonKTsKICAgICAgICBfcHJldHR5UHJpbnRKc29uKGVyci5yZXNwb25zZSEuZGF0YSk7CiAgICAgIH0KICAgIH0KICAgIAogICAgc3VwZXIub25FcnJvcihlcnIsIGhhbmRsZXIpOwogIH0KICAKICAvLy8gSGVscGVyIG1ldGhvZCB0byBwcmV0dHkgcHJpbnQgSlNPTiBkYXRhCiAgdm9pZCBfcHJldHR5UHJpbnRKc29uKGR5bmFtaWMgZGF0YSkgewogICAgaWYgKGRhdGEgPT0gbnVsbCkgewogICAgICBwcmludCgnbnVsbCcpOwogICAgICByZXR1cm47CiAgICB9CiAgICAKICAgIGlmIChkYXRhIGlzIE1hcCB8fCBkYXRhIGlzIExpc3QpIHsKICAgICAgdHJ5IHsKICAgICAgICAvLyBUcnkgdG8gdXNlIGpzb24uZW5jb2RlIGZvciBuaWNlIGZvcm1hdHRpbmcKICAgICAgICAvLyBidXQgdGhpcyBtaWdodCBub3Qgd29yayBmb3IgYWxsIGRhdGEgdHlwZXMKICAgICAgICBwcmludChkYXRhLnRvU3RyaW5nKCkpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgcHJpbnQoZGF0YS50b1N0cmluZygpKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgcHJpbnQoZGF0YS50b1N0cmluZygpKTsKICAgIH0KICB9Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIHRoZSBhdXRoIGludGVyY2VwdG9yIGZpbGUKdm9pZCBfZ2VuZXJhdGVBdXRoSW50ZXJjZXB0b3JGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9uZXR3b3JrL2ludGVyY2VwdG9ycy9hdXRoX2ludGVyY2VwdG9yLmRhcnQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmRpby9kaW8uZGFydCc7CgovLy8gSW50ZXJjZXB0b3IgdG8gYWRkIGF1dGhlbnRpY2F0aW9uIGhlYWRlcnMgdG8gcmVxdWVzdHMKY2xhc3MgQXV0aEludGVyY2VwdG9yIGV4dGVuZHMgSW50ZXJjZXB0b3IgewogIEBvdmVycmlkZQogIHZvaWQgb25SZXF1ZXN0KFJlcXVlc3RPcHRpb25zIG9wdGlvbnMsIFJlcXVlc3RJbnRlcmNlcHRvckhhbmRsZXIgaGFuZGxlcikgewogICAgLy8gVE9ETzogUmVwbGFjZSB3aXRoIHlvdXIgYXV0aGVudGljYXRpb24gbG9naWMKICAgIC8vIEZvciBleGFtcGxlLCBnZXQgdGhlIHRva2VuIGZyb20gYSBzZWN1cmUgc3RvcmFnZQogICAgCiAgICAvLyBUaGlzIGlzIGp1c3QgYSBwbGFjZWhvbGRlci4gSW4gYSByZWFsIGFwcCwgeW91IHdvdWxkIGdldCB0aGUgdG9rZW4gZnJvbQogICAgLy8gYSBzZWN1cmUgc3RvcmFnZSBsaWtlIGZsdXR0ZXJfc2VjdXJlX3N0b3JhZ2UKICAgIGZpbmFsIHRva2VuID0gX2dldFRva2VuKCk7CiAgICAKICAgIGlmICh0b2tlbiAhPSBudWxsICYmIHRva2VuLmlzTm90RW1wdHkpIHsKICAgICAgb3B0aW9ucy5oZWFkZXJzWydBdXRob3JpemF0aW9uJ10gPSAnQmVhcmVyIFwkdG9rZW4nOwogICAgfQogICAgCiAgICBzdXBlci5vblJlcXVlc3Qob3B0aW9ucywgaGFuZGxlcik7CiAgfQogIAogIC8vLyBHZXQgdGhlIGF1dGhlbnRpY2F0aW9uIHRva2VuCiAgU3RyaW5nPyBfZ2V0VG9rZW4oKSB7CiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgeW91ciB0b2tlbiByZXRyaWV2YWwgbG9naWMKICAgIC8vIEZvciBleGFtcGxlOgogICAgLy8gZmluYWwgc2VjdXJlU3RvcmFnZSA9IEZsdXR0ZXJTZWN1cmVTdG9yYWdlKCk7CiAgICAvLyByZXR1cm4gYXdhaXQgc2VjdXJlU3RvcmFnZS5yZWFkKGtleTogJ2F1dGhfdG9rZW4nKTsKICAgIAogICAgcmV0dXJuIG51bGw7CiAgfQogIAogIEBvdmVycmlkZQogIHZvaWQgb25SZXNwb25zZShSZXNwb25zZSByZXNwb25zZSwgUmVzcG9uc2VJbnRlcmNlcHRvckhhbmRsZXIgaGFuZGxlcikgewogICAgLy8gSGFuZGxlIHRoZSByZXNwb25zZQogICAgLy8gRm9yIGV4YW1wbGUsIGNoZWNrIGlmIHRoZSB0b2tlbiBuZWVkcyB0byBiZSByZWZyZXNoZWQKICAgIHN1cGVyLm9uUmVzcG9uc2UocmVzcG9uc2UsIGhhbmRsZXIpOwogIH0KICAKICBAb3ZlcnJpZGUKICB2b2lkIG9uRXJyb3IoRGlvRXhjZXB0aW9uIGVyciwgRXJyb3JJbnRlcmNlcHRvckhhbmRsZXIgaGFuZGxlcikgewogICAgLy8gSGFuZGxlIGF1dGhlbnRpY2F0aW9uIGVycm9ycwogICAgaWYgKGVyci5yZXNwb25zZT8uc3RhdHVzQ29kZSA9PSA0MDEpIHsKICAgICAgLy8gVE9ETzogSGFuZGxlIHRva2VuIGV4cGlyYXRpb24gYW5kIHJlZnJlc2gKICAgICAgLy8gRm9yIGV4YW1wbGU6CiAgICAgIC8vIF9yZWZyZXNoVG9rZW4oKS50aGVuKChfKSB7CiAgICAgIC8vICAgLy8gUmV0cnkgdGhlIHJlcXVlc3Qgd2l0aCB0aGUgbmV3IHRva2VuCiAgICAgIC8vICAgX3JldHJ5UmVxdWVzdChlcnIucmVxdWVzdE9wdGlvbnMsIGhhbmRsZXIpOwogICAgICAvLyB9KS5jYXRjaEVycm9yKChfKSB7CiAgICAgIC8vICAgLy8gVG9rZW4gcmVmcmVzaCBmYWlsZWQsIGhhbmRsZSBsb2dvdXQKICAgICAgLy8gICBfaGFuZGxlTG9nb3V0KCk7CiAgICAgIC8vICAgaGFuZGxlci5uZXh0KGVycik7CiAgICAgIC8vIH0pOwogICAgfSBlbHNlIHsKICAgICAgaGFuZGxlci5uZXh0KGVycik7CiAgICB9CiAgfQogIAogIC8vLyBSZXRyeSBhIHJlcXVlc3Qgd2l0aCB1cGRhdGVkIG9wdGlvbnMKICBGdXR1cmU8dm9pZD4gX3JldHJ5UmVxdWVzdCgKICAgIFJlcXVlc3RPcHRpb25zIHJlcXVlc3RPcHRpb25zLAogICAgRXJyb3JJbnRlcmNlcHRvckhhbmRsZXIgaGFuZGxlciwKICApIGFzeW5jIHsKICAgIGZpbmFsIG9wdGlvbnMgPSBPcHRpb25zKAogICAgICBtZXRob2Q6IHJlcXVlc3RPcHRpb25zLm1ldGhvZCwKICAgICAgaGVhZGVyczogcmVxdWVzdE9wdGlvbnMuaGVhZGVycywKICAgICk7CiAgICAKICAgIGZpbmFsIHRva2VuID0gX2dldFRva2VuKCk7CiAgICAKICAgIGlmICh0b2tlbiAhPSBudWxsICYmIHRva2VuLmlzTm90RW1wdHkpIHsKICAgICAgb3B0aW9ucy5oZWFkZXJzP1snQXV0aG9yaXphdGlvbiddID0gJ0JlYXJlciBcJHRva2VuJzsKICAgIH0KICAgIAogICAgdHJ5IHsKICAgICAgZmluYWwgZGlvID0gRGlvKCk7CiAgICAgIGZpbmFsIHJlc3BvbnNlID0gYXdhaXQgZGlvLnJlcXVlc3Q8ZHluYW1pYz4oCiAgICAgICAgcmVxdWVzdE9wdGlvbnMucGF0aCwKICAgICAgICBkYXRhOiByZXF1ZXN0T3B0aW9ucy5kYXRhLAogICAgICAgIHF1ZXJ5UGFyYW1ldGVyczogcmVxdWVzdE9wdGlvbnMucXVlcnlQYXJhbWV0ZXJzLAogICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsCiAgICAgICk7CiAgICAgIAogICAgICBoYW5kbGVyLnJlc29sdmUocmVzcG9uc2UpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBoYW5kbGVyLm5leHQoRGlvRXhjZXB0aW9uKAogICAgICAgIHJlcXVlc3RPcHRpb25zOiByZXF1ZXN0T3B0aW9ucywKICAgICAgICBlcnJvcjogZS50b1N0cmluZygpLAogICAgICApKTsKICAgIH0KICB9Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIHRoZSBBUEkgY29uc3RhbnRzIGZpbGUKdm9pZCBfZ2VuZXJhdGVBcGlDb25zdGFudHNGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvY29yZS9uZXR3b3JrL2FwaV9jb25zdGFudHMuZGFydCc7CiAgZmluYWwgY29udGVudCA9ICcnJwovLy8gQVBJIGNvbnN0YW50cyBmb3IgdGhlIGFwcGxpY2F0aW9uCmNsYXNzIEFwaUNvbnN0YW50cyB7CiAgLy8vIEJhc2UgVVJMIGZvciB0aGUgQVBJCiAgc3RhdGljIGNvbnN0IFN0cmluZyBiYXNlVXJsID0gJ2h0dHBzOi8vYXBpLmV4YW1wbGUuY29tJzsKICAKICAvLy8gQVBJIHZlcnNpb24KICBzdGF0aWMgY29uc3QgU3RyaW5nIGFwaVZlcnNpb24gPSAndjEnOwogIAogIC8vLyBUaW1lb3V0IGluIG1pbGxpc2Vjb25kcwogIHN0YXRpYyBjb25zdCBpbnQgdGltZW91dCA9IDMwMDAwOwogIAogIC8vLyBFbmRwb2ludHMKICBzdGF0aWMgY29uc3QgU3RyaW5nIGxvZ2luID0gJy9hdXRoL2xvZ2luJzsKICBzdGF0aWMgY29uc3QgU3RyaW5nIHJlZ2lzdGVyID0gJy9hdXRoL3JlZ2lzdGVyJzsKICBzdGF0aWMgY29uc3QgU3RyaW5nIHByb2ZpbGUgPSAnL3VzZXIvcHJvZmlsZSc7CiAgc3RhdGljIGNvbnN0IFN0cmluZyBwcm9kdWN0cyA9ICcvcHJvZHVjdHMnOwogIAogIC8vLyBIZWFkZXJzCiAgc3RhdGljIGNvbnN0IE1hcDxTdHJpbmcsIFN0cmluZz4gZGVmYXVsdEhlYWRlcnMgPSB7CiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLAogICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJywKICB9OwogIAogIC8vLyBHZXQgYSBmdWxsIGVuZHBvaW50IFVSTAogIHN0YXRpYyBTdHJpbmcgZ2V0RW5kcG9pbnQoU3RyaW5nIGVuZHBvaW50KSB7CiAgICByZXR1cm4gJ1wkYmFzZVVybC9cJGFwaVZlcnNpb25cJGVuZHBvaW50JzsKICB9Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIHRoZSBuZXR3b3JrIGluZm8gZmlsZQp2b2lkIF9nZW5lcmF0ZU5ldHdvcmtJbmZvRmlsZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBmaWxlUGF0aCA9ICckcHJvamVjdE5hbWUvbGliL2NvcmUvbmV0d29yay9uZXR3b3JrX2luZm8uZGFydCc7CiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6aW50ZXJuZXRfY29ubmVjdGlvbl9jaGVja2VyL2ludGVybmV0X2Nvbm5lY3Rpb25fY2hlY2tlci5kYXJ0JzsKCi8vLyBJbnRlcmZhY2UgZm9yIGNoZWNraW5nIG5ldHdvcmsgY29ubmVjdGl2aXR5CmFic3RyYWN0IGNsYXNzIE5ldHdvcmtJbmZvIHsKICBGdXR1cmU8Ym9vbD4gZ2V0IGlzQ29ubmVjdGVkOwp9CgovLy8gSW1wbGVtZW50YXRpb24gb2YgTmV0d29ya0luZm8gdXNpbmcgaW50ZXJuZXRfY29ubmVjdGlvbl9jaGVja2VyCmNsYXNzIE5ldHdvcmtJbmZvSW1wbCBpbXBsZW1lbnRzIE5ldHdvcmtJbmZvIHsKICBmaW5hbCBJbnRlcm5ldENvbm5lY3Rpb25DaGVja2VyIGNvbm5lY3Rpb25DaGVja2VyOwogIAogIE5ldHdvcmtJbmZvSW1wbCh0aGlzLmNvbm5lY3Rpb25DaGVja2VyKTsKICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8Ym9vbD4gZ2V0IGlzQ29ubmVjdGVkID0+IGNvbm5lY3Rpb25DaGVja2VyLmhhc0Nvbm5lY3Rpb247Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLyAvLy8gR2VuZXJhdGVzIGEgc2FtcGxlIEFQSSBzZXJ2aWNlIGZpbGUgdG8gc2hvdyBob3cgdG8gdXNlIHRoZSBBUEkgY2xpZW50Ci8vIHZvaWQgX2dlbmVyYXRlU2FtcGxlQXBpU2VydmljZUZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7Ci8vICAgZmluYWwgZmlsZVBhdGggPQovLyAgICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL25ldHdvcmsvc2VydmljZXMvc2FtcGxlX2FwaV9zZXJ2aWNlLmRhcnQnOwovLyAgIGZpbmFsIGNvbnRlbnQgPSAnJycKLy8gaW1wb3J0ICcuLi9hcGlfY2xpZW50LmRhcnQnOwovLyBpbXBvcnQgJy4uL2FwaV9jb25zdGFudHMuZGFydCc7Ci8vIGltcG9ydCAnLi4vbW9kZWxzL2FwaV9yZXNwb25zZS5kYXJ0JzsKCi8vIC8vLyBFeGFtcGxlIEFQSSBzZXJ2aWNlIGZvciB1c2VyLXJlbGF0ZWQgb3BlcmF0aW9ucwovLyBjbGFzcyBVc2VyQXBpU2VydmljZSB7Ci8vICAgZmluYWwgQXBpQ2xpZW50IF9hcGlDbGllbnQ7CgovLyAgIFVzZXJBcGlTZXJ2aWNlKCkgOiBfYXBpQ2xpZW50ID0gQXBpQ2xpZW50KAovLyAgICAgYmFzZVVybDogQXBpQ29uc3RhbnRzLmJhc2VVcmwsCi8vICAgICB0aW1lb3V0OiBBcGlDb25zdGFudHMudGltZW91dCwKLy8gICAgIHVzZUF1dGg6IHRydWUsCi8vICAgKTsKCi8vICAgLy8vIExvZ2luIHdpdGggZW1haWwgYW5kIHBhc3N3b3JkCi8vICAgRnV0dXJlPEFwaVJlc3BvbnNlPE1hcDxTdHJpbmcsIGR5bmFtaWM+Pj4gbG9naW4oU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIGFzeW5jIHsKLy8gICAgIHRyeSB7Ci8vICAgICAgIGZpbmFsIHJlc3BvbnNlID0gYXdhaXQgX2FwaUNsaWVudC5wb3N0KAovLyAgICAgICAgIEFwaUNvbnN0YW50cy5sb2dpbiwKLy8gICAgICAgICBkYXRhOiB7Ci8vICAgICAgICAgICAnZW1haWwnOiBlbWFpbCwKLy8gICAgICAgICAgICdwYXNzd29yZCc6IHBhc3N3b3JkLAovLyAgICAgICAgIH0sCi8vICAgICAgICk7CgovLyAgICAgICByZXR1cm4gcmVzcG9uc2U7Ci8vICAgICB9IGNhdGNoIChlKSB7Ci8vICAgICAgIHJldGhyb3c7Ci8vICAgICB9Ci8vICAgfQoKLy8gICAvLy8gUmVnaXN0ZXIgYSBuZXcgdXNlcgovLyAgIEZ1dHVyZTxBcGlSZXNwb25zZTxNYXA8U3RyaW5nLCBkeW5hbWljPj4+IHJlZ2lzdGVyKHsKLy8gICAgIHJlcXVpcmVkIFN0cmluZyBlbWFpbCwKLy8gICAgIHJlcXVpcmVkIFN0cmluZyBwYXNzd29yZCwKLy8gICAgIHJlcXVpcmVkIFN0cmluZyBuYW1lLAovLyAgIH0pIGFzeW5jIHsKLy8gICAgIHRyeSB7Ci8vICAgICAgIGZpbmFsIHJlc3BvbnNlID0gYXdhaXQgX2FwaUNsaWVudC5wb3N0KAovLyAgICAgICAgIEFwaUNvbnN0YW50cy5yZWdpc3RlciwKLy8gICAgICAgICBkYXRhOiB7Ci8vICAgICAgICAgICAnZW1haWwnOiBlbWFpbCwKLy8gICAgICAgICAgICdwYXNzd29yZCc6IHBhc3N3b3JkLAovLyAgICAgICAgICAgJ25hbWUnOiBuYW1lLAovLyAgICAgICAgIH0sCi8vICAgICAgICk7CgovLyAgICAgICByZXR1cm4gcmVzcG9uc2U7Ci8vICAgICB9IGNhdGNoIChlKSB7Ci8vICAgICAgIHJldGhyb3c7Ci8vICAgICB9Ci8vICAgfQoKLy8gICAvLy8gR2V0IHVzZXIgcHJvZmlsZQovLyAgIEZ1dHVyZTxBcGlSZXNwb25zZTxNYXA8U3RyaW5nLCBkeW5hbWljPj4+IGdldFByb2ZpbGUoKSBhc3luYyB7Ci8vICAgICB0cnkgewovLyAgICAgICBmaW5hbCByZXNwb25zZSA9IGF3YWl0IF9hcGlDbGllbnQuZ2V0KEFwaUNvbnN0YW50cy5wcm9maWxlKTsKLy8gICAgICAgcmV0dXJuIHJlc3BvbnNlOwovLyAgICAgfSBjYXRjaCAoZSkgewovLyAgICAgICByZXRocm93OwovLyAgICAgfQovLyAgIH0KCi8vICAgLy8vIFVwZGF0ZSB1c2VyIHByb2ZpbGUKLy8gICBGdXR1cmU8QXBpUmVzcG9uc2U8TWFwPFN0cmluZywgZHluYW1pYz4+PiB1cGRhdGVQcm9maWxlKHsKLy8gICAgIFN0cmluZz8gbmFtZSwKLy8gICAgIFN0cmluZz8gYXZhdGFyLAovLyAgIH0pIGFzeW5jIHsKLy8gICAgIHRyeSB7Ci8vICAgICAgIGZpbmFsIHJlc3BvbnNlID0gYXdhaXQgX2FwaUNsaWVudC5wdXQoCi8vICAgICAgICAgQXBpQ29uc3RhbnRzLnByb2ZpbGUsCi8vICAgICAgICAgZGF0YTogewovLyAgICAgICAgICAgaWYgKG5hbWUgIT0gbnVsbCkgJ25hbWUnOiBuYW1lLAovLyAgICAgICAgICAgaWYgKGF2YXRhciAhPSBudWxsKSAnYXZhdGFyJzogYXZhdGFyLAovLyAgICAgICAgIH0sCi8vICAgICAgICk7CgovLyAgICAgICByZXR1cm4gcmVzcG9uc2U7Ci8vICAgICB9IGNhdGNoIChlKSB7Ci8vICAgICAgIHJldGhyb3c7Ci8vICAgICB9Ci8vICAgfQovLyB9CgovLyAvLy8gRXhhbXBsZSBBUEkgc2VydmljZSBmb3IgcHJvZHVjdC1yZWxhdGVkIG9wZXJhdGlvbnMKLy8gY2xhc3MgUHJvZHVjdEFwaVNlcnZpY2UgewovLyAgIGZpbmFsIEFwaUNsaWVudCBfYXBpQ2xpZW50OwoKLy8gICBQcm9kdWN0QXBpU2VydmljZSgpIDogX2FwaUNsaWVudCA9IEFwaUNsaWVudCgKLy8gICAgIGJhc2VVcmw6IEFwaUNvbnN0YW50cy5iYXNlVXJsLAovLyAgICAgdGltZW91dDogQXBpQ29uc3RhbnRzLnRpbWVvdXQsCi8vICAgICB1c2VBdXRoOiB0cnVlLAovLyAgICk7CgovLyAgIC8vLyBHZXQgYWxsIHByb2R1Y3RzCi8vICAgRnV0dXJlPEFwaVJlc3BvbnNlPExpc3Q8ZHluYW1pYz4+PiBnZXRQcm9kdWN0cyh7Ci8vICAgICBpbnQgcGFnZSA9IDEsCi8vICAgICBpbnQgbGltaXQgPSAxMCwKLy8gICAgIFN0cmluZz8gY2F0ZWdvcnksCi8vICAgfSkgYXN5bmMgewovLyAgICAgdHJ5IHsKLy8gICAgICAgZmluYWwgcmVzcG9uc2UgPSBhd2FpdCBfYXBpQ2xpZW50LmdldCgKLy8gICAgICAgICBBcGlDb25zdGFudHMucHJvZHVjdHMsCi8vICAgICAgICAgcXVlcnlQYXJhbWV0ZXJzOiB7Ci8vICAgICAgICAgICAncGFnZSc6IHBhZ2UsCi8vICAgICAgICAgICAnbGltaXQnOiBsaW1pdCwKLy8gICAgICAgICAgIGlmIChjYXRlZ29yeSAhPSBudWxsKSAnY2F0ZWdvcnknOiBjYXRlZ29yeSwKLy8gICAgICAgICB9LAovLyAgICAgICApOwoKLy8gICAgICAgcmV0dXJuIHJlc3BvbnNlOwovLyAgICAgfSBjYXRjaCAoZSkgewovLyAgICAgICByZXRocm93OwovLyAgICAgfQovLyAgIH0KCi8vICAgLy8vIEdldCBhIHNpbmdsZSBwcm9kdWN0IGJ5IElECi8vICAgRnV0dXJlPEFwaVJlc3BvbnNlPE1hcDxTdHJpbmcsIGR5bmFtaWM+Pj4gZ2V0UHJvZHVjdEJ5SWQoU3RyaW5nIGlkKSBhc3luYyB7Ci8vICAgICB0cnkgewovLyAgICAgICBmaW5hbCByZXNwb25zZSA9IGF3YWl0IF9hcGlDbGllbnQuZ2V0KCdcJHtBcGlDb25zdGFudHMucHJvZHVjdHN9L1wkaWQnKTsKLy8gICAgICAgcmV0dXJuIHJlc3BvbnNlOwovLyAgICAgfSBjYXRjaCAoZSkgewovLyAgICAgICByZXRocm93OwovLyAgICAgfQovLyAgIH0KCi8vICAgLy8vIENyZWF0ZSBhIG5ldyBwcm9kdWN0Ci8vICAgRnV0dXJlPEFwaVJlc3BvbnNlPE1hcDxTdHJpbmcsIGR5bmFtaWM+Pj4gY3JlYXRlUHJvZHVjdCh7Ci8vICAgICByZXF1aXJlZCBTdHJpbmcgbmFtZSwKLy8gICAgIHJlcXVpcmVkIGRvdWJsZSBwcmljZSwKLy8gICAgIHJlcXVpcmVkIFN0cmluZyBkZXNjcmlwdGlvbiwKLy8gICAgIHJlcXVpcmVkIFN0cmluZyBjYXRlZ29yeSwKLy8gICB9KSBhc3luYyB7Ci8vICAgICB0cnkgewovLyAgICAgICBmaW5hbCByZXNwb25zZSA9IGF3YWl0IF9hcGlDbGllbnQucG9zdCgKLy8gICAgICAgICBBcGlDb25zdGFudHMucHJvZHVjdHMsCi8vICAgICAgICAgZGF0YTogewovLyAgICAgICAgICAgJ25hbWUnOiBuYW1lLAovLyAgICAgICAgICAgJ3ByaWNlJzogcHJpY2UsCi8vICAgICAgICAgICAnZGVzY3JpcHRpb24nOiBkZXNjcmlwdGlvbiwKLy8gICAgICAgICAgICdjYXRlZ29yeSc6IGNhdGVnb3J5LAovLyAgICAgICAgIH0sCi8vICAgICAgICk7CgovLyAgICAgICByZXR1cm4gcmVzcG9uc2U7Ci8vICAgICB9IGNhdGNoIChlKSB7Ci8vICAgICAgIHJldGhyb3c7Ci8vICAgICB9Ci8vICAgfQoKLy8gICAvLy8gVXBkYXRlIGEgcHJvZHVjdAovLyAgIEZ1dHVyZTxBcGlSZXNwb25zZTxNYXA8U3RyaW5nLCBkeW5hbWljPj4+IHVwZGF0ZVByb2R1Y3QoewovLyByZXF1aXJlZCBTdHJpbmcgaWQsCi8vICAgICBTdHJpbmc/IG5hbWUsCi8vICAgICBkb3VibGU/IHByaWNlLAovLyAgICAgU3RyaW5nPyBkZXNjcmlwdGlvbiwKLy8gICAgIFN0cmluZz8gY2F0ZWdvcnksCi8vICAgfSkgYXN5bmMgewovLyAgICAgdHJ5IHsKLy8gICAgICAgZmluYWwgcmVzcG9uc2UgPSBhd2FpdCBfYXBpQ2xpZW50LnB1dCgKLy8gICAgICAgICAnXCR7QXBpQ29uc3RhbnRzLnByb2R1Y3RzfS9cJGlkJywKLy8gICAgICAgICBkYXRhOiB7Ci8vICAgICAgICAgICBpZiAobmFtZSAhPSBudWxsKSAnbmFtZSc6IG5hbWUsCi8vICAgICAgICAgICBpZiAocHJpY2UgIT0gbnVsbCkgJ3ByaWNlJzogcHJpY2UsCi8vICAgICAgICAgICBpZiAoZGVzY3JpcHRpb24gIT0gbnVsbCkgJ2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb24sCi8vICAgICAgICAgICBpZiAoY2F0ZWdvcnkgIT0gbnVsbCkgJ2NhdGVnb3J5JzogY2F0ZWdvcnksCi8vICAgICAgICAgfSwKLy8gICAgICAgKTsKCi8vICAgICAgIHJldHVybiByZXNwb25zZTsKLy8gICAgIH0gY2F0Y2ggKGUpIHsKLy8gICAgICAgcmV0aHJvdzsKLy8gICAgIH0KLy8gICB9CgovLyAgIC8vLyBEZWxldGUgYSBwcm9kdWN0Ci8vICAgRnV0dXJlPEFwaVJlc3BvbnNlPE1hcDxTdHJpbmcsIGR5bmFtaWM+Pj4gZGVsZXRlUHJvZHVjdChTdHJpbmcgaWQpIGFzeW5jIHsKLy8gICAgIHRyeSB7Ci8vICAgICAgIGZpbmFsIHJlc3BvbnNlID0gYXdhaXQgX2FwaUNsaWVudC5kZWxldGUoJ1wke0FwaUNvbnN0YW50cy5wcm9kdWN0c30vXCRpZCcpOwovLyAgICAgICByZXR1cm4gcmVzcG9uc2U7Ci8vICAgICB9IGNhdGNoIChlKSB7Ci8vICAgICAgIHJldGhyb3c7Ci8vICAgICB9Ci8vICAgfQovLyB9Ci8vICcnJzsKCi8vICAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwovLyAgIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7Ci8vICAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKLy8gfQoKLy8vIFVwZGF0ZSBwdWJzcGVjLnlhbWwgdG8gYWRkIG5ldHdvcmstcmVsYXRlZCBkZXBlbmRlbmNpZXMKdm9pZCBfdXBkYXRlUHVic3BlY0Zvck5ldHdvcmsoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgcHVic3BlY0ZpbGUgPSBGaWxlKCckcHJvamVjdE5hbWUvcHVic3BlYy55YW1sJyk7CiAgaWYgKCFwdWJzcGVjRmlsZS5leGlzdHNTeW5jKCkpIHsKICAgIGNvbnRleHQubG9nZ2VyCiAgICAgICAgLndhcm4oJ3B1YnNwZWMueWFtbCBub3QgZm91bmQsIHNraXBwaW5nIGFkZGluZyBuZXR3b3JrIGRlcGVuZGVuY2llcycpOwogICAgcmV0dXJuOwogIH0KCiAgU3RyaW5nIGNvbnRlbnQgPSBwdWJzcGVjRmlsZS5yZWFkQXNTdHJpbmdTeW5jKCk7CgogIC8vIENoZWNrIGlmIHRoZSBkZXBlbmRlbmNpZXMgYXJlIGFscmVhZHkgYWRkZWQKICBpZiAoIWNvbnRlbnQuY29udGFpbnMoJ2RpbzonKSB8fCAhY29udGVudC5jb250YWlucygnY29ubmVjdGl2aXR5X3BsdXM6JykpIHsKICAgIC8vIEZpbmQgdGhlIGVuZCBvZiB0aGUgZGVwZW5kZW5jaWVzIHNlY3Rpb24KICAgIGZpbmFsIGRlcGVuZGVuY2llc01hdGNoID0KICAgICAgICBSZWdFeHAocidkZXBlbmRlbmNpZXM6XHMqXG4oKFxzezJ9W1x3X10rOi4qXG4pKyknKS5maXJzdE1hdGNoKGNvbnRlbnQpOwoKICAgIGlmIChkZXBlbmRlbmNpZXNNYXRjaCAhPSBudWxsKSB7CiAgICAgIGZpbmFsIGVuZE9mRGVwZW5kZW5jaWVzID0gZGVwZW5kZW5jaWVzTWF0Y2guZW5kOwoKICAgICAgLy8gTmV0d29yayBkZXBlbmRlbmNpZXMgdG8gYWRkCiAgICAgIGZpbmFsIG5ldHdvcmtEZXBlbmRlbmNpZXMgPSAnJycKCiAgIyBOZXR3b3JrIGRlcGVuZGVuY2llcwogIGRpbzogXjUuMy4zCiAgY29ubmVjdGl2aXR5X3BsdXM6IF42LjAuMAogIGludGVybmV0X2Nvbm5lY3Rpb25fY2hlY2tlcjogXjMuMC4xCicnJzsKCiAgICAgIC8vIEluc2VydCBkZXBlbmRlbmNpZXMKICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGVuZE9mRGVwZW5kZW5jaWVzKSArCiAgICAgICAgICBuZXR3b3JrRGVwZW5kZW5jaWVzICsKICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGVuZE9mRGVwZW5kZW5jaWVzKTsKCiAgICAgIC8vIFdyaXRlIHVwZGF0ZWQgY29udGVudCBiYWNrIHRvIGZpbGUKICAgICAgcHVic3BlY0ZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgICAgIGNvbnRleHQubG9nZ2VyLnN1Y2Nlc3MoJ0FkZGVkIG5ldHdvcmsgZGVwZW5kZW5jaWVzIHRvIHB1YnNwZWMueWFtbCcpOwogICAgfSBlbHNlIHsKICAgICAgY29udGV4dC5sb2dnZXIKICAgICAgICAgIC53YXJuKCdDb3VsZCBub3QgZmluZCBkZXBlbmRlbmNpZXMgc2VjdGlvbiBpbiBwdWJzcGVjLnlhbWwnKTsKICAgIH0KICB9IGVsc2UgewogICAgY29udGV4dC5sb2dnZXIuaW5mbygnTmV0d29yayBkZXBlbmRlbmNpZXMgYWxyZWFkeSBleGlzdCBpbiBwdWJzcGVjLnlhbWwnKTsKICB9Cn0KCi8vLyBHZW5lcmF0ZSBhIFJFQURNRSBmaWxlIHdpdGggbmV0d29yayBsYXllciB1c2FnZSBpbnN0cnVjdGlvbnMKdm9pZCBfZ2VuZXJhdGVOZXR3b3JrUmVhZG1lRmlsZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBmaWxlUGF0aCA9ICckcHJvamVjdE5hbWUvbGliL2NvcmUvbmV0d29yay9SRUFETUUubWQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKIyBOZXR3b3JrIExheWVyCgpUaGlzIG5ldHdvcmsgbGF5ZXIgcHJvdmlkZXMgYSByb2J1c3QgYW5kIGZsZXhpYmxlIHdheSB0byBoYW5kbGUgQVBJIHJlcXVlc3RzIHVzaW5nIERpby4KCiMjIEZlYXR1cmVzCgotIPCfmoAgQnVpbHQgd2l0aCBEaW8gZm9yIHBvd2VyZnVsIEhUVFAgcmVxdWVzdHMKLSDwn5SSIEF1dGhlbnRpY2F0aW9uIGhhbmRsaW5nIHdpdGggaW50ZXJjZXB0b3JzCi0g8J+MkCBDb25uZWN0aXZpdHkgbW9uaXRvcmluZwotIPCfp6kgRWFzeS10by11c2UgQVBJIGNsaWVudAotIPCfk50gQ29tcHJlaGVuc2l2ZSBsb2dnaW5nCi0g4pqg77iPIERldGFpbGVkIGVycm9yIGhhbmRsaW5nCi0g8J+TiiBTdHJ1Y3R1cmVkIEFQSSByZXNwb25zZXMKCiMjIFVzYWdlCgojIyMgQmFzaWMgU2V0dXAKCk1ha2Ugc3VyZSB5b3UgaGF2ZSB0aGUgcmVxdWlyZWQgZGVwZW5kZW5jaWVzIGluIHlvdXIgYHB1YnNwZWMueWFtbGA6CgpgYGB5YW1sCmRlcGVuZGVuY2llczoKICBkaW86IF41LjMuMwogIGNvbm5lY3Rpdml0eV9wbHVzOiBeNi4wLjAKICBpbnRlcm5ldF9jb25uZWN0aW9uX2NoZWNrZXI6IF4zLjAuMQogIGZyZWV6ZWRfYW5ub3RhdGlvbjogXjIuNC4xCmBgYAoKIyMjIE1ha2luZyBBUEkgUmVxdWVzdHMKCmBgYGRhcnQKLy8gQ3JlYXRlIGFuIEFQSSBjbGllbnQgaW5zdGFuY2UKZmluYWwgYXBpQ2xpZW50ID0gQXBpQ2xpZW50KAogIGJhc2VVcmw6IEFwaUNvbnN0YW50cy5iYXNlVXJsLAogIHRpbWVvdXQ6IEFwaUNvbnN0YW50cy50aW1lb3V0LAogIHVzZUF1dGg6IHRydWUsIC8vIFNldCB0byBmYWxzZSBpZiB5b3UgZG9uJ3QgbmVlZCBhdXRoZW50aWNhdGlvbgopOwoKLy8gTWFrZSBhIEdFVCByZXF1ZXN0CmZpbmFsIHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmdldDxNYXA8U3RyaW5nLCBkeW5hbWljPj4oJy9lbmRwb2ludCcpOwoKLy8gQ2hlY2sgaWYgdGhlIHJlcXVlc3Qgd2FzIHN1Y2Nlc3NmdWwKaWYgKHJlc3BvbnNlLmlzU3VjY2VzcykgewogIGZpbmFsIGRhdGEgPSByZXNwb25zZS5kYXRhOwogIC8vIFByb2Nlc3MgdGhlIGRhdGEKfSBlbHNlIHsKICBmaW5hbCBlcnJvck1lc3NhZ2UgPSByZXNwb25zZS5lcnJvck1lc3NhZ2U7CiAgLy8gSGFuZGxlIHRoZSBlcnJvcgp9CgovLyBNYWtlIGEgUE9TVCByZXF1ZXN0IHdpdGggZGF0YQpmaW5hbCBwb3N0UmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucG9zdDxNYXA8U3RyaW5nLCBkeW5hbWljPj4oCiAgJy9lbmRwb2ludCcsCiAgZGF0YTogewogICAgJ2tleSc6ICd2YWx1ZScsCiAgfSwKKTsKYGBgCgojIyMgQ3JlYXRpbmcgQVBJIFNlcnZpY2VzCgpJdCdzIHJlY29tbWVuZGVkIHRvIGNyZWF0ZSBzZXJ2aWNlIGNsYXNzZXMgZm9yIGRpZmZlcmVudCBBUEkgZW5kcG9pbnRzLiBTZWUgdGhlIGBzYW1wbGVfYXBpX3NlcnZpY2UuZGFydGAgZmlsZSBmb3IgYW4gZXhhbXBsZS4KCmBgYGRhcnQKY2xhc3MgVXNlckFwaVNlcnZpY2UgewogIGZpbmFsIEFwaUNsaWVudCBfYXBpQ2xpZW50OwogIAogIFVzZXJBcGlTZXJ2aWNlKCkgOiBfYXBpQ2xpZW50ID0gQXBpQ2xpZW50KAogICAgYmFzZVVybDogQXBpQ29uc3RhbnRzLmJhc2VVcmwsCiAgICB1c2VBdXRoOiB0cnVlLAogICk7CiAgCiAgRnV0dXJlPEFwaVJlc3BvbnNlPE1hcDxTdHJpbmcsIGR5bmFtaWM+Pj4gbG9naW4oU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIGFzeW5jIHsKICAgIHJldHVybiBhd2FpdCBfYXBpQ2xpZW50LnBvc3QoCiAgICAgICcvYXV0aC9sb2dpbicsCiAgICAgIGRhdGE6IHsKICAgICAgICAnZW1haWwnOiBlbWFpbCwKICAgICAgICAncGFzc3dvcmQnOiBwYXNzd29yZCwKICAgICAgfSwKICAgICk7CiAgfQogIAogIC8vIEFkZCBtb3JlIG1ldGhvZHMgZm9yIGRpZmZlcmVudCBlbmRwb2ludHMKfQpgYGAKCiMjIyBIYW5kbGluZyBFcnJvcnMKClRoZSBuZXR3b3JrIGxheWVyIGluY2x1ZGVzIGEgY29tcHJlaGVuc2l2ZSBlcnJvciBoYW5kbGluZyBzeXN0ZW0gdXNpbmcgYE5ldHdvcmtFeGNlcHRpb25zYC4KCmBgYGRhcnQKdHJ5IHsKICBmaW5hbCByZXNwb25zZSA9IGF3YWl0IGFwaVNlcnZpY2UubG9naW4oJ2VtYWlsJywgJ3Bhc3N3b3JkJyk7CiAgCiAgaWYgKHJlc3BvbnNlLmlzU3VjY2VzcykgewogICAgLy8gU3VjY2VzcyBoYW5kbGluZwogIH0gZWxzZSB7CiAgICAvLyBIYW5kbGUgZGlmZmVyZW50IGVycm9yIHR5cGVzCiAgICBmaW5hbCBlcnJvciA9IHJlc3BvbnNlLmVycm9yOwogICAgZmluYWwgbWVzc2FnZSA9IE5ldHdvcmtFeGNlcHRpb25zLmdldEVycm9yTWVzc2FnZShlcnJvciEpOwogICAgCiAgfQp9IGNhdGNoIChlKSB7Cgp9CmBgYAoKIyMjIENoZWNraW5nIENvbm5lY3Rpdml0eQoKVGhlIGBDb25uZWN0aXZpdHlTZXJ2aWNlYCBjYW4gYmUgdXNlZCB0byBjaGVjayBhbmQgbW9uaXRvciBuZXR3b3JrIGNvbm5lY3Rpdml0eS4KCmBgYGRhcnQKZmluYWwgY29ubmVjdGl2aXR5U2VydmljZSA9IENvbm5lY3Rpdml0eVNlcnZpY2UoKTsKCi8vIENoZWNrIGlmIGN1cnJlbnRseSBjb25uZWN0ZWQKZmluYWwgaXNDb25uZWN0ZWQgPSBhd2FpdCBjb25uZWN0aXZpdHlTZXJ2aWNlLmlzQ29ubmVjdGVkKCk7CgovLyBMaXN0ZW4gZm9yIGNvbm5lY3Rpdml0eSBjaGFuZ2VzCmNvbm5lY3Rpdml0eVNlcnZpY2UuY29ubmVjdGlvblN0YXR1c1N0cmVhbS5saXN0ZW4oKENvbm5lY3Rpdml0eVJlc3VsdCByZXN1bHQpIHsKICBpZiAocmVzdWx0ID09IENvbm5lY3Rpdml0eVJlc3VsdC5ub25lKSB7CiAgICBwcmludCgnTm8gaW50ZXJuZXQgY29ubmVjdGlvbicpOwogIH0gZWxzZSB7CiAgICBwcmludCgnQ29ubmVjdGVkIHRvIHRoZSBpbnRlcm5ldCcpOwogIH0KfSk7CmBgYAoKIyMgQWR2YW5jZWQgRmVhdHVyZXMKCiMjIyBBZGRpbmcgQ3VzdG9tIEludGVyY2VwdG9ycwoKWW91IGNhbiBjcmVhdGUgY3VzdG9tIGludGVyY2VwdG9ycyBmb3IgRGlvIGJ5IGV4dGVuZGluZyB0aGUgYEludGVyY2VwdG9yYCBjbGFzcy4KCmBgYGRhcnQKY2xhc3MgQ3VzdG9tSW50ZXJjZXB0b3IgZXh0ZW5kcyBJbnRlcmNlcHRvciB7CiAgQG92ZXJyaWRlCiAgdm9pZCBvblJlcXVlc3QoUmVxdWVzdE9wdGlvbnMgb3B0aW9ucywgUmVxdWVzdEludGVyY2VwdG9ySGFuZGxlciBoYW5kbGVyKSB7CiAgICAvLyBNb2RpZnkgcmVxdWVzdAogICAgc3VwZXIub25SZXF1ZXN0KG9wdGlvbnMsIGhhbmRsZXIpOwogIH0KICAKICBAb3ZlcnJpZGUKICB2b2lkIG9uUmVzcG9uc2UoUmVzcG9uc2UgcmVzcG9uc2UsIFJlc3BvbnNlSW50ZXJjZXB0b3JIYW5kbGVyIGhhbmRsZXIpIHsKICAgIC8vIE1vZGlmeSByZXNwb25zZQogICAgc3VwZXIub25SZXNwb25zZShyZXNwb25zZSwgaGFuZGxlcik7CiAgfQogIAogIEBvdmVycmlkZQogIHZvaWQgb25FcnJvcihEaW9FeGNlcHRpb24gZXJyLCBFcnJvckludGVyY2VwdG9ySGFuZGxlciBoYW5kbGVyKSB7CiAgICAvLyBIYW5kbGUgZXJyb3IKICAgIHN1cGVyLm9uRXJyb3IoZXJyLCBoYW5kbGVyKTsKICB9Cn0KCi8vIEFkZCBpdCB0byB0aGUgQVBJIGNsaWVudApmaW5hbCBhcGlDbGllbnQgPSBBcGlDbGllbnQoLi4uKTsKYXBpQ2xpZW50LmRpby5pbnRlcmNlcHRvcnMuYWRkKEN1c3RvbUludGVyY2VwdG9yKCkpOwpgYGAKCiMjIyBVcGxvYWRpbmcgRmlsZXMKCmBgYGRhcnQKZmluYWwgZmlsZSA9IEZpbGUoJ3BhdGgvdG8vZmlsZS5qcGcnKTsKZmluYWwgZm9ybURhdGEgPSBGb3JtRGF0YS5mcm9tTWFwKHsKICAnZmlsZSc6IGF3YWl0IE11bHRpcGFydEZpbGUuZnJvbUZpbGUoCiAgICBmaWxlLnBhdGgsCiAgICBmaWxlbmFtZTogJ2ltYWdlLmpwZycsCiAgKSwKICAnYWRkaXRpb25hbF9maWVsZCc6ICd2YWx1ZScsCn0pOwoKZmluYWwgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucG9zdDxNYXA8U3RyaW5nLCBkeW5hbWljPj4oCiAgJy91cGxvYWQnLAogIGRhdGE6IGZvcm1EYXRhLAopOwpgYGAKCiMjIyBEb3dubG9hZGluZyBGaWxlcwoKYGBgZGFydApmaW5hbCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5kb3dubG9hZCgKICAnaHR0cHM6Ly9leGFtcGxlLmNvbS9maWxlLnBkZicsCiAgJy9wYXRoL3RvL3NhdmUvZmlsZS5wZGYnLAogIG9uUmVjZWl2ZVByb2dyZXNzOiAocmVjZWl2ZWQsIHRvdGFsKSB7CiAgICBmaW5hbCBwcm9ncmVzcyA9IChyZWNlaXZlZCAvIHRvdGFsKSAqIDEwMDsKICAgIHByaW50KCdEb3dubG9hZCBwcm9ncmVzczogJHsncHJvZ3Jlc3MnfSUnKTsKICB9LAopOwoKaWYgKHJlc3BvbnNlLmlzU3VjY2VzcykgewogIGZpbmFsIGZpbGVQYXRoID0gcmVzcG9uc2UuZGF0YTsKICBwcmludCgnRmlsZSBkb3dubG9hZGVkIHRvOiAkZmlsZVBhdGgnKTsKfQpgYGAKJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oCiAgICAgICdSdW4gImZsdXR0ZXIgcHViIHJ1biBidWlsZF9ydW5uZXIgYnVpbGQiIHRvIGdlbmVyYXRlIGZyZWV6ZWQgZmlsZXMnKTsKfQo=",
      "type": "text",
    },
    {
      "path": "lib/pubsec_configurator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBDb25maWd1cmVzIHRoZSBwdWJzcGVjLnlhbWwgZmlsZSBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgYXJjaGl0ZWN0dXJlLCBzdGF0ZSBtYW5hZ2VtZW50LAovLy8gZmVhdHVyZXMsIGFuZCBtb2R1bGVzCnZvaWQgY29uZmlndXJlUHVic3BlYygKICAgIEhvb2tDb250ZXh0IGNvbnRleHQsCiAgICBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBTdHJpbmcgb3JnYW5pemF0aW9uLAogICAgU3RyaW5nIGFyY2hpdGVjdHVyZSwKICAgIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQsCiAgICBMaXN0PGR5bmFtaWM+IGZlYXR1cmVzLAogICAgTGlzdDxkeW5hbWljPiBtb2R1bGVzKSB7CiAgZmluYWwgcHVic3BlY0ZpbGUgPSBGaWxlKCckcHJvamVjdE5hbWUvcHVic3BlYy55YW1sJyk7CiAgU3RyaW5nIHB1YnNwZWNDb250ZW50ID0gJyc7CgogIC8vIENyZWF0ZSBwdWJzcGVjIHRlbXBsYXRlIGNvbnRlbnQKICBwdWJzcGVjQ29udGVudCA9ICcnJwpuYW1lOiAkcHJvamVjdE5hbWUKZGVzY3JpcHRpb246IEEgRmx1dHRlciBwcm9qZWN0IHdhcyBnZW5lcmF0ZWQgYnkgQnVubnkgQ0xJLgpwdWJsaXNoX3RvOiAnbm9uZScgIyBSZW1vdmUgdGhpcyBsaW5lIGlmIHlvdSB3aXNoIHRvIHB1Ymxpc2ggdG8gcHViLmRldgp2ZXJzaW9uOiAxLjAuMCsxCgplbnZpcm9ubWVudDoKICBzZGs6IF4zLjYuMAoKZGVwZW5kZW5jaWVzOgogIGZsdXR0ZXI6CiAgICBzZGs6IGZsdXR0ZXIKCiAgIyBDb3JlIHBhY2thZ2VzCiAgY3VwZXJ0aW5vX2ljb25zOiBeMS4wLjYKICBpbnRsOiBhbnkKICBlcXVhdGFibGU6IF4yLjAuNQogIHBhdGhfcHJvdmlkZXI6IF4yLjEuMQogIHNoYXJlZF9wcmVmZXJlbmNlczogXjIuNS4yCiAgZmx1dHRlcl9zZWN1cmVfc3RvcmFnZTogXjkuMC4wCiAgY2FjaGVkX25ldHdvcmtfaW1hZ2U6IF4zLjMuMAogIHVybF9sYXVuY2hlcjogXjYuMS4xNAogIGNvbm5lY3Rpdml0eV9wbHVzOiBeNi4wLjAKICBmbHV0dGVyX3N2ZzogXjIuMC45CiAgZmx1dHRlcl9kb3RlbnY6IF41LjEuMAogIGpzb25fYW5ub3RhdGlvbjogXjQuOC4xCiAgZnJlZXplZF9hbm5vdGF0aW9uOiBeMi40LjEKICBzaGltbWVyOiBeMy4wLjAKICBkaW86IF41LjMuMwogIGxvZ2dlcjogXjIuMC4yCicnJzsKCiAgLy8gQWRkIHN0YXRlIG1hbmFnZW1lbnQgZGVwZW5kZW5jaWVzCiAgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnQmxvYycgfHwgc3RhdGVNYW5hZ2VtZW50ID09ICdCTG9DJykgewogICAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAgIyBCTG9DIHN0YXRlIG1hbmFnZW1lbnQKICBmbHV0dGVyX2Jsb2M6IF44LjEuMwogIGJsb2M6IF44LjEuMgogIGh5ZHJhdGVkX2Jsb2M6IF44LjAuMAonJyc7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ1Byb3ZpZGVyJykgewogICAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAgIyBQcm92aWRlciBzdGF0ZSBtYW5hZ2VtZW50CiAgcHJvdmlkZXI6IF42LjAuNQonJyc7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ1JpdmVycG9kJykgewogICAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAgIyBSaXZlcnBvZCBzdGF0ZSBtYW5hZ2VtZW50CiAgZmx1dHRlcl9yaXZlcnBvZDogXjIuNi4xCicnJzsKICB9IGVsc2UgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnR2V0WCcpIHsKICAgIHB1YnNwZWNDb250ZW50ICs9ICcnJwogICMgR2V0WCBzdGF0ZSBtYW5hZ2VtZW50CiAgZ2V0OiBeNC43LjIKJycnOwogIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdNb2JYJykgewogICAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAgIyBNb2JYIHN0YXRlIG1hbmFnZW1lbnQKICBtb2J4OiBeMi41LjAKICBmbHV0dGVyX21vYng6IF4yLjEuMAonJyc7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ1JlZHV4JykgewogICAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAgIyBSZWR1eCBzdGF0ZSBtYW5hZ2VtZW50CiAgcmVkdXg6IF41LjAuMAogIGZsdXR0ZXJfcmVkdXg6IF4wLjEwLjAKICByZWR1eF90aHVuazogXjAuNC4wCicnJzsKICB9CgogIC8vIEFkZCBhcmNoaXRlY3R1cmUtc3BlY2lmaWMgZGVwZW5kZW5jaWVzCiAgaWYgKGFyY2hpdGVjdHVyZSA9PSAnQ2xlYW4gQXJjaGl0ZWN0dXJlJykgewogICAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAgIyBDbGVhbiBBcmNoaXRlY3R1cmUgZGVwZW5kZW5jaWVzCiAgZGFydHo6IF4wLjEwLjEKICBpbmplY3RhYmxlOiBeMi4zLjAKICBnZXRfaXQ6IF43LjYuNAonJyc7CiAgfSBlbHNlIGlmIChhcmNoaXRlY3R1cmUgPT0gJ01WVk0nKSB7CiAgICBwdWJzcGVjQ29udGVudCArPSAnJycKICAjIE1WVk0gQXJjaGl0ZWN0dXJlIGRlcGVuZGVuY2llcwogIHN0YWNrZWQ6IF4zLjQuMQogIHN0YWNrZWRfc2VydmljZXM6IF4xLjMuMAonJyc7CiAgfSBlbHNlIGlmIChhcmNoaXRlY3R1cmUgPT0gJ0ZlYXR1cmUtRHJpdmVuJykgewogICAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAgIyBGZWF0dXJlLURyaXZlbiBBcmNoaXRlY3R1cmUgZGVwZW5kZW5jaWVzCiAgZ29fcm91dGVyOiBeMTIuMS4xCiAgZmx1dHRlcl9tb2R1bGFyOiBeNi4zLjIKJycnOwogIH0KCiAgaWYgKGZlYXR1cmVzLmNvbnRhaW5zKCdVc2VyIFByb2ZpbGUnKSkgewogICAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAgIyBVc2VyIFByb2ZpbGUgZGVwZW5kZW5jaWVzCiAgaW1hZ2VfcGlja2VyOiBeMS4wLjQKICBpbWFnZV9jcm9wcGVyOiBeNS4wLjEKJycnOwogIH0KCiAgaWYgKGZlYXR1cmVzLmNvbnRhaW5zKCdQcm9kdWN0cycpKSB7CiAgICBwdWJzcGVjQ29udGVudCArPSAnJycKICAjIFByb2R1Y3RzIGZlYXR1cmUgZGVwZW5kZW5jaWVzCiAgY2Fyb3VzZWxfc2xpZGVyOiBeNC4yLjEKICBpbmZpbml0ZV9zY3JvbGxfcGFnaW5hdGlvbjogXjQuMC4wCicnJzsKICB9CgogIC8vIEFkZCBkZXYgZGVwZW5kZW5jaWVzCiAgcHVic3BlY0NvbnRlbnQgKz0gJycnCgpkZXZfZGVwZW5kZW5jaWVzOgogIGZsdXR0ZXJfdGVzdDoKICAgIHNkazogZmx1dHRlcgogIGZsdXR0ZXJfbGludHM6IF4zLjAuMAogIGJ1aWxkX3J1bm5lcjogXjIuNC42CiAgZmx1dHRlcl9nZW5fcnVubmVyOiBeNS4zLjIKICBmbHV0dGVyX2xhdW5jaGVyX2ljb25zOiBeMC4xMy4xCiAgc291cmNlX2dlbjogXjEuNC4wCicnJzsKCiAgLy8gQWRkIHN0YXRlIG1hbmFnZW1lbnQtc3BlY2lmaWMgZGV2IGRlcGVuZGVuY2llcwogIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ0Jsb2MnIHx8IHN0YXRlTWFuYWdlbWVudCA9PSAnQkxvQycpIHsKICAgIHB1YnNwZWNDb250ZW50ICs9ICcnJwogIGJsb2NfdGVzdDogXjkuMS40CicnJzsKICB9IGVsc2UgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnUml2ZXJwb2QnKSB7CiAgICBwdWJzcGVjQ29udGVudCArPSAnJycKICByaXZlcnBvZF9nZW5lcmF0b3I6IF4yLjMuNQonJyc7CiAgfSBlbHNlIGlmIChzdGF0ZU1hbmFnZW1lbnQgPT0gJ01vYlgnKSB7CiAgICBwdWJzcGVjQ29udGVudCArPSAnJycKICBtb2J4X2NvZGVnZW46IF4yLjcuMAonJyc7CiAgfQoKICAvLyBBZGQgZmVhdHVyZS1zcGVjaWZpYyBkZXYgZGVwZW5kZW5jaWVzCiAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAganNvbl9zZXJpYWxpemFibGU6IF42LjcuMQogIGZyZWV6ZWQ6IF4yLjQuNQonJyc7CgogIGlmIChtb2R1bGVzLmNvbnRhaW5zKCdOZXR3b3JrIExheWVyJykpIHsKICAgIHB1YnNwZWNDb250ZW50ICs9ICcnJwogIGludGVybmV0X2Nvbm5lY3Rpb25fY2hlY2tlcjogXjMuMC4xCicnJzsKICB9CgogIGlmIChtb2R1bGVzLmNvbnRhaW5zKCdMb2NhbCBTdG9yYWdlJykpIHsKICAgIHB1YnNwZWNDb250ZW50ICs9ICcnJwogIGhpdmVfZ2VuZXJhdG9yOiBeMi4wLjEKJycnOwogIH0KCiAgaWYgKGFyY2hpdGVjdHVyZSA9PSAnQ2xlYW4gQXJjaGl0ZWN0dXJlJykgewogICAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAgaW5qZWN0YWJsZV9nZW5lcmF0b3I6IF4yLjQuMAonJyc7CiAgfQovLyAgIGVsc2UgaWYgKGFyY2hpdGVjdHVyZSA9PSAnTVZWTScpIHsKLy8gICAgIHB1YnNwZWNDb250ZW50ICs9ICcnJwovLyAgIHN0YWNrZWRfZ2VuZXJhdG9yOiBeMS41LjEKLy8gJycnOwovLyAgIH0KCiAgLy8gQWRkIEZsdXR0ZXIgY29uZmlndXJhdGlvbgogIHB1YnNwZWNDb250ZW50ICs9ICcnJwoKIyBGbHV0dGVyIGNvbmZpZ3VyYXRpb24KZmx1dHRlcjoKICB1c2VzLW1hdGVyaWFsLWRlc2lnbjogdHJ1ZQogIGdlbmVyYXRlOiB0cnVlCgogIGFzc2V0czoKICAgIC0gYXNzZXRzL2ltYWdlcy8KJycnOwoKLy8gICAvLyBBZGQgY29uZGl0aW9uYWwgYXNzZXRzIGJhc2VkIG9uIGZlYXR1cmVzIGFuZCBtb2R1bGVzCi8vICAgaWYgKG1vZHVsZXMuY29udGFpbnMoJ0xvY2FsaXphdGlvbicpKSB7Ci8vICAgICBwdWJzcGVjQ29udGVudCArPSAnJycKLy8gICAgIC0gYXNzZXRzL3RyYW5zbGF0aW9ucy8KLy8gJycnOwovLyAgIH0KCiAgcHVic3BlY0NvbnRlbnQgKz0gJycnCiAgICAtIC5lbnYKCiAgCicnJzsKCiAgLy8gRmx1dHRlciBuYXRpdmUgc3BsYXNoIGNvbmZpZ3VyYXRpb24gaWYgZGFzaGJvYXJkIGZlYXR1cmUgaXMgaW5jbHVkZWQKICBpZiAoZmVhdHVyZXMuY29udGFpbnMoJ0Rhc2hib2FyZCcpKSB7CiAgICBwdWJzcGVjQ29udGVudCArPSAnJycKCiMgRmx1dHRlciBuYXRpdmUgc3BsYXNoIGNvbmZpZ3VyYXRpb24KZmx1dHRlcl9uYXRpdmVfc3BsYXNoOgogIGNvbG9yOiAiI0ZGRkZGRiIKICBpbWFnZTogYXNzZXRzL2ltYWdlcy9zcGxhc2gucG5nCiAgYW5kcm9pZF8xMjoKICAgIGltYWdlOiBhc3NldHMvaW1hZ2VzL3NwbGFzaF9hbmRyb2lkMTIucG5nCiAgICBpY29uX2JhY2tncm91bmRfY29sb3I6ICIjRkZGRkZGIgogIHdlYjogZmFsc2UKJycnOwogIH0KCiAgLy8gQ3JlYXRlIGRpcmVjdG9yeSBpZiBpdCBkb2Vzbid0IGV4aXN0CiAgZmluYWwgZGlyZWN0b3J5ID0gRGlyZWN0b3J5KHByb2plY3ROYW1lKTsKICBpZiAoIWRpcmVjdG9yeS5leGlzdHNTeW5jKCkpIHsKICAgIGRpcmVjdG9yeS5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIHByb2plY3QgZGlyZWN0b3J5OiAkcHJvamVjdE5hbWUnKTsKICB9CgogIC8vIFdyaXRlIHRoZSBwdWJzcGVjLnlhbWwgZmlsZQogIHB1YnNwZWNGaWxlLndyaXRlQXNTdHJpbmdTeW5jKHB1YnNwZWNDb250ZW50KTsKICBjb250ZXh0LmxvZ2dlcgogICAgICAuc3VjY2VzcygnR2VuZXJhdGVkIHB1YnNwZWMueWFtbCB3aXRoIGFwcHJvcHJpYXRlIGRlcGVuZGVuY2llcycpOwp9Cg==",
      "type": "text",
    },
    {
      "path": "lib/push_notification_generator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBHZW5lcmF0ZXMgYSBwdXNoIG5vdGlmaWNhdGlvbiBzeXN0ZW0gd2l0aCBGaXJlYmFzZSBDbG91ZCBNZXNzYWdpbmcKLy8vIGlmIHRoZSBOb3RpZmljYXRpb25zIG1vZHVsZSBpcyBzZWxlY3RlZAp2b2lkIGdlbmVyYXRlUHVzaE5vdGlmaWNhdGlvblN5c3RlbSgKICAgIEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwgTGlzdDxkeW5hbWljPiBtb2R1bGVzKSB7CiAgLy8gQ2hlY2sgaWYgTm90aWZpY2F0aW9ucyBpcyBpbiB0aGUgc2VsZWN0ZWQgbW9kdWxlcwogIGlmICghbW9kdWxlcy5jb250YWlucygnUHVzaCBOb3RpZmljYXRpb24nKSkgewogICAgY29udGV4dC5sb2dnZXIuaW5mbygKICAgICAgICAnTm90aWZpY2F0aW9ucyBtb2R1bGUgbm90IHNlbGVjdGVkLCBza2lwcGluZyBwdXNoIG5vdGlmaWNhdGlvbiBzeXN0ZW0gZ2VuZXJhdGlvbicpOwogICAgcmV0dXJuOwogIH0KCiAgY29udGV4dC5sb2dnZXIuaW5mbygnR2VuZXJhdGluZyBwdXNoIG5vdGlmaWNhdGlvbiBzeXN0ZW0gZm9yICRwcm9qZWN0TmFtZScpOwoKICAvLyBDcmVhdGUgZGlyZWN0b3J5IHN0cnVjdHVyZQogIGZpbmFsIGRpcmVjdG9yaWVzID0gWwogICAgJ2xpYi9jb3JlL25vdGlmaWNhdGlvbnMnLAogICAgJ2xpYi9jb3JlL25vdGlmaWNhdGlvbnMvc2VydmljZXMnLAogICAgJ2xpYi9jb3JlL25vdGlmaWNhdGlvbnMvbW9kZWxzJywKICBdOwoKICBmb3IgKGZpbmFsIGRpciBpbiBkaXJlY3RvcmllcykgewogICAgZmluYWwgZGlyZWN0b3J5ID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvJGRpcicpOwogICAgaWYgKCFkaXJlY3RvcnkuZXhpc3RzU3luYygpKSB7CiAgICAgIGRpcmVjdG9yeS5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZGlyZWN0b3J5OiAkZGlyJyk7CiAgICB9CiAgfQoKICAvLyBHZW5lcmF0ZSBpT1MgSW5mby5wbGlzdCB3aXRoIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9ucwogIC8vIGdlbmVyYXRlSW5mb1BsaXN0RmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CgogIC8vIFVwZGF0ZSBpT1MgYW5kIEFuZHJvaWQgcGxhdGZvcm0gY29uZmlndXJhdGlvbnMKICBfY29uZmlndXJlTm90aWZpY2F0aW9uc0ZvclBsYXRmb3Jtcyhjb250ZXh0LCBwcm9qZWN0TmFtZSk7CgogIC8vIEdlbmVyYXRlIG5vdGlmaWNhdGlvbiBmaWxlcwogIF9nZW5lcmF0ZUZjbVNlcnZpY2VGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICBfZ2VuZXJhdGVOb3RpZmljYXRpb25IYW5kbGVyRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgX2dlbmVyYXRlTm90aWZpY2F0aW9uTW9kZWxGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICBfZ2VuZXJhdGVMb2NhbE5vdGlmaWNhdGlvblNlcnZpY2VGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gVXBkYXRlIHB1YnNwZWMueWFtbCB0byBhZGQgRmlyZWJhc2UgZGVwZW5kZW5jaWVzCiAgX2FkZEZpcmViYXNlRGVwZW5kZW5jaWVzKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gVXBkYXRlIG1haW4uZGFydCB0byBpbml0aWFsaXplIEZpcmViYXNlIGFuZCBGQ00KICBfdXBkYXRlTWFpbkZvck5vdGlmaWNhdGlvbnMoY29udGV4dCwgcHJvamVjdE5hbWUpOwoKICAvLyBDcmVhdGUgYSBzYW1wbGUgbm90aWZpY2F0aW9uIHNjcmVlbgogIF9nZW5lcmF0ZU5vdGlmaWNhdGlvblNjcmVlbkZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwoKICBjb250ZXh0LmxvZ2dlci5zdWNjZXNzKCdQdXNoIG5vdGlmaWNhdGlvbiBzeXN0ZW0gZ2VuZXJhdGVkIHN1Y2Nlc3NmdWxseSEnKTsKfQoKLy8vIEdlbmVyYXRlcyB0aGUgRkNNIHNlcnZpY2UgZmlsZQp2b2lkIF9nZW5lcmF0ZUZjbVNlcnZpY2VGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9ub3RpZmljYXRpb25zL3NlcnZpY2VzL2ZjbV9zZXJ2aWNlLmRhcnQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdkYXJ0OmNvbnZlcnQnOwppbXBvcnQgJ3BhY2thZ2U6ZmlyZWJhc2VfY29yZS9maXJlYmFzZV9jb3JlLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6ZmlyZWJhc2VfbWVzc2FnaW5nL2ZpcmViYXNlX21lc3NhZ2luZy5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvZm91bmRhdGlvbi5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfbG9jYWxfbm90aWZpY2F0aW9ucy9mbHV0dGVyX2xvY2FsX25vdGlmaWNhdGlvbnMuZGFydCc7CmltcG9ydCAnZGFydDppbyc7CgppbXBvcnQgJy4uL21vZGVscy9wdXNoX25vdGlmaWNhdGlvbl9tb2RlbC5kYXJ0JzsKaW1wb3J0ICdsb2NhbF9ub3RpZmljYXRpb25fc2VydmljZS5kYXJ0JzsKCgovLy8gU2VydmljZSB0byBoYW5kbGUgRmlyZWJhc2UgQ2xvdWQgTWVzc2FnaW5nIChGQ00pIG9wZXJhdGlvbnMKY2xhc3MgRkNNU2VydmljZSB7CiAgZmluYWwgRmlyZWJhc2VNZXNzYWdpbmcgX2ZpcmViYXNlTWVzc2FnaW5nID0gRmlyZWJhc2VNZXNzYWdpbmcuaW5zdGFuY2U7CiAgZmluYWwgTG9jYWxOb3RpZmljYXRpb25TZXJ2aWNlIF9sb2NhbE5vdGlmaWNhdGlvblNlcnZpY2U7CiAgZmluYWwgTGlzdDxGdW5jdGlvbihQdXNoTm90aWZpY2F0aW9uTW9kZWwpPiBfb25Ob3RpZmljYXRpb25SZWNlaXZlZExpc3RlbmVycyA9CiAgICAgIFtdOwoKICBGQ01TZXJ2aWNlKHRoaXMuX2xvY2FsTm90aWZpY2F0aW9uU2VydmljZSk7CgogIC8vLyBJbml0aWFsaXplIEZDTSBzZXJ2aWNlCiAgLy8vIEluaXRpYWxpemUgRkNNIHNlcnZpY2Ugd2l0aCBpbXByb3ZlZCBlcnJvciBoYW5kbGluZwogIEZ1dHVyZTx2b2lkPiBpbml0aWFsaXplKCkgYXN5bmMgewogICAgYXdhaXQgX3JlcXVlc3RQZXJtaXNzaW9ucygpOwogICAgYXdhaXQgX3NldHVwRm9yZWdyb3VuZE5vdGlmaWNhdGlvbnMoKTsKICAgIGF3YWl0IF9zZXR1cEJhY2tncm91bmRBbmRUZXJtaW5hdGVkTm90aWZpY2F0aW9ucygpOwogICAgYXdhaXQgX3NldHVwT25NZXNzYWdlT3BlbmVkQXBwKCk7CgogICAgdHJ5IHsKICAgICAgLy8gR2V0IEZDTSB0b2tlbiB3aXRoIGVycm9yIGhhbmRsaW5nCiAgICAgIFN0cmluZz8gdG9rZW4gPSBhd2FpdCBnZXRUb2tlbigpOwogICAgICBpZiAodG9rZW4gIT0gbnVsbCkgewogICAgICAgIGRlYnVnUHJpbnQoJ0ZDTSBUb2tlbjogXCR0b2tlbicpOwogICAgICB9IGVsc2UgewogICAgICAgIGRlYnVnUHJpbnQoJ0ZhaWxlZCB0byBnZXQgRkNNIHRva2VuIC0gbm90aWZpY2F0aW9ucyBtYXkgYmUgbGltaXRlZCcpOwogICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGRlYnVnUHJpbnQoJ0Vycm9yIGR1cmluZyBGQ00gaW5pdGlhbGl6YXRpb246IFwkZScpOwogICAgICAvLyBDb250aW51ZSBleGVjdXRpb24gZXZlbiBpZiB0b2tlbiByZXRyaWV2YWwgZmFpbHMKICAgIH0KCiAgICAvLyBMaXN0ZW4gZm9yIHRva2VuIHJlZnJlc2hlcwogICAgX2ZpcmViYXNlTWVzc2FnaW5nLm9uVG9rZW5SZWZyZXNoLmxpc3RlbigobmV3VG9rZW4pIHsKICAgICAgZGVidWdQcmludCgnRkNNIFRva2VuIHJlZnJlc2hlZDogXCRuZXdUb2tlbicpOwogICAgICAvLyBUT0RPOiBTZW5kIHRoaXMgdG9rZW4gdG8geW91ciBzZXJ2ZXIKICAgIH0pOwogIH0KCiAgLy8vIFJlcXVlc3Qgbm90aWZpY2F0aW9uIHBlcm1pc3Npb25zCiAgRnV0dXJlPHZvaWQ+IF9yZXF1ZXN0UGVybWlzc2lvbnMoKSBhc3luYyB7CiAgICBOb3RpZmljYXRpb25TZXR0aW5ncyBzZXR0aW5ncyA9IGF3YWl0IF9maXJlYmFzZU1lc3NhZ2luZy5yZXF1ZXN0UGVybWlzc2lvbigKICAgICAgYWxlcnQ6IHRydWUsCiAgICAgIGFubm91bmNlbWVudDogZmFsc2UsCiAgICAgIGJhZGdlOiB0cnVlLAogICAgICBjYXJQbGF5OiBmYWxzZSwKICAgICAgY3JpdGljYWxBbGVydDogZmFsc2UsCiAgICAgIHByb3Zpc2lvbmFsOiBmYWxzZSwKICAgICAgc291bmQ6IHRydWUsCiAgICApOwoKICAgIGRlYnVnUHJpbnQoJ0ZDTSBwZXJtaXNzaW9uIHN0YXR1czogXCR7c2V0dGluZ3MuYXV0aG9yaXphdGlvblN0YXR1c30nKTsKICB9CgogIC8vLyBTZXR1cCBoYW5kbGluZyBvZiBmb3JlZ3JvdW5kIG5vdGlmaWNhdGlvbnMKICBGdXR1cmU8dm9pZD4gX3NldHVwRm9yZWdyb3VuZE5vdGlmaWNhdGlvbnMoKSBhc3luYyB7CiAgICAvLyBIYW5kbGUgZm9yZWdyb3VuZCBtZXNzYWdlcwogICAgRmlyZWJhc2VNZXNzYWdpbmcub25NZXNzYWdlLmxpc3RlbigoUmVtb3RlTWVzc2FnZSBtZXNzYWdlKSB7CiAgICAgIGRlYnVnUHJpbnQoJ0dvdCBhIG1lc3NhZ2Ugd2hpbHN0IGluIHRoZSBmb3JlZ3JvdW5kIScpOwogICAgICBkZWJ1Z1ByaW50KCdNZXNzYWdlIGRhdGE6IFwke21lc3NhZ2UuZGF0YX0nKTsKCiAgICAgIGlmIChtZXNzYWdlLm5vdGlmaWNhdGlvbiAhPSBudWxsKSB7CiAgICAgICAgZGVidWdQcmludCgKICAgICAgICAgICAgJ01lc3NhZ2UgYWxzbyBjb250YWluZWQgYSBub3RpZmljYXRpb246IFwke21lc3NhZ2Uubm90aWZpY2F0aW9ufScpOwoKICAgICAgICBmaW5hbCBub3RpZmljYXRpb24gPSBQdXNoTm90aWZpY2F0aW9uTW9kZWwoCiAgICAgICAgICB0aXRsZTogbWVzc2FnZS5ub3RpZmljYXRpb24/LnRpdGxlID8/ICdOZXcgTm90aWZpY2F0aW9uJywKICAgICAgICAgIGJvZHk6IG1lc3NhZ2Uubm90aWZpY2F0aW9uPy5ib2R5ID8/ICcnLAogICAgICAgICAgcGF5bG9hZDoganNvbi5lbmNvZGUobWVzc2FnZS5kYXRhKSwKICAgICAgICApOwoKICAgICAgICAvLyBTaG93IGxvY2FsIG5vdGlmaWNhdGlvbgogICAgICAgIF9sb2NhbE5vdGlmaWNhdGlvblNlcnZpY2Uuc2hvd05vdGlmaWNhdGlvbihub3RpZmljYXRpb24pOwoKICAgICAgICAvLyBOb3RpZnkgbGlzdGVuZXJzCiAgICAgICAgX25vdGlmeUxpc3RlbmVycyhub3RpZmljYXRpb24pOwogICAgICB9CiAgICB9KTsKICB9CgogIC8vLyBTZXR1cCBoYW5kbGluZyBvZiBiYWNrZ3JvdW5kIGFuZCB0ZXJtaW5hdGVkIG5vdGlmaWNhdGlvbnMKICBGdXR1cmU8dm9pZD4gX3NldHVwQmFja2dyb3VuZEFuZFRlcm1pbmF0ZWROb3RpZmljYXRpb25zKCkgYXN5bmMgewogICAgLy8gQ2hlY2sgaWYgYXBwIHdhcyBvcGVuZWQgZnJvbSBhIHRlcm1pbmF0ZWQgc3RhdGUKICAgIFJlbW90ZU1lc3NhZ2U/IGluaXRpYWxNZXNzYWdlID0KICAgICAgICBhd2FpdCBfZmlyZWJhc2VNZXNzYWdpbmcuZ2V0SW5pdGlhbE1lc3NhZ2UoKTsKICAgIGlmIChpbml0aWFsTWVzc2FnZSAhPSBudWxsKSB7CiAgICAgIF9oYW5kbGVNZXNzYWdlKGluaXRpYWxNZXNzYWdlKTsKICAgIH0KICB9CgogIC8vLyBTZXR1cCBoYW5kbGluZyBvZiBub3RpZmljYXRpb25zIHdoZW4gYXBwIGlzIG9wZW5lZAogIEZ1dHVyZTx2b2lkPiBfc2V0dXBPbk1lc3NhZ2VPcGVuZWRBcHAoKSBhc3luYyB7CiAgICAvLyBIYW5kbGUgd2hlbiB0aGUgYXBwIGlzIG9wZW5lZCBmcm9tIGEgYmFja2dyb3VuZCBzdGF0ZQogICAgRmlyZWJhc2VNZXNzYWdpbmcub25NZXNzYWdlT3BlbmVkQXBwLmxpc3RlbihfaGFuZGxlTWVzc2FnZSk7CiAgfQoKICAvLy8gSGFuZGxlIHJlY2VpdmVkIG1lc3NhZ2UKICB2b2lkIF9oYW5kbGVNZXNzYWdlKFJlbW90ZU1lc3NhZ2UgbWVzc2FnZSkgewogICAgZGVidWdQcmludCgnSGFuZGxpbmcgRkNNIG1lc3NhZ2U6IFwke21lc3NhZ2UubWVzc2FnZUlkfScpOwoKICAgIGlmIChtZXNzYWdlLm5vdGlmaWNhdGlvbiAhPSBudWxsKSB7CiAgICAgIGZpbmFsIG5vdGlmaWNhdGlvbiA9IFB1c2hOb3RpZmljYXRpb25Nb2RlbCgKICAgICAgICB0aXRsZTogbWVzc2FnZS5ub3RpZmljYXRpb24/LnRpdGxlID8/ICdOZXcgTm90aWZpY2F0aW9uJywKICAgICAgICBib2R5OiBtZXNzYWdlLm5vdGlmaWNhdGlvbj8uYm9keSA/PyAnJywKICAgICAgICBwYXlsb2FkOiBqc29uLmVuY29kZShtZXNzYWdlLmRhdGEpLAogICAgICApOwoKICAgICAgLy8gTm90aWZ5IGxpc3RlbmVycwogICAgICBfbm90aWZ5TGlzdGVuZXJzKG5vdGlmaWNhdGlvbik7CgogICAgICAvLyBUT0RPOiBOYXZpZ2F0ZSB0byBzcGVjaWZpYyBzY3JlZW4gYmFzZWQgb24gZGF0YSBpZiBuZWVkZWQKICAgICAgLy8gRXhhbXBsZToKICAgICAgLy8gaWYgKG1lc3NhZ2UuZGF0YS5jb250YWluc0tleSgndHlwZScpKSB7CiAgICAgIC8vICAgaWYgKG1lc3NhZ2UuZGF0YVsndHlwZSddID09ICdjaGF0JykgewogICAgICAvLyAgICAgLy8gTmF2aWdhdGUgdG8gY2hhdCBzY3JlZW4KICAgICAgLy8gICB9CiAgICAgIC8vIH0KICAgIH0KICB9CgogIC8vLyBTdWJzY3JpYmUgdG8gYSB0b3BpYwogIEZ1dHVyZTx2b2lkPiBzdWJzY3JpYmVUb1RvcGljKFN0cmluZyB0b3BpYykgYXN5bmMgewogICAgYXdhaXQgX2ZpcmViYXNlTWVzc2FnaW5nLnN1YnNjcmliZVRvVG9waWModG9waWMpOwogIH0KCiAgLy8vIFVuc3Vic2NyaWJlIGZyb20gYSB0b3BpYwogIEZ1dHVyZTx2b2lkPiB1bnN1YnNjcmliZUZyb21Ub3BpYyhTdHJpbmcgdG9waWMpIGFzeW5jIHsKICAgIGF3YWl0IF9maXJlYmFzZU1lc3NhZ2luZy51bnN1YnNjcmliZUZyb21Ub3BpYyh0b3BpYyk7CiAgfQoKICAvLy8gR2V0IHRoZSBGQ00gdG9rZW4KICAvLy8gR2V0IHRoZSBGQ00gdG9rZW4gd2l0aCBpbXByb3ZlZCBpT1Mgc3VwcG9ydAogIEZ1dHVyZTxTdHJpbmc/PiBnZXRUb2tlbigpIGFzeW5jIHsKICAgIHRyeSB7CiAgICAgIGlmIChQbGF0Zm9ybS5pc0lPUykgewogICAgICAgIC8vIEZvciBpT1MsIGZpcnN0IGNoZWNrIEFQTlMgdG9rZW4gZXhwbGljaXRseQogICAgICAgIGZpbmFsIGFwbnNUb2tlbiA9IGF3YWl0IF9maXJlYmFzZU1lc3NhZ2luZy5nZXRBUE5TVG9rZW4oKTsKCiAgICAgICAgaWYgKGFwbnNUb2tlbiA9PSBudWxsKSB7CiAgICAgICAgICBkZWJ1Z1ByaW50KCdBUE5TIHRva2VuIGlzIG51bGwsIGlPUyBwdXNoIG5vdGlmaWNhdGlvbnMgbWF5IG5vdCB3b3JrJyk7CgogICAgICAgICAgLy8gaU9TIHNpbXVsYXRvciBkb2Vzbid0IHN1cHBvcnQgcHVzaCBub3RpZmljYXRpb25zCiAgICAgICAgICBpZiAoUGxhdGZvcm0uaXNJT1MgJiYgIWF3YWl0IF9pc1BoeXNpY2FsRGV2aWNlKCkpIHsKICAgICAgICAgICAgZGVidWdQcmludCgKICAgICAgICAgICAgICAgICdSdW5uaW5nIG9uIGlPUyBzaW11bGF0b3IgLSBwdXNoIG5vdGlmaWNhdGlvbnMgYXJlIG5vdCBmdWxseSBzdXBwb3J0ZWQnKTsKICAgICAgICAgICAgcmV0dXJuICdzaW11bGF0b3ItdG9rZW4tbm90LWF2YWlsYWJsZSc7CiAgICAgICAgICB9CgogICAgICAgICAgLy8gT24gcGh5c2ljYWwgZGV2aWNlcywgd2FpdCBhIGJpdCBhbmQgdHJ5IGFnYWluCiAgICAgICAgICBhd2FpdCBGdXR1cmUuZGVsYXllZChjb25zdCBEdXJhdGlvbihzZWNvbmRzOiAxKSk7CiAgICAgICAgICBmaW5hbCByZXRyeUFwbnNUb2tlbiA9IGF3YWl0IF9maXJlYmFzZU1lc3NhZ2luZy5nZXRBUE5TVG9rZW4oKTsKCiAgICAgICAgICBpZiAocmV0cnlBcG5zVG9rZW4gPT0gbnVsbCkgewogICAgICAgICAgICBkZWJ1Z1ByaW50KCdBUE5TIHRva2VuIHN0aWxsIG51bGwgYWZ0ZXIgcmV0cnknKTsKICAgICAgICAgICAgcmV0dXJuIG51bGw7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICAvLyBOb3cgdHJ5IHRvIGdldCBGQ00gdG9rZW4KICAgICAgcmV0dXJuIGF3YWl0IF9maXJlYmFzZU1lc3NhZ2luZy5nZXRUb2tlbigpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBkZWJ1Z1ByaW50KCdFcnJvciBnZXR0aW5nIEZDTSB0b2tlbjogXCRlJyk7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH0KCgogIC8vLyBDaGVjayBpZiB0aGUgYXBwIGlzIHJ1bm5pbmcgb24gYSBwaHlzaWNhbCBkZXZpY2UKICBGdXR1cmU8Ym9vbD4gX2lzUGh5c2ljYWxEZXZpY2UoKSBhc3luYyB7CiAgICB0cnkgewogICAgICAvLyBUaGlzIGlzIGEgc2ltcGxpZmllZCBjaGVjayAtIGluIHByb2R1Y3Rpb24sIHVzZSBhIHBhY2thZ2UgbGlrZSAnZGV2aWNlX2luZm9fcGx1cycKICAgICAgLy8gdG8gbW9yZSBhY2N1cmF0ZWx5IGRldGVybWluZSBpZiB0aGUgZGV2aWNlIGlzIHBoeXNpY2FsCiAgICAgIHJldHVybiAhYm9vbC5mcm9tRW52aXJvbm1lbnQoJ2RhcnQudm0ucHJvZHVjdCcpOwogICAgfSBjYXRjaCAoZSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9CiAgfQoKICAvLy8gQWRkIGEgbm90aWZpY2F0aW9uIHJlY2VpdmVkIGxpc3RlbmVyCiAgdm9pZCBhZGRPbk5vdGlmaWNhdGlvblJlY2VpdmVkTGlzdGVuZXIoCiAgICAgIEZ1bmN0aW9uKFB1c2hOb3RpZmljYXRpb25Nb2RlbCkgbGlzdGVuZXIpIHsKICAgIF9vbk5vdGlmaWNhdGlvblJlY2VpdmVkTGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7CiAgfQoKICAvLy8gUmVtb3ZlIGEgbm90aWZpY2F0aW9uIHJlY2VpdmVkIGxpc3RlbmVyCiAgdm9pZCByZW1vdmVPbk5vdGlmaWNhdGlvblJlY2VpdmVkTGlzdGVuZXIoCiAgICAgIEZ1bmN0aW9uKFB1c2hOb3RpZmljYXRpb25Nb2RlbCkgbGlzdGVuZXIpIHsKICAgIF9vbk5vdGlmaWNhdGlvblJlY2VpdmVkTGlzdGVuZXJzLnJlbW92ZShsaXN0ZW5lcik7CiAgfQoKICAvLy8gTm90aWZ5IGxpc3RlbmVycyBvZiBhIG5ldyBub3RpZmljYXRpb24KICB2b2lkIF9ub3RpZnlMaXN0ZW5lcnMoUHVzaE5vdGlmaWNhdGlvbk1vZGVsIG5vdGlmaWNhdGlvbikgewogICAgZm9yICh2YXIgbGlzdGVuZXIgaW4gX29uTm90aWZpY2F0aW9uUmVjZWl2ZWRMaXN0ZW5lcnMpIHsKICAgICAgbGlzdGVuZXIobm90aWZpY2F0aW9uKTsKICAgIH0KICB9Cn0KCi8vLyBGaXJlYmFzZSBtZXNzYWdlIGhhbmRsZXIgZm9yIGJhY2tncm91bmQgbWVzc2FnZXMKQHByYWdtYSgndm06ZW50cnktcG9pbnQnKQpGdXR1cmU8dm9pZD4gZmlyZWJhc2VNZXNzYWdpbmdCYWNrZ3JvdW5kSGFuZGxlcihSZW1vdGVNZXNzYWdlIG1lc3NhZ2UpIGFzeW5jIHsKICAvLyBOZWVkIHRvIGluaXRpYWxpemUgRmlyZWJhc2UgYmVmb3JlIHVzaW5nIGl0CiAgYXdhaXQgRmlyZWJhc2UuaW5pdGlhbGl6ZUFwcCgpOwoKICBkZWJ1Z1ByaW50KCdIYW5kbGluZyBiYWNrZ3JvdW5kIG1lc3NhZ2U6IFwke21lc3NhZ2UubWVzc2FnZUlkfScpOwoKICAvLyBJbml0aWFsaXplIEZsdXR0ZXJMb2NhbE5vdGlmaWNhdGlvbnNQbHVnaW4KICBmaW5hbCBGbHV0dGVyTG9jYWxOb3RpZmljYXRpb25zUGx1Z2luIGZsdXR0ZXJMb2NhbE5vdGlmaWNhdGlvbnNQbHVnaW4gPQogICAgICBGbHV0dGVyTG9jYWxOb3RpZmljYXRpb25zUGx1Z2luKCk7CgogIGNvbnN0IEFuZHJvaWRJbml0aWFsaXphdGlvblNldHRpbmdzIGluaXRpYWxpemF0aW9uU2V0dGluZ3NBbmRyb2lkID0KICAgICAgQW5kcm9pZEluaXRpYWxpemF0aW9uU2V0dGluZ3MoJ0BtaXBtYXAvaWNfbGF1bmNoZXInKTsKCiAgY29uc3QgSW5pdGlhbGl6YXRpb25TZXR0aW5ncyBpbml0aWFsaXphdGlvblNldHRpbmdzID0KICAgICAgSW5pdGlhbGl6YXRpb25TZXR0aW5ncyhhbmRyb2lkOiBpbml0aWFsaXphdGlvblNldHRpbmdzQW5kcm9pZCk7CgogIGF3YWl0IGZsdXR0ZXJMb2NhbE5vdGlmaWNhdGlvbnNQbHVnaW4uaW5pdGlhbGl6ZShpbml0aWFsaXphdGlvblNldHRpbmdzKTsKCiAgLy8gU2hvdyBub3RpZmljYXRpb24gaWYgdGhlcmUgaXMgYSBub3RpZmljYXRpb24gcGF5bG9hZAogIGlmIChtZXNzYWdlLm5vdGlmaWNhdGlvbiAhPSBudWxsKSB7CiAgICBjb25zdCBBbmRyb2lkTm90aWZpY2F0aW9uRGV0YWlscyBhbmRyb2lkUGxhdGZvcm1DaGFubmVsU3BlY2lmaWNzID0KICAgICAgICBBbmRyb2lkTm90aWZpY2F0aW9uRGV0YWlscygKICAgICAgJ2hpZ2hfaW1wb3J0YW5jZV9jaGFubmVsJywKICAgICAgJ0hpZ2ggSW1wb3J0YW5jZSBOb3RpZmljYXRpb25zJywKICAgICAgaW1wb3J0YW5jZTogSW1wb3J0YW5jZS5tYXgsCiAgICAgIHByaW9yaXR5OiBQcmlvcml0eS5oaWdoLAogICAgKTsKCiAgICBjb25zdCBOb3RpZmljYXRpb25EZXRhaWxzIHBsYXRmb3JtQ2hhbm5lbFNwZWNpZmljcyA9CiAgICAgICAgTm90aWZpY2F0aW9uRGV0YWlscyhhbmRyb2lkOiBhbmRyb2lkUGxhdGZvcm1DaGFubmVsU3BlY2lmaWNzKTsKCiAgICBhd2FpdCBmbHV0dGVyTG9jYWxOb3RpZmljYXRpb25zUGx1Z2luLnNob3coCiAgICAgIG1lc3NhZ2UuaGFzaENvZGUsCiAgICAgIG1lc3NhZ2Uubm90aWZpY2F0aW9uPy50aXRsZSwKICAgICAgbWVzc2FnZS5ub3RpZmljYXRpb24/LmJvZHksCiAgICAgIHBsYXRmb3JtQ2hhbm5lbFNwZWNpZmljcywKICAgICAgcGF5bG9hZDoganNvbi5lbmNvZGUobWVzc2FnZS5kYXRhKSwKICAgICk7CiAgfQp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlcyB0aGUgbm90aWZpY2F0aW9uIGhhbmRsZXIgZmlsZQp2b2lkIF9nZW5lcmF0ZU5vdGlmaWNhdGlvbkhhbmRsZXJGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9ub3RpZmljYXRpb25zL25vdGlmaWNhdGlvbl9oYW5kbGVyLmRhcnQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZpcmViYXNlX21lc3NhZ2luZy9maXJlYmFzZV9tZXNzYWdpbmcuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyL2ZvdW5kYXRpb24uZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2xvY2FsX25vdGlmaWNhdGlvbnMvZmx1dHRlcl9sb2NhbF9ub3RpZmljYXRpb25zLmRhcnQnOwoKaW1wb3J0ICdtb2RlbHMvcHVzaF9ub3RpZmljYXRpb25fbW9kZWwuZGFydCc7CmltcG9ydCAnc2VydmljZXMvZmNtX3NlcnZpY2UuZGFydCc7CmltcG9ydCAnc2VydmljZXMvbG9jYWxfbm90aWZpY2F0aW9uX3NlcnZpY2UuZGFydCc7CgovLy8gTWFpbiBjbGFzcyB0byBoYW5kbGUgYWxsIG5vdGlmaWNhdGlvbiBvcGVyYXRpb25zCmNsYXNzIE5vdGlmaWNhdGlvbkhhbmRsZXIgewogIGxhdGUgZmluYWwgRkNNU2VydmljZSBfZmNtU2VydmljZTsKICBsYXRlIGZpbmFsIExvY2FsTm90aWZpY2F0aW9uU2VydmljZSBfbG9jYWxOb3RpZmljYXRpb25TZXJ2aWNlOwogIAogIC8vLyBJbml0aWFsaXplIG5vdGlmaWNhdGlvbiBzZXJ2aWNlcwpGdXR1cmU8Ym9vbD4gaW5pdGlhbGl6ZSgpIGFzeW5jIHsKICAgIHRyeSB7CiAgICAgIC8vIFNldHVwIGxvY2FsIG5vdGlmaWNhdGlvbnMgZmlyc3QKICAgICAgX2xvY2FsTm90aWZpY2F0aW9uU2VydmljZSA9IExvY2FsTm90aWZpY2F0aW9uU2VydmljZSgpOwogICAgICBhd2FpdCBfbG9jYWxOb3RpZmljYXRpb25TZXJ2aWNlLmluaXRpYWxpemUoKTsKCiAgICAgIC8vIFNldHVwIEZDTSBzZXJ2aWNlCiAgICAgIF9mY21TZXJ2aWNlID0gRkNNU2VydmljZShfbG9jYWxOb3RpZmljYXRpb25TZXJ2aWNlKTsKICAgICAgYXdhaXQgX2ZjbVNlcnZpY2UuaW5pdGlhbGl6ZSgpOwoKICAgICAgLy8gUmVnaXN0ZXIgYmFja2dyb3VuZCBtZXNzYWdlIGhhbmRsZXIKICAgICAgRmlyZWJhc2VNZXNzYWdpbmcub25CYWNrZ3JvdW5kTWVzc2FnZShmaXJlYmFzZU1lc3NhZ2luZ0JhY2tncm91bmRIYW5kbGVyKTsKCiAgICAgIHJldHVybiB0cnVlOwogICAgfSBjYXRjaCAoZSkgewogICAgICBkZWJ1Z1ByaW50KCdFcnJvciBpbml0aWFsaXppbmcgbm90aWZpY2F0aW9uIHNlcnZpY2VzOiBcJGUnKTsKICAgICAgLy8gQ29udGludWUgd2l0aCBhcHAgaW5pdGlhbGl6YXRpb24gZXZlbiBpZiBub3RpZmljYXRpb25zIGZhaWwKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogIH0KCiAgLy8vIEdldCBGQ00gdG9rZW4gd2l0aCBlcnJvciBoYW5kbGluZwogIEZ1dHVyZTxTdHJpbmc/PiBnZXRGQ01Ub2tlbigpIGFzeW5jIHsKICAgIHRyeSB7CiAgICAgIHJldHVybiBhd2FpdCBfZmNtU2VydmljZS5nZXRUb2tlbigpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBkZWJ1Z1ByaW50KCdFcnJvciBpbiBnZXRGQ01Ub2tlbjogXCRlJyk7CiAgICAgIHJldHVybiAnRXJyb3I6IFwkZSc7CiAgICB9CiAgfQogIAogIC8vLyBTaG93IGEgbG9jYWwgbm90aWZpY2F0aW9uCiAgRnV0dXJlPHZvaWQ+IHNob3dMb2NhbE5vdGlmaWNhdGlvbihQdXNoTm90aWZpY2F0aW9uTW9kZWwgbm90aWZpY2F0aW9uKSBhc3luYyB7CiAgICBhd2FpdCBfbG9jYWxOb3RpZmljYXRpb25TZXJ2aWNlLnNob3dOb3RpZmljYXRpb24obm90aWZpY2F0aW9uKTsKICB9CiAgCiAgLy8vIFN1YnNjcmliZSB0byBhIEZDTSB0b3BpYwogIEZ1dHVyZTx2b2lkPiBzdWJzY3JpYmVUb1RvcGljKFN0cmluZyB0b3BpYykgYXN5bmMgewogICAgYXdhaXQgX2ZjbVNlcnZpY2Uuc3Vic2NyaWJlVG9Ub3BpYyh0b3BpYyk7CiAgfQogIAogIC8vLyBVbnN1YnNjcmliZSBmcm9tIGEgRkNNIHRvcGljCiAgRnV0dXJlPHZvaWQ+IHVuc3Vic2NyaWJlRnJvbVRvcGljKFN0cmluZyB0b3BpYykgYXN5bmMgewogICAgYXdhaXQgX2ZjbVNlcnZpY2UudW5zdWJzY3JpYmVGcm9tVG9waWModG9waWMpOwogIH0KICAKICAKICAvLy8gQWRkIGxpc3RlbmVyIGZvciBub3RpZmljYXRpb24gcmVjZWl2ZWQKICB2b2lkIGFkZE9uTm90aWZpY2F0aW9uUmVjZWl2ZWRMaXN0ZW5lcihGdW5jdGlvbihQdXNoTm90aWZpY2F0aW9uTW9kZWwpIGxpc3RlbmVyKSB7CiAgICBfZmNtU2VydmljZS5hZGRPbk5vdGlmaWNhdGlvblJlY2VpdmVkTGlzdGVuZXIobGlzdGVuZXIpOwogIH0KICAKICAvLy8gUmVtb3ZlIGxpc3RlbmVyIGZvciBub3RpZmljYXRpb24gcmVjZWl2ZWQKICB2b2lkIHJlbW92ZU9uTm90aWZpY2F0aW9uUmVjZWl2ZWRMaXN0ZW5lcihGdW5jdGlvbihQdXNoTm90aWZpY2F0aW9uTW9kZWwpIGxpc3RlbmVyKSB7CiAgICBfZmNtU2VydmljZS5yZW1vdmVPbk5vdGlmaWNhdGlvblJlY2VpdmVkTGlzdGVuZXIobGlzdGVuZXIpOwogIH0KICAKICAvLy8gQWRkIGxpc3RlbmVyIGZvciBub3RpZmljYXRpb24gdGFwCiAgdm9pZCBhZGRPbk5vdGlmaWNhdGlvblRhcExpc3RlbmVyKEZ1bmN0aW9uKFN0cmluZz8pIGxpc3RlbmVyKSB7CiAgICBfbG9jYWxOb3RpZmljYXRpb25TZXJ2aWNlLmFkZE9uTm90aWZpY2F0aW9uVGFwTGlzdGVuZXIobGlzdGVuZXIpOwogIH0KICAKICAvLy8gUmVtb3ZlIGxpc3RlbmVyIGZvciBub3RpZmljYXRpb24gdGFwCiAgdm9pZCByZW1vdmVPbk5vdGlmaWNhdGlvblRhcExpc3RlbmVyKEZ1bmN0aW9uKFN0cmluZz8pIGxpc3RlbmVyKSB7CiAgICBfbG9jYWxOb3RpZmljYXRpb25TZXJ2aWNlLnJlbW92ZU9uTm90aWZpY2F0aW9uVGFwTGlzdGVuZXIobGlzdGVuZXIpOwogIH0KfQoKLy8vIEdsb2JhbCBub3RpZmljYXRpb24gaGFuZGxlciBpbnN0YW5jZQpmaW5hbCBub3RpZmljYXRpb25IYW5kbGVyID0gTm90aWZpY2F0aW9uSGFuZGxlcigpOwonJyc7CgogIGZpbmFsIGZpbGUgPSBGaWxlKGZpbGVQYXRoKTsKICBmaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJGZpbGVQYXRoJyk7Cn0KCi8vLyBHZW5lcmF0ZXMgdGhlIG5vdGlmaWNhdGlvbiBtb2RlbCBmaWxlCnZvaWQgX2dlbmVyYXRlTm90aWZpY2F0aW9uTW9kZWxGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9ub3RpZmljYXRpb25zL21vZGVscy9wdXNoX25vdGlmaWNhdGlvbl9tb2RlbC5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCi8vLyBNb2RlbCBjbGFzcyBmb3IgcHVzaCBub3RpZmljYXRpb25zCmNsYXNzIFB1c2hOb3RpZmljYXRpb25Nb2RlbCB7CiAgZmluYWwgU3RyaW5nIHRpdGxlOwogIGZpbmFsIFN0cmluZyBib2R5OwogIGZpbmFsIFN0cmluZz8gaW1hZ2VVcmw7CiAgZmluYWwgU3RyaW5nPyBwYXlsb2FkOwogIAogIFB1c2hOb3RpZmljYXRpb25Nb2RlbCh7CiAgICByZXF1aXJlZCB0aGlzLnRpdGxlLAogICAgcmVxdWlyZWQgdGhpcy5ib2R5LAogICAgdGhpcy5pbWFnZVVybCwKICAgIHRoaXMucGF5bG9hZCwKICB9KTsKICAKICBmYWN0b3J5IFB1c2hOb3RpZmljYXRpb25Nb2RlbC5mcm9tSnNvbihNYXA8U3RyaW5nLCBkeW5hbWljPiBqc29uKSB7CiAgICByZXR1cm4gUHVzaE5vdGlmaWNhdGlvbk1vZGVsKAogICAgICB0aXRsZToganNvblsndGl0bGUnXSA/PyAnJywKICAgICAgYm9keToganNvblsnYm9keSddID8/ICcnLAogICAgICBpbWFnZVVybDoganNvblsnaW1hZ2VVcmwnXSwKICAgICAgcGF5bG9hZDoganNvblsncGF5bG9hZCddLAogICAgKTsKICB9CiAgCiAgTWFwPFN0cmluZywgZHluYW1pYz4gdG9Kc29uKCkgewogICAgcmV0dXJuIHsKICAgICAgJ3RpdGxlJzogdGl0bGUsCiAgICAgICdib2R5JzogYm9keSwKICAgICAgJ2ltYWdlVXJsJzogaW1hZ2VVcmwsCiAgICAgICdwYXlsb2FkJzogcGF5bG9hZCwKICAgIH07CiAgfQp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlcyB0aGUgbG9jYWwgbm90aWZpY2F0aW9uIHNlcnZpY2UgZmlsZQp2b2lkIF9nZW5lcmF0ZUxvY2FsTm90aWZpY2F0aW9uU2VydmljZUZpbGUoCiAgICBIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBmaWxlUGF0aCA9CiAgICAgICckcHJvamVjdE5hbWUvbGliL2NvcmUvbm90aWZpY2F0aW9ucy9zZXJ2aWNlcy9sb2NhbF9ub3RpZmljYXRpb25fc2VydmljZS5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL2ZvdW5kYXRpb24uZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2xvY2FsX25vdGlmaWNhdGlvbnMvZmx1dHRlcl9sb2NhbF9ub3RpZmljYXRpb25zLmRhcnQnOwoKaW1wb3J0ICcuLi9tb2RlbHMvcHVzaF9ub3RpZmljYXRpb25fbW9kZWwuZGFydCc7CgovLy8gU2VydmljZSB0byBoYW5kbGUgbG9jYWwgbm90aWZpY2F0aW9ucyB1c2luZyBmbHV0dGVyX2xvY2FsX25vdGlmaWNhdGlvbnMgcGx1Z2luCmNsYXNzIExvY2FsTm90aWZpY2F0aW9uU2VydmljZSB7CiAgZmluYWwgRmx1dHRlckxvY2FsTm90aWZpY2F0aW9uc1BsdWdpbiBfZmx1dHRlckxvY2FsTm90aWZpY2F0aW9uc1BsdWdpbiA9CiAgICAgIEZsdXR0ZXJMb2NhbE5vdGlmaWNhdGlvbnNQbHVnaW4oKTsKCiAgZmluYWwgTGlzdDxGdW5jdGlvbihTdHJpbmc/KT4gX29uTm90aWZpY2F0aW9uVGFwTGlzdGVuZXJzID0gW107CgogIC8vLyBJbml0aWFsaXplIGxvY2FsIG5vdGlmaWNhdGlvbiBzZXJ2aWNlCiAgRnV0dXJlPHZvaWQ+IGluaXRpYWxpemUoKSBhc3luYyB7CiAgICBjb25zdCBBbmRyb2lkSW5pdGlhbGl6YXRpb25TZXR0aW5ncyBpbml0aWFsaXphdGlvblNldHRpbmdzQW5kcm9pZCA9CiAgICAgICAgQW5kcm9pZEluaXRpYWxpemF0aW9uU2V0dGluZ3MoJ0BtaXBtYXAvaWNfbGF1bmNoZXInKTsKCiAgICBmaW5hbCBEYXJ3aW5Jbml0aWFsaXphdGlvblNldHRpbmdzIGluaXRpYWxpemF0aW9uU2V0dGluZ3NJT1MgPQogICAgICAgIERhcndpbkluaXRpYWxpemF0aW9uU2V0dGluZ3MoCiAgICAgIHJlcXVlc3RBbGVydFBlcm1pc3Npb246IHRydWUsCiAgICAgIHJlcXVlc3RCYWRnZVBlcm1pc3Npb246IHRydWUsCiAgICAgIHJlcXVlc3RTb3VuZFBlcm1pc3Npb246IHRydWUsCiAgICApOwoKICAgIGZpbmFsIEluaXRpYWxpemF0aW9uU2V0dGluZ3MgaW5pdGlhbGl6YXRpb25TZXR0aW5ncyA9CiAgICAgICAgSW5pdGlhbGl6YXRpb25TZXR0aW5ncygKICAgICAgYW5kcm9pZDogaW5pdGlhbGl6YXRpb25TZXR0aW5nc0FuZHJvaWQsCiAgICAgIGlPUzogaW5pdGlhbGl6YXRpb25TZXR0aW5nc0lPUywKICAgICk7CgogICAgYXdhaXQgX2ZsdXR0ZXJMb2NhbE5vdGlmaWNhdGlvbnNQbHVnaW4uaW5pdGlhbGl6ZSgKICAgICAgaW5pdGlhbGl6YXRpb25TZXR0aW5ncywKICAgICAgb25EaWRSZWNlaXZlTm90aWZpY2F0aW9uUmVzcG9uc2U6IF9vbkRpZFJlY2VpdmVOb3RpZmljYXRpb25SZXNwb25zZSwKICAgICk7CiAgfQoKICAvLy8gU2hvdyBhIG5vdGlmaWNhdGlvbgogIEZ1dHVyZTx2b2lkPiBzaG93Tm90aWZpY2F0aW9uKFB1c2hOb3RpZmljYXRpb25Nb2RlbCBub3RpZmljYXRpb24pIGFzeW5jIHsKICAgIGNvbnN0IEFuZHJvaWROb3RpZmljYXRpb25EZXRhaWxzIGFuZHJvaWRQbGF0Zm9ybUNoYW5uZWxTcGVjaWZpY3MgPQogICAgICAgIEFuZHJvaWROb3RpZmljYXRpb25EZXRhaWxzKAogICAgICAnaGlnaF9pbXBvcnRhbmNlX2NoYW5uZWwnLAogICAgICAnSGlnaCBJbXBvcnRhbmNlIE5vdGlmaWNhdGlvbnMnLAogICAgICBpbXBvcnRhbmNlOiBJbXBvcnRhbmNlLm1heCwKICAgICAgcHJpb3JpdHk6IFByaW9yaXR5LmhpZ2gsCiAgICApOwoKICAgIGNvbnN0IERhcndpbk5vdGlmaWNhdGlvbkRldGFpbHMgaU9TUGxhdGZvcm1DaGFubmVsU3BlY2lmaWNzID0KICAgICAgICBEYXJ3aW5Ob3RpZmljYXRpb25EZXRhaWxzKAogICAgICBwcmVzZW50QWxlcnQ6IHRydWUsCiAgICAgIHByZXNlbnRCYWRnZTogdHJ1ZSwKICAgICAgcHJlc2VudFNvdW5kOiB0cnVlLAogICAgKTsKCiAgICBjb25zdCBOb3RpZmljYXRpb25EZXRhaWxzIHBsYXRmb3JtQ2hhbm5lbFNwZWNpZmljcyA9IE5vdGlmaWNhdGlvbkRldGFpbHMoCiAgICAgIGFuZHJvaWQ6IGFuZHJvaWRQbGF0Zm9ybUNoYW5uZWxTcGVjaWZpY3MsCiAgICAgIGlPUzogaU9TUGxhdGZvcm1DaGFubmVsU3BlY2lmaWNzLAogICAgKTsKCiAgICBhd2FpdCBfZmx1dHRlckxvY2FsTm90aWZpY2F0aW9uc1BsdWdpbi5zaG93KAogICAgICBub3RpZmljYXRpb24uaGFzaENvZGUsCiAgICAgIG5vdGlmaWNhdGlvbi50aXRsZSwKICAgICAgbm90aWZpY2F0aW9uLmJvZHksCiAgICAgIHBsYXRmb3JtQ2hhbm5lbFNwZWNpZmljcywKICAgICAgcGF5bG9hZDogbm90aWZpY2F0aW9uLnBheWxvYWQsCiAgICApOwogIH0KCiAgLy8vIEhhbmRsZSBub3RpZmljYXRpb24gcmVzcG9uc2Ugd2hlbiB0YXBwZWQKICB2b2lkIF9vbkRpZFJlY2VpdmVOb3RpZmljYXRpb25SZXNwb25zZShOb3RpZmljYXRpb25SZXNwb25zZSByZXNwb25zZSkgewogICAgZmluYWwgU3RyaW5nPyBwYXlsb2FkID0gcmVzcG9uc2UucGF5bG9hZDsKCiAgICAvLyBOb3RpZnkgbGlzdGVuZXJzCiAgICBmb3IgKHZhciBsaXN0ZW5lciBpbiBfb25Ob3RpZmljYXRpb25UYXBMaXN0ZW5lcnMpIHsKICAgICAgbGlzdGVuZXIocGF5bG9hZCk7CiAgICB9CiAgfQoKICAvLy8gQWRkIG5vdGlmaWNhdGlvbiB0YXAgbGlzdGVuZXIKICB2b2lkIGFkZE9uTm90aWZpY2F0aW9uVGFwTGlzdGVuZXIoRnVuY3Rpb24oU3RyaW5nPykgbGlzdGVuZXIpIHsKICAgIF9vbk5vdGlmaWNhdGlvblRhcExpc3RlbmVycy5hZGQobGlzdGVuZXIpOwogIH0KCiAgLy8vIFJlbW92ZSBub3RpZmljYXRpb24gdGFwIGxpc3RlbmVyCiAgdm9pZCByZW1vdmVPbk5vdGlmaWNhdGlvblRhcExpc3RlbmVyKEZ1bmN0aW9uKFN0cmluZz8pIGxpc3RlbmVyKSB7CiAgICBfb25Ob3RpZmljYXRpb25UYXBMaXN0ZW5lcnMucmVtb3ZlKGxpc3RlbmVyKTsKICB9CgogIC8vLyBHZXQgcGVuZGluZyBub3RpZmljYXRpb24gcmVxdWVzdHMKICBGdXR1cmU8TGlzdDxQZW5kaW5nTm90aWZpY2F0aW9uUmVxdWVzdD4+CiAgICAgIGdldFBlbmRpbmdOb3RpZmljYXRpb25SZXF1ZXN0cygpIGFzeW5jIHsKICAgIHJldHVybiBhd2FpdCBfZmx1dHRlckxvY2FsTm90aWZpY2F0aW9uc1BsdWdpbi5wZW5kaW5nTm90aWZpY2F0aW9uUmVxdWVzdHMoKTsKICB9CgogIC8vLyBDYW5jZWwgYSBzcGVjaWZpYyBub3RpZmljYXRpb24KICBGdXR1cmU8dm9pZD4gY2FuY2VsTm90aWZpY2F0aW9uKGludCBpZCkgYXN5bmMgewogICAgYXdhaXQgX2ZsdXR0ZXJMb2NhbE5vdGlmaWNhdGlvbnNQbHVnaW4uY2FuY2VsKGlkKTsKICB9CgogIC8vLyBDYW5jZWwgYWxsIG5vdGlmaWNhdGlvbnMKICBGdXR1cmU8dm9pZD4gY2FuY2VsQWxsTm90aWZpY2F0aW9ucygpIGFzeW5jIHsKICAgIGF3YWl0IF9mbHV0dGVyTG9jYWxOb3RpZmljYXRpb25zUGx1Z2luLmNhbmNlbEFsbCgpOwogIH0KfQoKJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIGEgbm90aWZpY2F0aW9uIHNjcmVlbgp2b2lkIF9nZW5lcmF0ZU5vdGlmaWNhdGlvblNjcmVlbkZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPQogICAgICAnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy9ub3RpZmljYXRpb25zL3ByZXNlbnRhdGlvbi9wYWdlcy9ub3RpZmljYXRpb25fc2NyZWVuLmRhcnQnOwoKICAvLyBDcmVhdGUgZGlyZWN0b3JpZXMgaWYgdGhleSBkb24ndCBleGlzdAogIGZpbmFsIGRpcmVjdG9yeSA9CiAgICAgIERpcmVjdG9yeSgnJHByb2plY3ROYW1lL2xpYi9mZWF0dXJlcy9ub3RpZmljYXRpb25zL3ByZXNlbnRhdGlvbi9wYWdlcycpOwogIGlmICghZGlyZWN0b3J5LmV4aXN0c1N5bmMoKSkgewogICAgZGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICB9CgogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdkYXJ0OmNvbnZlcnQnOwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKCmltcG9ydCAnLi4vLi4vLi4vLi4vY29yZS9ub3RpZmljYXRpb25zL25vdGlmaWNhdGlvbl9oYW5kbGVyLmRhcnQnOwppbXBvcnQgJy4uLy4uLy4uLy4uL2NvcmUvbm90aWZpY2F0aW9ucy9tb2RlbHMvcHVzaF9ub3RpZmljYXRpb25fbW9kZWwuZGFydCc7CgpjbGFzcyBOb3RpZmljYXRpb25TY3JlZW4gZXh0ZW5kcyBTdGF0ZWZ1bFdpZGdldCB7CiAgY29uc3QgTm90aWZpY2F0aW9uU2NyZWVuKHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBfTm90aWZpY2F0aW9uU2NyZWVuU3RhdGUgY3JlYXRlU3RhdGUoKSA9PiBfTm90aWZpY2F0aW9uU2NyZWVuU3RhdGUoKTsKfQoKY2xhc3MgX05vdGlmaWNhdGlvblNjcmVlblN0YXRlIGV4dGVuZHMgU3RhdGU8Tm90aWZpY2F0aW9uU2NyZWVuPiB7CiAgZmluYWwgTGlzdDxQdXNoTm90aWZpY2F0aW9uTW9kZWw+IF9ub3RpZmljYXRpb25zID0gW107CiAgU3RyaW5nPyBfZmNtVG9rZW47CgogIEBvdmVycmlkZQogIHZvaWQgaW5pdFN0YXRlKCkgewogICAgc3VwZXIuaW5pdFN0YXRlKCk7CiAgICBfbG9hZEZDTVRva2VuKCk7CiAgICAKICAgIC8vIExpc3RlbiBmb3IgbmV3IG5vdGlmaWNhdGlvbnMKICAgIG5vdGlmaWNhdGlvbkhhbmRsZXIuYWRkT25Ob3RpZmljYXRpb25SZWNlaXZlZExpc3RlbmVyKF9vbk5vdGlmaWNhdGlvblJlY2VpdmVkKTsKICAgIAogICAgLy8gTGlzdGVuIGZvciBub3RpZmljYXRpb24gdGFwcwogICAgbm90aWZpY2F0aW9uSGFuZGxlci5hZGRPbk5vdGlmaWNhdGlvblRhcExpc3RlbmVyKF9vbk5vdGlmaWNhdGlvblRhcCk7CiAgfQoKICBAb3ZlcnJpZGUKICB2b2lkIGRpc3Bvc2UoKSB7CiAgICAvLyBSZW1vdmUgbGlzdGVuZXJzIHdoZW4gc2NyZWVuIGlzIGRpc3Bvc2VkCiAgICBub3RpZmljYXRpb25IYW5kbGVyLnJlbW92ZU9uTm90aWZpY2F0aW9uUmVjZWl2ZWRMaXN0ZW5lcihfb25Ob3RpZmljYXRpb25SZWNlaXZlZCk7CiAgICBub3RpZmljYXRpb25IYW5kbGVyLnJlbW92ZU9uTm90aWZpY2F0aW9uVGFwTGlzdGVuZXIoX29uTm90aWZpY2F0aW9uVGFwKTsKICAgIHN1cGVyLmRpc3Bvc2UoKTsKICB9CiAgCiAgRnV0dXJlPHZvaWQ+IF9sb2FkRkNNVG9rZW4oKSBhc3luYyB7CiAgICBmaW5hbCB0b2tlbiA9IGF3YWl0IG5vdGlmaWNhdGlvbkhhbmRsZXIuZ2V0RkNNVG9rZW4oKTsKICAgIHNldFN0YXRlKCgpIHsKICAgICAgX2ZjbVRva2VuID0gdG9rZW47CiAgICB9KTsKICB9CiAgCiAgdm9pZCBfb25Ob3RpZmljYXRpb25SZWNlaXZlZChQdXNoTm90aWZpY2F0aW9uTW9kZWwgbm90aWZpY2F0aW9uKSB7CiAgICBzZXRTdGF0ZSgoKSB7CiAgICAgIF9ub3RpZmljYXRpb25zLmFkZChub3RpZmljYXRpb24pOwogICAgfSk7CiAgfQogIAogIHZvaWQgX29uTm90aWZpY2F0aW9uVGFwKFN0cmluZz8gcGF5bG9hZCkgewogICAgaWYgKHBheWxvYWQgIT0gbnVsbCkgewogICAgICB0cnkgewogICAgICAgIGZpbmFsIGRhdGEgPSBqc29uLmRlY29kZShwYXlsb2FkKTsKICAgICAgICBzaG93RGlhbG9nKAogICAgICAgICAgY29udGV4dDogY29udGV4dCwKICAgICAgICAgIGJ1aWxkZXI6IChjb250ZXh0KSA9PiBBbGVydERpYWxvZygKICAgICAgICAgICAgdGl0bGU6IGNvbnN0IFRleHQoJ05vdGlmaWNhdGlvbiBQYXlsb2FkJyksCiAgICAgICAgICAgIGNvbnRlbnQ6IFRleHQoanNvbi5lbmNvZGUoZGF0YSkpLAogICAgICAgICAgICBhY3Rpb25zOiBbCiAgICAgICAgICAgICAgVGV4dEJ1dHRvbigKICAgICAgICAgICAgICAgIG9uUHJlc3NlZDogKCkgPT4gTmF2aWdhdG9yLnBvcChjb250ZXh0KSwKICAgICAgICAgICAgICAgIGNoaWxkOiBjb25zdCBUZXh0KCdDbG9zZScpLAogICAgICAgICAgICAgICksCiAgICAgICAgICAgIF0sCiAgICAgICAgICApLAogICAgICAgICk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBkZWJ1Z1ByaW50KCdFcnJvciBwYXJzaW5nIHBheWxvYWQ6IFwkZScpOwogICAgICB9CiAgICB9CiAgfQogIAogIEZ1dHVyZTx2b2lkPiBfc2hvd0xvY2FsTm90aWZpY2F0aW9uKCkgYXN5bmMgewogICAgZmluYWwgbm90aWZpY2F0aW9uID0gUHVzaE5vdGlmaWNhdGlvbk1vZGVsKAogICAgICB0aXRsZTogJ1Rlc3QgTm90aWZpY2F0aW9uJywKICAgICAgYm9keTogJ1RoaXMgaXMgYSB0ZXN0IGxvY2FsIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBhcHAnLAogICAgICBwYXlsb2FkOiBqc29uLmVuY29kZSh7J3R5cGUnOiAndGVzdCcsICd0aW1lJzogRGF0ZVRpbWUubm93KCkudG9TdHJpbmcoKX0pLAogICAgKTsKICAgIAogICAgYXdhaXQgbm90aWZpY2F0aW9uSGFuZGxlci5zaG93TG9jYWxOb3RpZmljYXRpb24obm90aWZpY2F0aW9uKTsKICB9CgogIEBvdmVycmlkZQogIFdpZGdldCBidWlsZChCdWlsZENvbnRleHQgY29udGV4dCkgewogICAgcmV0dXJuIFNjYWZmb2xkKAogICAgICBhcHBCYXI6IEFwcEJhcigKICAgICAgICB0aXRsZTogY29uc3QgVGV4dCgnTm90aWZpY2F0aW9ucycpLAogICAgICApLAogICAgICBib2R5OiBDb2x1bW4oCiAgICAgICAgY2hpbGRyZW46IFsKICAgICAgICAgIC8vIEZDTSBUb2tlbiBkaXNwbGF5CiAgICAgICAgICBQYWRkaW5nKAogICAgICAgICAgICBwYWRkaW5nOiBjb25zdCBFZGdlSW5zZXRzLmFsbCgxNi4wKSwKICAgICAgICAgICAgY2hpbGQ6IENvbHVtbigKICAgICAgICAgICAgICBjcm9zc0F4aXNBbGlnbm1lbnQ6IENyb3NzQXhpc0FsaWdubWVudC5zdGFydCwKICAgICAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAgICAgY29uc3QgVGV4dCgKICAgICAgICAgICAgICAgICAgJ0ZDTSBUb2tlbjonLAogICAgICAgICAgICAgICAgICBzdHlsZTogVGV4dFN0eWxlKGZvbnRXZWlnaHQ6IEZvbnRXZWlnaHQuYm9sZCksCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgY29uc3QgU2l6ZWRCb3goaGVpZ2h0OiA4KSwKICAgICAgICAgICAgICAgIENvbnRhaW5lcigKICAgICAgICAgICAgICAgICAgcGFkZGluZzogY29uc3QgRWRnZUluc2V0cy5hbGwoOCksCiAgICAgICAgICAgICAgICAgIGRlY29yYXRpb246IEJveERlY29yYXRpb24oCiAgICAgICAgICAgICAgICAgICAgY29sb3I6IENvbG9ycy5ncmV5WzIwMF0sCiAgICAgICAgICAgICAgICAgICAgYm9yZGVyUmFkaXVzOiBCb3JkZXJSYWRpdXMuY2lyY3VsYXIoNCksCiAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICAgIGNoaWxkOiBUZXh0KAogICAgICAgICAgICAgICAgICAgIF9mY21Ub2tlbiA/PyAnTG9hZGluZyB0b2tlbi4uLicsCiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IGNvbnN0IFRleHRTdHlsZShmb250U2l6ZTogMTIpLAogICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgIGlmIChfZmNtVG9rZW4gIT0gbnVsbCkKICAgICAgICAgICAgICAgICAgQWxpZ24oCiAgICAgICAgICAgICAgICAgICAgYWxpZ25tZW50OiBBbGlnbm1lbnQuY2VudGVyUmlnaHQsCiAgICAgICAgICAgICAgICAgICAgY2hpbGQ6IFRleHRCdXR0b24oCiAgICAgICAgICAgICAgICAgICAgICBvblByZXNzZWQ6ICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0byBjbGlwYm9hcmQgZnVuY3Rpb25hbGl0eSB3b3VsZCBnbyBoZXJlCiAgICAgICAgICAgICAgICAgICAgICAgIFNjYWZmb2xkTWVzc2VuZ2VyLm9mKGNvbnRleHQpLnNob3dTbmFja0JhcigKICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBTbmFja0Jhcihjb250ZW50OiBUZXh0KCdUb2tlbiBjb3BpZWQgdG8gY2xpcGJvYXJkJykpLAogICAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgIGNoaWxkOiBjb25zdCBUZXh0KCdDb3B5JyksCiAgICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBdLAogICAgICAgICAgICApLAogICAgICAgICAgKSwKICAgICAgICAgIAogICAgICAgICAgY29uc3QgRGl2aWRlcigpLAogICAgICAgICAgCiAgICAgICAgICAvLyBOb3RpZmljYXRpb24gbGlzdAogICAgICAgICAgRXhwYW5kZWQoCiAgICAgICAgICAgIGNoaWxkOiBfbm90aWZpY2F0aW9ucy5pc0VtcHR5CiAgICAgICAgICAgICAgICA/IGNvbnN0IENlbnRlcigKICAgICAgICAgICAgICAgICAgICBjaGlsZDogVGV4dCgnTm8gbm90aWZpY2F0aW9ucyB5ZXQnKSwKICAgICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgOiBMaXN0Vmlldy5idWlsZGVyKAogICAgICAgICAgICAgICAgICAgIGl0ZW1Db3VudDogX25vdGlmaWNhdGlvbnMubGVuZ3RoLAogICAgICAgICAgICAgICAgICAgIGl0ZW1CdWlsZGVyOiAoY29udGV4dCwgaW5kZXgpIHsKICAgICAgICAgICAgICAgICAgICAgIGZpbmFsIG5vdGlmaWNhdGlvbiA9IF9ub3RpZmljYXRpb25zW19ub3RpZmljYXRpb25zLmxlbmd0aCAtIDEgLSBpbmRleF07CiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gTGlzdFRpbGUoCiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBUZXh0KG5vdGlmaWNhdGlvbi50aXRsZSksCiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnRpdGxlOiBUZXh0KG5vdGlmaWNhdGlvbi5ib2R5KSwKICAgICAgICAgICAgICAgICAgICAgICAgdHJhaWxpbmc6IGNvbnN0IEljb24oSWNvbnMuYXJyb3dfZm9yd2FyZF9pb3MsIHNpemU6IDE2KSwKICAgICAgICAgICAgICAgICAgICAgICAgb25UYXA6ICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uLnBheWxvYWQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgX29uTm90aWZpY2F0aW9uVGFwKG5vdGlmaWNhdGlvbi5wYXlsb2FkKTsKICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICksCiAgICAgICAgICApLAogICAgICAgIF0sCiAgICAgICksCiAgICAgIGZsb2F0aW5nQWN0aW9uQnV0dG9uOiBGbG9hdGluZ0FjdGlvbkJ1dHRvbigKICAgICAgICBvblByZXNzZWQ6IF9zaG93TG9jYWxOb3RpZmljYXRpb24sCiAgICAgICAgdG9vbHRpcDogJ1NlbmQgdGVzdCBub3RpZmljYXRpb24nLAogICAgICAgIGNoaWxkOiBjb25zdCBJY29uKEljb25zLm5vdGlmaWNhdGlvbl9hZGQpLAogICAgICApLAogICAgKTsKICB9Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gVXBkYXRlcyBwdWJzcGVjLnlhbWwgdG8gYWRkIEZpcmViYXNlIGRlcGVuZGVuY2llcwp2b2lkIF9hZGRGaXJlYmFzZURlcGVuZGVuY2llcyhIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBwdWJzcGVjRmlsZSA9IEZpbGUoJyRwcm9qZWN0TmFtZS9wdWJzcGVjLnlhbWwnKTsKICBpZiAoIXB1YnNwZWNGaWxlLmV4aXN0c1N5bmMoKSkgewogICAgY29udGV4dC5sb2dnZXIKICAgICAgICAud2FybigncHVic3BlYy55YW1sIG5vdCBmb3VuZCwgc2tpcHBpbmcgYWRkaW5nIEZpcmViYXNlIGRlcGVuZGVuY2llcycpOwogICAgcmV0dXJuOwogIH0KCiAgU3RyaW5nIGNvbnRlbnQgPSBwdWJzcGVjRmlsZS5yZWFkQXNTdHJpbmdTeW5jKCk7CiAgYm9vbCBtb2RpZmllZCA9IGZhbHNlOwoKICAvLyBBZGQgZGVwZW5kZW5jaWVzIHRoYXQgYXJlIG1pc3NpbmcKICBMaXN0PFN0cmluZz4gbWlzc2luZ0RlcGVuZGVuY2llcyA9IFtdOwogIGlmICghY29udGVudC5jb250YWlucygnZmlyZWJhc2VfY29yZTonKSkKICAgIG1pc3NpbmdEZXBlbmRlbmNpZXMuYWRkKCdmaXJlYmFzZV9jb3JlOiBeMy4xMC4wJyk7CiAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdmaXJlYmFzZV9tZXNzYWdpbmc6JykpCiAgICBtaXNzaW5nRGVwZW5kZW5jaWVzLmFkZCgnZmlyZWJhc2VfbWVzc2FnaW5nOiBeMTUuMS42Jyk7CiAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdmbHV0dGVyX2xvY2FsX25vdGlmaWNhdGlvbnM6JykpCiAgICBtaXNzaW5nRGVwZW5kZW5jaWVzLmFkZCgnZmx1dHRlcl9sb2NhbF9ub3RpZmljYXRpb25zOiBeMTguMC4wJyk7CgogIGlmIChtaXNzaW5nRGVwZW5kZW5jaWVzLmlzTm90RW1wdHkpIHsKICAgIC8vIEZpbmQgdGhlIHBvc2l0aW9uIHRvIGluc2VydCB0aGUgZGVwZW5kZW5jaWVzCiAgICBmaW5hbCBzZGtEZXBJbmRleCA9IGNvbnRlbnQuaW5kZXhPZignc2RrOiBmbHV0dGVyJyk7CiAgICBpZiAoc2RrRGVwSW5kZXggIT0gLTEpIHsKICAgICAgZmluYWwgaW5zZXJ0UG9pbnQgPSBjb250ZW50LmluZGV4T2YoJ1xuJywgc2RrRGVwSW5kZXgpICsgMTsKCiAgICAgIGZpbmFsIGZpcmViYXNlRGVwZW5kZW5jaWVzID0KICAgICAgICAgICdcbiAgIyBGaXJlYmFzZSBkZXBlbmRlbmNpZXMgZm9yIHB1c2ggbm90aWZpY2F0aW9uc1xuICAnICsKICAgICAgICAgICAgICBtaXNzaW5nRGVwZW5kZW5jaWVzLmpvaW4oJ1xuICAnKSArCiAgICAgICAgICAgICAgJ1xuJzsKCiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb2ludCkgKwogICAgICAgICAgZmlyZWJhc2VEZXBlbmRlbmNpZXMgKwogICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9pbnQpOwoKICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgfQogIH0KCiAgaWYgKG1vZGlmaWVkKSB7CiAgICBwdWJzcGVjRmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICAgIGNvbnRleHQubG9nZ2VyCiAgICAgICAgLnN1Y2Nlc3MoJ0FkZGVkIG1pc3NpbmcgRmlyZWJhc2UgZGVwZW5kZW5jaWVzIHRvIHB1YnNwZWMueWFtbCcpOwogIH0gZWxzZSB7CiAgICBjb250ZXh0LmxvZ2dlci5pbmZvKCdGaXJlYmFzZSBkZXBlbmRlbmNpZXMgYWxyZWFkeSBleGlzdCBpbiBwdWJzcGVjLnlhbWwnKTsKICB9Cn0KCi8vLyBVcGRhdGVzIEFuZHJvaWQgYW5kIGlPUyBjb25maWd1cmF0aW9ucyBmb3IgcHVzaCBub3RpZmljYXRpb25zCnZvaWQgX2NvbmZpZ3VyZU5vdGlmaWNhdGlvbnNGb3JQbGF0Zm9ybXMoCiAgICBIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICAvLyBVcGRhdGUgaU9TIEluZm8ucGxpc3QKICBfdXBkYXRlSU9TSW5mb1BsaXN0KGNvbnRleHQsIHByb2plY3ROYW1lKTsKICAvLyBVcGRhdGUgQW5kcm9pZCBtYW5pZmVzdAogIF91cGRhdGVBbmRyb2lkTWFuaWZlc3QoY29udGV4dCwgcHJvamVjdE5hbWUpOwoKICAvLyBVcGRhdGUgaU9TIEFwcERlbGVnYXRlCiAgX3VwZGF0ZUlPU0FwcERlbGVnYXRlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gQWRkIE5TVXNlclRyYWNraW5nVXNhZ2VEZXNjcmlwdGlvbiB0byBJbmZvLnBsaXN0IChhbHJlYWR5IGhhbmRsZWQgaW4gX2dlbmVyYXRlSW5mb1BsaXN0RmlsZSkKICBjb250ZXh0LmxvZ2dlci5zdWNjZXNzKCdDb25maWd1cmVkIHB1c2ggbm90aWZpY2F0aW9ucyBmb3IgYm90aCBwbGF0Zm9ybXMnKTsKfQoKdm9pZCBfdXBkYXRlSU9TSW5mb1BsaXN0KEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGluZm9QbGlzdFBhdGggPSAnJHByb2plY3ROYW1lL2lvcy9SdW5uZXIvSW5mby5wbGlzdCc7CiAgZmluYWwgaW5mb1BsaXN0RmlsZSA9IEZpbGUoaW5mb1BsaXN0UGF0aCk7CgogIHRyeSB7CiAgICAvLyBDaGVjayBpZiBmaWxlIGV4aXN0cwogICAgaWYgKCFpbmZvUGxpc3RGaWxlLmV4aXN0c1N5bmMoKSkgewogICAgICBjb250ZXh0LmxvZ2dlci53YXJuKCdJbmZvLnBsaXN0IG5vdCBmb3VuZCBhdCAkaW5mb1BsaXN0UGF0aCcpOwogICAgICByZXR1cm47CiAgICB9CgogICAgU3RyaW5nIGNvbnRlbnQgPSBpbmZvUGxpc3RGaWxlLnJlYWRBc1N0cmluZ1N5bmMoKTsKICAgIGJvb2wgbW9kaWZpZWQgPSBmYWxzZTsKCiAgICAvLyBBZGQgVUlCYWNrZ3JvdW5kTW9kZXMgaWYgbm90IGFscmVhZHkgcHJlc2VudAogICAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCc8a2V5PlVJQmFja2dyb3VuZE1vZGVzPC9rZXk+JykpIHsKICAgICAgLy8gRmluZCB0aGUgcG9zaXRpb24gdG8gaW5zZXJ0IC0gYmVmb3JlIHRoZSBjbG9zaW5nIGRpY3QgdGFnCiAgICAgIGZpbmFsIGluc2VydFBvaW50ID0gY29udGVudC5sYXN0SW5kZXhPZignPC9kaWN0PicpOwogICAgICBpZiAoaW5zZXJ0UG9pbnQgIT0gLTEpIHsKICAgICAgICBmaW5hbCBiYWNrZ3JvdW5kTW9kZXMgPSAnJycKICA8a2V5PlVJQmFja2dyb3VuZE1vZGVzPC9rZXk+CiAgPGFycmF5PgogICAgPHN0cmluZz5mZXRjaDwvc3RyaW5nPgogICAgPHN0cmluZz5wcm9jZXNzaW5nPC9zdHJpbmc+CiAgICA8c3RyaW5nPnJlbW90ZS1ub3RpZmljYXRpb248L3N0cmluZz4KICA8L2FycmF5PgonJyc7CiAgICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvaW50KSArCiAgICAgICAgICAgIGJhY2tncm91bmRNb2RlcyArCiAgICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvaW50KTsKICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgIH0KICAgIH0KCiAgICAvLyAgQWRkIEZpcmViYXNlQXBwRGVsZWdhdGVQcm94eUVuYWJsZWQgaWYgbm90IGFscmVhZHkgcHJlc2VudAogICAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCc8a2V5PkZpcmViYXNlQXBwRGVsZWdhdGVQcm94eUVuYWJsZWQ8L2tleT4nKSkgewogICAgICAvLyBGaW5kIHRoZSBwb3NpdGlvbiB0byBpbnNlcnQgLSBiZWZvcmUgdGhlIGNsb3NpbmcgZGljdCB0YWcKICAgICAgZmluYWwgaW5zZXJ0UG9pbnQgPSBjb250ZW50Lmxhc3RJbmRleE9mKCc8L2RpY3Q+Jyk7CiAgICAgIGlmIChpbnNlcnRQb2ludCAhPSAtMSkgewogICAgICAgIGZpbmFsIGZpcmViYXNlUHJveHlTZXR0aW5nID0gJycnCiAgPGtleT5GaXJlYmFzZUFwcERlbGVnYXRlUHJveHlFbmFibGVkPC9rZXk+CiAgPGZhbHNlLz4KJycnOwogICAgICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb2ludCkgKwogICAgICAgICAgICBmaXJlYmFzZVByb3h5U2V0dGluZyArCiAgICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvaW50KTsKICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgIH0KICAgIH0KCiAgICAvLyBBZGQgTlNVc2VyVHJhY2tpbmdVc2FnZURlc2NyaXB0aW9uIGlmIG5vdCBhbHJlYWR5IHByZXNlbnQKICAgIGlmICghY29udGVudC5jb250YWlucygnPGtleT5OU1VzZXJUcmFja2luZ1VzYWdlRGVzY3JpcHRpb248L2tleT4nKSkgewogICAgICAvLyBGaW5kIHRoZSBwb3NpdGlvbiB0byBpbnNlcnQgLSBiZWZvcmUgdGhlIGNsb3NpbmcgZGljdCB0YWcKICAgICAgZmluYWwgaW5zZXJ0UG9pbnQgPSBjb250ZW50Lmxhc3RJbmRleE9mKCc8L2RpY3Q+Jyk7CiAgICAgIGlmIChpbnNlcnRQb2ludCAhPSAtMSkgewogICAgICAgIGZpbmFsIHVzZXJUcmFja2luZ0Rlc2NyaXB0aW9uID0gJycnCiAgPGtleT5OU1VzZXJUcmFja2luZ1VzYWdlRGVzY3JpcHRpb248L2tleT4KICA8c3RyaW5nPlRoaXMgYXBwIHVzZXMgcHVzaCBub3RpZmljYXRpb25zIHRvIGVuaGFuY2UgdXNlciBleHBlcmllbmNlLjwvc3RyaW5nPgonJyc7CiAgICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvaW50KSArCiAgICAgICAgICAgIHVzZXJUcmFja2luZ0Rlc2NyaXB0aW9uICsKICAgICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9pbnQpOwogICAgICAgIG1vZGlmaWVkID0gdHJ1ZTsKICAgICAgfQogICAgfQoKICAgIC8vIEFkZCBGaXJlYmFzZU1lc3NhZ2luZ0F1dG9Jbml0RW5hYmxlZCBpZiBub3QgYWxyZWFkeSBwcmVzZW50CiAgICBpZiAoIWNvbnRlbnQuY29udGFpbnMoJzxrZXk+RmlyZWJhc2VNZXNzYWdpbmdBdXRvSW5pdEVuYWJsZWQ8L2tleT4nKSkgewogICAgICAvLyBGaW5kIHRoZSBwb3NpdGlvbiB0byBpbnNlcnQgLSBiZWZvcmUgdGhlIGNsb3NpbmcgZGljdCB0YWcKICAgICAgZmluYWwgaW5zZXJ0UG9pbnQgPSBjb250ZW50Lmxhc3RJbmRleE9mKCc8L2RpY3Q+Jyk7CiAgICAgIGlmIChpbnNlcnRQb2ludCAhPSAtMSkgewogICAgICAgIGZpbmFsIGZpcmViYXNlTWVzc2FnaW5nU2V0dGluZyA9ICcnJwogIDxrZXk+RmlyZWJhc2VNZXNzYWdpbmdBdXRvSW5pdEVuYWJsZWQ8L2tleT4KICA8ZmFsc2UvPgonJyc7CiAgICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvaW50KSArCiAgICAgICAgICAgIGZpcmViYXNlTWVzc2FnaW5nU2V0dGluZyArCiAgICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvaW50KTsKICAgICAgICBtb2RpZmllZCA9IHRydWU7CiAgICAgIH0KICAgIH0KCiAgICAvLyBXcml0ZSBiYWNrIG9ubHkgaWYgbW9kaWZpY2F0aW9ucyB3ZXJlIG1hZGUKICAgIGlmIChtb2RpZmllZCkgewogICAgICBpbmZvUGxpc3RGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogICAgICBjb250ZXh0LmxvZ2dlcgogICAgICAgICAgLnN1Y2Nlc3MoJ1VwZGF0ZWQgSW5mby5wbGlzdCB3aXRoIHJlcXVpcmVkIG5vdGlmaWNhdGlvbiBzZXR0aW5ncycpOwogICAgfSBlbHNlIHsKICAgICAgY29udGV4dC5sb2dnZXIKICAgICAgICAgIC5pbmZvKCdJbmZvLnBsaXN0IGFscmVhZHkgaGFzIHJlcXVpcmVkIG5vdGlmaWNhdGlvbiBzZXR0aW5ncycpOwogICAgfQogIH0gY2F0Y2ggKGUpIHsKICAgIGNvbnRleHQubG9nZ2VyLmVycignRmFpbGVkIHRvIHVwZGF0ZSBJbmZvLnBsaXN0OiAkZScpOwogIH0KfQoKdm9pZCBfdXBkYXRlQW5kcm9pZE1hbmlmZXN0KEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIG1hbmlmZXN0UGF0aCA9ICckcHJvamVjdE5hbWUvYW5kcm9pZC9hcHAvc3JjL21haW4vQW5kcm9pZE1hbmlmZXN0LnhtbCc7CiAgZmluYWwgbWFuaWZlc3RGaWxlID0gRmlsZShtYW5pZmVzdFBhdGgpOwoKICAvLyBDcmVhdGUgcGFyZW50IGRpcmVjdG9yaWVzIGlmIHRoZXkgZG9uJ3QgZXhpc3QKICBmaW5hbCBtYW5pZmVzdERpciA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lL2FuZHJvaWQvYXBwL3NyYy9tYWluJyk7CiAgaWYgKCFtYW5pZmVzdERpci5leGlzdHNTeW5jKCkpIHsKICAgIG1hbmlmZXN0RGlyLmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICB9CgogIGJvb2wgZmlsZUV4aXN0cyA9IG1hbmlmZXN0RmlsZS5leGlzdHNTeW5jKCk7CiAgU3RyaW5nIG1hbmlmZXN0Q29udGVudCA9IGZpbGVFeGlzdHMKICAgICAgPyBtYW5pZmVzdEZpbGUucmVhZEFzU3RyaW5nU3luYygpCiAgICAgIDogJycnPD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPG1hbmlmZXN0IHhtbG5zOmFuZHJvaWQ9Imh0dHA6Ly9zY2hlbWFzLmFuZHJvaWQuY29tL2Fway9yZXMvYW5kcm9pZCI+CiAgICA8YXBwbGljYXRpb24KICAgICAgICBhbmRyb2lkOmxhYmVsPSJAc3RyaW5nL2FwcF9uYW1lIgogICAgICAgIGFuZHJvaWQ6bmFtZT0iXCR7YXBwbGljYXRpb25OYW1lfSIKICAgICAgICBhbmRyb2lkOmljb249IkBtaXBtYXAvaWNfbGF1bmNoZXIiPgogICAgICAgIDwhLS0gQWN0aXZpdHkgYW5kIG90aGVyIGVsZW1lbnRzIHdpbGwgYmUgaGVyZSAtLT4KICAgICAgICA8bWV0YS1kYXRhCiAgICAgICAgICAgIGFuZHJvaWQ6bmFtZT0iZmx1dHRlckVtYmVkZGluZyIKICAgICAgICAgICAgYW5kcm9pZDp2YWx1ZT0iMiIgLz4KICAgIDwvYXBwbGljYXRpb24+CjwvbWFuaWZlc3Q+CicnJzsKCiAgYm9vbCBtb2RpZmllZCA9IGZhbHNlOwoKICAvLyBBZGQgbm90aWZpY2F0aW9uIHBlcm1pc3Npb24gaWYgbm90IGFscmVhZHkgcHJlc2VudAogIGlmICghbWFuaWZlc3RDb250ZW50LmNvbnRhaW5zKAogICAgICAnPHVzZXMtcGVybWlzc2lvbiBhbmRyb2lkOm5hbWU9ImFuZHJvaWQucGVybWlzc2lvbi5QT1NUX05PVElGSUNBVElPTlMiLz4nKSkgewogICAgLy8gQWRkIHBlcm1pc3Npb24KICAgIGlmIChtYW5pZmVzdENvbnRlbnQuY29udGFpbnMoJzxtYW5pZmVzdCcpKSB7CiAgICAgIGZpbmFsIGludCBtYW5pZmVzdFRhZ0VuZCA9CiAgICAgICAgICBtYW5pZmVzdENvbnRlbnQuaW5kZXhPZignPicsIG1hbmlmZXN0Q29udGVudC5pbmRleE9mKCc8bWFuaWZlc3QnKSk7CiAgICAgIG1hbmlmZXN0Q29udGVudCA9IG1hbmlmZXN0Q29udGVudC5zdWJzdHJpbmcoMCwgbWFuaWZlc3RUYWdFbmQgKyAxKSArCiAgICAgICAgICAnXG4gICAgPHVzZXMtcGVybWlzc2lvbiBhbmRyb2lkOm5hbWU9ImFuZHJvaWQucGVybWlzc2lvbi5QT1NUX05PVElGSUNBVElPTlMiLz4nICsKICAgICAgICAgIG1hbmlmZXN0Q29udGVudC5zdWJzdHJpbmcobWFuaWZlc3RUYWdFbmQgKyAxKTsKICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgfQogIH0KCiAgLy8gQWRkIHJlY2VpdmVycyBpZiBuZWVkZWQKICBpZiAoIW1hbmlmZXN0Q29udGVudC5jb250YWlucygKICAgICAgJ2NvbS5kZXh0ZXJvdXMuZmx1dHRlcmxvY2Fsbm90aWZpY2F0aW9ucy5yZWNlaXZlcnMuTm90aWZpY2F0aW9uUmVjZWl2ZXInKSkgewogICAgZmluYWwgaW50IGFwcGxpY2F0aW9uRW5kSW5kZXggPQogICAgICAgIG1hbmlmZXN0Q29udGVudC5sYXN0SW5kZXhPZignPC9hcHBsaWNhdGlvbj4nKTsKICAgIGlmIChhcHBsaWNhdGlvbkVuZEluZGV4ICE9IC0xKSB7CiAgICAgIGZpbmFsIFN0cmluZyByZWNlaXZlcnNDb250ZW50ID0gJycnCiAgICAgICAgPHJlY2VpdmVyIGFuZHJvaWQ6bmFtZT0iY29tLmRleHRlcm91cy5mbHV0dGVybG9jYWxub3RpZmljYXRpb25zLnJlY2VpdmVycy5Ob3RpZmljYXRpb25SZWNlaXZlciIgYW5kcm9pZDpleHBvcnRlZD0idHJ1ZSIvPgogICAgICAgIDxyZWNlaXZlciBhbmRyb2lkOm5hbWU9ImNvbS5kZXh0ZXJvdXMuZmx1dHRlcmxvY2Fsbm90aWZpY2F0aW9ucy5yZWNlaXZlcnMuU2NoZWR1bGVkTm90aWZpY2F0aW9uUmVjZWl2ZXIiIGFuZHJvaWQ6ZXhwb3J0ZWQ9InRydWUiLz4KICAgICAgICA8cmVjZWl2ZXIgYW5kcm9pZDpuYW1lPSJjb20uZGV4dGVyb3VzLmZsdXR0ZXJsb2NhbG5vdGlmaWNhdGlvbnMucmVjZWl2ZXJzLkFjdGlvblJlY2VpdmVyIiBhbmRyb2lkOmV4cG9ydGVkPSJ0cnVlIi8+CicnJzsKICAgICAgbWFuaWZlc3RDb250ZW50ID0gbWFuaWZlc3RDb250ZW50LnN1YnN0cmluZygwLCBhcHBsaWNhdGlvbkVuZEluZGV4KSArCiAgICAgICAgICByZWNlaXZlcnNDb250ZW50ICsKICAgICAgICAgIG1hbmlmZXN0Q29udGVudC5zdWJzdHJpbmcoYXBwbGljYXRpb25FbmRJbmRleCk7CiAgICAgIG1vZGlmaWVkID0gdHJ1ZTsKICAgIH0KICB9CgogIC8vIE9ubHkgd3JpdGUgaWYgY29udGVudCB3YXMgbW9kaWZpZWQgb3IgZmlsZSBkaWRuJ3QgZXhpc3QKICBpZiAobW9kaWZpZWQgfHwgIWZpbGVFeGlzdHMpIHsKICAgIG1hbmlmZXN0RmlsZS53cml0ZUFzU3RyaW5nU3luYyhtYW5pZmVzdENvbnRlbnQpOwogICAgaWYgKCFmaWxlRXhpc3RzKSB7CiAgICAgIGNvbnRleHQubG9nZ2VyCiAgICAgICAgICAuaW5mbygnQ3JlYXRlZCBBbmRyb2lkTWFuaWZlc3QueG1sIHdpdGggbm90aWZpY2F0aW9uIHBlcm1pc3Npb25zJyk7CiAgICB9IGVsc2UgewogICAgICBjb250ZXh0LmxvZ2dlcgogICAgICAgICAgLmluZm8oJ1VwZGF0ZWQgQW5kcm9pZE1hbmlmZXN0LnhtbCB3aXRoIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9ucycpOwogICAgfQogIH0gZWxzZSB7CiAgICBjb250ZXh0LmxvZ2dlcgogICAgICAgIC5pbmZvKCdBbmRyb2lkTWFuaWZlc3QueG1sIGFscmVhZHkgaGFzIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9ucycpOwogIH0KfQoKLy8vIFVwZGF0ZXMgaU9TIEFwcERlbGVnYXRlLnN3aWZ0IHdpdGggcmVxdWlyZWQgY29kZSBmb3Igbm90aWZpY2F0aW9ucwp2b2lkIF91cGRhdGVJT1NBcHBEZWxlZ2F0ZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBhcHBEZWxlZ2F0ZVBhdGggPSAnJHByb2plY3ROYW1lL2lvcy9SdW5uZXIvQXBwRGVsZWdhdGUuc3dpZnQnOwogIGZpbmFsIGFwcERlbGVnYXRlRmlsZSA9IEZpbGUoYXBwRGVsZWdhdGVQYXRoKTsKCiAgdHJ5IHsKICAgIC8vIENyZWF0ZSBwYXJlbnQgZGlyZWN0b3JpZXMgaWYgdGhleSBkb24ndCBleGlzdAogICAgZmluYWwgYXBwRGVsZWdhdGVEaXIgPSBEaXJlY3RvcnkoJyRwcm9qZWN0TmFtZS9pb3MvUnVubmVyJyk7CiAgICBpZiAoIWFwcERlbGVnYXRlRGlyLmV4aXN0c1N5bmMoKSkgewogICAgICBhcHBEZWxlZ2F0ZURpci5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZGlyZWN0b3J5OiBpb3MvUnVubmVyJyk7CiAgICB9CgogICAgLy8gRGVmaW5lIHRoZSBub3RpZmljYXRpb24tZW5hYmxlZCBBcHBEZWxlZ2F0ZSBjb250ZW50CiAgICBmaW5hbCBhcHBEZWxlZ2F0ZUNvbnRlbnQgPSAnJydpbXBvcnQgRmx1dHRlcgppbXBvcnQgVUlLaXQKaW1wb3J0IGZsdXR0ZXJfbG9jYWxfbm90aWZpY2F0aW9ucwoKQG1haW4KQG9iamMgY2xhc3MgQXBwRGVsZWdhdGU6IEZsdXR0ZXJBcHBEZWxlZ2F0ZSB7CiAgb3ZlcnJpZGUgZnVuYyBhcHBsaWNhdGlvbigKICAgIF8gYXBwbGljYXRpb246IFVJQXBwbGljYXRpb24sCiAgICBkaWRGaW5pc2hMYXVuY2hpbmdXaXRoT3B0aW9ucyBsYXVuY2hPcHRpb25zOiBbVUlBcHBsaWNhdGlvbi5MYXVuY2hPcHRpb25zS2V5OiBBbnldPwogICkgLT4gQm9vbCB7CiAgICBGbHV0dGVyTG9jYWxOb3RpZmljYXRpb25zUGx1Z2luLnNldFBsdWdpblJlZ2lzdHJhbnRDYWxsYmFjayB7IChyZWdpc3RyeSkgaW4KICAgICAgR2VuZXJhdGVkUGx1Z2luUmVnaXN0cmFudC5yZWdpc3Rlcih3aXRoOiByZWdpc3RyeSkKICAgIH0KICAgIAogICAgaWYgI2F2YWlsYWJsZShpT1MgMTAuMCwgKikgewogICAgICBVTlVzZXJOb3RpZmljYXRpb25DZW50ZXIuY3VycmVudCgpLmRlbGVnYXRlID0gc2VsZiBhcyBVTlVzZXJOb3RpZmljYXRpb25DZW50ZXJEZWxlZ2F0ZQogICAgfQogICAgCiAgICBHZW5lcmF0ZWRQbHVnaW5SZWdpc3RyYW50LnJlZ2lzdGVyKHdpdGg6IHNlbGYpCiAgICByZXR1cm4gc3VwZXIuYXBwbGljYXRpb24oYXBwbGljYXRpb24sIGRpZEZpbmlzaExhdW5jaGluZ1dpdGhPcHRpb25zOiBsYXVuY2hPcHRpb25zKQogIH0KfQonJyc7CgogICAgLy8gQ2hlY2sgaWYgZmlsZSBleGlzdHMgYW5kIGhhbmRsZSBhcHByb3ByaWF0ZWx5CiAgICBpZiAoYXBwRGVsZWdhdGVGaWxlLmV4aXN0c1N5bmMoKSkgewogICAgICBmaW5hbCBleGlzdGluZ0NvbnRlbnQgPSBhcHBEZWxlZ2F0ZUZpbGUucmVhZEFzU3RyaW5nU3luYygpOwoKICAgICAgLy8gT25seSBvdmVyd3JpdGUgaWYgaXQgZG9lc24ndCBhbHJlYWR5IGhhdmUgbm90aWZpY2F0aW9uIGNvZGUKICAgICAgaWYgKCFleGlzdGluZ0NvbnRlbnQuY29udGFpbnMoJ2ZsdXR0ZXJfbG9jYWxfbm90aWZpY2F0aW9ucycpKSB7CiAgICAgICAgYXBwRGVsZWdhdGVGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGFwcERlbGVnYXRlQ29udGVudCk7CiAgICAgICAgY29udGV4dC5sb2dnZXIKICAgICAgICAgICAgLmluZm8oJ1VwZGF0ZWQgaU9TIEFwcERlbGVnYXRlLnN3aWZ0IHdpdGggbm90aWZpY2F0aW9uIHN1cHBvcnQnKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb250ZXh0LmxvZ2dlcgogICAgICAgICAgICAuaW5mbygnaU9TIEFwcERlbGVnYXRlLnN3aWZ0IGFscmVhZHkgaGFzIG5vdGlmaWNhdGlvbiBzdXBwb3J0Jyk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGFwcERlbGVnYXRlRmlsZS53cml0ZUFzU3RyaW5nU3luYyhhcHBEZWxlZ2F0ZUNvbnRlbnQpOwogICAgICBjb250ZXh0LmxvZ2dlcgogICAgICAgICAgLmluZm8oJ0NyZWF0ZWQgaU9TIEFwcERlbGVnYXRlLnN3aWZ0IHdpdGggbm90aWZpY2F0aW9uIHN1cHBvcnQnKTsKICAgIH0KICB9IGNhdGNoIChlKSB7CiAgICBjb250ZXh0LmxvZ2dlci5lcnIoJ0ZhaWxlZCB0byB1cGRhdGUgaU9TIEFwcERlbGVnYXRlLnN3aWZ0OiAkZScpOwogIH0KfQoKLy8vIFVwZGF0ZXMgbWFpbi5kYXJ0IHRvIGluaXRpYWxpemUgRmlyZWJhc2UgYW5kIEZDTQp2b2lkIF91cGRhdGVNYWluRm9yTm90aWZpY2F0aW9ucyhIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBtYWluRGFydEZpbGUgPSBGaWxlKCckcHJvamVjdE5hbWUvbGliL21haW4uZGFydCcpOwogIGlmICghbWFpbkRhcnRGaWxlLmV4aXN0c1N5bmMoKSkgewogICAgY29udGV4dC5sb2dnZXIKICAgICAgICAud2FybignbWFpbi5kYXJ0IG5vdCBmb3VuZCwgc2tpcHBpbmcgRmlyZWJhc2UgaW5pdGlhbGl6YXRpb24nKTsKICAgIHJldHVybjsKICB9CgogIFN0cmluZyBjb250ZW50ID0gbWFpbkRhcnRGaWxlLnJlYWRBc1N0cmluZ1N5bmMoKTsKICBib29sIG1vZGlmaWVkID0gZmFsc2U7CgogIC8vIEFkZCBpbXBvcnRzIGlmIG5vdCBhbHJlYWR5IHByZXNlbnQKICBpZiAoIWNvbnRlbnQuY29udGFpbnMoJ2ZpcmViYXNlX2NvcmUuZGFydCcpKSB7CiAgICBmaW5hbCBpbXBvcnRQYXR0ZXJuID0gUmVnRXhwKHInaW1wb3J0IC4qO1xuJyk7CiAgICBmaW5hbCBsYXN0SW1wb3J0TWF0Y2ggPSBpbXBvcnRQYXR0ZXJuLmFsbE1hdGNoZXMoY29udGVudCkubGFzdE9yTnVsbDsKCiAgICBpZiAobGFzdEltcG9ydE1hdGNoICE9IG51bGwpIHsKICAgICAgZmluYWwgaW5zZXJ0UG9zaXRpb24gPSBsYXN0SW1wb3J0TWF0Y2guZW5kOwogICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9zaXRpb24pICsKICAgICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6ZmlyZWJhc2VfY29yZS9maXJlYmFzZV9jb3JlLmRhcnQnO1xuIiArCiAgICAgICAgICAiaW1wb3J0ICdwYWNrYWdlOiRwcm9qZWN0TmFtZS9jb3JlL25vdGlmaWNhdGlvbnMvbm90aWZpY2F0aW9uX2hhbmRsZXIuZGFydCc7XG4iICsKICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvc2l0aW9uKTsKICAgICAgbW9kaWZpZWQgPSB0cnVlOwogICAgfQogIH0KCiAgLy8gQWRkIEZpcmViYXNlIGluaXRpYWxpemF0aW9uIGlmIG5vdCBhbHJlYWR5IHByZXNlbnQKICBpZiAoIWNvbnRlbnQuY29udGFpbnMoJ0ZpcmViYXNlLmluaXRpYWxpemVBcHAnKSkgewogICAgZmluYWwgbWFpbkZ1bmN0aW9uID0gY29udGVudC5pbmRleE9mKCd2b2lkIG1haW4oKSBhc3luYyB7Jyk7CiAgICBpZiAobWFpbkZ1bmN0aW9uICE9IC0xKSB7CiAgICAgIGZpbmFsIGluc2VydFBvc2l0aW9uID0gY29udGVudC5pbmRleE9mKCd7JywgbWFpbkZ1bmN0aW9uKSArIDE7CiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb3NpdGlvbikgKwogICAgICAgICAgIlxuICAvLyBJbml0aWFsaXplIEZpcmViYXNlXG4iICsKICAgICAgICAgICIgIGF3YWl0IEZpcmViYXNlLmluaXRpYWxpemVBcHAoKTtcblxuIiArCiAgICAgICAgICAiICAvLyBJbml0aWFsaXplIG5vdGlmaWNhdGlvbiBzZXJ2aWNlc1xuIiArCiAgICAgICAgICAiICBhd2FpdCBub3RpZmljYXRpb25IYW5kbGVyLmluaXRpYWxpemUoKTtcbiIgKwogICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9zaXRpb24pOwogICAgICBtb2RpZmllZCA9IHRydWU7CiAgICB9CiAgfQoKICAvLyBPbmx5IHdyaXRlIGlmIGNvbnRlbnQgd2FzIG1vZGlmaWVkCiAgaWYgKG1vZGlmaWVkKSB7CiAgICBtYWluRGFydEZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgICBjb250ZXh0LmxvZ2dlci5zdWNjZXNzKCdVcGRhdGVkIG1haW4uZGFydCB3aXRoIEZpcmViYXNlIGluaXRpYWxpemF0aW9uJyk7CiAgfSBlbHNlIHsKICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ21haW4uZGFydCBhbHJlYWR5IGNvbnRhaW5zIEZpcmViYXNlIGluaXRpYWxpemF0aW9uJyk7CiAgfQp9",
      "type": "text",
    },
    {
      "path": "lib/redux_generator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBHZW5lcmF0ZXMgdGhlIG5lY2Vzc2FyeSBSZWR1eCBmaWxlcyBmb3Igc3RhdGUgbWFuYWdlbWVudAp2b2lkIGdlbmVyYXRlUmVkdXhGaWxlcygKICAgIEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwgU3RyaW5nIHN0YXRlTWFuYWdlbWVudCkgewogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0dlbmVyYXRpbmcgUmVkdXggZmlsZXMgZm9yICRwcm9qZWN0TmFtZScpOwoKICBpZiAoc3RhdGVNYW5hZ2VtZW50ICE9ICdSZWR1eCcpIHsKICAgIGNvbnRleHQubG9nZ2VyCiAgICAgICAgLndhcm4oJ1N0YXRlIG1hbmFnZW1lbnQgaXMgbm90IFJlZHV4LCBza2lwcGluZyBSZWR1eCBmaWxlIGdlbmVyYXRpb24nKTsKICAgIHJldHVybjsKICB9CgogIC8vIENyZWF0ZSBkaXJlY3Rvcnkgc3RydWN0dXJlCiAgZmluYWwgZGlyZWN0b3JpZXMgPSBbCiAgICAnbGliL2NvcmUvcmVkdXgnLAogICAgJ2xpYi9jb3JlL3JlZHV4L2FjdGlvbnMnLAogICAgJ2xpYi9jb3JlL3JlZHV4L3JlZHVjZXJzJywKICAgICdsaWIvY29yZS9yZWR1eC9taWRkbGV3YXJlJywKICAgICdsaWIvY29yZS9yZWR1eC9tb2RlbHMnLAogICAgJ2xpYi9jb3JlL3JlZHV4L3N0b3JlJywKICBdOwoKICBmb3IgKGZpbmFsIGRpciBpbiBkaXJlY3RvcmllcykgewogICAgZmluYWwgZGlyZWN0b3J5ID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvJGRpcicpOwogICAgaWYgKCFkaXJlY3RvcnkuZXhpc3RzU3luYygpKSB7CiAgICAgIGRpcmVjdG9yeS5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZGlyZWN0b3J5OiAkZGlyJyk7CiAgICB9CiAgfQoKICAvLyBHZW5lcmF0ZSB0aGUgY29yZSBSZWR1eCBmaWxlcwogIF9nZW5lcmF0ZUFwcFN0YXRlRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgX2dlbmVyYXRlQXBwUmVkdWNlckZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwogIF9nZW5lcmF0ZU1pZGRsZXdhcmVGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICBfZ2VuZXJhdGVTdG9yZUZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwoKICAvLyBHZW5lcmF0ZSBzb21lIHNhbXBsZSBmZWF0dXJlLXNwZWNpZmljIFJlZHV4IGZpbGVzCiAgX2dlbmVyYXRlQXV0aFN0YXRlRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgX2dlbmVyYXRlVGhlbWVTdGF0ZUZpbGUoY29udGV4dCwgcHJvamVjdE5hbWUpOwoKICBjb250ZXh0LmxvZ2dlci5zdWNjZXNzKCdSZWR1eCBmaWxlcyBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5IScpOwp9CgovLy8gR2VuZXJhdGVzIHRoZSBtYWluIGFwcCBzdGF0ZSBmaWxlCnZvaWQgX2dlbmVyYXRlQXBwU3RhdGVGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvY29yZS9yZWR1eC9hcHBfc3RhdGUuZGFydCc7CiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6ZXF1YXRhYmxlL2VxdWF0YWJsZS5kYXJ0JzsKCmltcG9ydCAnbW9kZWxzL2F1dGhfc3RhdGUuZGFydCc7CmltcG9ydCAnbW9kZWxzL3RoZW1lX3N0YXRlLmRhcnQnOwoKLy8vIE1haW4gYXBwbGljYXRpb24gc3RhdGUgZm9yIFJlZHV4CmNsYXNzIEFwcFN0YXRlIGV4dGVuZHMgRXF1YXRhYmxlIHsKICBmaW5hbCBBdXRoU3RhdGUgYXV0aFN0YXRlOwogIGZpbmFsIFRoZW1lU3RhdGUgdGhlbWVTdGF0ZTsKICAKICBjb25zdCBBcHBTdGF0ZSh7CiAgICByZXF1aXJlZCB0aGlzLmF1dGhTdGF0ZSwKICAgIHJlcXVpcmVkIHRoaXMudGhlbWVTdGF0ZSwKICB9KTsKICAKICAvLy8gQ3JlYXRlcyB0aGUgaW5pdGlhbCBzdGF0ZSB3aXRoIGRlZmF1bHQgdmFsdWVzCiAgZmFjdG9yeSBBcHBTdGF0ZS5pbml0aWFsKCkgewogICAgcmV0dXJuIEFwcFN0YXRlKAogICAgICBhdXRoU3RhdGU6IEF1dGhTdGF0ZS5pbml0aWFsKCksCiAgICAgIHRoZW1lU3RhdGU6IFRoZW1lU3RhdGUuaW5pdGlhbCgpLAogICAgKTsKICB9CiAgCiAgLy8vIENyZWF0ZXMgYSBuZXcgQXBwU3RhdGUgd2l0aCBvbmx5IHRoZSBzcGVjaWZpZWQgZmllbGRzIHVwZGF0ZWQKICBBcHBTdGF0ZSBjb3B5V2l0aCh7CiAgICBBdXRoU3RhdGU/IGF1dGhTdGF0ZSwKICAgIFRoZW1lU3RhdGU/IHRoZW1lU3RhdGUsCiAgfSkgewogICAgcmV0dXJuIEFwcFN0YXRlKAogICAgICBhdXRoU3RhdGU6IGF1dGhTdGF0ZSA/PyB0aGlzLmF1dGhTdGF0ZSwKICAgICAgdGhlbWVTdGF0ZTogdGhlbWVTdGF0ZSA/PyB0aGlzLnRoZW1lU3RhdGUsCiAgICApOwogIH0KICAKICBAb3ZlcnJpZGUKICBMaXN0PE9iamVjdD4gZ2V0IHByb3BzID0+IFthdXRoU3RhdGUsIHRoZW1lU3RhdGVdOwp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlcyB0aGUgbWFpbiBhcHAgcmVkdWNlciBmaWxlCnZvaWQgX2dlbmVyYXRlQXBwUmVkdWNlckZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9jb3JlL3JlZHV4L2FwcF9yZWR1Y2VyLmRhcnQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdhcHBfc3RhdGUuZGFydCc7CmltcG9ydCAncmVkdWNlcnMvYXV0aF9yZWR1Y2VyLmRhcnQnOwppbXBvcnQgJ3JlZHVjZXJzL3RoZW1lX3JlZHVjZXIuZGFydCc7CgovLy8gTWFpbiBhcHAgcmVkdWNlciB0aGF0IGNvbWJpbmVzIGFsbCBpbmRpdmlkdWFsIHJlZHVjZXJzCkFwcFN0YXRlIGFwcFJlZHVjZXIoQXBwU3RhdGUgc3RhdGUsIGR5bmFtaWMgYWN0aW9uKSB7CiAgcmV0dXJuIEFwcFN0YXRlKAogICAgYXV0aFN0YXRlOiBhdXRoUmVkdWNlcihzdGF0ZS5hdXRoU3RhdGUsIGFjdGlvbiksCiAgICB0aGVtZVN0YXRlOiB0aGVtZVJlZHVjZXIoc3RhdGUudGhlbWVTdGF0ZSwgYWN0aW9uKSwKICApOwp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlcyB0aGUgUmVkdXggbWlkZGxld2FyZSBmaWxlCnZvaWQgX2dlbmVyYXRlTWlkZGxld2FyZUZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9jb3JlL3JlZHV4L21pZGRsZXdhcmUvbWlkZGxld2FyZS5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpyZWR1eC9yZWR1eC5kYXJ0JzsKCmltcG9ydCAnLi4vYXBwX3N0YXRlLmRhcnQnOwppbXBvcnQgJ2xvZ2dlcl9taWRkbGV3YXJlLmRhcnQnOwoKLy8vIENyZWF0ZXMgYW5kIHJldHVybnMgYWxsIG1pZGRsZXdhcmUgZm9yIHRoZSBhcHAKTGlzdDxNaWRkbGV3YXJlPEFwcFN0YXRlPj4gY3JlYXRlTWlkZGxld2FyZSgpIHsKICByZXR1cm4gWwogICAgLy8gQWRkIHRodW5rIG1pZGRsZXdhcmUgZm9yIGFzeW5jIGFjdGlvbnMKICAgIF9jcmVhdGVUaHVua01pZGRsZXdhcmUoKSwKICAgIC8vIEFkZCBjdXN0b20gbG9nZ2luZyBtaWRkbGV3YXJlCiAgICBMb2dnZXJNaWRkbGV3YXJlKCkuY3JlYXRlTWlkZGxld2FyZSgpLAogICAgLy8gQWRkIG1vcmUgbWlkZGxld2FyZSBoZXJlCiAgXTsKfQoKLy8vIENyZWF0ZXMgYSB0aHVuayBtaWRkbGV3YXJlIHRoYXQgYWxsb3dzIGRpc3BhdGNoaW5nIGZ1bmN0aW9ucwpNaWRkbGV3YXJlPEFwcFN0YXRlPiBfY3JlYXRlVGh1bmtNaWRkbGV3YXJlKCkgewogIHJldHVybiAoU3RvcmU8QXBwU3RhdGU+IHN0b3JlLCBkeW5hbWljIGFjdGlvbiwgTmV4dERpc3BhdGNoZXIgbmV4dCkgewogICAgaWYgKGFjdGlvbiBpcyBGdW5jdGlvbikgewogICAgICByZXR1cm4gYWN0aW9uKHN0b3JlKTsKICAgIH0KICAgIHJldHVybiBuZXh0KGFjdGlvbik7CiAgfTsKfQonJyc7CgogIGZpbmFsIGZpbGUgPSBGaWxlKGZpbGVQYXRoKTsKICBmaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJGZpbGVQYXRoJyk7CgogIC8vIENyZWF0ZSBsb2dnZXIgbWlkZGxld2FyZQogIF9nZW5lcmF0ZUxvZ2dlck1pZGRsZXdhcmVGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKfQoKLy8vIEdlbmVyYXRlcyBhIGxvZ2dlciBtaWRkbGV3YXJlIGZpbGUKdm9pZCBfZ2VuZXJhdGVMb2dnZXJNaWRkbGV3YXJlRmlsZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBmaWxlUGF0aCA9CiAgICAgICckcHJvamVjdE5hbWUvbGliL2NvcmUvcmVkdXgvbWlkZGxld2FyZS9sb2dnZXJfbWlkZGxld2FyZS5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpyZWR1eC9yZWR1eC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvZm91bmRhdGlvbi5kYXJ0JzsKCmltcG9ydCAnLi4vYXBwX3N0YXRlLmRhcnQnOwoKLy8vIE1pZGRsZXdhcmUgZm9yIGxvZ2dpbmcgUmVkdXggYWN0aW9ucyBhbmQgc3RhdGUgY2hhbmdlcwpjbGFzcyBMb2dnZXJNaWRkbGV3YXJlIHsKICAvLy8gQ3JlYXRlcyB0aGUgbWlkZGxld2FyZSBmdW5jdGlvbgogIE1pZGRsZXdhcmU8QXBwU3RhdGU+IGNyZWF0ZU1pZGRsZXdhcmUoKSB7CiAgICByZXR1cm4gKFN0b3JlPEFwcFN0YXRlPiBzdG9yZSwgZHluYW1pYyBhY3Rpb24sIE5leHREaXNwYXRjaGVyIG5leHQpIHsKICAgICAgaWYgKGtEZWJ1Z01vZGUpIHsKICAgICAgICBwcmludCgnXFxu4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQ4pWQJyk7CiAgICAgICAgcHJpbnQoJ0FjdGlvbjogXCR7YWN0aW9uLnJ1bnRpbWVUeXBlfScpOwogICAgICAgIHByaW50KCdQcmV2aW91cyBzdGF0ZTogXCR7X2dldFN0YXRlU3VtbWFyeShzdG9yZS5zdGF0ZSl9Jyk7CiAgICAgIH0KICAgICAgCiAgICAgIG5leHQoYWN0aW9uKTsKICAgICAgCiAgICAgIGlmIChrRGVidWdNb2RlKSB7CiAgICAgICAgcHJpbnQoJ05ldyBzdGF0ZTogXCR7X2dldFN0YXRlU3VtbWFyeShzdG9yZS5zdGF0ZSl9Jyk7CiAgICAgICAgcHJpbnQoJ+KVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkFxcbicpOwogICAgICB9CiAgICB9OwogIH0KICAKICAvLy8gQ3JlYXRlcyBhIHN1bW1hcnkgb2YgdGhlIHN0YXRlIGZvciBsb2dnaW5nCiAgU3RyaW5nIF9nZXRTdGF0ZVN1bW1hcnkoQXBwU3RhdGUgc3RhdGUpIHsKICAgIHJldHVybiAne2F1dGg6IFwke3N0YXRlLmF1dGhTdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgPyAnQXV0aGVudGljYXRlZCcgOiAnTm90IGF1dGhlbnRpY2F0ZWQnfSwgJwogICAgICAgICd0aGVtZTogXCR7c3RhdGUudGhlbWVTdGF0ZS50aGVtZU1vZGUubmFtZX19JzsKICB9Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIHRoZSBzdG9yZSBjb25maWd1cmF0aW9uIGZpbGUKdm9pZCBfZ2VuZXJhdGVTdG9yZUZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9jb3JlL3JlZHV4L3N0b3JlL3N0b3JlLmRhcnQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOnJlZHV4L3JlZHV4LmRhcnQnOwoKaW1wb3J0ICcuLi9hcHBfc3RhdGUuZGFydCc7CmltcG9ydCAnLi4vYXBwX3JlZHVjZXIuZGFydCc7CmltcG9ydCAnLi4vbWlkZGxld2FyZS9taWRkbGV3YXJlLmRhcnQnOwoKLy8vIENvbmZpZ3VyZXMgYW5kIGNyZWF0ZXMgdGhlIFJlZHV4IHN0b3JlClN0b3JlPEFwcFN0YXRlPiBjcmVhdGVTdG9yZSgpIHsKICByZXR1cm4gU3RvcmU8QXBwU3RhdGU+KAogICAgYXBwUmVkdWNlciwKICAgIGluaXRpYWxTdGF0ZTogQXBwU3RhdGUuaW5pdGlhbCgpLAogICAgbWlkZGxld2FyZTogY3JlYXRlTWlkZGxld2FyZSgpLAogICk7Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIGEgc2FtcGxlIGF1dGggc3RhdGUgZmlsZQp2b2lkIF9nZW5lcmF0ZUF1dGhTdGF0ZUZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgLy8gR2VuZXJhdGUgdGhlIGF1dGggc3RhdGUgbW9kZWwKICBmaW5hbCBzdGF0ZUZpbGVQYXRoID0gJyRwcm9qZWN0TmFtZS9saWIvY29yZS9yZWR1eC9tb2RlbHMvYXV0aF9zdGF0ZS5kYXJ0JzsKICBmaW5hbCBzdGF0ZUNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmVxdWF0YWJsZS9lcXVhdGFibGUuZGFydCc7CgovLy8gQXV0aGVudGljYXRpb24gc3RhdGUgZm9yIFJlZHV4CmNsYXNzIEF1dGhTdGF0ZSBleHRlbmRzIEVxdWF0YWJsZSB7CiAgZmluYWwgYm9vbCBpc0F1dGhlbnRpY2F0ZWQ7CiAgZmluYWwgU3RyaW5nPyB0b2tlbjsKICBmaW5hbCBTdHJpbmc/IHVzZXJJZDsKICBmaW5hbCBib29sIGlzTG9hZGluZzsKICBmaW5hbCBTdHJpbmc/IGVycm9yOwogIAogIGNvbnN0IEF1dGhTdGF0ZSh7CiAgICByZXF1aXJlZCB0aGlzLmlzQXV0aGVudGljYXRlZCwKICAgIHRoaXMudG9rZW4sCiAgICB0aGlzLnVzZXJJZCwKICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UsCiAgICB0aGlzLmVycm9yLAogIH0pOwogIAogIC8vLyBDcmVhdGVzIHRoZSBpbml0aWFsIGF1dGggc3RhdGUKICBmYWN0b3J5IEF1dGhTdGF0ZS5pbml0aWFsKCkgewogICAgcmV0dXJuIGNvbnN0IEF1dGhTdGF0ZShpc0F1dGhlbnRpY2F0ZWQ6IGZhbHNlKTsKICB9CiAgCiAgLy8vIENyZWF0ZXMgYSBuZXcgQXV0aFN0YXRlIHdpdGggb25seSB0aGUgc3BlY2lmaWVkIGZpZWxkcyB1cGRhdGVkCiAgQXV0aFN0YXRlIGNvcHlXaXRoKHsKICAgIGJvb2w/IGlzQXV0aGVudGljYXRlZCwKICAgIFN0cmluZz8gdG9rZW4sCiAgICBTdHJpbmc/IHVzZXJJZCwKICAgIGJvb2w/IGlzTG9hZGluZywKICAgIFN0cmluZz8gZXJyb3IsCiAgfSkgewogICAgcmV0dXJuIEF1dGhTdGF0ZSgKICAgICAgaXNBdXRoZW50aWNhdGVkOiBpc0F1dGhlbnRpY2F0ZWQgPz8gdGhpcy5pc0F1dGhlbnRpY2F0ZWQsCiAgICAgIHRva2VuOiB0b2tlbiA/PyB0aGlzLnRva2VuLAogICAgICB1c2VySWQ6IHVzZXJJZCA/PyB0aGlzLnVzZXJJZCwKICAgICAgaXNMb2FkaW5nOiBpc0xvYWRpbmcgPz8gdGhpcy5pc0xvYWRpbmcsCiAgICAgIGVycm9yOiBlcnJvciA/PyB0aGlzLmVycm9yLAogICAgKTsKICB9CiAgCiAgQG92ZXJyaWRlCiAgTGlzdDxPYmplY3Q/PiBnZXQgcHJvcHMgPT4gW2lzQXV0aGVudGljYXRlZCwgdG9rZW4sIHVzZXJJZCwgaXNMb2FkaW5nLCBlcnJvcl07Cn0KJycnOwoKICBmaW5hbCBzdGF0ZUZpbGUgPSBGaWxlKHN0YXRlRmlsZVBhdGgpOwogIHN0YXRlRmlsZS53cml0ZUFzU3RyaW5nU3luYyhzdGF0ZUNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJHN0YXRlRmlsZVBhdGgnKTsKCiAgLy8gR2VuZXJhdGUgYXV0aCBhY3Rpb25zCiAgZmluYWwgYWN0aW9uc0ZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9yZWR1eC9hY3Rpb25zL2F1dGhfYWN0aW9ucy5kYXJ0JzsKICBmaW5hbCBhY3Rpb25zQ29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6cmVkdXgvcmVkdXguZGFydCc7CmltcG9ydCAncGFja2FnZTpyZWR1eF90aHVuay9yZWR1eF90aHVuay5kYXJ0JzsKCmltcG9ydCAnLi4vYXBwX3N0YXRlLmRhcnQnOwoKLy8vIEFjdGlvbiB3aGVuIGxvZ2luIHByb2Nlc3Mgc3RhcnRzCmNsYXNzIExvZ2luUmVxdWVzdEFjdGlvbiB7CiAgZmluYWwgU3RyaW5nIGVtYWlsOwogIAogIExvZ2luUmVxdWVzdEFjdGlvbih0aGlzLmVtYWlsKTsKfQoKLy8vIEFjdGlvbiB3aGVuIGxvZ2luIGlzIHN1Y2Nlc3NmdWwKY2xhc3MgTG9naW5TdWNjZXNzQWN0aW9uIHsKICBmaW5hbCBTdHJpbmcgdG9rZW47CiAgZmluYWwgU3RyaW5nIHVzZXJJZDsKICAKICBMb2dpblN1Y2Nlc3NBY3Rpb24odGhpcy50b2tlbiwgdGhpcy51c2VySWQpOwp9CgovLy8gQWN0aW9uIHdoZW4gbG9naW4gZmFpbHMKY2xhc3MgTG9naW5GYWlsdXJlQWN0aW9uIHsKICBmaW5hbCBTdHJpbmcgZXJyb3I7CiAgCiAgTG9naW5GYWlsdXJlQWN0aW9uKHRoaXMuZXJyb3IpOwp9CgovLy8gQWN0aW9uIHdoZW4gbG9nb3V0IG9jY3VycwpjbGFzcyBMb2dvdXRBY3Rpb24ge30KCi8vLyBBc3luYyBhY3Rpb24gY3JlYXRvciBmb3IgbG9naW4KRnVuY3Rpb24gbG9naW4oU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIHsKICByZXR1cm4gKFN0b3JlPEFwcFN0YXRlPiBzdG9yZSkgYXN5bmMgewogICAgLy8gRGlzcGF0Y2ggYWN0aW9uIHRvIHVwZGF0ZSBzdGF0ZSB0byBsb2FkaW5nCiAgICBzdG9yZS5kaXNwYXRjaChMb2dpblJlcXVlc3RBY3Rpb24oZW1haWwpKTsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gU2ltdWxhdGUgQVBJIGNhbGwgd2l0aCBkZWxheQogICAgICBhd2FpdCBGdXR1cmUuZGVsYXllZChjb25zdCBEdXJhdGlvbihzZWNvbmRzOiAxKSk7CiAgICAgIAogICAgICAvLyBJbiBhIHJlYWwgYXBwLCB5b3Ugd291bGQgbWFrZSBhbiBhY3R1YWwgQVBJIGNhbGwgaGVyZQogICAgICAvLyBGb3IgdGhpcyBleGFtcGxlLCB3ZSdsbCBqdXN0IHNpbXVsYXRlIGEgc3VjY2Vzc2Z1bCBsb2dpbgogICAgICBpZiAoZW1haWwgPT0gJ3Rlc3RAZXhhbXBsZS5jb20nICYmIHBhc3N3b3JkID09ICdwYXNzd29yZCcpIHsKICAgICAgICBzdG9yZS5kaXNwYXRjaChMb2dpblN1Y2Nlc3NBY3Rpb24oJ2Zha2UtdG9rZW4tMTIzJywgJ3VzZXItMTIzJykpOwogICAgICB9IGVsc2UgewogICAgICAgIHRocm93IEV4Y2VwdGlvbignSW52YWxpZCBjcmVkZW50aWFscycpOwogICAgICB9CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHN0b3JlLmRpc3BhdGNoKExvZ2luRmFpbHVyZUFjdGlvbihlLnRvU3RyaW5nKCkpKTsKICAgIH0KICB9Owp9CgovLy8gQXN5bmMgYWN0aW9uIGNyZWF0b3IgZm9yIGxvZ291dApGdW5jdGlvbiBsb2dvdXQoKSB7CiAgcmV0dXJuIChTdG9yZTxBcHBTdGF0ZT4gc3RvcmUpIGFzeW5jIHsKICAgIC8vIEluIGEgcmVhbCBhcHAsIHlvdSBtaWdodCBuZWVkIHRvIGNsZWFyIHRva2VucyBvciBkbyBvdGhlciBjbGVhbnVwIGhlcmUKICAgIHN0b3JlLmRpc3BhdGNoKExvZ291dEFjdGlvbigpKTsKICB9Owp9CicnJzsKCiAgZmluYWwgYWN0aW9uc0ZpbGUgPSBGaWxlKGFjdGlvbnNGaWxlUGF0aCk7CiAgYWN0aW9uc0ZpbGUud3JpdGVBc1N0cmluZ1N5bmMoYWN0aW9uc0NvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJGFjdGlvbnNGaWxlUGF0aCcpOwoKICAvLyBHZW5lcmF0ZSBhdXRoIHJlZHVjZXIKICBmaW5hbCByZWR1Y2VyRmlsZVBhdGggPQogICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL3JlZHV4L3JlZHVjZXJzL2F1dGhfcmVkdWNlci5kYXJ0JzsKICBmaW5hbCByZWR1Y2VyQ29udGVudCA9ICcnJwppbXBvcnQgJy4uL21vZGVscy9hdXRoX3N0YXRlLmRhcnQnOwppbXBvcnQgJy4uL2FjdGlvbnMvYXV0aF9hY3Rpb25zLmRhcnQnOwoKLy8vIFJlZHVjZXIgZm9yIGF1dGhlbnRpY2F0aW9uIHN0YXRlCkF1dGhTdGF0ZSBhdXRoUmVkdWNlcihBdXRoU3RhdGUgc3RhdGUsIGR5bmFtaWMgYWN0aW9uKSB7CiAgaWYgKGFjdGlvbiBpcyBMb2dpblJlcXVlc3RBY3Rpb24pIHsKICAgIHJldHVybiBzdGF0ZS5jb3B5V2l0aCgKICAgICAgaXNMb2FkaW5nOiB0cnVlLAogICAgICBlcnJvcjogbnVsbCwKICAgICk7CiAgfSBlbHNlIGlmIChhY3Rpb24gaXMgTG9naW5TdWNjZXNzQWN0aW9uKSB7CiAgICByZXR1cm4gc3RhdGUuY29weVdpdGgoCiAgICAgIGlzQXV0aGVudGljYXRlZDogdHJ1ZSwKICAgICAgdG9rZW46IGFjdGlvbi50b2tlbiwKICAgICAgdXNlcklkOiBhY3Rpb24udXNlcklkLAogICAgICBpc0xvYWRpbmc6IGZhbHNlLAogICAgKTsKICB9IGVsc2UgaWYgKGFjdGlvbiBpcyBMb2dpbkZhaWx1cmVBY3Rpb24pIHsKICAgIHJldHVybiBzdGF0ZS5jb3B5V2l0aCgKICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSwKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgZXJyb3I6IGFjdGlvbi5lcnJvciwKICAgICk7CiAgfSBlbHNlIGlmIChhY3Rpb24gaXMgTG9nb3V0QWN0aW9uKSB7CiAgICByZXR1cm4gY29uc3QgQXV0aFN0YXRlKGlzQXV0aGVudGljYXRlZDogZmFsc2UpOwogIH0KICAKICByZXR1cm4gc3RhdGU7Cn0KJycnOwoKICBmaW5hbCByZWR1Y2VyRmlsZSA9IEZpbGUocmVkdWNlckZpbGVQYXRoKTsKICByZWR1Y2VyRmlsZS53cml0ZUFzU3RyaW5nU3luYyhyZWR1Y2VyQ29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkcmVkdWNlckZpbGVQYXRoJyk7Cn0KCi8vLyBHZW5lcmF0ZXMgYSBzYW1wbGUgdGhlbWUgc3RhdGUgZmlsZQp2b2lkIF9nZW5lcmF0ZVRoZW1lU3RhdGVGaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIC8vIEdlbmVyYXRlIHRoZSB0aGVtZSBzdGF0ZSBtb2RlbAogIGZpbmFsIHN0YXRlRmlsZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9jb3JlL3JlZHV4L21vZGVscy90aGVtZV9zdGF0ZS5kYXJ0JzsKICBmaW5hbCBzdGF0ZUNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmVxdWF0YWJsZS9lcXVhdGFibGUuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwoKLy8vIFRoZW1lIG1vZGUgZW51bSBmb3IgUmVkdXggc3RhdGUKZW51bSBUaGVtZU1vZGUgewogIGxpZ2h0LAogIGRhcmssCiAgc3lzdGVtOwogIAogIC8vLyBDb252ZXJ0IHRvIEZsdXR0ZXIncyBUaGVtZU1vZGUKICBUaGVtZU1vZGUgdG9GbHV0dGVyVGhlbWVNb2RlKCkgewogICAgc3dpdGNoICh0aGlzKSB7CiAgICAgIGNhc2UgVGhlbWVNb2RlLmxpZ2h0OgogICAgICAgIHJldHVybiBUaGVtZU1vZGUubGlnaHQ7CiAgICAgIGNhc2UgVGhlbWVNb2RlLmRhcms6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5kYXJrOwogICAgICBjYXNlIFRoZW1lTW9kZS5zeXN0ZW06CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5zeXN0ZW07CiAgICB9CiAgfQp9CgovLy8gVGhlbWUgc3RhdGUgZm9yIFJlZHV4CmNsYXNzIFRoZW1lU3RhdGUgZXh0ZW5kcyBFcXVhdGFibGUgewogIGZpbmFsIFRoZW1lTW9kZSB0aGVtZU1vZGU7CiAgCiAgY29uc3QgVGhlbWVTdGF0ZSh7CiAgICB0aGlzLnRoZW1lTW9kZSA9IFRoZW1lTW9kZS5zeXN0ZW0sCiAgfSk7CiAgCiAgLy8vIENyZWF0ZXMgdGhlIGluaXRpYWwgdGhlbWUgc3RhdGUKICBmYWN0b3J5IFRoZW1lU3RhdGUuaW5pdGlhbCgpIHsKICAgIHJldHVybiBjb25zdCBUaGVtZVN0YXRlKCk7CiAgfQogIAogIC8vLyBDcmVhdGVzIGEgbmV3IFRoZW1lU3RhdGUgd2l0aCBvbmx5IHRoZSBzcGVjaWZpZWQgZmllbGRzIHVwZGF0ZWQKICBUaGVtZVN0YXRlIGNvcHlXaXRoKHsKICAgIFRoZW1lTW9kZT8gdGhlbWVNb2RlLAogIH0pIHsKICAgIHJldHVybiBUaGVtZVN0YXRlKAogICAgICB0aGVtZU1vZGU6IHRoZW1lTW9kZSA/PyB0aGlzLnRoZW1lTW9kZSwKICAgICk7CiAgfQogIAogIEBvdmVycmlkZQogIExpc3Q8T2JqZWN0PiBnZXQgcHJvcHMgPT4gW3RoZW1lTW9kZV07Cn0KJycnOwoKICBmaW5hbCBzdGF0ZUZpbGUgPSBGaWxlKHN0YXRlRmlsZVBhdGgpOwogIHN0YXRlRmlsZS53cml0ZUFzU3RyaW5nU3luYyhzdGF0ZUNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJHN0YXRlRmlsZVBhdGgnKTsKCiAgLy8gR2VuZXJhdGUgdGhlbWUgYWN0aW9ucwogIGZpbmFsIGFjdGlvbnNGaWxlUGF0aCA9CiAgICAgICckcHJvamVjdE5hbWUvbGliL2NvcmUvcmVkdXgvYWN0aW9ucy90aGVtZV9hY3Rpb25zLmRhcnQnOwogIGZpbmFsIGFjdGlvbnNDb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpyZWR1eC9yZWR1eC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnJlZHV4X3RodW5rL3JlZHV4X3RodW5rLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6c2hhcmVkX3ByZWZlcmVuY2VzL3NoYXJlZF9wcmVmZXJlbmNlcy5kYXJ0JzsKCmltcG9ydCAnLi4vYXBwX3N0YXRlLmRhcnQnOwppbXBvcnQgJy4uL21vZGVscy90aGVtZV9zdGF0ZS5kYXJ0JzsKCi8vLyBBY3Rpb24gdG8gc2V0IHRoZW1lIG1vZGUKY2xhc3MgU2V0VGhlbWVNb2RlQWN0aW9uIHsKICBmaW5hbCBUaGVtZU1vZGUgdGhlbWVNb2RlOwogIAogIFNldFRoZW1lTW9kZUFjdGlvbih0aGlzLnRoZW1lTW9kZSk7Cn0KCi8vLyBBY3Rpb24gdG8gbG9hZCB0aGVtZSBmcm9tIHN0b3JhZ2UKY2xhc3MgTG9hZFRoZW1lQWN0aW9uIHt9CgovLy8gQWN0aW9uIHdoZW4gdGhlbWUgaXMgbG9hZGVkIGZyb20gc3RvcmFnZQpjbGFzcyBUaGVtZUxvYWRlZEFjdGlvbiB7CiAgZmluYWwgVGhlbWVNb2RlIHRoZW1lTW9kZTsKICAKICBUaGVtZUxvYWRlZEFjdGlvbih0aGlzLnRoZW1lTW9kZSk7Cn0KCi8vLyBBc3luYyBhY3Rpb24gY3JlYXRvciB0byBzZXQgdGhlbWUKRnVuY3Rpb24gc2V0VGhlbWVNb2RlKFRoZW1lTW9kZSB0aGVtZU1vZGUpIHsKICByZXR1cm4gKFN0b3JlPEFwcFN0YXRlPiBzdG9yZSkgYXN5bmMgewogICAgLy8gU2F2ZSB0aGVtZSBwcmVmZXJlbmNlCiAgICBmaW5hbCBwcmVmcyA9IGF3YWl0IFNoYXJlZFByZWZlcmVuY2VzLmdldEluc3RhbmNlKCk7CiAgICBhd2FpdCBwcmVmcy5zZXRJbnQoJ3RoZW1lX21vZGUnLCB0aGVtZU1vZGUuaW5kZXgpOwogICAgCiAgICAvLyBVcGRhdGUgc3RhdGUKICAgIHN0b3JlLmRpc3BhdGNoKFNldFRoZW1lTW9kZUFjdGlvbih0aGVtZU1vZGUpKTsKICB9Owp9CgovLy8gQXN5bmMgYWN0aW9uIGNyZWF0b3IgdG8gbG9hZCB0aGVtZSBmcm9tIHN0b3JhZ2UKRnVuY3Rpb24gbG9hZFRoZW1lKCkgewogIHJldHVybiAoU3RvcmU8QXBwU3RhdGU+IHN0b3JlKSBhc3luYyB7CiAgICBmaW5hbCBwcmVmcyA9IGF3YWl0IFNoYXJlZFByZWZlcmVuY2VzLmdldEluc3RhbmNlKCk7CiAgICBmaW5hbCB0aGVtZU1vZGVJbmRleCA9IHByZWZzLmdldEludCgndGhlbWVfbW9kZScpOwogICAgCiAgICBpZiAodGhlbWVNb2RlSW5kZXggIT0gbnVsbCkgewogICAgICBmaW5hbCB0aGVtZU1vZGUgPSBUaGVtZU1vZGUudmFsdWVzW3RoZW1lTW9kZUluZGV4LmNsYW1wKDAsIFRoZW1lTW9kZS52YWx1ZXMubGVuZ3RoIC0gMSldOwogICAgICBzdG9yZS5kaXNwYXRjaChUaGVtZUxvYWRlZEFjdGlvbih0aGVtZU1vZGUpKTsKICAgIH0KICB9Owp9CicnJzsKCiAgZmluYWwgYWN0aW9uc0ZpbGUgPSBGaWxlKGFjdGlvbnNGaWxlUGF0aCk7CiAgYWN0aW9uc0ZpbGUud3JpdGVBc1N0cmluZ1N5bmMoYWN0aW9uc0NvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJGFjdGlvbnNGaWxlUGF0aCcpOwoKICAvLyBHZW5lcmF0ZSB0aGVtZSByZWR1Y2VyCiAgZmluYWwgcmVkdWNlckZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9yZWR1eC9yZWR1Y2Vycy90aGVtZV9yZWR1Y2VyLmRhcnQnOwogIGZpbmFsIHJlZHVjZXJDb250ZW50ID0gJycnCmltcG9ydCAnLi4vbW9kZWxzL3RoZW1lX3N0YXRlLmRhcnQnOwppbXBvcnQgJy4uL2FjdGlvbnMvdGhlbWVfYWN0aW9ucy5kYXJ0JzsKCi8vLyBSZWR1Y2VyIGZvciB0aGVtZSBzdGF0ZQpUaGVtZVN0YXRlIHRoZW1lUmVkdWNlcihUaGVtZVN0YXRlIHN0YXRlLCBkeW5hbWljIGFjdGlvbikgewogIGlmIChhY3Rpb24gaXMgU2V0VGhlbWVNb2RlQWN0aW9uKSB7CiAgICByZXR1cm4gc3RhdGUuY29weVdpdGgodGhlbWVNb2RlOiBhY3Rpb24udGhlbWVNb2RlKTsKICB9IGVsc2UgaWYgKGFjdGlvbiBpcyBUaGVtZUxvYWRlZEFjdGlvbikgewogICAgcmV0dXJuIHN0YXRlLmNvcHlXaXRoKHRoZW1lTW9kZTogYWN0aW9uLnRoZW1lTW9kZSk7CiAgfQogIAogIHJldHVybiBzdGF0ZTsKfQonJyc7CgogIGZpbmFsIHJlZHVjZXJGaWxlID0gRmlsZShyZWR1Y2VyRmlsZVBhdGgpOwogIHJlZHVjZXJGaWxlLndyaXRlQXNTdHJpbmdTeW5jKHJlZHVjZXJDb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRyZWR1Y2VyRmlsZVBhdGgnKTsKfQoKLy8vIFVwZGF0ZXMgdGhlIG1haW4uZGFydCBmaWxlIHRvIHVzZSBSZWR1eAp2b2lkIHVwZGF0ZU1haW5EYXJ0Rm9yUmVkdXgoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgbWFpbkRhcnRGaWxlID0gRmlsZSgnJHByb2plY3ROYW1lL2xpYi9tYWluLmRhcnQnKTsKICBpZiAoIW1haW5EYXJ0RmlsZS5leGlzdHNTeW5jKCkpIHsKICAgIGNvbnRleHQubG9nZ2VyLndhcm4oJ21haW4uZGFydCBub3QgZm91bmQsIHNraXBwaW5nIFJlZHV4IGludGVncmF0aW9uJyk7CiAgICByZXR1cm47CiAgfQoKICBTdHJpbmcgY29udGVudCA9IG1haW5EYXJ0RmlsZS5yZWFkQXNTdHJpbmdTeW5jKCk7CgogIC8vIEFkZCB0aGUgbmVjZXNzYXJ5IGltcG9ydHMKICBmaW5hbCBpbXBvcnRzID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyX3JlZHV4L2ZsdXR0ZXJfcmVkdXguZGFydCc7CmltcG9ydCAncGFja2FnZTpyZWR1eC9yZWR1eC5kYXJ0JzsKaW1wb3J0ICdjb3JlL3JlZHV4L2FwcF9zdGF0ZS5kYXJ0JzsKaW1wb3J0ICdjb3JlL3JlZHV4L2FwcF9yZWR1Y2VyLmRhcnQnOwppbXBvcnQgJ2NvcmUvcmVkdXgvbWlkZGxld2FyZS9taWRkbGV3YXJlLmRhcnQnOwppbXBvcnQgJ2NvcmUvcmVkdXgvc3RvcmUvc3RvcmUuZGFydCc7CicnJzsKCiAgLy8gRmluZCBhIGdvb2QgcG9zaXRpb24gdG8gaW5zZXJ0IGltcG9ydHMKICBmaW5hbCBpbXBvcnRQYXR0ZXJuID0gUmVnRXhwKHInaW1wb3J0IC4qO1xuJyk7CiAgZmluYWwgbGFzdEltcG9ydE1hdGNoID0gaW1wb3J0UGF0dGVybi5hbGxNYXRjaGVzKGNvbnRlbnQpLmxhc3RPck51bGw7CgogIGlmIChsYXN0SW1wb3J0TWF0Y2ggIT0gbnVsbCkgewogICAgZmluYWwgaW5zZXJ0UG9zaXRpb24gPSBsYXN0SW1wb3J0TWF0Y2guZW5kOwogICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIGluc2VydFBvc2l0aW9uKSArCiAgICAgICAgaW1wb3J0cyArCiAgICAgICAgY29udGVudC5zdWJzdHJpbmcoaW5zZXJ0UG9zaXRpb24pOwogIH0KCiAgLy8gUmVwbGFjZSB0aGUgcnVuQXBwIHNlY3Rpb24gd2l0aCBSZWR1eCBzdG9yZSBwcm92aWRlcgogIGZpbmFsIHJ1bkFwcFBhdHRlcm4gPSBSZWdFeHAocidydW5BcHBcKFxzKlteO10qXCk7Jyk7CiAgaWYgKHJ1bkFwcFBhdHRlcm4uaGFzTWF0Y2goY29udGVudCkpIHsKICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdChydW5BcHBQYXR0ZXJuLCAnJycKcnVuQXBwKAogIFN0b3JlUHJvdmlkZXI8QXBwU3RhdGU+KAogICAgc3RvcmU6IGNyZWF0ZVN0b3JlKCksCiAgICBjaGlsZDogY29uc3QgQXBwKCksCiAgKSwKKTsnJycpOwogIH0KCiAgLy8gQ3JlYXRlIHRoZSBSZWR1eCBzdG9yZSBiZWZvcmUgcnVuQXBwIGlmIGl0J3Mgbm90IGFscmVhZHkgdGhlcmUKICBpZiAoIWNvbnRlbnQuY29udGFpbnMoJ2NyZWF0ZVN0b3JlKCknKSkgewogICAgZmluYWwgbWFpbkZ1bmN0aW9uUGF0dGVybiA9IFJlZ0V4cChyJ3ZvaWQgbWFpblwoXCkgYXN5bmMgXHsnKTsKICAgIGZpbmFsIHN0b3JlSW5pdENvZGUgPSAnJycKdm9pZCBtYWluKCkgYXN5bmMgewogIFdpZGdldHNGbHV0dGVyQmluZGluZy5lbnN1cmVJbml0aWFsaXplZCgpOwonJyc7CgogICAgaWYgKGNvbnRlbnQuY29udGFpbnMobWFpbkZ1bmN0aW9uUGF0dGVybikpIHsKICAgICAgLy8gQWRkIHN0b3JlIGluaXRpYWxpemF0aW9uIGNvZGUKICAgICAgZmluYWwgYXBwSW5pdFBhdHRlcm4gPQogICAgICAgICAgUmVnRXhwKHInV2lkZ2V0c0ZsdXR0ZXJCaW5kaW5nLmVuc3VyZUluaXRpYWxpemVkXChcKTsnKTsKICAgICAgaWYgKGFwcEluaXRQYXR0ZXJuLmhhc01hdGNoKGNvbnRlbnQpKSB7CiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUZpcnN0KGFwcEluaXRQYXR0ZXJuLCAnJycKV2lkZ2V0c0ZsdXR0ZXJCaW5kaW5nLmVuc3VyZUluaXRpYWxpemVkKCk7CgovLyBMb2FkIGVudmlyb25tZW50IHZhcmlhYmxlcwphd2FpdCBkb3RlbnYubG9hZChmaWxlTmFtZTogIi5lbnYiKTsKCi8vIEluaXRpYWxpemUgc3RhdGUKZmluYWwgc3RvcmUgPSBjcmVhdGVTdG9yZSgpOwoKLy8gTG9hZCBzYXZlZCB0aGVtZQpzdG9yZS5kaXNwYXRjaChsb2FkVGhlbWUoKSk7CicnJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gSWYgbm8gV2lkZ2V0c0ZsdXR0ZXJCaW5kaW5nLCByZXBsYWNlIHRoZSBtYWluIGZ1bmN0aW9uIHN0YXJ0CiAgICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUZpcnN0KG1haW5GdW5jdGlvblBhdHRlcm4sIHN0b3JlSW5pdENvZGUpOwogICAgICB9CiAgICB9CiAgfQoKICAvLyBXcml0ZSB1cGRhdGVkIGNvbnRlbnQgYmFjayB0byBmaWxlCiAgbWFpbkRhcnRGaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLnN1Y2Nlc3MoJ1VwZGF0ZWQgbWFpbi5kYXJ0IHdpdGggUmVkdXggY29uZmlndXJhdGlvbicpOwp9CgovLy8gVXBkYXRlcyB0aGUgQXBwIHdpZGdldCB0byBoYW5kbGUgUmVkdXggc3RhdGUKdm9pZCB1cGRhdGVBcHBXaWRnZXRGb3JSZWR1eChIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBhcHBGaWxlID0gRmlsZSgnJHByb2plY3ROYW1lL2xpYi9hcHAvYXBwLmRhcnQnKTsKICBpZiAoIWFwcEZpbGUuZXhpc3RzU3luYygpKSB7CiAgICBjb250ZXh0LmxvZ2dlci53YXJuKCdhcHAuZGFydCBub3QgZm91bmQsIHNraXBwaW5nIFJlZHV4IGludGVncmF0aW9uJyk7CiAgICByZXR1cm47CiAgfQoKICBTdHJpbmcgY29udGVudCA9IGFwcEZpbGUucmVhZEFzU3RyaW5nU3luYygpOwoKICAvLyBBZGQgUmVkdXggaW1wb3J0cwogIGZpbmFsIGltcG9ydHMgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfcmVkdXgvZmx1dHRlcl9yZWR1eC5kYXJ0JzsKaW1wb3J0ICcuLi9jb3JlL3JlZHV4L2FwcF9zdGF0ZS5kYXJ0JzsKaW1wb3J0ICcuLi9jb3JlL3JlZHV4L21vZGVscy90aGVtZV9zdGF0ZS5kYXJ0JyBhcyB0aGVtZTsKaW1wb3J0ICcuLi9jb3JlL3JlZHV4L2FjdGlvbnMvYXV0aF9hY3Rpb25zLmRhcnQnOwppbXBvcnQgJy4uL2NvcmUvcmVkdXgvYWN0aW9ucy90aGVtZV9hY3Rpb25zLmRhcnQnOwonJyc7CgogIC8vIEZpbmQgYSBnb29kIHBvc2l0aW9uIHRvIGluc2VydCBpbXBvcnRzCiAgZmluYWwgaW1wb3J0UGF0dGVybiA9IFJlZ0V4cChyJ2ltcG9ydCAuKjtcbicpOwogIGZpbmFsIGxhc3RJbXBvcnRNYXRjaCA9IGltcG9ydFBhdHRlcm4uYWxsTWF0Y2hlcyhjb250ZW50KS5sYXN0T3JOdWxsOwoKICBpZiAobGFzdEltcG9ydE1hdGNoICE9IG51bGwpIHsKICAgIGZpbmFsIGluc2VydFBvc2l0aW9uID0gbGFzdEltcG9ydE1hdGNoLmVuZDsKICAgIGNvbnRlbnQgPSBjb250ZW50LnN1YnN0cmluZygwLCBpbnNlcnRQb3NpdGlvbikgKwogICAgICAgIGltcG9ydHMgKwogICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKGluc2VydFBvc2l0aW9uKTsKICB9CgogIC8vIFVwZGF0ZSB0aGUgYXBwIGNsYXNzIHRvIHVzZSBTdG9yZUNvbm5lY3RvcgogIGZpbmFsIGFwcENsYXNzUGF0dGVybiA9CiAgICAgIFJlZ0V4cChyJ2NsYXNzIEFwcCBleHRlbmRzIFN0YXRlbGVzc1dpZGdldCBce1tefV0qXH0nLCBkb3RBbGw6IHRydWUpOwogIGlmIChhcHBDbGFzc1BhdHRlcm4uaGFzTWF0Y2goY29udGVudCkpIHsKICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VGaXJzdChhcHBDbGFzc1BhdHRlcm4sICcnJwpjbGFzcyBBcHAgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIGNvbnN0IEFwcCh7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gU3RvcmVDb25uZWN0b3I8QXBwU3RhdGUsIHRoZW1lLlRoZW1lTW9kZT4oCiAgICAgIGNvbnZlcnRlcjogKHN0b3JlKSA9PiBzdG9yZS5zdGF0ZS50aGVtZVN0YXRlLnRoZW1lTW9kZSwKICAgICAgYnVpbGRlcjogKGNvbnRleHQsIHRoZW1lTW9kZSkgewogICAgICAgIHJldHVybiBNYXRlcmlhbEFwcCgKICAgICAgICAgIHRpdGxlOiAnRmx1dHRlciBSZWR1eCBBcHAnLAogICAgICAgICAgZGVidWdTaG93Q2hlY2tlZE1vZGVCYW5uZXI6IGZhbHNlLAogICAgICAgICAgdGhlbWU6IFRoZW1lRGF0YS5saWdodCh1c2VNYXRlcmlhbDM6IHRydWUpLAogICAgICAgICAgZGFya1RoZW1lOiBUaGVtZURhdGEuZGFyayh1c2VNYXRlcmlhbDM6IHRydWUpLAogICAgICAgICAgdGhlbWVNb2RlOiB0aGVtZU1vZGUudG9GbHV0dGVyVGhlbWVNb2RlKCksCiAgICAgICAgICBob21lOiBjb25zdCBIb21lUGFnZSgpLAogICAgICAgICk7CiAgICAgIH0sCiAgICApOwogIH0KfQoKY2xhc3MgSG9tZVBhZ2UgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIGNvbnN0IEhvbWVQYWdlKHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBTY2FmZm9sZCgKICAgICAgYXBwQmFyOiBBcHBCYXIoCiAgICAgICAgdGl0bGU6IGNvbnN0IFRleHQoJ1JlZHV4IEV4YW1wbGUnKSwKICAgICAgICBhY3Rpb25zOiBbCiAgICAgICAgICBJY29uQnV0dG9uKAogICAgICAgICAgICBpY29uOiBjb25zdCBJY29uKEljb25zLmJyaWdodG5lc3NfNCksCiAgICAgICAgICAgIG9uUHJlc3NlZDogKCkgewogICAgICAgICAgICAgIC8vIFRvZ2dsZSB0aGVtZQogICAgICAgICAgICAgIGZpbmFsIHN0b3JlID0gU3RvcmVQcm92aWRlci5vZjxBcHBTdGF0ZT4oY29udGV4dCk7CiAgICAgICAgICAgICAgZmluYWwgY3VycmVudE1vZGUgPSBzdG9yZS5zdGF0ZS50aGVtZVN0YXRlLnRoZW1lTW9kZTsKICAgICAgICAgICAgICBmaW5hbCBuZXdNb2RlID0gY3VycmVudE1vZGUgPT0gdGhlbWUuVGhlbWVNb2RlLmxpZ2h0CiAgICAgICAgICAgICAgICAgICAgICA/IHRoZW1lLlRoZW1lTW9kZS5kYXJrCiAgICAgICAgICAgICAgICAgICAgICA6IHRoZW1lLlRoZW1lTW9kZS5saWdodDsKICAgICAgICAgICAgICAKICAgICAgICAgICAgICBzdG9yZS5kaXNwYXRjaChTZXRUaGVtZU1vZGVBY3Rpb24obmV3TW9kZSkpOwogICAgICAgICAgICB9LAogICAgICAgICAgKSwKICAgICAgICBdLAogICAgICApLAogICAgICBib2R5OiBDZW50ZXIoCiAgICAgICAgY2hpbGQ6IENvbHVtbigKICAgICAgICAgIG1haW5BeGlzQWxpZ25tZW50OiBNYWluQXhpc0FsaWdubWVudC5jZW50ZXIsCiAgICAgICAgICBjaGlsZHJlbjogWwogICAgICAgICAgICAvLyBEaXNwbGF5IGF1dGggc3RhdGUKICAgICAgICAgICAgU3RvcmVDb25uZWN0b3I8QXBwU3RhdGUsIGJvb2w+KAogICAgICAgICAgICAgIGNvbnZlcnRlcjogKHN0b3JlKSA9PiBzdG9yZS5zdGF0ZS5hdXRoU3RhdGUuaXNBdXRoZW50aWNhdGVkLAogICAgICAgICAgICAgIGJ1aWxkZXI6IChjb250ZXh0LCBpc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgICAgICAgICAgIHJldHVybiBUZXh0KAogICAgICAgICAgICAgICAgICAnQXV0aCBTdGF0dXM6IFwke3N0b3JlLnN0YXRlLmF1dGhTdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgPyAiTG9nZ2VkIEluIiA6ICJMb2dnZWQgT3V0In0nLAogICAgICAgICAgICAgICAgICBzdHlsZTogVGhlbWUub2YoY29udGV4dCkudGV4dFRoZW1lLmhlYWRsaW5lU21hbGwsCiAgICAgICAgICAgICAgICApOwogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICksCiAgICAgICAgICAgIGNvbnN0IFNpemVkQm94KGhlaWdodDogMjApLAogICAgICAgICAgICAvLyBMb2dpbi9Mb2dvdXQgYnV0dG9uCiAgICAgICAgICAgIFN0b3JlQ29ubmVjdG9yPEFwcFN0YXRlLCBWb2lkQ2FsbGJhY2s+KAogICAgICAgICAgICAgIGNvbnZlcnRlcjogKHN0b3JlKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gc3RvcmUuc3RhdGUuYXV0aFN0YXRlLmlzQXV0aGVudGljYXRlZAogICAgICAgICAgICAgICAgICAgID8gKCkgPT4gc3RvcmUuZGlzcGF0Y2goCiAgICAgICAgICAgICAgICAgICAgICAgICAgKFN0b3JlPEFwcFN0YXRlPiBzdG9yZSkgYXN5bmMgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RvcmUuZGlzcGF0Y2goTG9nb3V0QWN0aW9uKCkpOwogICAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICA6ICgpID0+IHN0b3JlLmRpc3BhdGNoKAogICAgICAgICAgICAgICAgICAgICAgICAgIChTdG9yZTxBcHBTdGF0ZT4gc3RvcmUpIGFzeW5jIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKExvZ2luUmVxdWVzdEFjdGlvbigndGVzdEBleGFtcGxlLmNvbScpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IEZ1dHVyZS5kZWxheWVkKGNvbnN0IER1cmF0aW9uKHNlY29uZHM6IDEpKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLmRpc3BhdGNoKExvZ2luU3VjY2Vzc0FjdGlvbignZmFrZS10b2tlbi0xMjMnLCAndXNlci0xMjMnKSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgIGJ1aWxkZXI6IChjb250ZXh0LCBjYWxsYmFjaykgewogICAgICAgICAgICAgICAgcmV0dXJuIEVsZXZhdGVkQnV0dG9uKAogICAgICAgICAgICAgICAgICBvblByZXNzZWQ6IGNhbGxiYWNrLAogICAgICAgICAgICAgICAgICBjaGlsZDogU3RvcmVDb25uZWN0b3I8QXBwU3RhdGUsIGJvb2w+KAogICAgICAgICAgICAgICAgICAgIGNvbnZlcnRlcjogKHN0b3JlKSA9PiBzdG9yZS5zdGF0ZS5hdXRoU3RhdGUuaXNBdXRoZW50aWNhdGVkLAogICAgICAgICAgICAgICAgICAgIGJ1aWxkZXI6IChjb250ZXh0LCBpc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBUZXh0KGlzQXV0aGVudGljYXRlZCA/ICdMb2dvdXQnIDogJ0xvZ2luJyk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgKSwKICAgICAgICAgIF0sCiAgICAgICAgKSwKICAgICAgKSwKICAgICk7CiAgfQp9CicnJyk7CiAgfQoKICAvLyBXcml0ZSB1cGRhdGVkIGNvbnRlbnQgYmFjayB0byBmaWxlCiAgYXBwRmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5zdWNjZXNzKCdVcGRhdGVkIGFwcC5kYXJ0IHRvIHdvcmsgd2l0aCBSZWR1eCcpOwp9CgoK",
      "type": "text",
    },
    {
      "path": "lib/state_management_handler.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCmltcG9ydCAndXRpbHMuZGFydCc7Cgp2b2lkIGNyZWF0ZVN0YXRlTWFuYWdlbWVudEZpbGVzKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwKICAgIFN0cmluZyBiYXNlUGF0aCwgU3RyaW5nIGZlYXR1cmVOYW1lLCBTdHJpbmcgc3RhdGVNYW5hZ2VtZW50KSB7CiAgc3dpdGNoIChzdGF0ZU1hbmFnZW1lbnQpIHsKICAgIGNhc2UgJ0JMb0MnOgogICAgICBjcmVhdGVCbG9jRmlsZXMoY29udGV4dCwgcHJvamVjdE5hbWUsICckYmFzZVBhdGgvYmxvYycsIGZlYXR1cmVOYW1lKTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdQcm92aWRlcic6CiAgICAgIGNyZWF0ZVByb3ZpZGVyRmlsZXMoCiAgICAgICAgICBjb250ZXh0LCBwcm9qZWN0TmFtZSwgJyRiYXNlUGF0aC9wcm92aWRlcnMnLCBmZWF0dXJlTmFtZSk7CiAgICAgIGJyZWFrOwogICAgY2FzZSAnUml2ZXJwb2QnOgogICAgICBjcmVhdGVSaXZlcnBvZEZpbGVzKAogICAgICAgICAgY29udGV4dCwgcHJvamVjdE5hbWUsICckYmFzZVBhdGgvcHJvdmlkZXJzJywgZmVhdHVyZU5hbWUpOwogICAgICBicmVhazsKICAgIGNhc2UgJ0dldFgnOgogICAgICBjcmVhdGVHZXRYRmlsZXMoCiAgICAgICAgICBjb250ZXh0LCBwcm9qZWN0TmFtZSwgJyRiYXNlUGF0aC9jb250cm9sbGVycycsIGZlYXR1cmVOYW1lKTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdNb2JYJzoKICAgICAgY3JlYXRlTW9iWEZpbGVzKGNvbnRleHQsIHByb2plY3ROYW1lLCAnJGJhc2VQYXRoL3N0b3JlcycsIGZlYXR1cmVOYW1lKTsKICAgICAgYnJlYWs7CiAgICBjYXNlICdSZWR1eCc6CiAgICAgIGNyZWF0ZVJlZHV4RmlsZXMoY29udGV4dCwgcHJvamVjdE5hbWUsICckYmFzZVBhdGgvcmVkdXgnLCBmZWF0dXJlTmFtZSk7CiAgICAgIGJyZWFrOwogICAgZGVmYXVsdDoKICAgICAgY29udGV4dC5sb2dnZXIud2FybignVW5rbm93biBzdGF0ZSBtYW5hZ2VtZW50OiAkc3RhdGVNYW5hZ2VtZW50Jyk7CiAgfQp9Cgp2b2lkIGNyZWF0ZUJsb2NGaWxlcyhIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsIFN0cmluZyBibG9jUGF0aCwKICAgIFN0cmluZyBmZWF0dXJlTmFtZSkgewogIC8vIENyZWF0ZSB0aGUgYmxvYyBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdAogIGZpbmFsIGJsb2NEaXIgPSBEaXJlY3RvcnkoJyRwcm9qZWN0TmFtZS8kYmxvY1BhdGgnKTsKICBpZiAoIWJsb2NEaXIuZXhpc3RzU3luYygpKSB7CiAgICBibG9jRGlyLmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgQkxvQyBkaXJlY3Rvcnk6ICRibG9jUGF0aCcpOwogIH0KCiAgLy8gQ3JlYXRlIEJMb0MgZmlsZXMKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lLyRibG9jUGF0aC8ke2ZlYXR1cmVOYW1lfV9ibG9jLmRhcnQnLAogICAgICAnJycKLy8gJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9QmxvYwovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2Jsb2MvZmx1dHRlcl9ibG9jLmRhcnQnOwppbXBvcnQgJy4vJHtmZWF0dXJlTmFtZX1fZXZlbnQuZGFydCc7CmltcG9ydCAnLi8ke2ZlYXR1cmVOYW1lfV9zdGF0ZS5kYXJ0JzsKCmNsYXNzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUJsb2MgZXh0ZW5kcyBCbG9jPCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUV2ZW50LCAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGF0ZT4gewogICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUJsb2MoKSA6IHN1cGVyKCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUluaXRpYWwoKSkgewogICAgb248JHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhcnRlZD4oX29uJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhcnRlZCk7CiAgICBvbjwke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1GZXRjaD4oX29uJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RmV0Y2gpOwogIH0KCiAgRnV0dXJlPHZvaWQ+IF9vbiR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXJ0ZWQoCiAgICAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGFydGVkIGV2ZW50LAogICAgRW1pdHRlcjwke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGF0ZT4gZW1pdCwKICApIGFzeW5jIHsKICAgIGVtaXQoJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9SW5pdGlhbCgpKTsKICB9CgogIEZ1dHVyZTx2b2lkPiBfb24ke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1GZXRjaCgKICAgICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoIGV2ZW50LAogICAgRW1pdHRlcjwke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGF0ZT4gZW1pdCwKICApIGFzeW5jIHsKICAgIGVtaXQoJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9TG9hZGluZygpKTsKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBmZXRjaGluZyBkYXRhCiAgICAgIC8vIEV4YW1wbGU6IGZpbmFsIHJlc3VsdCA9IGF3YWl0IHJlcG9zaXRvcnkuZ2V0RGF0YSgpOwogICAgICBlbWl0KCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUxvYWRlZChbXSkpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBlbWl0KCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUVycm9yKGUudG9TdHJpbmcoKSkpOwogICAgfQogIH0KfQonJycsCiAgICAgIGNvbnRleHQpOwoKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lLyRibG9jUGF0aC8ke2ZlYXR1cmVOYW1lfV9ldmVudC5kYXJ0JywKICAgICAgJycnCi8vICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUV2ZW50Ci8vIEdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKCmFic3RyYWN0IGNsYXNzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUV2ZW50IHsKICBjb25zdCAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1FdmVudCgpOwp9CgpjbGFzcyAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGFydGVkIGV4dGVuZHMgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RXZlbnQgewogIGNvbnN0ICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXJ0ZWQoKTsKfQoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RmV0Y2ggZXh0ZW5kcyAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1FdmVudCB7CiAgY29uc3QgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RmV0Y2goKTsKfQoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9Q3JlYXRlIGV4dGVuZHMgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RXZlbnQgewogIGZpbmFsIGR5bmFtaWMgZGF0YTsKICBjb25zdCAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1DcmVhdGUodGhpcy5kYXRhKTsKfQoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9VXBkYXRlIGV4dGVuZHMgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RXZlbnQgewogIGZpbmFsIFN0cmluZyBpZDsKICBmaW5hbCBkeW5hbWljIGRhdGE7CiAgY29uc3QgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9VXBkYXRlKHRoaXMuaWQsIHRoaXMuZGF0YSk7Cn0KCmNsYXNzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfURlbGV0ZSBleHRlbmRzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUV2ZW50IHsKICBmaW5hbCBTdHJpbmcgaWQ7CiAgY29uc3QgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RGVsZXRlKHRoaXMuaWQpOwp9CicnJywKICAgICAgY29udGV4dCk7CgogIGNyZWF0ZUZpbGUoCiAgICAgICckcHJvamVjdE5hbWUvJGJsb2NQYXRoLyR7ZmVhdHVyZU5hbWV9X3N0YXRlLmRhcnQnLAogICAgICAnJycKLy8gJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGUKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAoKYWJzdHJhY3QgY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGUgewogIGNvbnN0ICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlKCk7Cn0KCmNsYXNzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUluaXRpYWwgZXh0ZW5kcyAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGF0ZSB7fQoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9TG9hZGluZyBleHRlbmRzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlIHt9CgpjbGFzcyAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1Mb2FkZWQgZXh0ZW5kcyAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGF0ZSB7CiAgZmluYWwgTGlzdDxkeW5hbWljPiBpdGVtczsKICBjb25zdCAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1Mb2FkZWQodGhpcy5pdGVtcyk7Cn0KCmNsYXNzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUVycm9yIGV4dGVuZHMgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGUgewogIGZpbmFsIFN0cmluZyBtZXNzYWdlOwogIGNvbnN0ICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUVycm9yKHRoaXMubWVzc2FnZSk7Cn0KJycnLAogICAgICBjb250ZXh0KTsKfQoKdm9pZCBjcmVhdGVQcm92aWRlckZpbGVzKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwKICAgIFN0cmluZyBwcm92aWRlclBhdGgsIFN0cmluZyBmZWF0dXJlTmFtZSkgewogIC8vIENyZWF0ZSB0aGUgcHJvdmlkZXIgZGlyZWN0b3J5IGlmIGl0IGRvZXNuJ3QgZXhpc3QKICBmaW5hbCBwcm92aWRlckRpciA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lLyRwcm92aWRlclBhdGgnKTsKICBpZiAoIXByb3ZpZGVyRGlyLmV4aXN0c1N5bmMoKSkgewogICAgcHJvdmlkZXJEaXIuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogICAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBQcm92aWRlciBkaXJlY3Rvcnk6ICRwcm92aWRlclBhdGgnKTsKICB9CgogIC8vIENyZWF0ZSBwcm92aWRlciBmaWxlCiAgY3JlYXRlRmlsZSgKICAgICAgJyRwcm9qZWN0TmFtZS8kcHJvdmlkZXJQYXRoLyR7ZmVhdHVyZU5hbWV9X3Byb3ZpZGVyLmRhcnQnLAogICAgICAnJycKLy8gJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9UHJvdmlkZXIKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9mb3VuZGF0aW9uLmRhcnQnOwoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9UHJvdmlkZXIgZXh0ZW5kcyBDaGFuZ2VOb3RpZmllciB7CiAgYm9vbCBfaXNMb2FkaW5nID0gZmFsc2U7CiAgU3RyaW5nPyBfZXJyb3JNZXNzYWdlOwogIExpc3Q8ZHluYW1pYz4gX2l0ZW1zID0gW107CiAgCiAgYm9vbCBnZXQgaXNMb2FkaW5nID0+IF9pc0xvYWRpbmc7CiAgU3RyaW5nPyBnZXQgZXJyb3JNZXNzYWdlID0+IF9lcnJvck1lc3NhZ2U7CiAgTGlzdDxkeW5hbWljPiBnZXQgaXRlbXMgPT4gX2l0ZW1zOwogIAogIEZ1dHVyZTx2b2lkPiBmZXRjaERhdGEoKSBhc3luYyB7CiAgICBfaXNMb2FkaW5nID0gdHJ1ZTsKICAgIF9lcnJvck1lc3NhZ2UgPSBudWxsOwogICAgbm90aWZ5TGlzdGVuZXJzKCk7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBBUEkgY2FsbCBvciBkYXRhIGZldGNoCiAgICAgIC8vIEV4YW1wbGU6IF9pdGVtcyA9IGF3YWl0IHNlcnZpY2UuZ2V0SXRlbXMoKTsKICAgICAgX2l0ZW1zID0gW107CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIF9lcnJvck1lc3NhZ2UgPSBlLnRvU3RyaW5nKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIG5vdGlmeUxpc3RlbmVycygpOwogICAgfQogIH0KICAKICBGdXR1cmU8dm9pZD4gY3JlYXRlSXRlbShkeW5hbWljIGl0ZW0pIGFzeW5jIHsKICAgIF9pc0xvYWRpbmcgPSB0cnVlOwogICAgX2Vycm9yTWVzc2FnZSA9IG51bGw7CiAgICBub3RpZnlMaXN0ZW5lcnMoKTsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGNyZWF0ZSBpdGVtCiAgICAgIC8vIEV4YW1wbGU6IGF3YWl0IHNlcnZpY2UuY3JlYXRlSXRlbShpdGVtKTsKICAgICAgLy8gX2l0ZW1zLmFkZChpdGVtKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgX2Vycm9yTWVzc2FnZSA9IGUudG9TdHJpbmcoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgbm90aWZ5TGlzdGVuZXJzKCk7CiAgICB9CiAgfQogIAogIEZ1dHVyZTx2b2lkPiB1cGRhdGVJdGVtKFN0cmluZyBpZCwgZHluYW1pYyBpdGVtKSBhc3luYyB7CiAgICBfaXNMb2FkaW5nID0gdHJ1ZTsKICAgIF9lcnJvck1lc3NhZ2UgPSBudWxsOwogICAgbm90aWZ5TGlzdGVuZXJzKCk7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCB1cGRhdGUgaXRlbQogICAgICAvLyBFeGFtcGxlOiBhd2FpdCBzZXJ2aWNlLnVwZGF0ZUl0ZW0oaWQsIGl0ZW0pOwogICAgICAvLyBVcGRhdGUgaXRlbSBpbiBfaXRlbXMgbGlzdAogICAgfSBjYXRjaCAoZSkgewogICAgICBfZXJyb3JNZXNzYWdlID0gZS50b1N0cmluZygpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2lzTG9hZGluZyA9IGZhbHNlOwogICAgICBub3RpZnlMaXN0ZW5lcnMoKTsKICAgIH0KICB9CiAgCiAgRnV0dXJlPHZvaWQ+IGRlbGV0ZUl0ZW0oU3RyaW5nIGlkKSBhc3luYyB7CiAgICBfaXNMb2FkaW5nID0gdHJ1ZTsKICAgIF9lcnJvck1lc3NhZ2UgPSBudWxsOwogICAgbm90aWZ5TGlzdGVuZXJzKCk7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBkZWxldGUgaXRlbQogICAgICAvLyBFeGFtcGxlOiBhd2FpdCBzZXJ2aWNlLmRlbGV0ZUl0ZW0oaWQpOwogICAgICAvLyBSZW1vdmUgaXRlbSBmcm9tIF9pdGVtcyBsaXN0CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIF9lcnJvck1lc3NhZ2UgPSBlLnRvU3RyaW5nKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBfaXNMb2FkaW5nID0gZmFsc2U7CiAgICAgIG5vdGlmeUxpc3RlbmVycygpOwogICAgfQogIH0KfQonJycsCiAgICAgIGNvbnRleHQpOwp9Cgp2b2lkIGNyZWF0ZVJpdmVycG9kRmlsZXMoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lLAogICAgU3RyaW5nIHJpdmVycG9kUGF0aCwgU3RyaW5nIGZlYXR1cmVOYW1lKSB7CiAgLy8gQ3JlYXRlIHRoZSByaXZlcnBvZCBkaXJlY3RvcnkgaWYgaXQgZG9lc24ndCBleGlzdAogIGZpbmFsIHJpdmVycG9kRGlyID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvJHJpdmVycG9kUGF0aCcpOwogIGlmICghcml2ZXJwb2REaXIuZXhpc3RzU3luYygpKSB7CiAgICByaXZlcnBvZERpci5jcmVhdGVTeW5jKHJlY3Vyc2l2ZTogdHJ1ZSk7CiAgICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIFJpdmVycG9kIGRpcmVjdG9yeTogJHJpdmVycG9kUGF0aCcpOwogIH0KCiAgLy8gQ3JlYXRlIHJpdmVycG9kIGZpbGVzCiAgY3JlYXRlRmlsZSgKICAgICAgJyRwcm9qZWN0TmFtZS8kcml2ZXJwb2RQYXRoLyR7ZmVhdHVyZU5hbWV9X3Byb3ZpZGVyLmRhcnQnLAogICAgICAnJycKLy8gJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9UHJvdmlkZXIKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9yaXZlcnBvZC9mbHV0dGVyX3JpdmVycG9kLmRhcnQnOwoKLy8gU3RhdGUKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGUgewogIGZpbmFsIGJvb2wgaXNMb2FkaW5nOwogIGZpbmFsIFN0cmluZz8gZXJyb3JNZXNzYWdlOwogIGZpbmFsIExpc3Q8ZHluYW1pYz4gaXRlbXM7CiAgCiAgY29uc3QgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGUoewogICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZSwKICAgIHRoaXMuZXJyb3JNZXNzYWdlLAogICAgdGhpcy5pdGVtcyA9IGNvbnN0IFtdLAogIH0pOwogIAogICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlIGNvcHlXaXRoKHsKICAgIGJvb2w/IGlzTG9hZGluZywKICAgIFN0cmluZz8gZXJyb3JNZXNzYWdlLAogICAgTGlzdDxkeW5hbWljPj8gaXRlbXMsCiAgfSkgewogICAgcmV0dXJuICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlKAogICAgICBpc0xvYWRpbmc6IGlzTG9hZGluZyA/PyB0aGlzLmlzTG9hZGluZywKICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2UgPz8gdGhpcy5lcnJvck1lc3NhZ2UsCiAgICAgIGl0ZW1zOiBpdGVtcyA/PyB0aGlzLml0ZW1zLAogICAgKTsKICB9Cn0KCi8vIFByb3ZpZGVyCmZpbmFsICR7ZmVhdHVyZU5hbWV9UHJvdmlkZXIgPSBTdGF0ZU5vdGlmaWVyUHJvdmlkZXI8JHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9Tm90aWZpZXIsICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlPigocmVmKSB7CiAgcmV0dXJuICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfU5vdGlmaWVyKCk7Cn0pOwoKLy8gTm90aWZpZXIKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9Tm90aWZpZXIgZXh0ZW5kcyBTdGF0ZU5vdGlmaWVyPCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlPiB7CiAgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9Tm90aWZpZXIoKSA6IHN1cGVyKGNvbnN0ICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlKCkpIHsKICAgIGZldGNoRGF0YSgpOwogIH0KICAKICBGdXR1cmU8dm9pZD4gZmV0Y2hEYXRhKCkgYXN5bmMgewogICAgc3RhdGUgPSBzdGF0ZS5jb3B5V2l0aChpc0xvYWRpbmc6IHRydWUsIGVycm9yTWVzc2FnZTogbnVsbCk7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBBUEkgY2FsbCBvciBkYXRhIGZldGNoCiAgICAgIC8vIEV4YW1wbGU6IGZpbmFsIGl0ZW1zID0gYXdhaXQgc2VydmljZS5nZXRJdGVtcygpOwogICAgICBmaW5hbCBpdGVtcyA9IFtdOwogICAgICBzdGF0ZSA9IHN0YXRlLmNvcHlXaXRoKGlzTG9hZGluZzogZmFsc2UsIGl0ZW1zOiBpdGVtcyk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHN0YXRlID0gc3RhdGUuY29weVdpdGgoaXNMb2FkaW5nOiBmYWxzZSwgZXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCkpOwogICAgfQogIH0KICAKICBGdXR1cmU8dm9pZD4gY3JlYXRlSXRlbShkeW5hbWljIGl0ZW0pIGFzeW5jIHsKICAgIHN0YXRlID0gc3RhdGUuY29weVdpdGgoaXNMb2FkaW5nOiB0cnVlLCBlcnJvck1lc3NhZ2U6IG51bGwpOwogICAgCiAgICB0cnkgewogICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgY3JlYXRlIGl0ZW0KICAgICAgLy8gRXhhbXBsZTogYXdhaXQgc2VydmljZS5jcmVhdGVJdGVtKGl0ZW0pOwogICAgICAvLyBVcGRhdGUgc3RhdGUgd2l0aCBuZXcgaXRlbQogICAgICBzdGF0ZSA9IHN0YXRlLmNvcHlXaXRoKGlzTG9hZGluZzogZmFsc2UpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBzdGF0ZSA9IHN0YXRlLmNvcHlXaXRoKGlzTG9hZGluZzogZmFsc2UsIGVycm9yTWVzc2FnZTogZS50b1N0cmluZygpKTsKICAgIH0KICB9CiAgCiAgRnV0dXJlPHZvaWQ+IHVwZGF0ZUl0ZW0oU3RyaW5nIGlkLCBkeW5hbWljIGl0ZW0pIGFzeW5jIHsKICAgIHN0YXRlID0gc3RhdGUuY29weVdpdGgoaXNMb2FkaW5nOiB0cnVlLCBlcnJvck1lc3NhZ2U6IG51bGwpOwogICAgCiAgICB0cnkgewogICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgdXBkYXRlIGl0ZW0KICAgICAgLy8gRXhhbXBsZTogYXdhaXQgc2VydmljZS51cGRhdGVJdGVtKGlkLCBpdGVtKTsKICAgICAgLy8gVXBkYXRlIHN0YXRlIHdpdGggdXBkYXRlZCBpdGVtCiAgICAgIHN0YXRlID0gc3RhdGUuY29weVdpdGgoaXNMb2FkaW5nOiBmYWxzZSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHN0YXRlID0gc3RhdGUuY29weVdpdGgoaXNMb2FkaW5nOiBmYWxzZSwgZXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCkpOwogICAgfQogIH0KICAKICBGdXR1cmU8dm9pZD4gZGVsZXRlSXRlbShTdHJpbmcgaWQpIGFzeW5jIHsKICAgIHN0YXRlID0gc3RhdGUuY29weVdpdGgoaXNMb2FkaW5nOiB0cnVlLCBlcnJvck1lc3NhZ2U6IG51bGwpOwogICAgCiAgICB0cnkgewogICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgZGVsZXRlIGl0ZW0KICAgICAgLy8gRXhhbXBsZTogYXdhaXQgc2VydmljZS5kZWxldGVJdGVtKGlkKTsKICAgICAgLy8gVXBkYXRlIHN0YXRlIGJ5IHJlbW92aW5nIGl0ZW0KICAgICAgc3RhdGUgPSBzdGF0ZS5jb3B5V2l0aChpc0xvYWRpbmc6IGZhbHNlKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgc3RhdGUgPSBzdGF0ZS5jb3B5V2l0aChpc0xvYWRpbmc6IGZhbHNlLCBlcnJvck1lc3NhZ2U6IGUudG9TdHJpbmcoKSk7CiAgICB9CiAgfQp9CicnJywKICAgICAgY29udGV4dCk7Cn0KCnZvaWQgY3JlYXRlR2V0WEZpbGVzKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwgU3RyaW5nIGdldHhQYXRoLAogICAgU3RyaW5nIGZlYXR1cmVOYW1lKSB7CiAgLy8gQ3JlYXRlIHRoZSBHZXRYIGRpcmVjdG9yeSBpZiBpdCBkb2Vzbid0IGV4aXN0CiAgZmluYWwgZ2V0eERpciA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lLyRnZXR4UGF0aCcpOwogIGlmICghZ2V0eERpci5leGlzdHNTeW5jKCkpIHsKICAgIGdldHhEaXIuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogICAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBHZXRYIGRpcmVjdG9yeTogJGdldHhQYXRoJyk7CiAgfQoKICAvLyBDcmVhdGUgR2V0WCBjb250cm9sbGVyIGZpbGUKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lLyRnZXR4UGF0aC8ke2ZlYXR1cmVOYW1lfV9jb250cm9sbGVyLmRhcnQnLAogICAgICAnJycKLy8gJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9Q29udHJvbGxlcgovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCmltcG9ydCAncGFja2FnZTpnZXQvZ2V0LmRhcnQnOwoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9Q29udHJvbGxlciBleHRlbmRzIEdldHhDb250cm9sbGVyIHsKICBmaW5hbCBSeEJvb2wgaXNMb2FkaW5nID0gZmFsc2Uub2JzOwogIGZpbmFsIFJ4PFN0cmluZz8+IGVycm9yTWVzc2FnZSA9IFJ4PFN0cmluZz8+KG51bGwpOwogIGZpbmFsIFJ4TGlzdDxkeW5hbWljPiBpdGVtcyA9IDxkeW5hbWljPltdLm9iczsKICAKICBAb3ZlcnJpZGUKICB2b2lkIG9uSW5pdCgpIHsKICAgIHN1cGVyLm9uSW5pdCgpOwogICAgZmV0Y2hEYXRhKCk7CiAgfQogIAogIEZ1dHVyZTx2b2lkPiBmZXRjaERhdGEoKSBhc3luYyB7CiAgICBpc0xvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgZXJyb3JNZXNzYWdlLnZhbHVlID0gbnVsbDsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gVE9ETzogSW1wbGVtZW50IEFQSSBjYWxsIG9yIGRhdGEgZmV0Y2gKICAgICAgLy8gRXhhbXBsZTogZmluYWwgcmVzdWx0ID0gYXdhaXQgc2VydmljZS5nZXRJdGVtcygpOwogICAgICBpdGVtcy5jbGVhcigpOwogICAgICAvLyBpdGVtcy5hZGRBbGwocmVzdWx0KTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgZXJyb3JNZXNzYWdlLnZhbHVlID0gZS50b1N0cmluZygpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaXNMb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICB9CiAgfQogIAogIEZ1dHVyZTx2b2lkPiBjcmVhdGVJdGVtKGR5bmFtaWMgaXRlbSkgYXN5bmMgewogICAgaXNMb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgIGVycm9yTWVzc2FnZS52YWx1ZSA9IG51bGw7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBjcmVhdGUgaXRlbQogICAgICAvLyBFeGFtcGxlOiBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUl0ZW0oaXRlbSk7CiAgICAgIC8vIGl0ZW1zLmFkZChpdGVtKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgZXJyb3JNZXNzYWdlLnZhbHVlID0gZS50b1N0cmluZygpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaXNMb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICB9CiAgfQogIAogIEZ1dHVyZTx2b2lkPiB1cGRhdGVJdGVtKFN0cmluZyBpZCwgZHluYW1pYyBpdGVtKSBhc3luYyB7CiAgICBpc0xvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgZXJyb3JNZXNzYWdlLnZhbHVlID0gbnVsbDsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gVE9ETzogSW1wbGVtZW50IHVwZGF0ZSBpdGVtCiAgICAgIC8vIEV4YW1wbGU6IGF3YWl0IHNlcnZpY2UudXBkYXRlSXRlbShpZCwgaXRlbSk7CiAgICAgIC8vIFVwZGF0ZSBpdGVtIGluIGl0ZW1zIGxpc3QKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgZXJyb3JNZXNzYWdlLnZhbHVlID0gZS50b1N0cmluZygpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaXNMb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICB9CiAgfQogIAogIEZ1dHVyZTx2b2lkPiBkZWxldGVJdGVtKFN0cmluZyBpZCkgYXN5bmMgewogICAgaXNMb2FkaW5nLnZhbHVlID0gdHJ1ZTsKICAgIGVycm9yTWVzc2FnZS52YWx1ZSA9IG51bGw7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBkZWxldGUgaXRlbQogICAgICAvLyBFeGFtcGxlOiBhd2FpdCBzZXJ2aWNlLmRlbGV0ZUl0ZW0oaWQpOwogICAgICAvLyBSZW1vdmUgaXRlbSBmcm9tIGl0ZW1zIGxpc3QKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgZXJyb3JNZXNzYWdlLnZhbHVlID0gZS50b1N0cmluZygpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaXNMb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICB9CiAgfQp9CicnJywKICAgICAgY29udGV4dCk7Cn0KCnZvaWQgY3JlYXRlTW9iWEZpbGVzKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwgU3RyaW5nIG1vYnhQYXRoLAogICAgU3RyaW5nIGZlYXR1cmVOYW1lKSB7CiAgLy8gQ3JlYXRlIHRoZSBNb2JYIGRpcmVjdG9yeSBpZiBpdCBkb2Vzbid0IGV4aXN0CiAgZmluYWwgbW9ieERpciA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lLyRtb2J4UGF0aCcpOwogIGlmICghbW9ieERpci5leGlzdHNTeW5jKCkpIHsKICAgIG1vYnhEaXIuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogICAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBNb2JYIGRpcmVjdG9yeTogJG1vYnhQYXRoJyk7CiAgfQoKICAvLyBDcmVhdGUgTW9iWCBzdG9yZSBmaWxlCiAgY3JlYXRlRmlsZSgKICAgICAgJyRwcm9qZWN0TmFtZS8kbW9ieFBhdGgvJHtmZWF0dXJlTmFtZX1fc3RvcmUuZGFydCcsCiAgICAgICcnJwovLyAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdG9yZQovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCmltcG9ydCAncGFja2FnZTptb2J4L21vYnguZGFydCc7CgovLyBJbmNsdWRlIGdlbmVyYXRlZCBmaWxlCnBhcnQgJyR7ZmVhdHVyZU5hbWV9X3N0b3JlLmcuZGFydCc7CgovLyBUaGlzIGlzIHRoZSBjbGFzcyB1c2VkIGJ5IHJlc3Qgb2YgdGhlIGNvZGViYXNlCmNsYXNzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0b3JlID0gXyR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0b3JlIHdpdGggX1wkJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RvcmU7CgovLyBUaGUgc3RvcmUgY2xhc3MKYWJzdHJhY3QgY2xhc3MgXyR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0b3JlIHdpdGggU3RvcmUgewogIEBvYnNlcnZhYmxlCiAgYm9vbCBpc0xvYWRpbmcgPSBmYWxzZTsKCiAgQG9ic2VydmFibGUKICBTdHJpbmc/IGVycm9yTWVzc2FnZTsKICAKICBAb2JzZXJ2YWJsZQogIE9ic2VydmFibGVMaXN0PGR5bmFtaWM+IGl0ZW1zID0gT2JzZXJ2YWJsZUxpc3Q8ZHluYW1pYz4oKTsKICAKICBAYWN0aW9uCiAgRnV0dXJlPHZvaWQ+IGZldGNoRGF0YSgpIGFzeW5jIHsKICAgIGlzTG9hZGluZyA9IHRydWU7CiAgICBlcnJvck1lc3NhZ2UgPSBudWxsOwogICAgCiAgICB0cnkgewogICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgQVBJIGNhbGwgb3IgZGF0YSBmZXRjaAogICAgICAvLyBFeGFtcGxlOiBmaW5hbCByZXN1bHQgPSBhd2FpdCBzZXJ2aWNlLmdldEl0ZW1zKCk7CiAgICAgIGl0ZW1zLmNsZWFyKCk7CiAgICAgIC8vIGl0ZW1zLmFkZEFsbChyZXN1bHQpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBlcnJvck1lc3NhZ2UgPSBlLnRvU3RyaW5nKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpc0xvYWRpbmcgPSBmYWxzZTsKICAgIH0KICB9CiAgCiAgQGFjdGlvbgogIEZ1dHVyZTx2b2lkPiBjcmVhdGVJdGVtKGR5bmFtaWMgaXRlbSkgYXN5bmMgewogICAgaXNMb2FkaW5nID0gdHJ1ZTsKICAgIGVycm9yTWVzc2FnZSA9IG51bGw7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBjcmVhdGUgaXRlbQogICAgICAvLyBFeGFtcGxlOiBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUl0ZW0oaXRlbSk7CiAgICAgIC8vIGl0ZW1zLmFkZChpdGVtKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgZXJyb3JNZXNzYWdlID0gZS50b1N0cmluZygpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaXNMb2FkaW5nID0gZmFsc2U7CiAgICB9CiAgfQogIAogIEBhY3Rpb24KICBGdXR1cmU8dm9pZD4gdXBkYXRlSXRlbShTdHJpbmcgaWQsIGR5bmFtaWMgaXRlbSkgYXN5bmMgewogICAgaXNMb2FkaW5nID0gdHJ1ZTsKICAgIGVycm9yTWVzc2FnZSA9IG51bGw7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCB1cGRhdGUgaXRlbQogICAgICAvLyBFeGFtcGxlOiBhd2FpdCBzZXJ2aWNlLnVwZGF0ZUl0ZW0oaWQsIGl0ZW0pOwogICAgICAvLyBVcGRhdGUgaXRlbSBpbiBpdGVtcyBsaXN0CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGVycm9yTWVzc2FnZSA9IGUudG9TdHJpbmcoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlzTG9hZGluZyA9IGZhbHNlOwogICAgfQogIH0KICAKICBAYWN0aW9uCiAgRnV0dXJlPHZvaWQ+IGRlbGV0ZUl0ZW0oU3RyaW5nIGlkKSBhc3luYyB7CiAgICBpc0xvYWRpbmcgPSB0cnVlOwogICAgZXJyb3JNZXNzYWdlID0gbnVsbDsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGRlbGV0ZSBpdGVtCiAgICAgIC8vIEV4YW1wbGU6IGF3YWl0IHNlcnZpY2UuZGVsZXRlSXRlbShpZCk7CiAgICAgIC8vIFJlbW92ZSBpdGVtIGZyb20gaXRlbXMgbGlzdAogICAgfSBjYXRjaCAoZSkgewogICAgICBlcnJvck1lc3NhZ2UgPSBlLnRvU3RyaW5nKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpc0xvYWRpbmcgPSBmYWxzZTsKICAgIH0KICB9Cn0KJycnLAogICAgICBjb250ZXh0KTsKfQoKdm9pZCBjcmVhdGVSZWR1eEZpbGVzKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwgU3RyaW5nIHJlZHV4UGF0aCwKICAgIFN0cmluZyBmZWF0dXJlTmFtZSkgewogIC8vIENyZWF0ZSB0aGUgUmVkdXggZGlyZWN0b3J5IGFuZCBzdWJkaXJlY3RvcmllcyBpZiB0aGV5IGRvbid0IGV4aXN0CiAgZmluYWwgcmVkdXhEaXJzID0gWwogICAgJyRyZWR1eFBhdGgnLAogICAgJyRyZWR1eFBhdGgvYWN0aW9ucycsCiAgICAnJHJlZHV4UGF0aC9yZWR1Y2VycycsCiAgICAnJHJlZHV4UGF0aC9taWRkbGV3YXJlJywKICAgICckcmVkdXhQYXRoL3N0YXRlJywKICBdOwoKICBmb3IgKGZpbmFsIGRpciBpbiByZWR1eERpcnMpIHsKICAgIGZpbmFsIGRpcmVjdG9yeSA9IERpcmVjdG9yeSgnJHByb2plY3ROYW1lLyRkaXInKTsKICAgIGlmICghZGlyZWN0b3J5LmV4aXN0c1N5bmMoKSkgewogICAgICBkaXJlY3RvcnkuY3JlYXRlU3luYyhyZWN1cnNpdmU6IHRydWUpOwogICAgICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIFJlZHV4IGRpcmVjdG9yeTogJGRpcicpOwogICAgfQogIH0KCiAgLy8gQ3JlYXRlIFJlZHV4IGFjdGlvbiBmaWxlCiAgY3JlYXRlRmlsZSgKICAgICAgJyRwcm9qZWN0TmFtZS8kcmVkdXhQYXRoL2FjdGlvbnMvJHtmZWF0dXJlTmFtZX1fYWN0aW9ucy5kYXJ0JywKICAgICAgJycnCi8vICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUFjdGlvbnMKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RmV0Y2hBY3Rpb24gewogIGNvbnN0ICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoQWN0aW9uKCk7Cn0KCmNsYXNzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoU3VjY2Vzc0FjdGlvbiB7CiAgZmluYWwgTGlzdDxkeW5hbWljPiBpdGVtczsKICBjb25zdCAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1GZXRjaFN1Y2Nlc3NBY3Rpb24odGhpcy5pdGVtcyk7Cn0KCmNsYXNzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoRmFpbHVyZUFjdGlvbiB7CiAgZmluYWwgU3RyaW5nIGVycm9yOwogIGNvbnN0ICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoRmFpbHVyZUFjdGlvbih0aGlzLmVycm9yKTsKfQoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9Q3JlYXRlQWN0aW9uIHsKICBmaW5hbCBkeW5hbWljIGl0ZW07CiAgY29uc3QgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9Q3JlYXRlQWN0aW9uKHRoaXMuaXRlbSk7Cn0KCmNsYXNzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVVwZGF0ZUFjdGlvbiB7CiAgZmluYWwgU3RyaW5nIGlkOwogIGZpbmFsIGR5bmFtaWMgaXRlbTsKICBjb25zdCAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1VcGRhdGVBY3Rpb24odGhpcy5pZCwgdGhpcy5pdGVtKTsKfQoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RGVsZXRlQWN0aW9uIHsKICBmaW5hbCBTdHJpbmcgaWQ7CiAgY29uc3QgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RGVsZXRlQWN0aW9uKHRoaXMuaWQpOwp9CicnJywKICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBSZWR1eCBzdGF0ZSBmaWxlCiAgY3JlYXRlRmlsZSgKICAgICAgJyRwcm9qZWN0TmFtZS8kcmVkdXhQYXRoL3N0YXRlLyR7ZmVhdHVyZU5hbWV9X3N0YXRlLmRhcnQnLAogICAgICAnJycKLy8gJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGUKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAoKY2xhc3MgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGUgewogIGZpbmFsIGJvb2wgaXNMb2FkaW5nOwogIGZpbmFsIFN0cmluZz8gZXJyb3JNZXNzYWdlOwogIGZpbmFsIExpc3Q8ZHluYW1pYz4gaXRlbXM7CiAgCiAgY29uc3QgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGUoewogICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZSwKICAgIHRoaXMuZXJyb3JNZXNzYWdlLAogICAgdGhpcy5pdGVtcyA9IGNvbnN0IFtdLAogIH0pOwogIAogICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlIGNvcHlXaXRoKHsKICAgIGJvb2w/IGlzTG9hZGluZywKICAgIFN0cmluZz8gZXJyb3JNZXNzYWdlLAogICAgTGlzdDxkeW5hbWljPj8gaXRlbXMsCiAgfSkgewogICAgcmV0dXJuICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlKAogICAgICBpc0xvYWRpbmc6IGlzTG9hZGluZyA/PyB0aGlzLmlzTG9hZGluZywKICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvck1lc3NhZ2UgPz8gdGhpcy5lcnJvck1lc3NhZ2UsCiAgICAgIGl0ZW1zOiBpdGVtcyA/PyB0aGlzLml0ZW1zLAogICAgKTsKICB9CiAgCiAgZmFjdG9yeSAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGF0ZS5pbml0aWFsKCkgewogICAgcmV0dXJuIGNvbnN0ICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlKCk7CiAgfQp9CicnJywKICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBSZWR1eCByZWR1Y2VyIGZpbGUKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lLyRyZWR1eFBhdGgvcmVkdWNlcnMvJHtmZWF0dXJlTmFtZX1fcmVkdWNlci5kYXJ0JywKICAgICAgJycnCi8vICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVJlZHVjZXIKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJy4uL2FjdGlvbnMvJHtmZWF0dXJlTmFtZX1fYWN0aW9ucy5kYXJ0JzsKaW1wb3J0ICcuLi9zdGF0ZS8ke2ZlYXR1cmVOYW1lfV9zdGF0ZS5kYXJ0JzsKCiR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlICR7ZmVhdHVyZU5hbWV9UmVkdWNlcigke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGF0ZSBzdGF0ZSwgZHluYW1pYyBhY3Rpb24pIHsKICBpZiAoYWN0aW9uIGlzICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoQWN0aW9uKSB7CiAgICByZXR1cm4gc3RhdGUuY29weVdpdGgoCiAgICAgIGlzTG9hZGluZzogdHJ1ZSwKICAgICAgZXJyb3JNZXNzYWdlOiBudWxsLAogICAgKTsKICB9IGVsc2UgaWYgKGFjdGlvbiBpcyAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1GZXRjaFN1Y2Nlc3NBY3Rpb24pIHsKICAgIHJldHVybiBzdGF0ZS5jb3B5V2l0aCgKICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgaXRlbXM6IGFjdGlvbi5pdGVtcywKICAgICk7CiAgfSBlbHNlIGlmIChhY3Rpb24gaXMgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RmV0Y2hGYWlsdXJlQWN0aW9uKSB7CiAgICByZXR1cm4gc3RhdGUuY29weVdpdGgoCiAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgIGVycm9yTWVzc2FnZTogYWN0aW9uLmVycm9yLAogICAgKTsKICB9CiAgCiAgcmV0dXJuIHN0YXRlOwp9CicnJywKICAgICAgY29udGV4dCk7CgogIC8vIENyZWF0ZSBSZWR1eCBtaWRkbGV3YXJlIGZpbGUKICBjcmVhdGVGaWxlKAogICAgICAnJHByb2plY3ROYW1lLyRyZWR1eFBhdGgvbWlkZGxld2FyZS8ke2ZlYXR1cmVOYW1lfV9taWRkbGV3YXJlLmRhcnQnLAogICAgICAnJycKLy8gJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9TWlkZGxld2FyZQovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCmltcG9ydCAncGFja2FnZTpyZWR1eC9yZWR1eC5kYXJ0JzsKaW1wb3J0ICcuLi9hY3Rpb25zLyR7ZmVhdHVyZU5hbWV9X2FjdGlvbnMuZGFydCc7CmltcG9ydCAnLi4vc3RhdGUvJHtmZWF0dXJlTmFtZX1fc3RhdGUuZGFydCc7CgpMaXN0PE1pZGRsZXdhcmU8JHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGU+PiBjcmVhdGUke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1NaWRkbGV3YXJlKCkgewogIHJldHVybiBbCiAgICBUeXBlZE1pZGRsZXdhcmU8JHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGUsICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoQWN0aW9uPihfb25GZXRjaCksCiAgICBUeXBlZE1pZGRsZXdhcmU8JHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGUsICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUNyZWF0ZUFjdGlvbj4oX29uQ3JlYXRlKSwKICAgIFR5cGVkTWlkZGxld2FyZTwke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGF0ZSwgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9VXBkYXRlQWN0aW9uPihfb25VcGRhdGUpLAogICAgVHlwZWRNaWRkbGV3YXJlPCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlLCAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1EZWxldGVBY3Rpb24+KF9vbkRlbGV0ZSksCiAgXTsKfQoKdm9pZCBfb25GZXRjaChTdG9yZTwke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1TdGF0ZT4gc3RvcmUsICR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoQWN0aW9uIGFjdGlvbiwgTmV4dERpc3BhdGNoZXIgbmV4dCkgYXN5bmMgewogIG5leHQoYWN0aW9uKTsKICAKICB0cnkgewogICAgLy8gVE9ETzogSW1wbGVtZW50IEFQSSBjYWxsIG9yIGRhdGEgZmV0Y2gKICAgIC8vIEV4YW1wbGU6IGZpbmFsIGl0ZW1zID0gYXdhaXQgc2VydmljZS5nZXRJdGVtcygpOwogICAgZmluYWwgaXRlbXMgPSBbXTsKICAgIHN0b3JlLmRpc3BhdGNoKCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoU3VjY2Vzc0FjdGlvbihpdGVtcykpOwogIH0gY2F0Y2ggKGUpIHsKICAgIHN0b3JlLmRpc3BhdGNoKCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoRmFpbHVyZUFjdGlvbihlLnRvU3RyaW5nKCkpKTsKICB9Cn0KCnZvaWQgX29uQ3JlYXRlKFN0b3JlPCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlPiBzdG9yZSwgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9Q3JlYXRlQWN0aW9uIGFjdGlvbiwgTmV4dERpc3BhdGNoZXIgbmV4dCkgYXN5bmMgewogIG5leHQoYWN0aW9uKTsKICAKICB0cnkgewogICAgLy8gVE9ETzogSW1wbGVtZW50IGNyZWF0ZSBpdGVtCiAgICAvLyBFeGFtcGxlOiBhd2FpdCBzZXJ2aWNlLmNyZWF0ZUl0ZW0oYWN0aW9uLml0ZW0pOwogICAgc3RvcmUuZGlzcGF0Y2goJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RmV0Y2hBY3Rpb24oKSk7CiAgfSBjYXRjaCAoZSkgewogICAgc3RvcmUuZGlzcGF0Y2goJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RmV0Y2hGYWlsdXJlQWN0aW9uKGUudG9TdHJpbmcoKSkpOwogIH0KfQoKdm9pZCBfb25VcGRhdGUoU3RvcmU8JHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9U3RhdGU+IHN0b3JlLCAke3RvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKX1VcGRhdGVBY3Rpb24gYWN0aW9uLCBOZXh0RGlzcGF0Y2hlciBuZXh0KSBhc3luYyB7CiAgbmV4dChhY3Rpb24pOwogIAogIHRyeSB7CiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgdXBkYXRlIGl0ZW0KICAgIC8vIEV4YW1wbGU6IGF3YWl0IHNlcnZpY2UudXBkYXRlSXRlbShhY3Rpb24uaWQsIGFjdGlvbi5pdGVtKTsKICAgIHN0b3JlLmRpc3BhdGNoKCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoQWN0aW9uKCkpOwogIH0gY2F0Y2ggKGUpIHsKICAgIHN0b3JlLmRpc3BhdGNoKCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoRmFpbHVyZUFjdGlvbihlLnRvU3RyaW5nKCkpKTsKICB9Cn0KCnZvaWQgX29uRGVsZXRlKFN0b3JlPCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfVN0YXRlPiBzdG9yZSwgJHt0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSl9RGVsZXRlQWN0aW9uIGFjdGlvbiwgTmV4dERpc3BhdGNoZXIgbmV4dCkgYXN5bmMgewogIG5leHQoYWN0aW9uKTsKICAKICB0cnkgewogICAgLy8gVE9ETzogSW1wbGVtZW50IGRlbGV0ZSBpdGVtCiAgICAvLyBFeGFtcGxlOiBhd2FpdCBzZXJ2aWNlLmRlbGV0ZUl0ZW0oYWN0aW9uLmlkKTsKICAgIHN0b3JlLmRpc3BhdGNoKCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoQWN0aW9uKCkpOwogIH0gY2F0Y2ggKGUpIHsKICAgIHN0b3JlLmRpc3BhdGNoKCR7dG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpfUZldGNoRmFpbHVyZUFjdGlvbihlLnRvU3RyaW5nKCkpKTsKICB9Cn0KJycnLAogICAgICBjb250ZXh0KTsKfQoKLy8gVGVtcGxhdGUgZ2VuZXJhdG9yIGhlbHBlciBmdW5jdGlvbnMKU3RyaW5nIGdlbmVyYXRlUHJvdmlkZXJWaWV3TW9kZWwoU3RyaW5nIGZlYXR1cmVOYW1lKSB7CiAgZmluYWwgY2xhc3NOYW1lID0gdG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpOwogIHJldHVybiAnJycKLy8gJHtjbGFzc05hbWV9Vmlld01vZGVsIHdpdGggUHJvdmlkZXIKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9mb3VuZGF0aW9uLmRhcnQnOwoKCmNsYXNzICR7Y2xhc3NOYW1lfVZpZXdNb2RlbCBleHRlbmRzIENoYW5nZU5vdGlmaWVyIHsKICAKICAKICBib29sIF9pc0xvYWRpbmcgPSBmYWxzZTsKICBTdHJpbmc/IF9lcnJvck1lc3NhZ2U7CiAgTGlzdDxkeW5hbWljPiBfaXRlbXMgPSBbXTsKICAKICBib29sIGdldCBpc0xvYWRpbmcgPT4gX2lzTG9hZGluZzsKICBTdHJpbmc/IGdldCBlcnJvck1lc3NhZ2UgPT4gX2Vycm9yTWVzc2FnZTsKICBMaXN0PGR5bmFtaWM+IGdldCBpdGVtcyA9PiBfaXRlbXM7CiAgCiAgRnV0dXJlPHZvaWQ+IGZldGNoRGF0YSgpIGFzeW5jIHsKICAgIF9pc0xvYWRpbmcgPSB0cnVlOwogICAgX2Vycm9yTWVzc2FnZSA9IG51bGw7CiAgICBub3RpZnlMaXN0ZW5lcnMoKTsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGRhdGEgZmV0Y2hpbmcKICAgICAgLy8gRXhhbXBsZTogX2l0ZW1zID0gYXdhaXQgX3NlcnZpY2UuZ2V0SXRlbXMoKTsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgX2Vycm9yTWVzc2FnZSA9IGUudG9TdHJpbmcoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIF9pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgbm90aWZ5TGlzdGVuZXJzKCk7CiAgICB9CiAgfQp9CicnJzsKfQoKU3RyaW5nIGdlbmVyYXRlUml2ZXJwb2RWaWV3TW9kZWwoU3RyaW5nIGZlYXR1cmVOYW1lKSB7CiAgZmluYWwgY2xhc3NOYW1lID0gdG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpOwogIHJldHVybiAnJycKLy8gJHtjbGFzc05hbWV9Vmlld01vZGVsIHdpdGggUml2ZXJwb2QKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9yaXZlcnBvZC9mbHV0dGVyX3JpdmVycG9kLmRhcnQnOwoKCi8vIFN0YXRlIGNsYXNzCmNsYXNzICR7Y2xhc3NOYW1lfVN0YXRlIHsKICBmaW5hbCBib29sIGlzTG9hZGluZzsKICBmaW5hbCBTdHJpbmc/IGVycm9yTWVzc2FnZTsKICBmaW5hbCBMaXN0PGR5bmFtaWM+IGl0ZW1zOwogIAogIGNvbnN0ICR7Y2xhc3NOYW1lfVN0YXRlKHsKICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2UsCiAgICB0aGlzLmVycm9yTWVzc2FnZSwKICAgIHRoaXMuaXRlbXMgPSBjb25zdCBbXSwKICB9KTsKICAKICAke2NsYXNzTmFtZX1TdGF0ZSBjb3B5V2l0aCh7CiAgICBib29sPyBpc0xvYWRpbmcsCiAgICBTdHJpbmc/IGVycm9yTWVzc2FnZSwKICAgIExpc3Q8ZHluYW1pYz4/IGl0ZW1zLAogIH0pIHsKICAgIHJldHVybiAke2NsYXNzTmFtZX1TdGF0ZSgKICAgICAgaXNMb2FkaW5nOiBpc0xvYWRpbmcgPz8gdGhpcy5pc0xvYWRpbmcsCiAgICAgIGVycm9yTWVzc2FnZTogZXJyb3JNZXNzYWdlID8/IHRoaXMuZXJyb3JNZXNzYWdlLAogICAgICBpdGVtczogaXRlbXMgPz8gdGhpcy5pdGVtcywKICAgICk7CiAgfQp9CgovLyBQcm92aWRlcgpmaW5hbCAke2ZlYXR1cmVOYW1lfVByb3ZpZGVyID0gU3RhdGVOb3RpZmllclByb3ZpZGVyPCR7Y2xhc3NOYW1lfVZpZXdNb2RlbCwgJHtjbGFzc05hbWV9U3RhdGU+KChyZWYpIHsKICByZXR1cm4gJHtjbGFzc05hbWV9Vmlld01vZGVsKCk7Cn0pOwoKLy8gVmlld01vZGVsCmNsYXNzICR7Y2xhc3NOYW1lfVZpZXdNb2RlbCBleHRlbmRzIFN0YXRlTm90aWZpZXI8JHtjbGFzc05hbWV9U3RhdGU+IHsKICAKICAKICAke2NsYXNzTmFtZX1WaWV3TW9kZWwoKSA6IHN1cGVyKGNvbnN0ICR7Y2xhc3NOYW1lfVN0YXRlKCkpIHsKICAgIGZldGNoRGF0YSgpOwogIH0KICAKICBGdXR1cmU8dm9pZD4gZmV0Y2hEYXRhKCkgYXN5bmMgewogICAgc3RhdGUgPSBzdGF0ZS5jb3B5V2l0aChpc0xvYWRpbmc6IHRydWUsIGVycm9yTWVzc2FnZTogbnVsbCk7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBkYXRhIGZldGNoaW5nCiAgICAgIC8vIEV4YW1wbGU6IGZpbmFsIGl0ZW1zID0gYXdhaXQgX3NlcnZpY2UuZ2V0SXRlbXMoKTsKICAgICAgLy8gc3RhdGUgPSBzdGF0ZS5jb3B5V2l0aChpdGVtczogaXRlbXMsIGlzTG9hZGluZzogZmFsc2UpOwogICAgICBzdGF0ZSA9IHN0YXRlLmNvcHlXaXRoKGlzTG9hZGluZzogZmFsc2UpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBzdGF0ZSA9IHN0YXRlLmNvcHlXaXRoKAogICAgICAgIGlzTG9hZGluZzogZmFsc2UsCiAgICAgICAgZXJyb3JNZXNzYWdlOiBlLnRvU3RyaW5nKCksCiAgICAgICk7CiAgICB9CiAgfQp9CicnJzsKfQoKU3RyaW5nIGdlbmVyYXRlR2V0WFZpZXdNb2RlbChTdHJpbmcgZmVhdHVyZU5hbWUpIHsKICBmaW5hbCBjbGFzc05hbWUgPSB0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSk7CiAgcmV0dXJuICcnJwovLyAke2NsYXNzTmFtZX1WaWV3TW9kZWwgd2l0aCBHZXRYCi8vIEdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKaW1wb3J0ICdwYWNrYWdlOmdldC9nZXQuZGFydCc7CgoKY2xhc3MgJHtjbGFzc05hbWV9Vmlld01vZGVsIGV4dGVuZHMgR2V0eENvbnRyb2xsZXIgewogIAogIAogIGZpbmFsIFJ4Qm9vbCBpc0xvYWRpbmcgPSBmYWxzZS5vYnM7CiAgZmluYWwgUng8U3RyaW5nPz4gZXJyb3JNZXNzYWdlID0gUng8U3RyaW5nPz4obnVsbCk7CiAgZmluYWwgUnhMaXN0PGR5bmFtaWM+IGl0ZW1zID0gPGR5bmFtaWM+W10ub2JzOwogIAogIEBvdmVycmlkZQogIHZvaWQgb25Jbml0KCkgewogICAgc3VwZXIub25Jbml0KCk7CiAgICBmZXRjaERhdGEoKTsKICB9CiAgCiAgRnV0dXJlPHZvaWQ+IGZldGNoRGF0YSgpIGFzeW5jIHsKICAgIGlzTG9hZGluZy52YWx1ZSA9IHRydWU7CiAgICBlcnJvck1lc3NhZ2UudmFsdWUgPSBudWxsOwogICAgCiAgICB0cnkgewogICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgZGF0YSBmZXRjaGluZwogICAgICAvLyBFeGFtcGxlOiBmaW5hbCByZXN1bHQgPSBhd2FpdCBfc2VydmljZS5nZXRJdGVtcygpOwogICAgICAvLyBpdGVtcy52YWx1ZSA9IHJlc3VsdDsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgZXJyb3JNZXNzYWdlLnZhbHVlID0gZS50b1N0cmluZygpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaXNMb2FkaW5nLnZhbHVlID0gZmFsc2U7CiAgICB9CiAgfQp9CicnJzsKfQoKU3RyaW5nIGdlbmVyYXRlTW9iWFZpZXdNb2RlbChTdHJpbmcgZmVhdHVyZU5hbWUpIHsKICBmaW5hbCBjbGFzc05hbWUgPSB0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSk7CiAgcmV0dXJuICcnJwovLyAke2NsYXNzTmFtZX1WaWV3TW9kZWwgd2l0aCBNb2JYCi8vIEdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKaW1wb3J0ICdwYWNrYWdlOm1vYngvbW9ieC5kYXJ0JzsKCgovLyBJbmNsdWRlIGdlbmVyYXRlZCBmaWxlCnBhcnQgJyR7ZmVhdHVyZU5hbWV9X3ZpZXdtb2RlbC5nLmRhcnQnOwoKLy8gVGhpcyBpcyB0aGUgY2xhc3MgdXNlZCBieSByZXN0IG9mIHRoZSBjb2RlYmFzZQpjbGFzcyAke2NsYXNzTmFtZX1WaWV3TW9kZWwgPSBfJHtjbGFzc05hbWV9Vmlld01vZGVsIHdpdGggX1wkJHtjbGFzc05hbWV9Vmlld01vZGVsOwoKLy8gVGhlIHN0b3JlIGNsYXNzCmFic3RyYWN0IGNsYXNzIF8ke2NsYXNzTmFtZX1WaWV3TW9kZWwgd2l0aCBTdG9yZSB7CiAgCiAgCiAgQG9ic2VydmFibGUKICBib29sIGlzTG9hZGluZyA9IGZhbHNlOwoKICBAb2JzZXJ2YWJsZQogIFN0cmluZz8gZXJyb3JNZXNzYWdlOwogIAogIEBvYnNlcnZhYmxlCiAgT2JzZXJ2YWJsZUxpc3Q8ZHluYW1pYz4gaXRlbXMgPSBPYnNlcnZhYmxlTGlzdDxkeW5hbWljPigpOwogIAogIF8ke2NsYXNzTmFtZX1WaWV3TW9kZWwoKSB7CiAgICBmZXRjaERhdGEoKTsKICB9CiAgCiAgQGFjdGlvbgogIEZ1dHVyZTx2b2lkPiBmZXRjaERhdGEoKSBhc3luYyB7CiAgICBpc0xvYWRpbmcgPSB0cnVlOwogICAgZXJyb3JNZXNzYWdlID0gbnVsbDsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGRhdGEgZmV0Y2hpbmcKICAgICAgLy8gRXhhbXBsZTogZmluYWwgcmVzdWx0ID0gYXdhaXQgX3NlcnZpY2UuZ2V0SXRlbXMoKTsKICAgICAgLy8gaXRlbXMuY2xlYXIoKTsKICAgICAgLy8gaXRlbXMuYWRkQWxsKHJlc3VsdCk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGVycm9yTWVzc2FnZSA9IGUudG9TdHJpbmcoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlzTG9hZGluZyA9IGZhbHNlOwogICAgfQogIH0KfQonJyc7Cn0KCi8vIENvbnRpbnVpbmcgZnJvbSBwcmV2aW91cyBmaWxlLi4uCgpTdHJpbmcgZ2VuZXJhdGVCYXNpY1ZpZXdNb2RlbChTdHJpbmcgZmVhdHVyZU5hbWUpIHsKICBmaW5hbCBjbGFzc05hbWUgPSB0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSk7CiAgcmV0dXJuICcnJwovLyAke2NsYXNzTmFtZX1WaWV3TW9kZWwgYmFzaWMgaW1wbGVtZW50YXRpb24KLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAoKCmNsYXNzICR7Y2xhc3NOYW1lfVZpZXdNb2RlbCB7CiAgCiAgCiAgYm9vbCBpc0xvYWRpbmcgPSBmYWxzZTsKICBTdHJpbmc/IGVycm9yTWVzc2FnZTsKICBMaXN0PGR5bmFtaWM+IGl0ZW1zID0gW107CiAgCiAgRnV0dXJlPHZvaWQ+IGZldGNoRGF0YSgpIGFzeW5jIHsKICAgIGlzTG9hZGluZyA9IHRydWU7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBkYXRhIGZldGNoaW5nCiAgICAgIC8vIEV4YW1wbGU6IGl0ZW1zID0gYXdhaXQgX3NlcnZpY2UuZ2V0SXRlbXMoKTsKICAgICAgZXJyb3JNZXNzYWdlID0gbnVsbDsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgZXJyb3JNZXNzYWdlID0gZS50b1N0cmluZygpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaXNMb2FkaW5nID0gZmFsc2U7CiAgICB9CiAgfQp9CicnJzsKfQoKLy8gSGVscGVyIG1ldGhvZHMgZm9yIGdlbmVyYXRpbmcgZmVhdHVyZS1zcGVjaWZpYyBmaWxlcyBmb3IgZGlmZmVyZW50IGFyY2hpdGVjdHVyZXMKCi8vIEF1dGhlbnRpY2F0aW9uIGZlYXR1cmUgc3BlY2lmaWMgZmlsZXMKCi8vIEdlbmVyYXRlIGF1dGhlbnRpY2F0aW9uIGVudGl0eSBmb3IgQ2xlYW4gQXJjaGl0ZWN0dXJlClN0cmluZyBnZW5lcmF0ZUF1dGhlbnRpY2F0aW9uRW50aXR5KCkgewogIHJldHVybiAnJycKLy8gVXNlciBFbnRpdHkKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAoKZW51bSBBdXRoU3RhdHVzIHsKICB1bmtub3duLAogIGF1dGhlbnRpY2F0ZWQsCiAgdW5hdXRoZW50aWNhdGVkLAogIHVudmVyaWZpZWQsCn0KCmNsYXNzIFVzZXIgewogIGZpbmFsIFN0cmluZyBpZDsKICBmaW5hbCBTdHJpbmcgZW1haWw7CiAgZmluYWwgU3RyaW5nPyBkaXNwbGF5TmFtZTsKICBmaW5hbCBTdHJpbmc/IHBob3RvVXJsOwogIGZpbmFsIEF1dGhTdGF0dXMgc3RhdHVzOwogIAogIFVzZXIoewogICAgcmVxdWlyZWQgdGhpcy5pZCwKICAgIHJlcXVpcmVkIHRoaXMuZW1haWwsCiAgICB0aGlzLmRpc3BsYXlOYW1lLAogICAgdGhpcy5waG90b1VybCwKICAgIHRoaXMuc3RhdHVzID0gQXV0aFN0YXR1cy51bmtub3duLAogIH0pOwogIAogIFVzZXIgY29weVdpdGgoewogICAgU3RyaW5nPyBpZCwKICAgIFN0cmluZz8gZW1haWwsCiAgICBTdHJpbmc/IGRpc3BsYXlOYW1lLAogICAgU3RyaW5nPyBwaG90b1VybCwKICAgIEF1dGhTdGF0dXM/IHN0YXR1cywKICB9KSB7CiAgICByZXR1cm4gVXNlcigKICAgICAgaWQ6IGlkID8/IHRoaXMuaWQsCiAgICAgIGVtYWlsOiBlbWFpbCA/PyB0aGlzLmVtYWlsLAogICAgICBkaXNwbGF5TmFtZTogZGlzcGxheU5hbWUgPz8gdGhpcy5kaXNwbGF5TmFtZSwKICAgICAgcGhvdG9Vcmw6IHBob3RvVXJsID8/IHRoaXMucGhvdG9VcmwsCiAgICAgIHN0YXR1czogc3RhdHVzID8/IHRoaXMuc3RhdHVzLAogICAgKTsKICB9Cn0KJycnOwp9CgovLyBHZW5lcmF0ZSBhdXRoZW50aWNhdGlvbiByZXBvc2l0b3J5IGZvciBDbGVhbiBBcmNoaXRlY3R1cmUKU3RyaW5nIGdlbmVyYXRlQXV0aGVudGljYXRpb25SZXBvc2l0b3J5KCkgewogIHJldHVybiAnJycKLy8gQXV0aGVudGljYXRpb24gUmVwb3NpdG9yeSBJbnRlcmZhY2UKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJy4uL2VudGl0aWVzL3VzZXIuZGFydCc7CgphYnN0cmFjdCBjbGFzcyBBdXRoUmVwb3NpdG9yeSB7CiAgRnV0dXJlPFVzZXI+IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKFN0cmluZyBlbWFpbCwgU3RyaW5nIHBhc3N3b3JkKTsKICBGdXR1cmU8VXNlcj4gc2lnblVwV2l0aEVtYWlsQW5kUGFzc3dvcmQoU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpOwogIEZ1dHVyZTx2b2lkPiBzaWduT3V0KCk7CiAgRnV0dXJlPFVzZXI/PiBnZXRDdXJyZW50VXNlcigpOwogIEZ1dHVyZTxib29sPiBpc1NpZ25lZEluKCk7CiAgRnV0dXJlPHZvaWQ+IHNlbmRQYXNzd29yZFJlc2V0RW1haWwoU3RyaW5nIGVtYWlsKTsKfQonJyc7Cn0KCi8vIEdlbmVyYXRlIGF1dGhlbnRpY2F0aW9uIHVzZSBjYXNlcyBmb3IgQ2xlYW4gQXJjaGl0ZWN0dXJlClN0cmluZyBnZW5lcmF0ZUF1dGhlbnRpY2F0aW9uVXNlQ2FzZXMoKSB7CiAgcmV0dXJuICcnJwovLyBBdXRoZW50aWNhdGlvbiBVc2UgQ2FzZXMKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJy4uL2VudGl0aWVzL3VzZXIuZGFydCc7CmltcG9ydCAnLi4vcmVwb3NpdG9yaWVzL2F1dGhfcmVwb3NpdG9yeS5kYXJ0JzsKCmNsYXNzIFNpZ25JblVzZUNhc2UgewogIGZpbmFsIEF1dGhSZXBvc2l0b3J5IHJlcG9zaXRvcnk7CiAgCiAgU2lnbkluVXNlQ2FzZSh0aGlzLnJlcG9zaXRvcnkpOwogIAogIEZ1dHVyZTxVc2VyPiBleGVjdXRlKFN0cmluZyBlbWFpbCwgU3RyaW5nIHBhc3N3b3JkKSB7CiAgICByZXR1cm4gcmVwb3NpdG9yeS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpOwogIH0KfQoKY2xhc3MgU2lnblVwVXNlQ2FzZSB7CiAgZmluYWwgQXV0aFJlcG9zaXRvcnkgcmVwb3NpdG9yeTsKICAKICBTaWduVXBVc2VDYXNlKHRoaXMucmVwb3NpdG9yeSk7CiAgCiAgRnV0dXJlPFVzZXI+IGV4ZWN1dGUoU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIHsKICAgIHJldHVybiByZXBvc2l0b3J5LnNpZ25VcFdpdGhFbWFpbEFuZFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCk7CiAgfQp9CgpjbGFzcyBTaWduT3V0VXNlQ2FzZSB7CiAgZmluYWwgQXV0aFJlcG9zaXRvcnkgcmVwb3NpdG9yeTsKICAKICBTaWduT3V0VXNlQ2FzZSh0aGlzLnJlcG9zaXRvcnkpOwogIAogIEZ1dHVyZTx2b2lkPiBleGVjdXRlKCkgewogICAgcmV0dXJuIHJlcG9zaXRvcnkuc2lnbk91dCgpOwogIH0KfQoKY2xhc3MgR2V0Q3VycmVudFVzZXJVc2VDYXNlIHsKICBmaW5hbCBBdXRoUmVwb3NpdG9yeSByZXBvc2l0b3J5OwogIAogIEdldEN1cnJlbnRVc2VyVXNlQ2FzZSh0aGlzLnJlcG9zaXRvcnkpOwogIAogIEZ1dHVyZTxVc2VyPz4gZXhlY3V0ZSgpIHsKICAgIHJldHVybiByZXBvc2l0b3J5LmdldEN1cnJlbnRVc2VyKCk7CiAgfQp9CgpjbGFzcyBJc1NpZ25lZEluVXNlQ2FzZSB7CiAgZmluYWwgQXV0aFJlcG9zaXRvcnkgcmVwb3NpdG9yeTsKICAKICBJc1NpZ25lZEluVXNlQ2FzZSh0aGlzLnJlcG9zaXRvcnkpOwogIAogIEZ1dHVyZTxib29sPiBleGVjdXRlKCkgewogICAgcmV0dXJuIHJlcG9zaXRvcnkuaXNTaWduZWRJbigpOwogIH0KfQoKY2xhc3MgU2VuZFBhc3N3b3JkUmVzZXRFbWFpbFVzZUNhc2UgewogIGZpbmFsIEF1dGhSZXBvc2l0b3J5IHJlcG9zaXRvcnk7CiAgCiAgU2VuZFBhc3N3b3JkUmVzZXRFbWFpbFVzZUNhc2UodGhpcy5yZXBvc2l0b3J5KTsKICAKICBGdXR1cmU8dm9pZD4gZXhlY3V0ZShTdHJpbmcgZW1haWwpIHsKICAgIHJldHVybiByZXBvc2l0b3J5LnNlbmRQYXNzd29yZFJlc2V0RW1haWwoZW1haWwpOwogIH0KfQonJyc7Cn0KCi8vIEdlbmVyYXRlIGF1dGhlbnRpY2F0aW9uIG1vZGVsIGZvciBDbGVhbiBBcmNoaXRlY3R1cmUKU3RyaW5nIGdlbmVyYXRlQXV0aGVudGljYXRpb25Nb2RlbCgpIHsKICByZXR1cm4gJycnCi8vIFVzZXIgTW9kZWwKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJy4uLy4uL2RvbWFpbi9lbnRpdGllcy91c2VyLmRhcnQnOwoKY2xhc3MgVXNlck1vZGVsIGV4dGVuZHMgVXNlciB7CiAgVXNlck1vZGVsKHsKICAgIHJlcXVpcmVkIFN0cmluZyBpZCwKICAgIHJlcXVpcmVkIFN0cmluZyBlbWFpbCwKICAgIFN0cmluZz8gZGlzcGxheU5hbWUsCiAgICBTdHJpbmc/IHBob3RvVXJsLAogICAgQXV0aFN0YXR1cyBzdGF0dXMgPSBBdXRoU3RhdHVzLnVua25vd24sCiAgfSkgOiBzdXBlcigKICAgIGlkOiBpZCwKICAgIGVtYWlsOiBlbWFpbCwKICAgIGRpc3BsYXlOYW1lOiBkaXNwbGF5TmFtZSwKICAgIHBob3RvVXJsOiBwaG90b1VybCwKICAgIHN0YXR1czogc3RhdHVzLAogICk7CiAgCiAgZmFjdG9yeSBVc2VyTW9kZWwuZnJvbUpzb24oTWFwPFN0cmluZywgZHluYW1pYz4ganNvbikgewogICAgcmV0dXJuIFVzZXJNb2RlbCgKICAgICAgaWQ6IGpzb25bJ2lkJ10sCiAgICAgIGVtYWlsOiBqc29uWydlbWFpbCddLAogICAgICBkaXNwbGF5TmFtZToganNvblsnZGlzcGxheU5hbWUnXSwKICAgICAgcGhvdG9Vcmw6IGpzb25bJ3Bob3RvVXJsJ10sCiAgICAgIHN0YXR1czogQXV0aFN0YXR1cy52YWx1ZXNbanNvblsnc3RhdHVzJ10gPz8gMF0sCiAgICApOwogIH0KICAKICBNYXA8U3RyaW5nLCBkeW5hbWljPiB0b0pzb24oKSB7CiAgICByZXR1cm4gewogICAgICAnaWQnOiBpZCwKICAgICAgJ2VtYWlsJzogZW1haWwsCiAgICAgICdkaXNwbGF5TmFtZSc6IGRpc3BsYXlOYW1lLAogICAgICAncGhvdG9VcmwnOiBwaG90b1VybCwKICAgICAgJ3N0YXR1cyc6IHN0YXR1cy5pbmRleCwKICAgIH07CiAgfQogIAogIGZhY3RvcnkgVXNlck1vZGVsLmZyb21FbnRpdHkoVXNlciB1c2VyKSB7CiAgICByZXR1cm4gVXNlck1vZGVsKAogICAgICBpZDogdXNlci5pZCwKICAgICAgZW1haWw6IHVzZXIuZW1haWwsCiAgICAgIGRpc3BsYXlOYW1lOiB1c2VyLmRpc3BsYXlOYW1lLAogICAgICBwaG90b1VybDogdXNlci5waG90b1VybCwKICAgICAgc3RhdHVzOiB1c2VyLnN0YXR1cywKICAgICk7CiAgfQp9CicnJzsKfQoKLy8gR2VuZXJhdGUgYXV0aGVudGljYXRpb24gZGF0YSBzb3VyY2UgZm9yIENsZWFuIEFyY2hpdGVjdHVyZQpTdHJpbmcgZ2VuZXJhdGVBdXRoZW50aWNhdGlvbkRhdGFTb3VyY2UoKSB7CiAgcmV0dXJuICcnJwovLyBBdXRoZW50aWNhdGlvbiBEYXRhIFNvdXJjZXMKLy8gR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJy4uL21vZGVscy91c2VyX21vZGVsLmRhcnQnOwoKYWJzdHJhY3QgY2xhc3MgQXV0aFJlbW90ZURhdGFTb3VyY2UgewogIEZ1dHVyZTxVc2VyTW9kZWw+IHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKFN0cmluZyBlbWFpbCwgU3RyaW5nIHBhc3N3b3JkKTsKICBGdXR1cmU8VXNlck1vZGVsPiBzaWduVXBXaXRoRW1haWxBbmRQYXNzd29yZChTdHJpbmcgZW1haWwsIFN0cmluZyBwYXNzd29yZCk7CiAgRnV0dXJlPHZvaWQ+IHNpZ25PdXQoKTsKICBGdXR1cmU8VXNlck1vZGVsPz4gZ2V0Q3VycmVudFVzZXIoKTsKICBGdXR1cmU8Ym9vbD4gaXNTaWduZWRJbigpOwogIEZ1dHVyZTx2b2lkPiBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKFN0cmluZyBlbWFpbCk7Cn0KCmNsYXNzIEF1dGhSZW1vdGVEYXRhU291cmNlSW1wbCBpbXBsZW1lbnRzIEF1dGhSZW1vdGVEYXRhU291cmNlIHsKICAvLyBUT0RPOiBJbXBsZW1lbnQgd2l0aCBGaXJlYmFzZSBBdXRoIG9yIGFueSBvdGhlciBhdXRoIHByb3ZpZGVyCiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPFVzZXJNb2RlbD4gc2lnbkluV2l0aEVtYWlsQW5kUGFzc3dvcmQoU3RyaW5nIGVtYWlsLCBTdHJpbmcgcGFzc3dvcmQpIGFzeW5jIHsKICAgIC8vIFRPRE86IEltcGxlbWVudCBhY3R1YWwgc2lnbiBpbgogICAgLy8gVGhpcyBpcyBqdXN0IGEgcGxhY2Vob2xkZXIKICAgIHJldHVybiBVc2VyTW9kZWwoCiAgICAgIGlkOiAndXNlcl9pZCcsCiAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgc3RhdHVzOiBBdXRoU3RhdHVzLmF1dGhlbnRpY2F0ZWQsCiAgICApOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8VXNlck1vZGVsPiBzaWduVXBXaXRoRW1haWxBbmRQYXNzd29yZChTdHJpbmcgZW1haWwsIFN0cmluZyBwYXNzd29yZCkgYXN5bmMgewogICAgLy8gVE9ETzogSW1wbGVtZW50IGFjdHVhbCBzaWduIHVwCiAgICAvLyBUaGlzIGlzIGp1c3QgYSBwbGFjZWhvbGRlcgogICAgcmV0dXJuIFVzZXJNb2RlbCgKICAgICAgaWQ6ICduZXdfdXNlcl9pZCcsCiAgICAgIGVtYWlsOiBlbWFpbCwKICAgICAgc3RhdHVzOiBBdXRoU3RhdHVzLmF1dGhlbnRpY2F0ZWQsCiAgICApOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8dm9pZD4gc2lnbk91dCgpIGFzeW5jIHsKICAgIC8vIFRPRE86IEltcGxlbWVudCBhY3R1YWwgc2lnbiBvdXQKICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPFVzZXJNb2RlbD8+IGdldEN1cnJlbnRVc2VyKCkgYXN5bmMgewogICAgLy8gVE9ETzogSW1wbGVtZW50IGFjdHVhbCBnZXQgY3VycmVudCB1c2VyCiAgICByZXR1cm4gbnVsbDsgCiAgfQogIAogIEBvdmVycmlkZQogIEZ1dHVyZTxib29sPiBpc1NpZ25lZEluKCkgYXN5bmMgewogICAgLy8gVE9ETzogSW1wbGVtZW50IGFjdHVhbCBjaGVjawogICAgcmV0dXJuIGZhbHNlOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8dm9pZD4gc2VuZFBhc3N3b3JkUmVzZXRFbWFpbChTdHJpbmcgZW1haWwpIGFzeW5jIHsKICAgIC8vIFRPRE86IEltcGxlbWVudCBhY3R1YWwgcGFzc3dvcmQgcmVzZXQKICB9Cn0KCmFic3RyYWN0IGNsYXNzIEF1dGhMb2NhbERhdGFTb3VyY2UgewogIEZ1dHVyZTx2b2lkPiBjYWNoZVVzZXIoVXNlck1vZGVsIHVzZXIpOwogIEZ1dHVyZTx2b2lkPiBjbGVhclVzZXIoKTsKICBGdXR1cmU8VXNlck1vZGVsPz4gZ2V0TGFzdFVzZXIoKTsKfQoKY2xhc3MgQXV0aExvY2FsRGF0YVNvdXJjZUltcGwgaW1wbGVtZW50cyBBdXRoTG9jYWxEYXRhU291cmNlIHsKICAvLyBUT0RPOiBJbXBsZW1lbnQgd2l0aCBzaGFyZWQgcHJlZmVyZW5jZXMsIHNlY3VyZSBzdG9yYWdlLCBvciBhbnkgbG9jYWwgc3RvcmFnZQogIAogIEBvdmVycmlkZQogIEZ1dHVyZTx2b2lkPiBjYWNoZVVzZXIoVXNlck1vZGVsIHVzZXIpIGFzeW5jIHsKICAgIC8vIFRPRE86IEltcGxlbWVudCBjYWNoaW5nIHVzZXIKICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPHZvaWQ+IGNsZWFyVXNlcigpIGFzeW5jIHsKICAgIC8vIFRPRE86IEltcGxlbWVudCBjbGVhcmluZyBjYWNoZWQgdXNlcgogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8VXNlck1vZGVsPz4gZ2V0TGFzdFVzZXIoKSBhc3luYyB7CiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgZ2V0dGluZyBjYWNoZWQgdXNlcgogICAgcmV0dXJuIG51bGw7CiAgfQp9CicnJzsKfQoKLy8gR2VuZXJhdGUgYXV0aGVudGljYXRpb24gcmVwb3NpdG9yeSBpbXBsZW1lbnRhdGlvbiBmb3IgQ2xlYW4gQXJjaGl0ZWN0dXJlClN0cmluZyBnZW5lcmF0ZUF1dGhlbnRpY2F0aW9uUmVwb3NpdG9yeUltcGwoKSB7CiAgcmV0dXJuICcnJwovLyBBdXRoZW50aWNhdGlvbiBSZXBvc2l0b3J5IEltcGxlbWVudGF0aW9uCi8vIEdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKaW1wb3J0ICcuLi8uLi9kb21haW4vZW50aXRpZXMvdXNlci5kYXJ0JzsKaW1wb3J0ICcuLi8uLi9kb21haW4vcmVwb3NpdG9yaWVzL2F1dGhfcmVwb3NpdG9yeS5kYXJ0JzsKaW1wb3J0ICcuLi9kYXRhc291cmNlcy9hdXRoX2RhdGFfc291cmNlLmRhcnQnOwppbXBvcnQgJy4uL21vZGVscy91c2VyX21vZGVsLmRhcnQnOwoKY2xhc3MgQXV0aFJlcG9zaXRvcnlJbXBsIGltcGxlbWVudHMgQXV0aFJlcG9zaXRvcnkgewogIGZpbmFsIEF1dGhSZW1vdGVEYXRhU291cmNlIHJlbW90ZURhdGFTb3VyY2U7CiAgZmluYWwgQXV0aExvY2FsRGF0YVNvdXJjZSBsb2NhbERhdGFTb3VyY2U7CiAgCiAgQXV0aFJlcG9zaXRvcnlJbXBsKHsKICAgIHJlcXVpcmVkIHRoaXMucmVtb3RlRGF0YVNvdXJjZSwKICAgIHJlcXVpcmVkIHRoaXMubG9jYWxEYXRhU291cmNlLAogIH0pOwogIAogIEBvdmVycmlkZQogIEZ1dHVyZTxVc2VyPiBzaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChTdHJpbmcgZW1haWwsIFN0cmluZyBwYXNzd29yZCkgYXN5bmMgewogICAgZmluYWwgdXNlck1vZGVsID0gYXdhaXQgcmVtb3RlRGF0YVNvdXJjZS5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChlbWFpbCwgcGFzc3dvcmQpOwogICAgYXdhaXQgbG9jYWxEYXRhU291cmNlLmNhY2hlVXNlcih1c2VyTW9kZWwpOwogICAgcmV0dXJuIHVzZXJNb2RlbDsKICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPFVzZXI+IHNpZ25VcFdpdGhFbWFpbEFuZFBhc3N3b3JkKFN0cmluZyBlbWFpbCwgU3RyaW5nIHBhc3N3b3JkKSBhc3luYyB7CiAgICBmaW5hbCB1c2VyTW9kZWwgPSBhd2FpdCByZW1vdGVEYXRhU291cmNlLnNpZ25VcFdpdGhFbWFpbEFuZFBhc3N3b3JkKGVtYWlsLCBwYXNzd29yZCk7CiAgICBhd2FpdCBsb2NhbERhdGFTb3VyY2UuY2FjaGVVc2VyKHVzZXJNb2RlbCk7CiAgICByZXR1cm4gdXNlck1vZGVsOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8dm9pZD4gc2lnbk91dCgpIGFzeW5jIHsKICAgIGF3YWl0IHJlbW90ZURhdGFTb3VyY2Uuc2lnbk91dCgpOwogICAgYXdhaXQgbG9jYWxEYXRhU291cmNlLmNsZWFyVXNlcigpOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8VXNlcj8+IGdldEN1cnJlbnRVc2VyKCkgYXN5bmMgewogICAgdHJ5IHsKICAgICAgLy8gRmlyc3QgdHJ5IHRvIGdldCBmcm9tIHJlbW90ZQogICAgICByZXR1cm4gYXdhaXQgcmVtb3RlRGF0YVNvdXJjZS5nZXRDdXJyZW50VXNlcigpOwogICAgfSBjYXRjaCAoXykgewogICAgICAvLyBJZiByZW1vdGUgZmFpbHMsIHRyeSBmcm9tIGxvY2FsIGNhY2hlCiAgICAgIHJldHVybiBhd2FpdCBsb2NhbERhdGFTb3VyY2UuZ2V0TGFzdFVzZXIoKTsKICAgIH0KICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPGJvb2w+IGlzU2lnbmVkSW4oKSBhc3luYyB7CiAgICByZXR1cm4gYXdhaXQgcmVtb3RlRGF0YVNvdXJjZS5pc1NpZ25lZEluKCk7CiAgfQogIAogIEBvdmVycmlkZQogIEZ1dHVyZTx2b2lkPiBzZW5kUGFzc3dvcmRSZXNldEVtYWlsKFN0cmluZyBlbWFpbCkgYXN5bmMgewogICAgYXdhaXQgcmVtb3RlRGF0YVNvdXJjZS5zZW5kUGFzc3dvcmRSZXNldEVtYWlsKGVtYWlsKTsKICB9Cn0KJycnOwp9CgovLyBHZW5lcmF0ZSBhdXRoZW50aWNhdGlvbiBzY3JlZW5zIGZvciBDbGVhbiBBcmNoaXRlY3R1cmUKU3RyaW5nIGdlbmVyYXRlQXV0aGVudGljYXRpb25TY3JlZW5zKCkgewogIHJldHVybiAnJycKLy8gTG9naW4gU2NyZWVuCi8vIEdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CgpjbGFzcyBMb2dpblNjcmVlbiBleHRlbmRzIFN0YXRlZnVsV2lkZ2V0IHsKICBjb25zdCBMb2dpblNjcmVlbih7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgX0xvZ2luU2NyZWVuU3RhdGUgY3JlYXRlU3RhdGUoKSA9PiBfTG9naW5TY3JlZW5TdGF0ZSgpOwp9CgpjbGFzcyBfTG9naW5TY3JlZW5TdGF0ZSBleHRlbmRzIFN0YXRlPExvZ2luU2NyZWVuPiB7CiAgZmluYWwgX2Zvcm1LZXkgPSBHbG9iYWxLZXk8Rm9ybVN0YXRlPigpOwogIGZpbmFsIF9lbWFpbENvbnRyb2xsZXIgPSBUZXh0RWRpdGluZ0NvbnRyb2xsZXIoKTsKICBmaW5hbCBfcGFzc3dvcmRDb250cm9sbGVyID0gVGV4dEVkaXRpbmdDb250cm9sbGVyKCk7CiAgYm9vbCBfaXNMb2FkaW5nID0gZmFsc2U7CiAgYm9vbCBfb2JzY3VyZVBhc3N3b3JkID0gdHJ1ZTsKCiAgQG92ZXJyaWRlCiAgdm9pZCBkaXNwb3NlKCkgewogICAgX2VtYWlsQ29udHJvbGxlci5kaXNwb3NlKCk7CiAgICBfcGFzc3dvcmRDb250cm9sbGVyLmRpc3Bvc2UoKTsKICAgIHN1cGVyLmRpc3Bvc2UoKTsKICB9CgogIHZvaWQgX3RvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSgpIHsKICAgIHNldFN0YXRlKCgpIHsKICAgICAgX29ic2N1cmVQYXNzd29yZCA9ICFfb2JzY3VyZVBhc3N3b3JkOwogICAgfSk7CiAgfQoKICBGdXR1cmU8dm9pZD4gX2xvZ2luKCkgYXN5bmMgewogICAgaWYgKF9mb3JtS2V5LmN1cnJlbnRTdGF0ZT8udmFsaWRhdGUoKSA/PyBmYWxzZSkgewogICAgICBzZXRTdGF0ZSgoKSB7CiAgICAgICAgX2lzTG9hZGluZyA9IHRydWU7CiAgICAgIH0pOwoKICAgICAgdHJ5IHsKICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9naW4gbG9naWMgd2l0aCBzdGF0ZSBtYW5hZ2VtZW50CiAgICAgICAgLy8gRXhhbXBsZTogYXdhaXQgYXV0aEJsb2MuYWRkKExvZ2luRXZlbnQoX2VtYWlsQ29udHJvbGxlci50ZXh0LCBfcGFzc3dvcmRDb250cm9sbGVyLnRleHQpKTsKICAgICAgICAKICAgICAgICAvLyBOYXZpZ2F0ZSB0byBob21lIG9uIHN1Y2Nlc3MKICAgICAgICAvLyBOYXZpZ2F0b3Iub2YoY29udGV4dCkucHVzaFJlcGxhY2VtZW50TmFtZWQoJy9ob21lJyk7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAvLyBTaG93IGVycm9yCiAgICAgICAgU2NhZmZvbGRNZXNzZW5nZXIub2YoY29udGV4dCkuc2hvd1NuYWNrQmFyKAogICAgICAgICAgU25hY2tCYXIoY29udGVudDogVGV4dChlLnRvU3RyaW5nKCkpKSwKICAgICAgICApOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIGlmIChtb3VudGVkKSB7CiAgICAgICAgICBzZXRTdGF0ZSgoKSB7CiAgICAgICAgICAgIF9pc0xvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0KCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gU2NhZmZvbGQoCiAgICAgIGFwcEJhcjogQXBwQmFyKAogICAgICAgIHRpdGxlOiBjb25zdCBUZXh0KCdMb2dpbicpLAogICAgICApLAogICAgICBib2R5OiBQYWRkaW5nKAogICAgICAgIHBhZGRpbmc6IGNvbnN0IEVkZ2VJbnNldHMuYWxsKDE2LjApLAogICAgICAgIGNoaWxkOiBGb3JtKAogICAgICAgICAga2V5OiBfZm9ybUtleSwKICAgICAgICAgIGNoaWxkOiBDb2x1bW4oCiAgICAgICAgICAgIG1haW5BeGlzQWxpZ25tZW50OiBNYWluQXhpc0FsaWdubWVudC5jZW50ZXIsCiAgICAgICAgICAgIGNyb3NzQXhpc0FsaWdubWVudDogQ3Jvc3NBeGlzQWxpZ25tZW50LnN0cmV0Y2gsCiAgICAgICAgICAgIGNoaWxkcmVuOiBbCiAgICAgICAgICAgICAgVGV4dEZvcm1GaWVsZCgKICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IF9lbWFpbENvbnRyb2xsZXIsCiAgICAgICAgICAgICAgICBrZXlib2FyZFR5cGU6IFRleHRJbnB1dFR5cGUuZW1haWxBZGRyZXNzLAogICAgICAgICAgICAgICAgZGVjb3JhdGlvbjogY29uc3QgSW5wdXREZWNvcmF0aW9uKAogICAgICAgICAgICAgICAgICBsYWJlbFRleHQ6ICdFbWFpbCcsCiAgICAgICAgICAgICAgICAgIGJvcmRlcjogT3V0bGluZUlucHV0Qm9yZGVyKCksCiAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgdmFsaWRhdG9yOiAodmFsdWUpIHsKICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09IG51bGwgfHwgdmFsdWUuaXNFbXB0eSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAnUGxlYXNlIGVudGVyIHlvdXIgZW1haWwnOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIGlmICghdmFsdWUuY29udGFpbnMoJ0AnKSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwnOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICApLAogICAgICAgICAgICAgIGNvbnN0IFNpemVkQm94KGhlaWdodDogMTYpLAogICAgICAgICAgICAgIFRleHRGb3JtRmllbGQoCiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBfcGFzc3dvcmRDb250cm9sbGVyLAogICAgICAgICAgICAgICAgb2JzY3VyZVRleHQ6IF9vYnNjdXJlUGFzc3dvcmQsCiAgICAgICAgICAgICAgICBkZWNvcmF0aW9uOiBJbnB1dERlY29yYXRpb24oCiAgICAgICAgICAgICAgICAgIGxhYmVsVGV4dDogJ1Bhc3N3b3JkJywKICAgICAgICAgICAgICAgICAgYm9yZGVyOiBjb25zdCBPdXRsaW5lSW5wdXRCb3JkZXIoKSwKICAgICAgICAgICAgICAgICAgc3VmZml4SWNvbjogSWNvbkJ1dHRvbigKICAgICAgICAgICAgICAgICAgICBpY29uOiBJY29uKAogICAgICAgICAgICAgICAgICAgICAgX29ic2N1cmVQYXNzd29yZCA/IEljb25zLnZpc2liaWxpdHkgOiBJY29ucy52aXNpYmlsaXR5X29mZiwKICAgICAgICAgICAgICAgICAgICApLAogICAgICAgICAgICAgICAgICAgIG9uUHJlc3NlZDogX3RvZ2dsZVBhc3N3b3JkVmlzaWJpbGl0eSwKICAgICAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgICB2YWxpZGF0b3I6ICh2YWx1ZSkgewogICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB2YWx1ZS5pc0VtcHR5KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdQbGVhc2UgZW50ZXIgeW91ciBwYXNzd29yZCc7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA8IDYpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzJzsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBjb25zdCBTaXplZEJveChoZWlnaHQ6IDI0KSwKICAgICAgICAgICAgICBFbGV2YXRlZEJ1dHRvbigKICAgICAgICAgICAgICAgIG9uUHJlc3NlZDogX2lzTG9hZGluZyA/IG51bGwgOiBfbG9naW4sCiAgICAgICAgICAgICAgICBjaGlsZDogX2lzTG9hZGluZwogICAgICAgICAgICAgICAgICAgID8gY29uc3QgQ2lyY3VsYXJQcm9ncmVzc0luZGljYXRvcigpCiAgICAgICAgICAgICAgICAgICAgOiBjb25zdCBUZXh0KCdMb2dpbicpLAogICAgICAgICAgICAgICksCiAgICAgICAgICAgICAgY29uc3QgU2l6ZWRCb3goaGVpZ2h0OiAxNiksCiAgICAgICAgICAgICAgVGV4dEJ1dHRvbigKICAgICAgICAgICAgICAgIG9uUHJlc3NlZDogKCkgewogICAgICAgICAgICAgICAgICAvLyBOYXZpZ2F0ZSB0byBmb3Jnb3QgcGFzc3dvcmQKICAgICAgICAgICAgICAgICAgLy8gTmF2aWdhdG9yLm9mKGNvbnRleHQpLnB1c2hOYW1lZCgnL2ZvcmdvdC1wYXNzd29yZCcpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNoaWxkOiBjb25zdCBUZXh0KCdGb3Jnb3QgUGFzc3dvcmQ/JyksCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICBUZXh0QnV0dG9uKAogICAgICAgICAgICAgICAgb25QcmVzc2VkOiAoKSB7CiAgICAgICAgICAgICAgICAgIC8vIE5hdmlnYXRlIHRvIHJlZ2lzdGVyCiAgICAgICAgICAgICAgICAgIC8vIE5hdmlnYXRvci5vZihjb250ZXh0KS5wdXNoTmFtZWQoJy9yZWdpc3RlcicpOwogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgIGNoaWxkOiBjb25zdCBUZXh0KCdEb25cXCd0IGhhdmUgYW4gYWNjb3VudD8gUmVnaXN0ZXInKSwKICAgICAgICAgICAgICApLAogICAgICAgICAgICBdLAogICAgICAgICAgKSwKICAgICAgICApLAogICAgICApLAogICAgKTsKICB9Cn0KJycnOwp9Cg==",
      "type": "text",
    },
    {
      "path": "lib/state_management_observablity.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCi8vLyBDcmVhdGVzIHRoZSBzdGF0ZSBtYW5hZ2VtZW50IG9ic2VydmFiaWxpdHkgZmlsZSBhbmQgaW50ZWdyYXRlcyBpdCB3aXRoIHRoZSBtYWluLmRhcnQKdm9pZCBzZXR1cE9ic2VydmFiaWxpdHkoCiAgICBIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQpIHsKICAvLyBDcmVhdGUgdGhlIGRpcmVjdG9yeSBwYXRoCiAgZmluYWwgY29yZVBhdGggPSAnJHByb2plY3ROYW1lL2xpYi9jb3JlL3V0aWxzJzsKICBmaW5hbCBkaXJlY3RvcnkgPSBEaXJlY3RvcnkoY29yZVBhdGgpOwogIGlmICghZGlyZWN0b3J5LmV4aXN0c1N5bmMoKSkgewogICAgZGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZGlyZWN0b3J5OiAkY29yZVBhdGgnKTsKICB9CgogIC8vIENyZWF0ZSB0aGUgb2JzZXJ2YWJpbGl0eSBmaWxlCiAgZmluYWwgb2JzZXJ2YWJpbGl0eUZpbGUgPQogICAgICBGaWxlKCckcHJvamVjdE5hbWUvbGliL2NvcmUvdXRpbHMvc3RhdGVfbWFuYWdlbWVudF9vYnNlcnZhYmlsaXR5LmRhcnQnKTsKICBmaW5hbCBvYnNlcnZhYmlsaXR5Q29udGVudCA9IF9nZW5lcmF0ZU9ic2VydmFiaWxpdHlDb250ZW50KHN0YXRlTWFuYWdlbWVudCk7CiAgb2JzZXJ2YWJpbGl0eUZpbGUud3JpdGVBc1N0cmluZ1N5bmMob2JzZXJ2YWJpbGl0eUNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLnN1Y2Nlc3MoCiAgICAgICdDcmVhdGVkICR7c3RhdGVNYW5hZ2VtZW50fSBzdGF0ZSBtYW5hZ2VtZW50IG9ic2VydmFiaWxpdHkgdXRpbGl0aWVzJyk7CgogIC8vIFVwZGF0ZSBtYWluLmRhcnQgdG8gaW50ZWdyYXRlIG9ic2VydmFiaWxpdHkKICBfdXBkYXRlTWFpbkRhcnRGb3JPYnNlcnZhYmlsaXR5KGNvbnRleHQsIHByb2plY3ROYW1lLCBzdGF0ZU1hbmFnZW1lbnQpOwp9CgovLy8gVXBkYXRlcyB0aGUgbWFpbi5kYXJ0IGZpbGUgdG8gaW50ZWdyYXRlIHN0YXRlIG1hbmFnZW1lbnQgb2JzZXJ2YWJpbGl0eQp2b2lkIF91cGRhdGVNYWluRGFydEZvck9ic2VydmFiaWxpdHkoCiAgICBIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsIFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQpIHsKICBmaW5hbCBtYWluRGFydEZpbGUgPSBGaWxlKCckcHJvamVjdE5hbWUvbGliL21haW4uZGFydCcpOwogIGlmICghbWFpbkRhcnRGaWxlLmV4aXN0c1N5bmMoKSkgewogICAgY29udGV4dC5sb2dnZXIKICAgICAgICAud2FybignbWFpbi5kYXJ0IG5vdCBmb3VuZCwgc2tpcHBpbmcgb2JzZXJ2YWJpbGl0eSBpbnRlZ3JhdGlvbicpOwogICAgcmV0dXJuOwogIH0KCiAgLy8gUmVhZCBleGlzdGluZyBjb250ZW50CiAgU3RyaW5nIGNvbnRlbnQgPSBtYWluRGFydEZpbGUucmVhZEFzU3RyaW5nU3luYygpOwoKICAvLyBBZGQgaW1wb3J0IHN0YXRlbWVudCBpZiBub3QgYWxyZWFkeSBwcmVzZW50CiAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCdzdGF0ZV9tYW5hZ2VtZW50X29ic2VydmFiaWxpdHkuZGFydCcpKSB7CiAgICBmaW5hbCBpbXBvcnRQYXR0ZXJuID0gUmVnRXhwKHInaW1wb3J0IC4qO1xuJyk7CiAgICBmaW5hbCBsYXN0SW1wb3J0TWF0Y2ggPSBpbXBvcnRQYXR0ZXJuLmFsbE1hdGNoZXMoY29udGVudCkubGFzdE9yTnVsbDsKCiAgICBpZiAobGFzdEltcG9ydE1hdGNoICE9IG51bGwpIHsKICAgICAgZmluYWwgaW5zZXJ0UG9zaXRpb24gPSBsYXN0SW1wb3J0TWF0Y2guZW5kOwogICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgaW5zZXJ0UG9zaXRpb24pICsKICAgICAgICAgICJpbXBvcnQgJ3BhY2thZ2U6JHByb2plY3ROYW1lL2NvcmUvdXRpbHMvc3RhdGVfbWFuYWdlbWVudF9vYnNlcnZhYmlsaXR5LmRhcnQnO1xuIiArCiAgICAgICAgICBjb250ZW50LnN1YnN0cmluZyhpbnNlcnRQb3NpdGlvbik7CiAgICB9CiAgfQoKICAvLyBBZGQgb2JzZXJ2YWJpbGl0eSBzZXR1cCBiYXNlZCBvbiBzdGF0ZSBtYW5hZ2VtZW50CiAgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnQkxvQycgfHwgc3RhdGVNYW5hZ2VtZW50ID09ICdCbG9jJykgewogICAgLy8gQWRkIEJMb0Mgb2JzZXJ2ZXIgc2V0dXAKICAgIGlmICghY29udGVudC5jb250YWlucygnQmxvYy5vYnNlcnZlcicpKSB7CiAgICAgIGZpbmFsIHNldHVwUG9zaXRpb24gPQogICAgICAgICAgY29udGVudC5pbmRleE9mKCd2b2lkIG1haW4oKSBhc3luYyB7JykgKyAndm9pZCBtYWluKCkgYXN5bmMgeycubGVuZ3RoOwogICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgc2V0dXBQb3NpdGlvbikgKwogICAgICAgICAgIlxuICAvLyBTZXR1cCBCTG9DIG9ic2VydmVyIGZvciBzdGF0ZSBtb25pdG9yaW5nXG4gIEJsb2Mub2JzZXJ2ZXIgPSBBcHBCbG9jT2JzZXJ2ZXIoKTsiICsKICAgICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKHNldHVwUG9zaXRpb24pOwogICAgfQogIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdSaXZlcnBvZCcpIHsKICAgIC8vIEFkZCBSaXZlcnBvZCBvYnNlcnZlcgogICAgaWYgKGNvbnRlbnQuY29udGFpbnMoJ1Byb3ZpZGVyU2NvcGUoJykpIHsKICAgICAgY29udGVudCA9IGNvbnRlbnQucmVwbGFjZUFsbCgnUHJvdmlkZXJTY29wZSgnLAogICAgICAgICAgJ1Byb3ZpZGVyU2NvcGUoXG4gICAgICBvYnNlcnZlcnM6IFtTdGF0ZU9ic2VydmVyKCldLCcpOwogICAgfQogIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdHZXRYJykgewogICAgLy8gQWRkIEdldFggb2JzZXJ2ZXIgY29uZmlndXJhdGlvbiBoaW50CiAgICBpZiAoIWNvbnRlbnQuY29udGFpbnMoJy8vIEdldFggb2JzZXJ2ZXIgc2V0dXAnKSkgewogICAgICBmaW5hbCBzZXR1cFBvc2l0aW9uID0KICAgICAgICAgIGNvbnRlbnQuaW5kZXhPZigndm9pZCBtYWluKCkgYXN5bmMgeycpICsgJ3ZvaWQgbWFpbigpIGFzeW5jIHsnLmxlbmd0aDsKICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIHNldHVwUG9zaXRpb24pICsKICAgICAgICAgICJcbiAgLy8gR2V0WCBvYnNlcnZlciBzZXR1cCAtIHVuY29tbWVudCB0byBlbmFibGVcbiAgLy8gR2V0LnB1dChHZXRYT2JzZXJ2ZXIoKSk7IiArCiAgICAgICAgICBjb250ZW50LnN1YnN0cmluZyhzZXR1cFBvc2l0aW9uKTsKICAgIH0KICB9IGVsc2UgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnTW9iWCcpIHsKICAgIC8vIEFkZCBNb2JYIG9ic2VydmFiaWxpdHkgaGludAogICAgaWYgKCFjb250ZW50LmNvbnRhaW5zKCcvLyBNb2JYIG9ic2VydmFiaWxpdHknKSkgewogICAgICBmaW5hbCBzZXR1cFBvc2l0aW9uID0KICAgICAgICAgIGNvbnRlbnQuaW5kZXhPZigndm9pZCBtYWluKCkgYXN5bmMgeycpICsgJ3ZvaWQgbWFpbigpIGFzeW5jIHsnLmxlbmd0aDsKICAgICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIHNldHVwUG9zaXRpb24pICsKICAgICAgICAgICJcbiAgLy8gTW9iWCBvYnNlcnZhYmlsaXR5IGlzIGF2YWlsYWJsZSB0aHJvdWdoIE1vYlhPYnNlcnZlciB1dGlsaXR5IGNsYXNzIiArCiAgICAgICAgICBjb250ZW50LnN1YnN0cmluZyhzZXR1cFBvc2l0aW9uKTsKICAgIH0KICB9IGVsc2UgaWYgKHN0YXRlTWFuYWdlbWVudCA9PSAnUmVkdXgnKSB7CiAgICAvLyBBZGQgUmVkdXggbWlkZGxld2FyZQogICAgaWYgKGNvbnRlbnQuY29udGFpbnMoJ2ZpbmFsIHN0b3JlID0gU3RvcmU8QXBwU3RhdGU+KCcpKSB7CiAgICAgIGNvbnRlbnQgPSBjb250ZW50LnJlcGxhY2VBbGwoJ21pZGRsZXdhcmU6IFt0aHVua01pZGRsZXdhcmVdLCcsCiAgICAgICAgICAnbWlkZGxld2FyZTogW3RodW5rTWlkZGxld2FyZSwgUmVkdXhMb2dnaW5nTWlkZGxld2FyZTxBcHBTdGF0ZT4oKS5jcmVhdGVNaWRkbGV3YXJlKCldLCcpOwogICAgfQogIH0gZWxzZSBpZiAoc3RhdGVNYW5hZ2VtZW50ID09ICdQcm92aWRlcicpIHsKICAgIC8vIEFkZCBQcm92aWRlciBvYnNlcnZhYmlsaXR5IGhpbnQKICAgIGlmICghY29udGVudC5jb250YWlucygnLy8gUHJvdmlkZXIgb2JzZXJ2YWJpbGl0eScpKSB7CiAgICAgIGZpbmFsIHNldHVwUG9zaXRpb24gPQogICAgICAgICAgY29udGVudC5pbmRleE9mKCd2b2lkIG1haW4oKSBhc3luYyB7JykgKyAndm9pZCBtYWluKCkgYXN5bmMgeycubGVuZ3RoOwogICAgICBjb250ZW50ID0gY29udGVudC5zdWJzdHJpbmcoMCwgc2V0dXBQb3NpdGlvbikgKwogICAgICAgICAgIlxuICAvLyBQcm92aWRlciBvYnNlcnZhYmlsaXR5IGlzIGF2YWlsYWJsZSB0aHJvdWdoIE9ic2VydmFibGVDaGFuZ2VOb3RpZmllciBjbGFzcyIgKwogICAgICAgICAgY29udGVudC5zdWJzdHJpbmcoc2V0dXBQb3NpdGlvbik7CiAgICB9CiAgfQoKICAvLyBBZGQgc3RhdGUgb2JzZXJ2YWJpbGl0eSBzZXR1cCBmdW5jdGlvbgogIGlmICghY29udGVudC5jb250YWlucygnc2V0dXBTdGF0ZU9ic2VydmFiaWxpdHknKSkgewogICAgZmluYWwgc2V0dXBQb3NpdGlvbiA9CiAgICAgICAgY29udGVudC5pbmRleE9mKCd2b2lkIG1haW4oKSBhc3luYyB7JykgKyAndm9pZCBtYWluKCkgYXN5bmMgeycubGVuZ3RoOwogICAgY29udGVudCA9IGNvbnRlbnQuc3Vic3RyaW5nKDAsIHNldHVwUG9zaXRpb24pICsKICAgICAgICAiXG4gIC8vIFNldHVwIHN0YXRlIG1hbmFnZW1lbnQgb2JzZXJ2YWJpbGl0eVxuICBzZXR1cFN0YXRlT2JzZXJ2YWJpbGl0eSgpOyIgKwogICAgICAgIGNvbnRlbnQuc3Vic3RyaW5nKHNldHVwUG9zaXRpb24pOwogIH0KCiAgLy8gV3JpdGUgdXBkYXRlZCBjb250ZW50IGJhY2sgdG8gZmlsZQogIG1haW5EYXJ0RmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlcgogICAgICAuc3VjY2VzcygnSW50ZWdyYXRlZCBzdGF0ZSBtYW5hZ2VtZW50IG9ic2VydmFiaWxpdHkgaW4gbWFpbi5kYXJ0Jyk7Cn0KCi8vLyBHZW5lcmF0ZXMgdGhlIGNvbnRlbnQgZm9yIHRoZSBzdGF0ZSBtYW5hZ2VtZW50IG9ic2VydmFiaWxpdHkgZmlsZSBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgYXBwcm9hY2gKU3RyaW5nIF9nZW5lcmF0ZU9ic2VydmFiaWxpdHlDb250ZW50KFN0cmluZyBzdGF0ZU1hbmFnZW1lbnQpIHsKICAvLyBDb21tb24gaW1wb3J0cwogIFN0cmluZyBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL2ZvdW5kYXRpb24uZGFydCc7CicnJzsKCiAgLy8gVXRpbGl0eSBmb3IgbG9nZ2luZwogIFN0cmluZyBsb2dVdGlsaXR5ID0gJycnCi8vLyBVdGlsaXR5IGZ1bmN0aW9uIGZvciBmb3JtYXR0ZWQgbG9nZ2luZwp2b2lkIF9sb2coU3RyaW5nIG1lc3NhZ2UpIHsKICBpZiAoa0RlYnVnTW9kZSkgewogICAgcHJpbnQoJ+KVlOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCcpOwogICAgcHJpbnQoJ+KVkSBcJG1lc3NhZ2UnKTsKICAgIHByaW50KCfilZrilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZDilZAnKTsKICB9Cn0KJycnOwoKICAvLyBBZGQgc3RhdGUgbWFuYWdlbWVudCBzcGVjaWZpYyBpbXBvcnRzIGFuZCBjbGFzc2VzCiAgc3dpdGNoIChzdGF0ZU1hbmFnZW1lbnQpIHsKICAgIGNhc2UgJ0JMb0MnOgogICAgY2FzZSAnQmxvYyc6CiAgICAgIGNvbnRlbnQgKz0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2Jsb2MvZmx1dHRlcl9ibG9jLmRhcnQnOwoKLy8vIEJMb0MgT2JzZXJ2ZXIgZm9yIG1vbml0b3JpbmcgQkxvQyBldmVudHMgYW5kIHN0YXRlIGNoYW5nZXMKY2xhc3MgQXBwQmxvY09ic2VydmVyIGV4dGVuZHMgQmxvY09ic2VydmVyIHsKICBAb3ZlcnJpZGUKICB2b2lkIG9uQ3JlYXRlKEJsb2NCYXNlIGJsb2MpIHsKICAgIHN1cGVyLm9uQ3JlYXRlKGJsb2MpOwogICAgZGVidWdQcmludCgnb25DcmVhdGUgLS0gYmxvYzogXCR7YmxvYy5ydW50aW1lVHlwZX0nKTsKICB9CgogIEBvdmVycmlkZQogIHZvaWQgb25FdmVudChCbG9jIGJsb2MsIE9iamVjdD8gZXZlbnQpIHsKICAgIHN1cGVyLm9uRXZlbnQoYmxvYywgZXZlbnQpOwogICAgZGVidWdQcmludCgnb25FdmVudCAtLSBibG9jOiBcJHtibG9jLnJ1bnRpbWVUeXBlfSwgZXZlbnQ6IFwkZXZlbnQnKTsKICB9CgogIEBvdmVycmlkZQogIHZvaWQgb25DaGFuZ2UoQmxvY0Jhc2UgYmxvYywgQ2hhbmdlIGNoYW5nZSkgewogICAgc3VwZXIub25DaGFuZ2UoYmxvYywgY2hhbmdlKTsKICAgIGRlYnVnUHJpbnQoJ29uQ2hhbmdlIC0tIGJsb2M6IFwke2Jsb2MucnVudGltZVR5cGV9LCBjaGFuZ2U6IFwkY2hhbmdlJyk7CiAgfQoKICBAb3ZlcnJpZGUKICB2b2lkIG9uVHJhbnNpdGlvbihCbG9jIGJsb2MsIFRyYW5zaXRpb24gdHJhbnNpdGlvbikgewogICAgc3VwZXIub25UcmFuc2l0aW9uKGJsb2MsIHRyYW5zaXRpb24pOwogICAgZGVidWdQcmludCgKICAgICAgICAnb25UcmFuc2l0aW9uIC0tIGJsb2M6IFwke2Jsb2MucnVudGltZVR5cGV9LCB0cmFuc2l0aW9uOiBcJHRyYW5zaXRpb24nKTsKICB9CgogIEBvdmVycmlkZQogIHZvaWQgb25FcnJvcihCbG9jQmFzZSBibG9jLCBPYmplY3QgZXJyb3IsIFN0YWNrVHJhY2Ugc3RhY2tUcmFjZSkgewogICAgZGVidWdQcmludCgnb25FcnJvciAtLSBibG9jOiBcJHtibG9jLnJ1bnRpbWVUeXBlfSwgZXJyb3I6IFwkZXJyb3InKTsKICAgIHN1cGVyLm9uRXJyb3IoYmxvYywgZXJyb3IsIHN0YWNrVHJhY2UpOwogIH0KCiAgQG92ZXJyaWRlCiAgdm9pZCBvbkNsb3NlKEJsb2NCYXNlIGJsb2MpIHsKICAgIHN1cGVyLm9uQ2xvc2UoYmxvYyk7CiAgICBkZWJ1Z1ByaW50KCdvbkNsb3NlIC0tIGJsb2M6IFwke2Jsb2MucnVudGltZVR5cGV9Jyk7CiAgfQp9CgokbG9nVXRpbGl0eQoKLy8vIFNldHVwIGZ1bmN0aW9uIHRvIGluaXRpYWxpemUgb2JzZXJ2YWJpbGl0eSBmb3IgQkxvQwp2b2lkIHNldHVwU3RhdGVPYnNlcnZhYmlsaXR5KCkgewogIGlmIChrRGVidWdNb2RlKSB7CiAgICBwcmludCgnQkxvQyBzdGF0ZSBvYnNlcnZhYmlsaXR5IGNvbmZpZ3VyZWQhJyk7CiAgfQp9CicnJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnUml2ZXJwb2QnOgogICAgICBjb250ZW50ICs9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9yaXZlcnBvZC9mbHV0dGVyX3JpdmVycG9kLmRhcnQnOwoKLy8vIFJpdmVycG9kIE9ic2VydmVyIGZvciBtb25pdG9yaW5nIHByb3ZpZGVyIHN0YXRlIGNoYW5nZXMKY2xhc3MgU3RhdGVPYnNlcnZlciBleHRlbmRzIFByb3ZpZGVyT2JzZXJ2ZXIgewogIGZpbmFsIGJvb2wgbG9nQ2hhbmdlczsKICBmaW5hbCBib29sIGxvZ0NyZWF0aW9uczsKICBmaW5hbCBib29sIGxvZ0Rpc3Bvc2FsczsKICBmaW5hbCBib29sIGxvZ0Vycm9yczsKCiAgLy8vIENyZWF0ZXMgYSBuZXcgU3RhdGVPYnNlcnZlcgogIC8vLwogIC8vLyAtIFtsb2dDaGFuZ2VzXTogTG9nIHdoZW4gYSBwcm92aWRlcidzIHN0YXRlIGNoYW5nZXMKICAvLy8gLSBbbG9nQ3JlYXRpb25zXTogTG9nIHdoZW4gYSBwcm92aWRlciBpcyBpbml0aWFsaXplZAogIC8vLyAtIFtsb2dEaXNwb3NhbHNdOiBMb2cgd2hlbiBhIHByb3ZpZGVyIGlzIGRpc3Bvc2VkCiAgLy8vIC0gW2xvZ0Vycm9yc106IExvZyB3aGVuIGEgcHJvdmlkZXIgdGhyb3dzIGFuIGVycm9yCiAgU3RhdGVPYnNlcnZlcih7CiAgICB0aGlzLmxvZ0NoYW5nZXMgPSB0cnVlLAogICAgdGhpcy5sb2dDcmVhdGlvbnMgPSB0cnVlLAogICAgdGhpcy5sb2dEaXNwb3NhbHMgPSB0cnVlLAogICAgdGhpcy5sb2dFcnJvcnMgPSB0cnVlLAogIH0pOwoKICBAb3ZlcnJpZGUKICB2b2lkIGRpZFVwZGF0ZVByb3ZpZGVyKAogICAgUHJvdmlkZXJCYXNlIHByb3ZpZGVyLAogICAgT2JqZWN0PyBwcmV2aW91c1ZhbHVlLAogICAgT2JqZWN0PyBuZXdWYWx1ZSwKICAgIFByb3ZpZGVyQ29udGFpbmVyIGNvbnRhaW5lciwKICApIHsKICAgIGlmIChsb2dDaGFuZ2VzICYmIHByZXZpb3VzVmFsdWUgIT0gbmV3VmFsdWUpIHsKICAgICAgX2xvZygKICAgICAgICAn8J+TiiBTVEFURSBVUERBVEVEOiBcJHtwcm92aWRlci5uYW1lID8/IHByb3ZpZGVyLnJ1bnRpbWVUeXBlfVxcbicKICAgICAgICAn4qyF77iPIEZST006IFwkcHJldmlvdXNWYWx1ZVxcbicKICAgICAgICAn4p6h77iPIFRPOiBcJG5ld1ZhbHVlJywKICAgICAgKTsKICAgIH0KICAgIHN1cGVyLmRpZFVwZGF0ZVByb3ZpZGVyKHByb3ZpZGVyLCBwcmV2aW91c1ZhbHVlLCBuZXdWYWx1ZSwgY29udGFpbmVyKTsKICB9CgogIEBvdmVycmlkZQogIHZvaWQgZGlkQWRkUHJvdmlkZXIoCiAgICBQcm92aWRlckJhc2UgcHJvdmlkZXIsCiAgICBPYmplY3Q/IHZhbHVlLAogICAgUHJvdmlkZXJDb250YWluZXIgY29udGFpbmVyLAogICkgewogICAgaWYgKGxvZ0NyZWF0aW9ucykgewogICAgICBfbG9nKAogICAgICAgICfwn4aVIFBST1ZJREVSIENSRUFURUQ6IFwke3Byb3ZpZGVyLm5hbWUgPz8gcHJvdmlkZXIucnVudGltZVR5cGV9XFxuJwogICAgICAgICfwn5OMIElOSVRJQUwgVkFMVUU6IFwkdmFsdWUnLAogICAgICApOwogICAgfQogICAgc3VwZXIuZGlkQWRkUHJvdmlkZXIocHJvdmlkZXIsIHZhbHVlLCBjb250YWluZXIpOwogIH0KCiAgQG92ZXJyaWRlCiAgdm9pZCBkaWREaXNwb3NlUHJvdmlkZXIoCiAgICBQcm92aWRlckJhc2UgcHJvdmlkZXIsCiAgICBQcm92aWRlckNvbnRhaW5lciBjb250YWluZXIsCiAgKSB7CiAgICBpZiAobG9nRGlzcG9zYWxzKSB7CiAgICAgIF9sb2coJ/Cfl5HvuI8gUFJPVklERVIgRElTUE9TRUQ6IFwke3Byb3ZpZGVyLm5hbWUgPz8gcHJvdmlkZXIucnVudGltZVR5cGV9Jyk7CiAgICB9CiAgICBzdXBlci5kaWREaXNwb3NlUHJvdmlkZXIocHJvdmlkZXIsIGNvbnRhaW5lcik7CiAgfQoKICBAb3ZlcnJpZGUKICB2b2lkIHByb3ZpZGVyRGlkRmFpbCgKICAgIFByb3ZpZGVyQmFzZSBwcm92aWRlciwKICAgIE9iamVjdCBlcnJvciwKICAgIFN0YWNrVHJhY2Ugc3RhY2tUcmFjZSwKICAgIFByb3ZpZGVyQ29udGFpbmVyIGNvbnRhaW5lciwKICApIHsKICAgIGlmIChsb2dFcnJvcnMpIHsKICAgICAgX2xvZygKICAgICAgICAn4p2MIFBST1ZJREVSIEVSUk9SOiBcJHtwcm92aWRlci5uYW1lID8/IHByb3ZpZGVyLnJ1bnRpbWVUeXBlfVxcbicKICAgICAgICAn8J+UtCBFUlJPUjogXCRlcnJvclxcbicKICAgICAgICAn8J+TnCBTVEFDSyBUUkFDRTogXCRzdGFja1RyYWNlJywKICAgICAgKTsKICAgIH0KICAgIHN1cGVyLnByb3ZpZGVyRGlkRmFpbChwcm92aWRlciwgZXJyb3IsIHN0YWNrVHJhY2UsIGNvbnRhaW5lcik7CiAgfQoKICAkbG9nVXRpbGl0eQp9CgovLy8gU2V0dXAgZnVuY3Rpb24gdG8gaW5pdGlhbGl6ZSBvYnNlcnZhYmlsaXR5IGZvciBSaXZlcnBvZAp2b2lkIHNldHVwU3RhdGVPYnNlcnZhYmlsaXR5KCkgewogIGlmIChrRGVidWdNb2RlKSB7CiAgICBwcmludCgnUml2ZXJwb2Qgc3RhdGUgb2JzZXJ2YWJpbGl0eSBjb25maWd1cmVkIScpOwogICAgcHJpbnQoJ05vdGU6IEFkZCBvYnNlcnZlcnM6IFtTdGF0ZU9ic2VydmVyKCldIHRvIHlvdXIgUHJvdmlkZXJTY29wZScpOwogIH0KfQonJyc7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ1Byb3ZpZGVyJzoKICAgICAgY29udGVudCArPSAnJycKLy8vIEVuaGFuY2VkIENoYW5nZU5vdGlmaWVyIGZvciBQcm92aWRlciB3aXRoIGxvZ2dpbmcgY2FwYWJpbGl0aWVzCmNsYXNzIE9ic2VydmFibGVDaGFuZ2VOb3RpZmllciBleHRlbmRzIENoYW5nZU5vdGlmaWVyIHsKICB2b2lkIG5vdGlmeUxpc3RlbmVyc1dpdGhMb2coU3RyaW5nIG1lc3NhZ2UsCiAgICAgIHtkeW5hbWljIG9sZFZhbHVlLCBkeW5hbWljIG5ld1ZhbHVlfSkgewogICAgX2xvZygnU3RhdGUgY2hhbmdlIGluIFwkcnVudGltZVR5cGU6IFwkbWVzc2FnZScpOwogICAgaWYgKG9sZFZhbHVlICE9IG51bGwgJiYgbmV3VmFsdWUgIT0gbnVsbCkgewogICAgICBfbG9nKCcgIEZyb206IFwkb2xkVmFsdWUnKTsKICAgICAgX2xvZygnICBUbzogXCRuZXdWYWx1ZScpOwogICAgfQogICAgbm90aWZ5TGlzdGVuZXJzKCk7CiAgfQoKICAkbG9nVXRpbGl0eQp9CgovLy8gU2V0dXAgZnVuY3Rpb24gdG8gaW5pdGlhbGl6ZSBvYnNlcnZhYmlsaXR5IGZvciBQcm92aWRlcgp2b2lkIHNldHVwU3RhdGVPYnNlcnZhYmlsaXR5KCkgewogIGlmIChrRGVidWdNb2RlKSB7CiAgICBwcmludCgnUHJvdmlkZXIgc3RhdGUgb2JzZXJ2YWJpbGl0eSBjb25maWd1cmVkIScpOwogICAgcHJpbnQoJ05vdGU6IFVzZSBPYnNlcnZhYmxlQ2hhbmdlTm90aWZpZXIgaW5zdGVhZCBvZiBDaGFuZ2VOb3RpZmllciBmb3IgYmV0dGVyIGxvZ2dpbmcnKTsKICB9Cn0KJycnOwogICAgICBicmVhazsKCiAgICBjYXNlICdHZXRYJzoKICAgICAgY29udGVudCArPSAnJycKaW1wb3J0ICdwYWNrYWdlOmdldC9nZXQuZGFydCc7CgovLy8gR2V0WCBvYnNlcnZlciBpbXBsZW1lbnRhdGlvbgpjbGFzcyBHZXRYT2JzZXJ2ZXIgZXh0ZW5kcyBHZXR4Q29udHJvbGxlciB7CiAgQG92ZXJyaWRlCiAgdm9pZCBvbkluaXQoKSB7CiAgICBfbG9nKCdHZXRYIGNvbnRyb2xsZXIgaW5pdGlhbGl6ZWQ6IFwkcnVudGltZVR5cGUnKTsKICAgIHN1cGVyLm9uSW5pdCgpOwogIH0KCiAgQG92ZXJyaWRlCiAgdm9pZCBvblJlYWR5KCkgewogICAgX2xvZygnR2V0WCBjb250cm9sbGVyIHJlYWR5OiBcJHJ1bnRpbWVUeXBlJyk7CiAgICBzdXBlci5vblJlYWR5KCk7CiAgfQoKICBAb3ZlcnJpZGUKICB2b2lkIG9uQ2xvc2UoKSB7CiAgICBfbG9nKCdHZXRYIGNvbnRyb2xsZXIgY2xvc2VkOiBcJHJ1bnRpbWVUeXBlJyk7CiAgICBzdXBlci5vbkNsb3NlKCk7CiAgfQoKICAkbG9nVXRpbGl0eQp9CgovLy8gU2V0dXAgZnVuY3Rpb24gdG8gaW5pdGlhbGl6ZSBvYnNlcnZhYmlsaXR5IGZvciBHZXRYCnZvaWQgc2V0dXBTdGF0ZU9ic2VydmFiaWxpdHkoKSB7CiAgaWYgKGtEZWJ1Z01vZGUpIHsKICAgIHByaW50KCdHZXRYIHN0YXRlIG9ic2VydmFiaWxpdHkgY29uZmlndXJlZCEnKTsKICAgIHByaW50KCdOb3RlOiBDcmVhdGUgeW91ciBjb250cm9sbGVycyBieSBleHRlbmRpbmcgR2V0WE9ic2VydmVyIGluc3RlYWQgb2YgR2V0eENvbnRyb2xsZXInKTsKICB9Cn0KJycnOwogICAgICBicmVhazsKCiAgICBjYXNlICdNb2JYJzoKICAgICAgY29udGVudCArPSAnJycKLy8vIE1vYlggcmVhY3RpdmUgc3RhdGUgdHJhY2tpbmcgaGVscGVyCmNsYXNzIE1vYlhPYnNlcnZlciB7CiAgc3RhdGljIHZvaWQgbG9nQWN0aW9uKFN0cmluZyBhY3Rpb25OYW1lLCB7ZHluYW1pYyB2YWx1ZX0pIHsKICAgIF9sb2coJ01vYlggQWN0aW9uOiBcJGFjdGlvbk5hbWVcJHt2YWx1ZSAhPSBudWxsID8gJyAtIFZhbHVlOiBcJHZhbHVlJyA6ICcnfScpOwogIH0KCiAgc3RhdGljIHZvaWQgbG9nQ29tcHV0ZWQoU3RyaW5nIGNvbXB1dGVkTmFtZSwgZHluYW1pYyB2YWx1ZSkgewogICAgX2xvZygnTW9iWCBDb21wdXRlZDogXCRjb21wdXRlZE5hbWUgLSBWYWx1ZTogXCR2YWx1ZScpOwogIH0KCiAgc3RhdGljIHZvaWQgbG9nT2JzZXJ2YWJsZShTdHJpbmcgb2JzZXJ2YWJsZU5hbWUsIGR5bmFtaWMgb2xkVmFsdWUsIGR5bmFtaWMgbmV3VmFsdWUpIHsKICAgIF9sb2coCiAgICAgICdNb2JYIE9ic2VydmFibGU6IFwkb2JzZXJ2YWJsZU5hbWVcXG4nCiAgICAgICcgIEZyb206IFwkb2xkVmFsdWVcXG4nCiAgICAgICcgIFRvOiBcJG5ld1ZhbHVlJwogICAgKTsKICB9CgoKfQoKICAkbG9nVXRpbGl0eQoKLy8vIFNldHVwIGZ1bmN0aW9uIHRvIGluaXRpYWxpemUgb2JzZXJ2YWJpbGl0eSBmb3IgTW9iWAp2b2lkIHNldHVwU3RhdGVPYnNlcnZhYmlsaXR5KCkgewogIGlmIChrRGVidWdNb2RlKSB7CiAgICBwcmludCgnTW9iWCBzdGF0ZSBvYnNlcnZhYmlsaXR5IGNvbmZpZ3VyZWQhJyk7CiAgICBwcmludCgnTm90ZTogVXNlIE1vYlhPYnNlcnZlciBzdGF0aWMgbWV0aG9kcyB0byBsb2cgYWN0aW9ucywgY29tcHV0ZWQgdmFsdWVzLCBhbmQgb2JzZXJ2YWJsZSBjaGFuZ2VzJyk7CiAgfQp9CicnJzsKICAgICAgYnJlYWs7CgogICAgY2FzZSAnUmVkdXgnOgogICAgICBjb250ZW50ICs9ICcnJwppbXBvcnQgJ3BhY2thZ2U6cmVkdXgvcmVkdXguZGFydCc7CgovLy8gUmVkdXggbWlkZGxld2FyZSBmb3IgbG9nZ2luZyBhY3Rpb25zIGFuZCBzdGF0ZSBjaGFuZ2VzCmNsYXNzIFJlZHV4TG9nZ2luZ01pZGRsZXdhcmU8VD4gewogIE1pZGRsZXdhcmU8VD4gY3JlYXRlTWlkZGxld2FyZSgpIHsKICAgIHJldHVybiAoU3RvcmU8VD4gc3RvcmUsIGR5bmFtaWMgYWN0aW9uLCBOZXh0RGlzcGF0Y2hlciBuZXh0KSB7CiAgICAgIF9sb2coJ1JlZHV4IEFjdGlvbjogXCR7YWN0aW9uLnJ1bnRpbWVUeXBlfScpOwogICAgICBfbG9nKCcgIEN1cnJlbnQgU3RhdGU6IFwke3N0b3JlLnN0YXRlfScpOwogICAgICAKICAgICAgbmV4dChhY3Rpb24pOwogICAgICAKICAgICAgX2xvZygnICBOZXh0IFN0YXRlOiBcJHtzdG9yZS5zdGF0ZX0nKTsKICAgIH07CiAgfQoKICAkbG9nVXRpbGl0eQp9CgovLy8gU2V0dXAgZnVuY3Rpb24gdG8gaW5pdGlhbGl6ZSBvYnNlcnZhYmlsaXR5IGZvciBSZWR1eAp2b2lkIHNldHVwU3RhdGVPYnNlcnZhYmlsaXR5KCkgewogIGlmIChrRGVidWdNb2RlKSB7CiAgICBwcmludCgnUmVkdXggc3RhdGUgb2JzZXJ2YWJpbGl0eSBjb25maWd1cmVkIScpOwogICAgcHJpbnQoJ05vdGU6IEFkZCBSZWR1eExvZ2dpbmdNaWRkbGV3YXJlKCkuY3JlYXRlTWlkZGxld2FyZSgpIHRvIHlvdXIgU3RvcmUgbWlkZGxld2FyZSBsaXN0Jyk7CiAgfQp9CicnJzsKICAgICAgYnJlYWs7CgogICAgZGVmYXVsdDoKICAgICAgLy8gRGVmYXVsdCBjYXNlIC0ganVzdCBhZGQgdGhlIGxvZ2dpbmcgdXRpbGl0eQogICAgICBjb250ZW50ICs9ICcnJwovLy8gR2VuZXJhbCB1dGlsaXR5IGZvciBzdGF0ZSBtYW5hZ2VtZW50IGxvZ2dpbmcKY2xhc3MgU3RhdGVPYnNlcnZlciB7CiAgc3RhdGljIHZvaWQgbG9nU3RhdGUoU3RyaW5nIG5hbWUsIHtkeW5hbWljIHZhbHVlfSkgewogICAgX2xvZygnU3RhdGUgY2hhbmdlOiBcJG5hbWVcJHt2YWx1ZSAhPSBudWxsID8gJyAtIFZhbHVlOiBcJHZhbHVlJyA6ICcnfScpOwogIH0KCiAgJGxvZ1V0aWxpdHkKfQoKLy8vIFNldHVwIGZ1bmN0aW9uIGZvciBzdGF0ZSBvYnNlcnZhYmlsaXR5CnZvaWQgc2V0dXBTdGF0ZU9ic2VydmFiaWxpdHkoKSB7CiAgaWYgKGtEZWJ1Z01vZGUpIHsKICAgIHByaW50KCdTdGF0ZSBvYnNlcnZhYmlsaXR5IHV0aWxpdHkgY29uZmlndXJlZCEnKTsKICB9Cn0KJycnOwogICAgICBicmVhazsKICB9CgogIHJldHVybiBjb250ZW50Owp9Cg==",
      "type": "text",
    },
    {
      "path": "lib/theme_manager_generator.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCmltcG9ydCAnaW50ZWdyYXRlX3RoZW1lX21hbmFnZXIuZGFydCc7CgovLy8gR2VuZXJhdGVzIGEgdGhlbWUgc3lzdGVtIGZvciBhIEZsdXR0ZXIgcHJvamVjdCBpZiB0aGUgdGhlbWUgbW9kdWxlIGlzIHNlbGVjdGVkCnZvaWQgZ2VuZXJhdGVUaGVtZVN5c3RlbSgKICAgIEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSwgTGlzdDxkeW5hbWljPiBtb2R1bGVzKSB7CiAgLy8gQ2hlY2sgaWYgVGhlbWUgTWFuYWdlciBpcyBpbiB0aGUgc2VsZWN0ZWQgbW9kdWxlcwogIGlmICghbW9kdWxlcy5jb250YWlucygnVGhlbWUgTWFuYWdlcicpKSB7CiAgICBjb250ZXh0LmxvZ2dlci5pbmZvKAogICAgICAgICdUaGVtZSBNYW5hZ2VyIG1vZHVsZSBub3Qgc2VsZWN0ZWQsIHNraXBwaW5nIHRoZW1lIHN5c3RlbSBnZW5lcmF0aW9uJyk7CiAgICByZXR1cm47CiAgfQoKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdHZW5lcmF0aW5nIHRoZW1lIHN5c3RlbSBmb3IgJHByb2plY3ROYW1lJyk7CgogIC8vIENyZWF0ZSBkaXJlY3Rvcnkgc3RydWN0dXJlCiAgZmluYWwgZGlyZWN0b3JpZXMgPSBbCiAgICAnbGliL2NvcmUvZGVzaWduX3N5c3RlbS9hcHBfY29sb3JzJywKICAgICdsaWIvY29yZS9kZXNpZ25fc3lzdGVtL2NvbG9yX2V4dGVuc2lvbicsCiAgICAnbGliL2NvcmUvZGVzaWduX3N5c3RlbS9mb250X2V4dGVuc2lvbicsCiAgICAnbGliL2NvcmUvZGVzaWduX3N5c3RlbS90aGVtZV9leHRlbnNpb24nLAogIF07CgogIGZvciAoZmluYWwgZGlyIGluIGRpcmVjdG9yaWVzKSB7CiAgICBmaW5hbCBkaXJlY3RvcnkgPSBEaXJlY3RvcnkoJyRwcm9qZWN0TmFtZS8kZGlyJyk7CiAgICBpZiAoIWRpcmVjdG9yeS5leGlzdHNTeW5jKCkpIHsKICAgICAgZGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICAgICAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBkaXJlY3Rvcnk6ICRkaXInKTsKICAgIH0KICB9CgogIC8vIEdlbmVyYXRlIHRoZW1lIGZpbGVzCiAgX2dlbmVyYXRlQXBwQ29sb3JzRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgX2dlbmVyYXRlQ29sb3JFeHRlbnNpb25GaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICBfZ2VuZXJhdGVGb250RXh0ZW5zaW9uRmlsZShjb250ZXh0LCBwcm9qZWN0TmFtZSk7CiAgX2dlbmVyYXRlQXBwVGhlbWVFeHRlbnNpb25GaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKICBfZ2VuZXJhdGVUaGVtZU1hbmFnZXJGaWxlKGNvbnRleHQsIHByb2plY3ROYW1lKTsKCiAgLy8gSW50ZWdyYXRlIHdpdGggbWFpbi5kYXJ0IGFuZCBhcHAuZGFydAogIGZpbmFsIHN0YXRlTWFuYWdlbWVudCA9IGNvbnRleHQudmFyc1snc3RhdGVfbWFuYWdlbWVudCddIGFzIFN0cmluZzsKICBpbnRlZ3JhdGVUaGVtZU1hbmFnZXIoY29udGV4dCwgcHJvamVjdE5hbWUsIHN0YXRlTWFuYWdlbWVudCwgbW9kdWxlcyk7CgogIGNvbnRleHQubG9nZ2VyLnN1Y2Nlc3MoJ1RoZW1lIHN5c3RlbSBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5IScpOwp9CgovLy8gR2VuZXJhdGVzIHRoZSBhcHBfY29sb3JzLmRhcnQgZmlsZQp2b2lkIF9nZW5lcmF0ZUFwcENvbG9yc0ZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPQogICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2Rlc2lnbl9zeXN0ZW0vYXBwX2NvbG9ycy9hcHBfY29sb3JzLmRhcnQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CgpjbGFzcyBBcHBDb2xvciB7CiAgc3RhdGljIGNvbnN0IENvbG9yIHRleHRQcmltYXJ5ID0gQ29sb3IoMHhGRjAwMDAwMyk7CiAgc3RhdGljIGNvbnN0IENvbG9yIHRleHRUZXJ0aWFyeSA9IENvbG9yKDB4RkY2NjY2NjYpOwogIHN0YXRpYyBjb25zdCBDb2xvciBzdXJmYWNlQ2FyZCA9IENvbG9yKDB4RkZGNkY2RjcpOwogIHN0YXRpYyBjb25zdCBDb2xvciB0ZXh0SGlnaGxpZ2h0Qmx1ZSA9IENvbG9yKDB4RkYwMDAwRTUpOwogIHN0YXRpYyBjb25zdCBDb2xvciBzdXJmYWNlID0gQ29sb3IoMHhGRkYyRjJGMik7CiAgc3RhdGljIGNvbnN0IENvbG9yIGluYWN0aXZlQnV0dG9uID0gQ29sb3IoMHhGRkQzRDNENyk7CiAgc3RhdGljIGNvbnN0IENvbG9yIGFjdGl2ZUJ1dHRvbiA9IENvbG9yKDB4RkYwMDAwRTUpOwogIHN0YXRpYyBjb25zdCBDb2xvciBhY3RpdmVCdXR0b25EYXJrID0gQ29sb3IuZnJvbUFSR0IoMjU1LCA3MywgNzMsIDIxNSk7CiAgc3RhdGljIGNvbnN0IENvbG9yIHRleHRXaGl0ZSA9IENvbG9yKDB4RkZGNkY2RjcpOwogIHN0YXRpYyBjb25zdCBDb2xvciBpY29uUmVkID0gQ29sb3IoMHhGRkU1MDkwMCk7CiAgc3RhdGljIGNvbnN0IENvbG9yIGljb25CbHVlID0gQ29sb3IoMHhGRjAwMDBFNSk7CiAgc3RhdGljIGNvbnN0IENvbG9yIGJ1dHRvblRlcnRpYXJ5ID0gQ29sb3IoMHhGRkNDRkYwMCk7CiAgc3RhdGljIGNvbnN0IENvbG9yIGJ1dHRvblNlY29uZGFyeSA9IENvbG9yKDB4RkYxNDE2MTkpOwp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlcyB0aGUgYXBwX2NvbG9yX2V4dGVuc2lvbi5kYXJ0IGZpbGUKdm9pZCBfZ2VuZXJhdGVDb2xvckV4dGVuc2lvbkZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPQogICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2Rlc2lnbl9zeXN0ZW0vY29sb3JfZXh0ZW5zaW9uL2FwcF9jb2xvcl9leHRlbnNpb24uZGFydCc7CiAgZmluYWwgcHJvamVjdE5hbWVDYXBpdGFsaXplZCA9IF90b1NlbnRlbmNlQ2FzZShwcm9qZWN0TmFtZSk7CgogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CgovLy8gYFRoZW1lRXh0ZW5zaW9uYCBmb3IgJHByb2plY3ROYW1lQ2FwaXRhbGl6ZWQgY3VzdG9tIGNvbG9ycy4KLy8vCi8vLyBUaGlzIGV4dGVuc2lvbiBpbmNsdWRlcyBjb2xvcnMgZnJvbSB0aGUgJHByb2plY3ROYW1lQ2FwaXRhbGl6ZWQgcGFsZXR0ZSBhbmQgY2FuIGJlIGVhc2lseSB1c2VkCi8vLyB0aHJvdWdob3V0IHRoZSBhcHAgZm9yIGNvbnNpc3RlbnQgdGhlbWluZy4KLy8vCi8vLyBVc2FnZSBleGFtcGxlOiBgVGhlbWUub2YoY29udGV4dCkuZXh0ZW5zaW9uPEFwcENvbG9yRXh0ZW5zaW9uPigpPy50ZXh0UHJpbWFyeWAuCmNsYXNzIEFwcENvbG9yRXh0ZW5zaW9uIGV4dGVuZHMgVGhlbWVFeHRlbnNpb248QXBwQ29sb3JFeHRlbnNpb24+IHsKICBjb25zdCBBcHBDb2xvckV4dGVuc2lvbih7CiAgICByZXF1aXJlZCB0aGlzLnRleHRQcmltYXJ5LAogICAgcmVxdWlyZWQgdGhpcy50ZXh0VGVydGlhcnksCiAgICByZXF1aXJlZCB0aGlzLnN1cmZhY2VDYXJkLAogICAgcmVxdWlyZWQgdGhpcy50ZXh0SGlnaGxpZ2h0Qmx1ZSwKICAgIHJlcXVpcmVkIHRoaXMuc3VyZmFjZSwKICAgIHJlcXVpcmVkIHRoaXMuaW5hY3RpdmVCdXR0b24sCiAgICByZXF1aXJlZCB0aGlzLmFjdGl2ZUJ1dHRvbiwKICAgIHJlcXVpcmVkIHRoaXMudGV4dFdoaXRlLAogICAgcmVxdWlyZWQgdGhpcy5pY29uUmVkLAogICAgcmVxdWlyZWQgdGhpcy5pY29uQmx1ZSwKICAgIHJlcXVpcmVkIHRoaXMuYnV0dG9uVGVydGlhcnksCiAgICByZXF1aXJlZCB0aGlzLmJ1dHRvblNlY29uZGFyeSwKICB9KTsKCiAgZmluYWwgQ29sb3IgdGV4dFByaW1hcnk7CiAgZmluYWwgQ29sb3IgdGV4dFRlcnRpYXJ5OwogIGZpbmFsIENvbG9yIHN1cmZhY2VDYXJkOwogIGZpbmFsIENvbG9yIHRleHRIaWdobGlnaHRCbHVlOwogIGZpbmFsIENvbG9yIHN1cmZhY2U7CiAgZmluYWwgQ29sb3IgaW5hY3RpdmVCdXR0b247CiAgZmluYWwgQ29sb3IgYWN0aXZlQnV0dG9uOwogIGZpbmFsIENvbG9yIHRleHRXaGl0ZTsKICBmaW5hbCBDb2xvciBpY29uUmVkOwogIGZpbmFsIENvbG9yIGljb25CbHVlOwogIGZpbmFsIENvbG9yIGJ1dHRvblRlcnRpYXJ5OwogIGZpbmFsIENvbG9yIGJ1dHRvblNlY29uZGFyeTsKCiAgQG92ZXJyaWRlCiAgVGhlbWVFeHRlbnNpb248QXBwQ29sb3JFeHRlbnNpb24+IGNvcHlXaXRoKHsKICAgIENvbG9yPyB0ZXh0UHJpbWFyeSwKICAgIENvbG9yPyB0ZXh0VGVydGlhcnksCiAgICBDb2xvcj8gc3VyZmFjZUNhcmQsCiAgICBDb2xvcj8gdGV4dEhpZ2hsaWdodEJsdWUsCiAgICBDb2xvcj8gc3VyZmFjZSwKICAgIENvbG9yPyBpbmFjdGl2ZUJ1dHRvbiwKICAgIENvbG9yPyBhY3RpdmVCdXR0b24sCiAgICBDb2xvcj8gdGV4dFdoaXRlLAogICAgQ29sb3I/IGljb25SZWQsCiAgICBDb2xvcj8gaWNvbkJsdWUsCiAgICBDb2xvcj8gYnV0dG9uVGVydGlhcnksCiAgICBDb2xvcj8gYnV0dG9uU2Vjb25kYXJ5LAogIH0pIHsKICAgIHJldHVybiBBcHBDb2xvckV4dGVuc2lvbigKICAgICAgdGV4dFByaW1hcnk6IHRleHRQcmltYXJ5ID8/IHRoaXMudGV4dFByaW1hcnksCiAgICAgIHRleHRUZXJ0aWFyeTogdGV4dFRlcnRpYXJ5ID8/IHRoaXMudGV4dFRlcnRpYXJ5LAogICAgICBzdXJmYWNlQ2FyZDogc3VyZmFjZUNhcmQgPz8gdGhpcy5zdXJmYWNlQ2FyZCwKICAgICAgdGV4dEhpZ2hsaWdodEJsdWU6IHRleHRIaWdobGlnaHRCbHVlID8/IHRoaXMudGV4dEhpZ2hsaWdodEJsdWUsCiAgICAgIHN1cmZhY2U6IHN1cmZhY2UgPz8gdGhpcy5zdXJmYWNlLAogICAgICBpbmFjdGl2ZUJ1dHRvbjogaW5hY3RpdmVCdXR0b24gPz8gdGhpcy5pbmFjdGl2ZUJ1dHRvbiwKICAgICAgYWN0aXZlQnV0dG9uOiBhY3RpdmVCdXR0b24gPz8gdGhpcy5hY3RpdmVCdXR0b24sCiAgICAgIHRleHRXaGl0ZTogdGV4dFdoaXRlID8/IHRoaXMudGV4dFdoaXRlLAogICAgICBpY29uUmVkOiBpY29uUmVkID8/IHRoaXMuaWNvblJlZCwKICAgICAgaWNvbkJsdWU6IGljb25CbHVlID8/IHRoaXMuaWNvbkJsdWUsCiAgICAgIGJ1dHRvblRlcnRpYXJ5OiBidXR0b25UZXJ0aWFyeSA/PyB0aGlzLmJ1dHRvblRlcnRpYXJ5LAogICAgICBidXR0b25TZWNvbmRhcnk6IGJ1dHRvblNlY29uZGFyeSA/PyB0aGlzLmJ1dHRvblNlY29uZGFyeSwKICAgICk7CiAgfQoKICBAb3ZlcnJpZGUKICBUaGVtZUV4dGVuc2lvbjxBcHBDb2xvckV4dGVuc2lvbj4gbGVycCgKICAgIGNvdmFyaWFudCBUaGVtZUV4dGVuc2lvbjxBcHBDb2xvckV4dGVuc2lvbj4/IG90aGVyLAogICAgZG91YmxlIHQsCiAgKSB7CiAgICBpZiAob3RoZXIgaXMhIEFwcENvbG9yRXh0ZW5zaW9uKSB7CiAgICAgIHJldHVybiB0aGlzOwogICAgfQogICAgcmV0dXJuIEFwcENvbG9yRXh0ZW5zaW9uKAogICAgICB0ZXh0UHJpbWFyeTogQ29sb3IubGVycCh0ZXh0UHJpbWFyeSwgb3RoZXIudGV4dFByaW1hcnksIHQpISwKICAgICAgdGV4dFRlcnRpYXJ5OiBDb2xvci5sZXJwKHRleHRUZXJ0aWFyeSwgb3RoZXIudGV4dFRlcnRpYXJ5LCB0KSEsCiAgICAgIHN1cmZhY2VDYXJkOiBDb2xvci5sZXJwKHN1cmZhY2VDYXJkLCBvdGhlci5zdXJmYWNlQ2FyZCwgdCkhLAogICAgICB0ZXh0SGlnaGxpZ2h0Qmx1ZToKICAgICAgICAgIENvbG9yLmxlcnAodGV4dEhpZ2hsaWdodEJsdWUsIG90aGVyLnRleHRIaWdobGlnaHRCbHVlLCB0KSEsCiAgICAgIHN1cmZhY2U6IENvbG9yLmxlcnAoc3VyZmFjZSwgb3RoZXIuc3VyZmFjZSwgdCkhLAogICAgICBpbmFjdGl2ZUJ1dHRvbjogQ29sb3IubGVycChpbmFjdGl2ZUJ1dHRvbiwgb3RoZXIuaW5hY3RpdmVCdXR0b24sIHQpISwKICAgICAgYWN0aXZlQnV0dG9uOiBDb2xvci5sZXJwKGFjdGl2ZUJ1dHRvbiwgb3RoZXIuYWN0aXZlQnV0dG9uLCB0KSEsCiAgICAgIHRleHRXaGl0ZTogQ29sb3IubGVycCh0ZXh0V2hpdGUsIG90aGVyLnRleHRXaGl0ZSwgdCkhLAogICAgICBpY29uUmVkOiBDb2xvci5sZXJwKGljb25SZWQsIG90aGVyLmljb25SZWQsIHQpISwKICAgICAgaWNvbkJsdWU6IENvbG9yLmxlcnAoaWNvbkJsdWUsIG90aGVyLmljb25CbHVlLCB0KSEsCiAgICAgIGJ1dHRvblRlcnRpYXJ5OiBDb2xvci5sZXJwKGJ1dHRvblRlcnRpYXJ5LCBvdGhlci5idXR0b25UZXJ0aWFyeSwgdCkhLAogICAgICBidXR0b25TZWNvbmRhcnk6IENvbG9yLmxlcnAoYnV0dG9uU2Vjb25kYXJ5LCBvdGhlci5idXR0b25TZWNvbmRhcnksIHQpISwKICAgICk7CiAgfQp9CgovLy8gRXh0ZW5zaW9uIHRvIGNyZWF0ZSBhIENvbG9yU2NoZW1lIGZyb20gQXBwQ29sb3JFeHRlbnNpb24uCmV4dGVuc2lvbiBDb2xvclNjaGVtZUJ1aWxkZXIgb24gQXBwQ29sb3JFeHRlbnNpb24gewogIENvbG9yU2NoZW1lIHRvQ29sb3JTY2hlbWUoQnJpZ2h0bmVzcyBicmlnaHRuZXNzKSB7CiAgICByZXR1cm4gQ29sb3JTY2hlbWUoCiAgICAgIGJyaWdodG5lc3M6IGJyaWdodG5lc3MsCiAgICAgIHByaW1hcnk6IHRleHRQcmltYXJ5LAogICAgICBvblByaW1hcnk6IHRleHRXaGl0ZSwKICAgICAgc2Vjb25kYXJ5OiBhY3RpdmVCdXR0b24sCiAgICAgIG9uU2Vjb25kYXJ5OiBidXR0b25TZWNvbmRhcnksCiAgICAgIGVycm9yOiBpY29uUmVkLAogICAgICBvbkVycm9yOiB0ZXh0V2hpdGUsCiAgICAgIGJhY2tncm91bmQ6IHN1cmZhY2UsCiAgICAgIG9uQmFja2dyb3VuZDogdGV4dFByaW1hcnksCiAgICAgIHN1cmZhY2U6IHN1cmZhY2UsCiAgICAgIG9uU3VyZmFjZTogdGV4dFByaW1hcnksCiAgICApOwogIH0KfQonJyc7CgogIGZpbmFsIGZpbGUgPSBGaWxlKGZpbGVQYXRoKTsKICBmaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJGZpbGVQYXRoJyk7Cn0KCi8vLyBHZW5lcmF0ZXMgdGhlIGZvbnRfZXh0ZW5zaW9uLmRhcnQgZmlsZQp2b2lkIF9nZW5lcmF0ZUZvbnRFeHRlbnNpb25GaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9kZXNpZ25fc3lzdGVtL2ZvbnRfZXh0ZW5zaW9uL2ZvbnRfZXh0ZW5zaW9uLmRhcnQnOwogIGZpbmFsIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CgovLy8gYFRoZW1lRXh0ZW5zaW9uYCB0ZW1wbGF0ZSBmb3IgY3VzdG9tIHRleHQgc3R5bGVzLgovLy8gCi8vLyBUaGlzIGV4dGVuc2lvbiBkZWZpbmVzIHRoZSB0eXBvZ3JhcGh5IHN0eWxlcyB1c2VkIHRocm91Z2hvdXQgdGhlIGFwcC4KY2xhc3MgQXBwRm9udFRoZW1lRXh0ZW5zaW9uIGV4dGVuZHMgVGhlbWVFeHRlbnNpb248QXBwRm9udFRoZW1lRXh0ZW5zaW9uPiB7CiAgY29uc3QgQXBwRm9udFRoZW1lRXh0ZW5zaW9uKHsKICAgIHJlcXVpcmVkIHRoaXMuaGVhZGVyTGFyZ2VyLAogICAgcmVxdWlyZWQgdGhpcy5oZWFkZXJTbWFsbCwKICAgIHJlcXVpcmVkIHRoaXMuc3ViSGVhZGVyLAogICAgcmVxdWlyZWQgdGhpcy5ib2R5TWVkaXVtLAogIH0pOwoKICBmaW5hbCBUZXh0U3R5bGUgaGVhZGVyTGFyZ2VyOwogIGZpbmFsIFRleHRTdHlsZSBoZWFkZXJTbWFsbDsKICBmaW5hbCBUZXh0U3R5bGUgc3ViSGVhZGVyOwogIGZpbmFsIFRleHRTdHlsZSBib2R5TWVkaXVtOwoKICBAb3ZlcnJpZGUKICBUaGVtZUV4dGVuc2lvbjxBcHBGb250VGhlbWVFeHRlbnNpb24+IGNvcHlXaXRoKHsKICAgIFRleHRTdHlsZT8gaGVhZGVyTGFyZ2VyLAogICAgVGV4dFN0eWxlPyBoZWFkZXJTbWFsbCwKICAgIFRleHRTdHlsZT8gc3ViSGVhZGVyLAogICAgVGV4dFN0eWxlPyBib2R5TWVkaXVtLAogIH0pIHsKICAgIHJldHVybiBBcHBGb250VGhlbWVFeHRlbnNpb24oCiAgICAgIGhlYWRlckxhcmdlcjogaGVhZGVyTGFyZ2VyID8/IHRoaXMuaGVhZGVyTGFyZ2VyLAogICAgICBoZWFkZXJTbWFsbDogaGVhZGVyU21hbGwgPz8gdGhpcy5oZWFkZXJTbWFsbCwKICAgICAgc3ViSGVhZGVyOiBzdWJIZWFkZXIgPz8gdGhpcy5zdWJIZWFkZXIsCiAgICAgIGJvZHlNZWRpdW06IGJvZHlNZWRpdW0gPz8gdGhpcy5ib2R5TWVkaXVtLAogICAgKTsKICB9CgogIEBvdmVycmlkZQogIFRoZW1lRXh0ZW5zaW9uPEFwcEZvbnRUaGVtZUV4dGVuc2lvbj4gbGVycCgKICAgIGNvdmFyaWFudCBUaGVtZUV4dGVuc2lvbjxBcHBGb250VGhlbWVFeHRlbnNpb24+PyBvdGhlciwKICAgIGRvdWJsZSB0LAogICkgewogICAgaWYgKG90aGVyIGlzISBBcHBGb250VGhlbWVFeHRlbnNpb24pIHsKICAgICAgcmV0dXJuIHRoaXM7CiAgICB9CgogICAgcmV0dXJuIEFwcEZvbnRUaGVtZUV4dGVuc2lvbigKICAgICAgaGVhZGVyTGFyZ2VyOiBUZXh0U3R5bGUubGVycChoZWFkZXJMYXJnZXIsIG90aGVyLmhlYWRlckxhcmdlciwgdCkhLAogICAgICBoZWFkZXJTbWFsbDogVGV4dFN0eWxlLmxlcnAoaGVhZGVyU21hbGwsIG90aGVyLmhlYWRlclNtYWxsLCB0KSEsCiAgICAgIHN1YkhlYWRlcjogVGV4dFN0eWxlLmxlcnAoc3ViSGVhZGVyLCBvdGhlci5zdWJIZWFkZXIsIHQpISwKICAgICAgYm9keU1lZGl1bTogVGV4dFN0eWxlLmxlcnAoYm9keU1lZGl1bSwgb3RoZXIuYm9keU1lZGl1bSwgdCkhLAogICAgKTsKICB9Cn0KJycnOwoKICBmaW5hbCBmaWxlID0gRmlsZShmaWxlUGF0aCk7CiAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCcpOwp9CgovLy8gR2VuZXJhdGVzIHRoZSBhcHBfdGhlbWVfZXh0ZW5zaW9uLmRhcnQgZmlsZQp2b2lkIF9nZW5lcmF0ZUFwcFRoZW1lRXh0ZW5zaW9uRmlsZShIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUpIHsKICBmaW5hbCBmaWxlUGF0aCA9CiAgICAgICckcHJvamVjdE5hbWUvbGliL2NvcmUvZGVzaWduX3N5c3RlbS90aGVtZV9leHRlbnNpb24vYXBwX3RoZW1lX2V4dGVuc2lvbi5kYXJ0JzsKICBmaW5hbCBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwoKaW1wb3J0ICcuLi9hcHBfY29sb3JzL2FwcF9jb2xvcnMuZGFydCc7CmltcG9ydCAnLi4vY29sb3JfZXh0ZW5zaW9uL2FwcF9jb2xvcl9leHRlbnNpb24uZGFydCc7CmltcG9ydCAnLi4vZm9udF9leHRlbnNpb24vZm9udF9leHRlbnNpb24uZGFydCc7CgpjbGFzcyBBcHBUaGVtZSB7CiAgc3RhdGljIGZpbmFsIGxpZ2h0ID0gKCkgewogICAgZmluYWwgZGVmYXVsdFRoZW1lID0gVGhlbWVEYXRhLmxpZ2h0KCk7CgogICAgcmV0dXJuIGRlZmF1bHRUaGVtZS5jb3B5V2l0aCgKICAgICAgY29sb3JTY2hlbWU6IF9saWdodEFwcENvbG9ycy50b0NvbG9yU2NoZW1lKEJyaWdodG5lc3MubGlnaHQpLAogICAgICBzY2FmZm9sZEJhY2tncm91bmRDb2xvcjogX2xpZ2h0QXBwQ29sb3JzLnN1cmZhY2UsCiAgICAgIGFwcEJhclRoZW1lOiBBcHBCYXJUaGVtZSgKICAgICAgICBjb2xvcjogX2xpZ2h0QXBwQ29sb3JzLnN1cmZhY2UsCiAgICAgICksCiAgICAgIGV4dGVuc2lvbnM6IFsKICAgICAgICBfbGlnaHRBcHBDb2xvcnMsCiAgICAgICAgX2xpZ2h0Rm9udFRoZW1lLAogICAgICBdLAogICAgKTsKICB9KCk7CgogIHN0YXRpYyBmaW5hbCBkYXJrID0gKCkgewogICAgZmluYWwgZGVmYXVsdFRoZW1lID0gVGhlbWVEYXRhLmRhcmsoKTsKCiAgICByZXR1cm4gZGVmYXVsdFRoZW1lLmNvcHlXaXRoKAogICAgICBjb2xvclNjaGVtZTogX2RhcmtBcHBDb2xvcnMudG9Db2xvclNjaGVtZShCcmlnaHRuZXNzLmRhcmspLAogICAgICBzY2FmZm9sZEJhY2tncm91bmRDb2xvcjogX2RhcmtBcHBDb2xvcnMuc3VyZmFjZSwKICAgICAgYXBwQmFyVGhlbWU6IEFwcEJhclRoZW1lKAogICAgICAgIGNvbG9yOiBfZGFya0FwcENvbG9ycy5zdXJmYWNlLAogICAgICApLAogICAgICBleHRlbnNpb25zOiBbCiAgICAgICAgX2RhcmtBcHBDb2xvcnMsCiAgICAgICAgX2RhcmtGb250VGhlbWUsCiAgICAgIF0sCiAgICApOwogIH0oKTsKCiAgc3RhdGljIGZpbmFsIF9saWdodEZvbnRUaGVtZSA9IEFwcEZvbnRUaGVtZUV4dGVuc2lvbigKICAgIGhlYWRlckxhcmdlcjogVGV4dFN0eWxlKAogICAgICBmb250U2l6ZTogMjgsCiAgICAgIGZvbnRXZWlnaHQ6IEZvbnRXZWlnaHQudzcwMCwKICAgICAgY29sb3I6IF9saWdodEFwcENvbG9ycy50ZXh0UHJpbWFyeSwKICAgICksCiAgICBoZWFkZXJTbWFsbDogVGV4dFN0eWxlKAogICAgICBmb250U2l6ZTogMTIsCiAgICAgIGZvbnRXZWlnaHQ6IEZvbnRXZWlnaHQudzcwMCwKICAgICAgY29sb3I6IF9saWdodEFwcENvbG9ycy50ZXh0UHJpbWFyeSwKICAgICksCiAgICBzdWJIZWFkZXI6IFRleHRTdHlsZSgKICAgICAgZm9udFNpemU6IDE0LAogICAgICBmb250V2VpZ2h0OiBGb250V2VpZ2h0Lnc0MDAsCiAgICAgIGNvbG9yOiBfbGlnaHRBcHBDb2xvcnMudGV4dFRlcnRpYXJ5LAogICAgKSwKICAgIGJvZHlNZWRpdW06IFRleHRTdHlsZSgKICAgICAgZm9udFNpemU6IDEyLAogICAgICBmb250V2VpZ2h0OiBGb250V2VpZ2h0Lnc0MDAsCiAgICAgIGNvbG9yOiBfbGlnaHRBcHBDb2xvcnMudGV4dFByaW1hcnksCiAgICApLAogICk7CgogIHN0YXRpYyBmaW5hbCBfZGFya0ZvbnRUaGVtZSA9IEFwcEZvbnRUaGVtZUV4dGVuc2lvbigKICAgIGhlYWRlckxhcmdlcjogVGV4dFN0eWxlKAogICAgICBmb250U2l6ZTogMjgsCiAgICAgIGZvbnRXZWlnaHQ6IEZvbnRXZWlnaHQudzcwMCwKICAgICAgY29sb3I6IF9kYXJrQXBwQ29sb3JzLnRleHRQcmltYXJ5LAogICAgKSwKICAgIGhlYWRlclNtYWxsOiBUZXh0U3R5bGUoCiAgICAgIGZvbnRTaXplOiAxMiwKICAgICAgZm9udFdlaWdodDogRm9udFdlaWdodC53NzAwLAogICAgICBjb2xvcjogX2RhcmtBcHBDb2xvcnMudGV4dFByaW1hcnksCiAgICApLAogICAgc3ViSGVhZGVyOiBUZXh0U3R5bGUoCiAgICAgIGZvbnRTaXplOiAxNCwKICAgICAgZm9udFdlaWdodDogRm9udFdlaWdodC53NDAwLAogICAgICBjb2xvcjogX2RhcmtBcHBDb2xvcnMudGV4dFRlcnRpYXJ5LAogICAgKSwKICAgIGJvZHlNZWRpdW06IFRleHRTdHlsZSgKICAgICAgZm9udFNpemU6IDEyLAogICAgICBmb250V2VpZ2h0OiBGb250V2VpZ2h0Lnc0MDAsCiAgICAgIGNvbG9yOiBfZGFya0FwcENvbG9ycy50ZXh0UHJpbWFyeSwKICAgICksCiAgKTsKCiAgc3RhdGljIGNvbnN0IF9saWdodEFwcENvbG9ycyA9IEFwcENvbG9yRXh0ZW5zaW9uKAogICAgdGV4dFByaW1hcnk6IEFwcENvbG9yLnRleHRQcmltYXJ5LAogICAgdGV4dFRlcnRpYXJ5OiBBcHBDb2xvci50ZXh0VGVydGlhcnksCiAgICBzdXJmYWNlQ2FyZDogQXBwQ29sb3Iuc3VyZmFjZUNhcmQsCiAgICB0ZXh0SGlnaGxpZ2h0Qmx1ZTogQXBwQ29sb3IudGV4dEhpZ2hsaWdodEJsdWUsCiAgICBzdXJmYWNlOiBBcHBDb2xvci5zdXJmYWNlLAogICAgaW5hY3RpdmVCdXR0b246IEFwcENvbG9yLmluYWN0aXZlQnV0dG9uLAogICAgYWN0aXZlQnV0dG9uOiBBcHBDb2xvci5hY3RpdmVCdXR0b24sCiAgICB0ZXh0V2hpdGU6IEFwcENvbG9yLnRleHRXaGl0ZSwKICAgIGljb25SZWQ6IEFwcENvbG9yLmljb25SZWQsCiAgICBpY29uQmx1ZTogQXBwQ29sb3IuaWNvbkJsdWUsCiAgICBidXR0b25UZXJ0aWFyeTogQXBwQ29sb3IuYnV0dG9uVGVydGlhcnksCiAgICBidXR0b25TZWNvbmRhcnk6IEFwcENvbG9yLmJ1dHRvblNlY29uZGFyeSwKICApOwoKICBzdGF0aWMgY29uc3QgX2RhcmtBcHBDb2xvcnMgPSBBcHBDb2xvckV4dGVuc2lvbigKICAgIHRleHRQcmltYXJ5OiBBcHBDb2xvci50ZXh0V2hpdGUsCiAgICB0ZXh0VGVydGlhcnk6IEFwcENvbG9yLnRleHRUZXJ0aWFyeSwKICAgIHN1cmZhY2VDYXJkOiBBcHBDb2xvci5idXR0b25TZWNvbmRhcnksCiAgICB0ZXh0SGlnaGxpZ2h0Qmx1ZTogQXBwQ29sb3IuYWN0aXZlQnV0dG9uRGFyaywKICAgIHN1cmZhY2U6IEFwcENvbG9yLnRleHRQcmltYXJ5LAogICAgaW5hY3RpdmVCdXR0b246IEFwcENvbG9yLmluYWN0aXZlQnV0dG9uLAogICAgYWN0aXZlQnV0dG9uOiBBcHBDb2xvci5hY3RpdmVCdXR0b25EYXJrLAogICAgdGV4dFdoaXRlOiBBcHBDb2xvci50ZXh0UHJpbWFyeSwKICAgIGljb25SZWQ6IEFwcENvbG9yLmljb25SZWQsCiAgICBpY29uQmx1ZTogQXBwQ29sb3IuaWNvbkJsdWUsCiAgICBidXR0b25UZXJ0aWFyeTogQXBwQ29sb3IuYnV0dG9uVGVydGlhcnksCiAgICBidXR0b25TZWNvbmRhcnk6IEFwcENvbG9yLmJ1dHRvblNlY29uZGFyeSwKICApOwp9CgpleHRlbnNpb24gVGhlbWVHZXR0ZXIgb24gQnVpbGRDb250ZXh0IHsKICBUaGVtZURhdGEgZ2V0IHRoZW1lID0+IFRoZW1lLm9mKHRoaXMpOwoKICBUZXh0VGhlbWUgZ2V0IHRleHRUaGVtZSA9PiB0aGVtZS50ZXh0VGhlbWU7CgogIENvbG9yU2NoZW1lIGdldCBjb2xvclNjaGVtZSA9PiB0aGVtZS5jb2xvclNjaGVtZTsKfQoKZXh0ZW5zaW9uIEFwcFRoZW1lRXh0ZW5zaW9uIG9uIFRoZW1lRGF0YSB7CiAgQXBwQ29sb3JFeHRlbnNpb24gZ2V0IGNvbG9ycyA9PgogICAgICBleHRlbnNpb248QXBwQ29sb3JFeHRlbnNpb24+KCkgPz8gQXBwVGhlbWUuX2xpZ2h0QXBwQ29sb3JzOwoKICBBcHBGb250VGhlbWVFeHRlbnNpb24gZ2V0IGZvbnRzID0+CiAgICAgIGV4dGVuc2lvbjxBcHBGb250VGhlbWVFeHRlbnNpb24+KCkgPz8gQXBwVGhlbWUuX2xpZ2h0Rm9udFRoZW1lOwp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEdlbmVyYXRlcyB0aGUgdGhlbWVfbWFuYWdlci5kYXJ0IGZpbGUgYmFzZWQgb24gc2VsZWN0ZWQgc3RhdGUgbWFuYWdlbWVudAp2b2lkIF9nZW5lcmF0ZVRoZW1lTWFuYWdlckZpbGUoSG9va0NvbnRleHQgY29udGV4dCwgU3RyaW5nIHByb2plY3ROYW1lKSB7CiAgZmluYWwgZmlsZVBhdGggPQogICAgICAnJHByb2plY3ROYW1lL2xpYi9jb3JlL2Rlc2lnbl9zeXN0ZW0vdGhlbWVfZXh0ZW5zaW9uL3RoZW1lX21hbmFnZXIuZGFydCc7CiAgZmluYWwgc3RhdGVNYW5hZ2VtZW50ID0gY29udGV4dC52YXJzWydzdGF0ZV9tYW5hZ2VtZW50J10gYXMgU3RyaW5nOwoKICBTdHJpbmcgY29udGVudCA9ICcnOwoKICAvLyBEaWZmZXJlbnQgaW1wbGVtZW50YXRpb25zIGJhc2VkIG9uIHN0YXRlIG1hbmFnZW1lbnQKICBzd2l0Y2ggKHN0YXRlTWFuYWdlbWVudCkgewogICAgY2FzZSAnQkxvQyc6CiAgICBjYXNlICdCbG9jJzoKICAgICAgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6YmxvYy9ibG9jLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnNoYXJlZF9wcmVmZXJlbmNlcy9zaGFyZWRfcHJlZmVyZW5jZXMuZGFydCc7CgovLy8gRW51bSByZXByZXNlbnRpbmcgZGlmZmVyZW50IHRoZW1lIG1vZGVzCmVudW0gVGhlbWVNb2RlRW51bSB7CiAgbGlnaHQsCiAgZGFyaywKICBzeXN0ZW07CgogIC8vLyBDb252ZXJ0IFRoZW1lTW9kZUVudW0gdG8gRmx1dHRlcidzIFRoZW1lTW9kZQogIFRoZW1lTW9kZSB0b1RoZW1lTW9kZSgpIHsKICAgIHN3aXRjaCAodGhpcykgewogICAgICBjYXNlIFRoZW1lTW9kZUVudW0ubGlnaHQ6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5saWdodDsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmRhcms6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5kYXJrOwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uc3lzdGVtOgogICAgICAgIHJldHVybiBUaGVtZU1vZGUuc3lzdGVtOwogICAgfQogIH0KCiAgLy8vIEdldCB0aGUgc3RyaW5nIG5hbWUgb2YgdGhlIHRoZW1lIG1vZGUKICBTdHJpbmcgZ2V0IG5hbWUgewogICAgc3dpdGNoICh0aGlzKSB7CiAgICAgIGNhc2UgVGhlbWVNb2RlRW51bS5saWdodDoKICAgICAgICByZXR1cm4gJ0xpZ2h0JzsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmRhcms6CiAgICAgICAgcmV0dXJuICdEYXJrJzsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLnN5c3RlbToKICAgICAgICByZXR1cm4gJ1N5c3RlbSc7CiAgICB9CiAgfQp9CgovLy8gQ2xhc3MgdG8gbWFuYWdlIHRoZSB0aGVtZSBzdGF0ZSB1c2luZyBTaGFyZWRQcmVmZXJlbmNlcwpjbGFzcyBUaGVtZU1hbmFnZXIgewogIHN0YXRpYyBjb25zdCBTdHJpbmcgX3RoZW1lS2V5ID0gJ2FwcF90aGVtZSc7CiAgVGhlbWVNb2RlRW51bSBfY3VycmVudFRoZW1lID0gVGhlbWVNb2RlRW51bS5zeXN0ZW07CiAgZmluYWwgTGlzdDxGdW5jdGlvbihUaGVtZU1vZGVFbnVtKT4gX2xpc3RlbmVycyA9IFtdOwoKICAvLy8gRnVuY3Rpb24gdG8gaW5pdGlhbGl6ZSB0aGUgdGhlbWUgbWFuYWdlcgogIEZ1dHVyZTx2b2lkPiBpbml0aWFsaXplKCkgYXN5bmMgewogICAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogICAgZmluYWwgdGhlbWVJbmRleCA9IHByZWZzLmdldEludChfdGhlbWVLZXkpOwoKICAgIGlmICh0aGVtZUluZGV4ICE9IG51bGwpIHsKICAgICAgX2N1cnJlbnRUaGVtZSA9IFRoZW1lTW9kZUVudW0KICAgICAgICAgIC52YWx1ZXNbdGhlbWVJbmRleC5jbGFtcCgwLCBUaGVtZU1vZGVFbnVtLnZhbHVlcy5sZW5ndGggLSAxKV07CiAgICB9CiAgfQoKICAvLy8gR2V0IHRoZSBjdXJyZW50IHRoZW1lIG1vZGUKICBUaGVtZU1vZGVFbnVtIGdldCBjdXJyZW50VGhlbWUgPT4gX2N1cnJlbnRUaGVtZTsKCiAgLy8vIEdldCB0aGUgRmx1dHRlciBUaGVtZU1vZGUKICBUaGVtZU1vZGUgZ2V0IHRoZW1lTW9kZSA9PiBfY3VycmVudFRoZW1lLnRvVGhlbWVNb2RlKCk7CgogIC8vLyBGdW5jdGlvbiB0byBzZXQgdGhlIHRoZW1lCiAgRnV0dXJlPHZvaWQ+IHNldFRoZW1lKFRoZW1lTW9kZUVudW0gdGhlbWUpIGFzeW5jIHsKICAgIGlmIChfY3VycmVudFRoZW1lICE9IHRoZW1lKSB7CiAgICAgIF9jdXJyZW50VGhlbWUgPSB0aGVtZTsKICAgICAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogICAgICBhd2FpdCBwcmVmcy5zZXRJbnQoX3RoZW1lS2V5LCB0aGVtZS5pbmRleCk7CgogICAgICAvLyBOb3RpZnkgYWxsIGxpc3RlbmVycwogICAgICBmb3IgKGZpbmFsIGxpc3RlbmVyIGluIF9saXN0ZW5lcnMpIHsKICAgICAgICBsaXN0ZW5lcih0aGVtZSk7CiAgICAgIH0KICAgIH0KICB9CgogIC8vLyBBZGQgYSBsaXN0ZW5lciBmb3IgdGhlbWUgY2hhbmdlcwogIHZvaWQgYWRkTGlzdGVuZXIoRnVuY3Rpb24oVGhlbWVNb2RlRW51bSkgbGlzdGVuZXIpIHsKICAgIF9saXN0ZW5lcnMuYWRkKGxpc3RlbmVyKTsKICB9CgogIC8vLyBSZW1vdmUgYSBsaXN0ZW5lcgogIHZvaWQgcmVtb3ZlTGlzdGVuZXIoRnVuY3Rpb24oVGhlbWVNb2RlRW51bSkgbGlzdGVuZXIpIHsKICAgIF9saXN0ZW5lcnMucmVtb3ZlKGxpc3RlbmVyKTsKICB9CgogIC8vLyBDaGVjayBpZiB0aGUgY3VycmVudCB0aGVtZSBpcyBkYXJrCiAgYm9vbCBnZXQgaXNEYXJrTW9kZSB7CiAgICBpZiAoX2N1cnJlbnRUaGVtZSA9PSBUaGVtZU1vZGVFbnVtLnN5c3RlbSkgewogICAgICAvLyBHZXQgc3lzdGVtIGJyaWdodG5lc3Mgd2hlbiBpbiBzeXN0ZW0gbW9kZQogICAgICBmaW5hbCBicmlnaHRuZXNzID0KICAgICAgICAgIFdpZGdldHNCaW5kaW5nLmluc3RhbmNlLnBsYXRmb3JtRGlzcGF0Y2hlci5wbGF0Zm9ybUJyaWdodG5lc3M7CiAgICAgIHJldHVybiBicmlnaHRuZXNzID09IEJyaWdodG5lc3MuZGFyazsKICAgIH0KICAgIHJldHVybiBfY3VycmVudFRoZW1lID09IFRoZW1lTW9kZUVudW0uZGFyazsKICB9Cn0KCi8vLyBUaGVtZU1hbmFnZXIgaW5zdGFuY2UgdG8gYmUgdXNlZCB0aHJvdWdob3V0IHRoZSBhcHAKZmluYWwgdGhlbWVNYW5hZ2VyID0gVGhlbWVNYW5hZ2VyKCk7CgovLy8gQmxvYyBpbXBsZW1lbnRhdGlvbiBmb3IgdGhlbWUgbWFuYWdlbWVudApjbGFzcyBUaGVtZVN0YXRlIHsKICBmaW5hbCBUaGVtZU1vZGVFbnVtIHRoZW1lTW9kZTsKCiAgVGhlbWVTdGF0ZSh0aGlzLnRoZW1lTW9kZSk7Cn0KCmNsYXNzIFRoZW1lQ3ViaXQgZXh0ZW5kcyBDdWJpdDxUaGVtZVN0YXRlPiB7CiAgVGhlbWVDdWJpdCgpIDogc3VwZXIoVGhlbWVTdGF0ZShUaGVtZU1vZGVFbnVtLnN5c3RlbSkpIHsKICAgIC8vIEluaXRpYWxpemUgZnJvbSBzaGFyZWQgcHJlZmVyZW5jZXMKICAgIHRoZW1lTWFuYWdlci5pbml0aWFsaXplKCkudGhlbigoXykgewogICAgICBlbWl0KFRoZW1lU3RhdGUodGhlbWVNYW5hZ2VyLmN1cnJlbnRUaGVtZSkpOwogICAgfSk7CgogICAgLy8gQWRkIGxpc3RlbmVyIGZvciB0aGVtZSBjaGFuZ2VzCiAgICB0aGVtZU1hbmFnZXIuYWRkTGlzdGVuZXIoX29uVGhlbWVDaGFuZ2VkKTsKICB9CgogIHZvaWQgc2V0VGhlbWUoVGhlbWVNb2RlRW51bSB0aGVtZSkgewogICAgdGhlbWVNYW5hZ2VyLnNldFRoZW1lKHRoZW1lKTsKICB9CgogIHZvaWQgX29uVGhlbWVDaGFuZ2VkKFRoZW1lTW9kZUVudW0gdGhlbWUpIHsKICAgIGVtaXQoVGhlbWVTdGF0ZSh0aGVtZSkpOwogIH0KCiAgQG92ZXJyaWRlCiAgRnV0dXJlPHZvaWQ+IGNsb3NlKCkgewogICAgdGhlbWVNYW5hZ2VyLnJlbW92ZUxpc3RlbmVyKF9vblRoZW1lQ2hhbmdlZCk7CiAgICByZXR1cm4gc3VwZXIuY2xvc2UoKTsKICB9Cn0KJycnOwogICAgICBicmVhazsKCiAgICBjYXNlICdQcm92aWRlcic6CiAgICAgIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTpwcm92aWRlci9wcm92aWRlci5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnNoYXJlZF9wcmVmZXJlbmNlcy9zaGFyZWRfcHJlZmVyZW5jZXMuZGFydCc7CgovLy8gRW51bSByZXByZXNlbnRpbmcgZGlmZmVyZW50IHRoZW1lIG1vZGVzCmVudW0gVGhlbWVNb2RlRW51bSB7CiAgbGlnaHQsCiAgZGFyaywKICBzeXN0ZW07CgogIC8vLyBDb252ZXJ0IFRoZW1lTW9kZUVudW0gdG8gRmx1dHRlcidzIFRoZW1lTW9kZQogIFRoZW1lTW9kZSB0b1RoZW1lTW9kZSgpIHsKICAgIHN3aXRjaCAodGhpcykgewogICAgICBjYXNlIFRoZW1lTW9kZUVudW0ubGlnaHQ6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5saWdodDsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmRhcms6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5kYXJrOwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uc3lzdGVtOgogICAgICAgIHJldHVybiBUaGVtZU1vZGUuc3lzdGVtOwogICAgfQogIH0KCiAgLy8vIEdldCB0aGUgc3RyaW5nIG5hbWUgb2YgdGhlIHRoZW1lIG1vZGUKICBTdHJpbmcgZ2V0IG5hbWUgewogICAgc3dpdGNoICh0aGlzKSB7CiAgICAgIGNhc2UgVGhlbWVNb2RlRW51bS5saWdodDoKICAgICAgICByZXR1cm4gJ0xpZ2h0JzsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmRhcms6CiAgICAgICAgcmV0dXJuICdEYXJrJzsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLnN5c3RlbToKICAgICAgICByZXR1cm4gJ1N5c3RlbSc7CiAgICB9CiAgfQp9CgovLy8gUHJvdmlkZXIgaW1wbGVtZW50YXRpb24gZm9yIHRoZW1lIG1hbmFnZW1lbnQKY2xhc3MgVGhlbWVQcm92aWRlciBleHRlbmRzIENoYW5nZU5vdGlmaWVyIHsKICBzdGF0aWMgY29uc3QgU3RyaW5nIF90aGVtZUtleSA9ICdhcHBfdGhlbWUnOwogIFRoZW1lTW9kZUVudW0gX3RoZW1lTW9kZSA9IFRoZW1lTW9kZUVudW0uc3lzdGVtOwogIGJvb2wgX2lzSW5pdGlhbGl6ZWQgPSBmYWxzZTsKCiAgVGhlbWVQcm92aWRlcigpIHsKICAgIF9sb2FkVGhlbWUoKTsKICB9CgogIC8vLyBMb2FkIHRoZW1lIGZyb20gU2hhcmVkUHJlZmVyZW5jZXMKICBGdXR1cmU8dm9pZD4gX2xvYWRUaGVtZSgpIGFzeW5jIHsKICAgIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKICAgIGZpbmFsIHRoZW1lSW5kZXggPSBwcmVmcy5nZXRJbnQoX3RoZW1lS2V5KTsKICAgIAogICAgaWYgKHRoZW1lSW5kZXggIT0gbnVsbCkgewogICAgICBfdGhlbWVNb2RlID0gVGhlbWVNb2RlRW51bS52YWx1ZXNbCiAgICAgICAgdGhlbWVJbmRleC5jbGFtcCgwLCBUaGVtZU1vZGVFbnVtLnZhbHVlcy5sZW5ndGggLSAxKQogICAgICBdOwogICAgfQogICAgCiAgICBfaXNJbml0aWFsaXplZCA9IHRydWU7CiAgICBub3RpZnlMaXN0ZW5lcnMoKTsKICB9CgogIC8vLyBHZXQgY3VycmVudCB0aGVtZSBtb2RlCiAgVGhlbWVNb2RlRW51bSBnZXQgdGhlbWVNb2RlID0+IF90aGVtZU1vZGU7CiAgCiAgLy8vIEdldCBGbHV0dGVyIFRoZW1lTW9kZSBmb3IgTWF0ZXJpYWxBcHAKICBUaGVtZU1vZGUgZ2V0IGZsdXR0ZXJUaGVtZU1vZGUgPT4gX3RoZW1lTW9kZS50b1RoZW1lTW9kZSgpOwogIAogIC8vLyBDaGVjayBpZiB0aGUgdGhlbWUgcHJvdmlkZXIgaXMgaW5pdGlhbGl6ZWQKICBib29sIGdldCBpc0luaXRpYWxpemVkID0+IF9pc0luaXRpYWxpemVkOwogIAogIC8vLyBDaGVjayBpZiBkYXJrIG1vZGUgaXMgYWN0aXZlIChpbmNsdWRpbmcgc3lzdGVtIGRhcmsgbW9kZSkKICBib29sIGdldCBpc0RhcmtNb2RlIHsKICAgIGlmIChfdGhlbWVNb2RlID09IFRoZW1lTW9kZUVudW0uc3lzdGVtKSB7CiAgICAgIGZpbmFsIGJyaWdodG5lc3MgPSBXaWRnZXRzQmluZGluZy5pbnN0YW5jZS5wbGF0Zm9ybURpc3BhdGNoZXIucGxhdGZvcm1CcmlnaHRuZXNzOwogICAgICByZXR1cm4gYnJpZ2h0bmVzcyA9PSBCcmlnaHRuZXNzLmRhcms7CiAgICB9CiAgICByZXR1cm4gX3RoZW1lTW9kZSA9PSBUaGVtZU1vZGVFbnVtLmRhcms7CiAgfQoKICAvLy8gU2V0IHRoZW1lIG1vZGUgYW5kIHNhdmUgdG8gU2hhcmVkUHJlZmVyZW5jZXMKICBGdXR1cmU8dm9pZD4gc2V0VGhlbWVNb2RlKFRoZW1lTW9kZUVudW0gbW9kZSkgYXN5bmMgewogICAgaWYgKF90aGVtZU1vZGUgPT0gbW9kZSkgcmV0dXJuOwogICAgCiAgICBfdGhlbWVNb2RlID0gbW9kZTsKICAgIG5vdGlmeUxpc3RlbmVycygpOwogICAgCiAgICBmaW5hbCBwcmVmcyA9IGF3YWl0IFNoYXJlZFByZWZlcmVuY2VzLmdldEluc3RhbmNlKCk7CiAgICBhd2FpdCBwcmVmcy5zZXRJbnQoX3RoZW1lS2V5LCBtb2RlLmluZGV4KTsKICB9Cn0KCi8vLyBFeHRlbnNpb24gbWV0aG9kIHRvIGFjY2VzcyB0aGVtZSBwcm92aWRlciBlYXNpbHkKZXh0ZW5zaW9uIFRoZW1lUHJvdmlkZXJFeHRlbnNpb24gb24gQnVpbGRDb250ZXh0IHsKICBUaGVtZVByb3ZpZGVyIGdldCB0aGVtZVByb3ZpZGVyID0+IFByb3ZpZGVyLm9mPFRoZW1lUHJvdmlkZXI+KHRoaXMsIGxpc3RlbjogZmFsc2UpOwogIFRoZW1lTW9kZUVudW0gZ2V0IHRoZW1lTW9kZSA9PiBQcm92aWRlci5vZjxUaGVtZVByb3ZpZGVyPih0aGlzLCBsaXN0ZW46IHRydWUpLnRoZW1lTW9kZTsKICBib29sIGdldCBpc0RhcmtNb2RlID0+IFByb3ZpZGVyLm9mPFRoZW1lUHJvdmlkZXI+KHRoaXMsIGxpc3RlbjogdHJ1ZSkuaXNEYXJrTW9kZTsKfQonJyc7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ1JpdmVycG9kJzoKICAgICAgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfcml2ZXJwb2QvZmx1dHRlcl9yaXZlcnBvZC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnNoYXJlZF9wcmVmZXJlbmNlcy9zaGFyZWRfcHJlZmVyZW5jZXMuZGFydCc7CgovLy8gRW51bSByZXByZXNlbnRpbmcgZGlmZmVyZW50IHRoZW1lIG1vZGVzCmVudW0gVGhlbWVNb2RlRW51bSB7CiAgbGlnaHQsCiAgZGFyaywKICBzeXN0ZW07CgogIC8vLyBDb252ZXJ0IFRoZW1lTW9kZUVudW0gdG8gRmx1dHRlcidzIFRoZW1lTW9kZQogIFRoZW1lTW9kZSB0b1RoZW1lTW9kZSgpIHsKICAgIHN3aXRjaCAodGhpcykgewogICAgICBjYXNlIFRoZW1lTW9kZUVudW0ubGlnaHQ6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5saWdodDsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmRhcms6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5kYXJrOwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uc3lzdGVtOgogICAgICAgIHJldHVybiBUaGVtZU1vZGUuc3lzdGVtOwogICAgfQogIH0KCiAgLy8vIEdldCB0aGUgc3RyaW5nIG5hbWUgb2YgdGhlIHRoZW1lIG1vZGUKICBTdHJpbmcgZ2V0IG5hbWUgewogICAgc3dpdGNoICh0aGlzKSB7CiAgICAgIGNhc2UgVGhlbWVNb2RlRW51bS5saWdodDoKICAgICAgICByZXR1cm4gJ0xpZ2h0JzsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmRhcms6CiAgICAgICAgcmV0dXJuICdEYXJrJzsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLnN5c3RlbToKICAgICAgICByZXR1cm4gJ1N5c3RlbSc7CiAgICB9CiAgfQp9CgovLy8gUHJvdmlkZXIgZm9yIHRoZW1lIHNldHRpbmdzCmZpbmFsIHRoZW1lUHJvdmlkZXIgPSBTdGF0ZU5vdGlmaWVyUHJvdmlkZXI8VGhlbWVOb3RpZmllciwgVGhlbWVNb2RlRW51bT4oKHJlZikgewogIHJldHVybiBUaGVtZU5vdGlmaWVyKCk7Cn0pOwoKLy8vIE5vdGlmaWVyIGZvciB0aGVtZSBzdGF0ZQpjbGFzcyBUaGVtZU5vdGlmaWVyIGV4dGVuZHMgU3RhdGVOb3RpZmllcjxUaGVtZU1vZGVFbnVtPiB7CiAgc3RhdGljIGNvbnN0IFN0cmluZyBfdGhlbWVLZXkgPSAnYXBwX3RoZW1lJzsKCiAgVGhlbWVOb3RpZmllcigpIDogc3VwZXIoVGhlbWVNb2RlRW51bS5zeXN0ZW0pIHsKICAgIF9sb2FkVGhlbWUoKTsKICB9CgogIC8vLyBMb2FkIHRoZW1lIGZyb20gU2hhcmVkUHJlZmVyZW5jZXMKICBGdXR1cmU8dm9pZD4gX2xvYWRUaGVtZSgpIGFzeW5jIHsKICAgIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKICAgIGZpbmFsIHRoZW1lSW5kZXggPSBwcmVmcy5nZXRJbnQoX3RoZW1lS2V5KTsKICAgIAogICAgaWYgKHRoZW1lSW5kZXggIT0gbnVsbCkgewogICAgICBzdGF0ZSA9IFRoZW1lTW9kZUVudW0udmFsdWVzWwogICAgICAgIHRoZW1lSW5kZXguY2xhbXAoMCwgVGhlbWVNb2RlRW51bS52YWx1ZXMubGVuZ3RoIC0gMSkKICAgICAgXTsKICAgIH0KICB9CgogIC8vLyBTZXQgdGhlbWUgbW9kZSBhbmQgc2F2ZSB0byBTaGFyZWRQcmVmZXJlbmNlcwogIEZ1dHVyZTx2b2lkPiBzZXRUaGVtZU1vZGUoVGhlbWVNb2RlRW51bSBtb2RlKSBhc3luYyB7CiAgICBpZiAoc3RhdGUgPT0gbW9kZSkgcmV0dXJuOwogICAgCiAgICBzdGF0ZSA9IG1vZGU7CiAgICAKICAgIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKICAgIGF3YWl0IHByZWZzLnNldEludChfdGhlbWVLZXksIG1vZGUuaW5kZXgpOwogIH0KfQoKLy8vIFByb3ZpZGVyIHRvIGNoZWNrIGlmIGRhcmsgbW9kZSBpcyBhY3RpdmUKZmluYWwgaXNEYXJrTW9kZVByb3ZpZGVyID0gUHJvdmlkZXI8Ym9vbD4oKHJlZikgewogIGZpbmFsIHRoZW1lTW9kZSA9IHJlZi53YXRjaCh0aGVtZVByb3ZpZGVyKTsKICAKICBpZiAodGhlbWVNb2RlID09IFRoZW1lTW9kZUVudW0uc3lzdGVtKSB7CiAgICBmaW5hbCBicmlnaHRuZXNzID0gV2lkZ2V0c0JpbmRpbmcuaW5zdGFuY2UucGxhdGZvcm1EaXNwYXRjaGVyLnBsYXRmb3JtQnJpZ2h0bmVzczsKICAgIHJldHVybiBicmlnaHRuZXNzID09IEJyaWdodG5lc3MuZGFyazsKICB9CiAgCiAgcmV0dXJuIHRoZW1lTW9kZSA9PSBUaGVtZU1vZGVFbnVtLmRhcms7Cn0pOwoKLy8vIFByb3ZpZGVyIGZvciBGbHV0dGVyJ3MgVGhlbWVNb2RlCmZpbmFsIGZsdXR0ZXJUaGVtZU1vZGVQcm92aWRlciA9IFByb3ZpZGVyPFRoZW1lTW9kZT4oKHJlZikgewogIGZpbmFsIHRoZW1lTW9kZSA9IHJlZi53YXRjaCh0aGVtZVByb3ZpZGVyKTsKICByZXR1cm4gdGhlbWVNb2RlLnRvVGhlbWVNb2RlKCk7Cn0pOwonJyc7CiAgICAgIGJyZWFrOwoKICAgIGNhc2UgJ0dldFgnOgogICAgICBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6Z2V0L2dldC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnNoYXJlZF9wcmVmZXJlbmNlcy9zaGFyZWRfcHJlZmVyZW5jZXMuZGFydCc7CgovLy8gRW51bSByZXByZXNlbnRpbmcgZGlmZmVyZW50IHRoZW1lIG1vZGVzCmVudW0gVGhlbWVNb2RlRW51bSB7CiAgbGlnaHQsCiAgZGFyaywKICBzeXN0ZW07CgogIC8vLyBDb252ZXJ0IFRoZW1lTW9kZUVudW0gdG8gRmx1dHRlcidzIFRoZW1lTW9kZQogIFRoZW1lTW9kZSB0b1RoZW1lTW9kZSgpIHsKICAgIHN3aXRjaCAodGhpcykgewogICAgICBjYXNlIFRoZW1lTW9kZUVudW0ubGlnaHQ6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5saWdodDsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmRhcms6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5kYXJrOwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uc3lzdGVtOgogICAgICAgIHJldHVybiBUaGVtZU1vZGUuc3lzdGVtOwogICAgfQogIH0KCiAgLy8vIEdldCB0aGUgc3RyaW5nIG5hbWUgb2YgdGhlIHRoZW1lIG1vZGUKICBTdHJpbmcgZ2V0IG5hbWUgewogICAgc3dpdGNoICh0aGlzKSB7CiAgICAgIGNhc2UgVGhlbWVNb2RlRW51bS5saWdodDoKICAgICAgICByZXR1cm4gJ0xpZ2h0JzsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmRhcms6CiAgICAgICAgcmV0dXJuICdEYXJrJzsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLnN5c3RlbToKICAgICAgICByZXR1cm4gJ1N5c3RlbSc7CiAgICB9CiAgfQp9CgovLy8gR2V0WCBjb250cm9sbGVyIGZvciB0aGVtZSBtYW5hZ2VtZW50CmNsYXNzIFRoZW1lQ29udHJvbGxlciBleHRlbmRzIEdldHhDb250cm9sbGVyIHsKICBzdGF0aWMgY29uc3QgU3RyaW5nIF90aGVtZUtleSA9ICdhcHBfdGhlbWUnOwogIAogIGZpbmFsIFJ4PFRoZW1lTW9kZUVudW0+IF90aGVtZU1vZGUgPSBUaGVtZU1vZGVFbnVtLnN5c3RlbS5vYnM7CiAgCiAgVGhlbWVNb2RlRW51bSBnZXQgY3VycmVudFRoZW1lID0+IF90aGVtZU1vZGUudmFsdWU7CiAgVGhlbWVNb2RlIGdldCB0aGVtZU1vZGUgPT4gX3RoZW1lTW9kZS52YWx1ZS50b1RoZW1lTW9kZSgpOwogIAogIEBvdmVycmlkZQogIHZvaWQgb25Jbml0KCkgewogICAgc3VwZXIub25Jbml0KCk7CiAgICBfbG9hZFRoZW1lKCk7CiAgfQogIAogIC8vLyBMb2FkIHRoZW1lIGZyb20gU2hhcmVkUHJlZmVyZW5jZXMKICBGdXR1cmU8dm9pZD4gX2xvYWRUaGVtZSgpIGFzeW5jIHsKICAgIGZpbmFsIHByZWZzID0gYXdhaXQgU2hhcmVkUHJlZmVyZW5jZXMuZ2V0SW5zdGFuY2UoKTsKICAgIGZpbmFsIHRoZW1lSW5kZXggPSBwcmVmcy5nZXRJbnQoX3RoZW1lS2V5KTsKICAgIAogICAgaWYgKHRoZW1lSW5kZXggIT0gbnVsbCkgewogICAgICBfdGhlbWVNb2RlLnZhbHVlID0gVGhlbWVNb2RlRW51bS52YWx1ZXNbCiAgICAgICAgdGhlbWVJbmRleC5jbGFtcCgwLCBUaGVtZU1vZGVFbnVtLnZhbHVlcy5sZW5ndGggLSAxKQogICAgICBdOwogICAgfQogIH0KICAKICAvLy8gU2V0IHRoZW1lIG1vZGUgYW5kIHNhdmUgdG8gU2hhcmVkUHJlZmVyZW5jZXMKICBGdXR1cmU8dm9pZD4gc2V0VGhlbWVNb2RlKFRoZW1lTW9kZUVudW0gbW9kZSkgYXN5bmMgewogICAgaWYgKF90aGVtZU1vZGUudmFsdWUgPT0gbW9kZSkgcmV0dXJuOwogICAgCiAgICBfdGhlbWVNb2RlLnZhbHVlID0gbW9kZTsKICAgIAogICAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogICAgYXdhaXQgcHJlZnMuc2V0SW50KF90aGVtZUtleSwgbW9kZS5pbmRleCk7CiAgfQogIAogIC8vLyBDaGVjayBpZiBkYXJrIG1vZGUgaXMgYWN0aXZlIChpbmNsdWRpbmcgc3lzdGVtIGRhcmsgbW9kZSkKICBib29sIGdldCBpc0RhcmtNb2RlIHsKICAgIGlmIChfdGhlbWVNb2RlLnZhbHVlID09IFRoZW1lTW9kZUVudW0uc3lzdGVtKSB7CiAgICAgIGZpbmFsIGJyaWdodG5lc3MgPSBXaWRnZXRzQmluZGluZy5pbnN0YW5jZS5wbGF0Zm9ybURpc3BhdGNoZXIucGxhdGZvcm1CcmlnaHRuZXNzOwogICAgICByZXR1cm4gYnJpZ2h0bmVzcyA9PSBCcmlnaHRuZXNzLmRhcms7CiAgICB9CiAgICByZXR1cm4gX3RoZW1lTW9kZS52YWx1ZSA9PSBUaGVtZU1vZGVFbnVtLmRhcms7CiAgfQp9CgovLy8gR2xvYmFsIGluc3RhbmNlIG9mIFRoZW1lQ29udHJvbGxlcgpmaW5hbCB0aGVtZUNvbnRyb2xsZXIgPSBUaGVtZUNvbnRyb2xsZXIoKTsKJycnOwogICAgICBicmVhazsKCiAgICBjYXNlICdNb2JYJzoKICAgICAgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOm1vYngvbW9ieC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnNoYXJlZF9wcmVmZXJlbmNlcy9zaGFyZWRfcHJlZmVyZW5jZXMuZGFydCc7CgovLyBJbmNsdWRlIGdlbmVyYXRlZCBmaWxlCnBhcnQgJ3RoZW1lX21hbmFnZXIuZy5kYXJ0JzsKCi8vLyBFbnVtIHJlcHJlc2VudGluZyBkaWZmZXJlbnQgdGhlbWUgbW9kZXMKZW51bSBUaGVtZU1vZGVFbnVtIHsKICBsaWdodCwKICBkYXJrLAogIHN5c3RlbTsKCiAgLy8vIENvbnZlcnQgVGhlbWVNb2RlRW51bSB0byBGbHV0dGVyJ3MgVGhlbWVNb2RlCiAgVGhlbWVNb2RlIHRvVGhlbWVNb2RlKCkgewogICAgc3dpdGNoICh0aGlzKSB7CiAgICAgIGNhc2UgVGhlbWVNb2RlRW51bS5saWdodDoKICAgICAgICByZXR1cm4gVGhlbWVNb2RlLmxpZ2h0OwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uZGFyazoKICAgICAgICByZXR1cm4gVGhlbWVNb2RlLmRhcms7CiAgICAgIGNhc2UgVGhlbWVNb2RlRW51bS5zeXN0ZW06CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5zeXN0ZW07CiAgICB9CiAgfQoKICAvLy8gR2V0IHRoZSBzdHJpbmcgbmFtZSBvZiB0aGUgdGhlbWUgbW9kZQogIFN0cmluZyBnZXQgbmFtZSB7CiAgICBzd2l0Y2ggKHRoaXMpIHsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmxpZ2h0OgogICAgICAgIHJldHVybiAnTGlnaHQnOwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uZGFyazoKICAgICAgICByZXR1cm4gJ0RhcmsnOwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uc3lzdGVtOgogICAgICAgIHJldHVybiAnU3lzdGVtJzsKICAgIH0KICB9Cn0KCi8vLyBNb2JYIHN0b3JlIGZvciB0aGVtZSBtYW5hZ2VtZW50CmNsYXNzIFRoZW1lU3RvcmUgPSBfVGhlbWVTdG9yZSB3aXRoIF9cJFRoZW1lU3RvcmU7CgphYnN0cmFjdCBjbGFzcyBfVGhlbWVTdG9yZSB3aXRoIFN0b3JlIHsKICBzdGF0aWMgY29uc3QgU3RyaW5nIF90aGVtZUtleSA9ICdhcHBfdGhlbWUnOwogIAogIEBvYnNlcnZhYmxlCiAgVGhlbWVNb2RlRW51bSB0aGVtZU1vZGUgPSBUaGVtZU1vZGVFbnVtLnN5c3RlbTsKICAKICBAb2JzZXJ2YWJsZQogIGJvb2wgaXNJbml0aWFsaXplZCA9IGZhbHNlOwogIAogIF9UaGVtZVN0b3JlKCkgewogICAgX2xvYWRUaGVtZSgpOwogIH0KICAKICAvLy8gTG9hZCB0aGVtZSBmcm9tIFNoYXJlZFByZWZlcmVuY2VzCiAgQGFjdGlvbgogIEZ1dHVyZTx2b2lkPiBfbG9hZFRoZW1lKCkgYXN5bmMgewogICAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogICAgZmluYWwgdGhlbWVJbmRleCA9IHByZWZzLmdldEludChfdGhlbWVLZXkpOwoKICAgIGlmICh0aGVtZUluZGV4ICE9IG51bGwpIHsKICAgICAgdGhlbWVNb2RlID0gVGhlbWVNb2RlRW51bS52YWx1ZXNbCiAgICAgICAgdGhlbWVJbmRleC5jbGFtcCgwLCBUaGVtZU1vZGVFbnVtLnZhbHVlcy5sZW5ndGggLSAxKQogICAgICBdOwogICAgfQogICAgCiAgICBpc0luaXRpYWxpemVkID0gdHJ1ZTsKICB9CiAgCiAgLy8vIFNldCB0aGVtZSBtb2RlIGFuZCBzYXZlIHRvIFNoYXJlZFByZWZlcmVuY2VzCiAgQGFjdGlvbgogIEZ1dHVyZTx2b2lkPiBzZXRUaGVtZU1vZGUoVGhlbWVNb2RlRW51bSBtb2RlKSBhc3luYyB7CiAgICBpZiAodGhlbWVNb2RlID09IG1vZGUpIHJldHVybjsKICAgIAogICAgdGhlbWVNb2RlID0gbW9kZTsKICAgIAogICAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogICAgYXdhaXQgcHJlZnMuc2V0SW50KF90aGVtZUtleSwgbW9kZS5pbmRleCk7CiAgfQogIAogIC8vLyBHZXQgRmx1dHRlciBUaGVtZU1vZGUgZm9yIE1hdGVyaWFsQXBwCiAgQGNvbXB1dGVkCiAgVGhlbWVNb2RlIGdldCBmbHV0dGVyVGhlbWVNb2RlID0+IHRoZW1lTW9kZS50b1RoZW1lTW9kZSgpOwogIAogIC8vLyBDaGVjayBpZiBkYXJrIG1vZGUgaXMgYWN0aXZlIChpbmNsdWRpbmcgc3lzdGVtIGRhcmsgbW9kZSkKICBAY29tcHV0ZWQKICBib29sIGdldCBpc0RhcmtNb2RlIHsKICAgIGlmICh0aGVtZU1vZGUgPT0gVGhlbWVNb2RlRW51bS5zeXN0ZW0pIHsKICAgICAgZmluYWwgYnJpZ2h0bmVzcyA9IFdpZGdldHNCaW5kaW5nLmluc3RhbmNlLnBsYXRmb3JtRGlzcGF0Y2hlci5wbGF0Zm9ybUJyaWdodG5lc3M7CiAgICAgIHJldHVybiBicmlnaHRuZXNzID09IEJyaWdodG5lc3MuZGFyazsKICAgIH0KICAgIHJldHVybiB0aGVtZU1vZGUgPT0gVGhlbWVNb2RlRW51bS5kYXJrOwogIH0KfQoKLy8vIENyZWF0ZSBhIGdsb2JhbCBpbnN0YW5jZSBvZiB0aGUgc3RvcmUKZmluYWwgdGhlbWVTdG9yZSA9IFRoZW1lU3RvcmUoKTsKJycnOwogICAgICBicmVhazsKCiAgICBjYXNlICdSZWR1eCc6CiAgICAgIGNvbnRlbnQgPSAnJycKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAncGFja2FnZTpyZWR1eC9yZWR1eC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOnNoYXJlZF9wcmVmZXJlbmNlcy9zaGFyZWRfcHJlZmVyZW5jZXMuZGFydCc7CgovLy8gRW51bSByZXByZXNlbnRpbmcgZGlmZmVyZW50IHRoZW1lIG1vZGVzCmVudW0gVGhlbWVNb2RlRW51bSB7CiAgbGlnaHQsCiAgZGFyaywKICBzeXN0ZW07CgogIC8vLyBDb252ZXJ0IFRoZW1lTW9kZUVudW0gdG8gRmx1dHRlcidzIFRoZW1lTW9kZQogIFRoZW1lTW9kZSB0b1RoZW1lTW9kZSgpIHsKICAgIHN3aXRjaCAodGhpcykgewogICAgICBjYXNlIFRoZW1lTW9kZUVudW0ubGlnaHQ6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5saWdodDsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmRhcms6CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5kYXJrOwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uc3lzdGVtOgogICAgICAgIHJldHVybiBUaGVtZU1vZGUuc3lzdGVtOwogICAgfQogIH0KCiAgLy8vIEdldCB0aGUgc3RyaW5nIG5hbWUgb2YgdGhlIHRoZW1lIG1vZGUKICBTdHJpbmcgZ2V0IG5hbWUgewogICAgc3dpdGNoICh0aGlzKSB7CiAgICAgIGNhc2UgVGhlbWVNb2RlRW51bS5saWdodDoKICAgICAgICByZXR1cm4gJ0xpZ2h0JzsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmRhcms6CiAgICAgICAgcmV0dXJuICdEYXJrJzsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLnN5c3RlbToKICAgICAgICByZXR1cm4gJ1N5c3RlbSc7CiAgICB9CiAgfQp9CgovLy8gVGhlbWUgc3RhdGUgZm9yIFJlZHV4CmNsYXNzIFRoZW1lU3RhdGUgewogIGZpbmFsIFRoZW1lTW9kZUVudW0gdGhlbWVNb2RlOwogIGZpbmFsIGJvb2wgaXNJbml0aWFsaXplZDsKICAKICBUaGVtZVN0YXRlKHsKICAgIHJlcXVpcmVkIHRoaXMudGhlbWVNb2RlLAogICAgcmVxdWlyZWQgdGhpcy5pc0luaXRpYWxpemVkLAogIH0pOwogIAogIGZhY3RvcnkgVGhlbWVTdGF0ZS5pbml0aWFsKCkgPT4gVGhlbWVTdGF0ZSgKICAgIHRoZW1lTW9kZTogVGhlbWVNb2RlRW51bS5zeXN0ZW0sCiAgICBpc0luaXRpYWxpemVkOiBmYWxzZSwKICApOwogIAogIFRoZW1lU3RhdGUgY29weVdpdGgoewogICAgVGhlbWVNb2RlRW51bT8gdGhlbWVNb2RlLAogICAgYm9vbD8gaXNJbml0aWFsaXplZCwKICB9KSB7CiAgICByZXR1cm4gVGhlbWVTdGF0ZSgKICAgICAgdGhlbWVNb2RlOiB0aGVtZU1vZGUgPz8gdGhpcy50aGVtZU1vZGUsCiAgICAgIGlzSW5pdGlhbGl6ZWQ6IGlzSW5pdGlhbGl6ZWQgPz8gdGhpcy5pc0luaXRpYWxpemVkLAogICAgKTsKICB9CiAgCiAgLy8vIEdldCBGbHV0dGVyIFRoZW1lTW9kZSBmb3IgTWF0ZXJpYWxBcHAKICBUaGVtZU1vZGUgZ2V0IGZsdXR0ZXJUaGVtZU1vZGUgPT4gdGhlbWVNb2RlLnRvVGhlbWVNb2RlKCk7CiAgCiAgLy8vIENoZWNrIGlmIGRhcmsgbW9kZSBpcyBhY3RpdmUgKGluY2x1ZGluZyBzeXN0ZW0gZGFyayBtb2RlKQogIGJvb2wgZ2V0IGlzRGFya01vZGUgewogICAgaWYgKHRoZW1lTW9kZSA9PSBUaGVtZU1vZGVFbnVtLnN5c3RlbSkgewogICAgICBmaW5hbCBicmlnaHRuZXNzID0gV2lkZ2V0c0JpbmRpbmcuaW5zdGFuY2UucGxhdGZvcm1EaXNwYXRjaGVyLnBsYXRmb3JtQnJpZ2h0bmVzczsKICAgICAgcmV0dXJuIGJyaWdodG5lc3MgPT0gQnJpZ2h0bmVzcy5kYXJrOwogICAgfQogICAgcmV0dXJuIHRoZW1lTW9kZSA9PSBUaGVtZU1vZGVFbnVtLmRhcms7CiAgfQp9CgovLy8gVGhlbWUgYWN0aW9ucyBmb3IgUmVkdXgKY2xhc3MgTG9hZFRoZW1lQWN0aW9uIHt9CgpjbGFzcyBUaGVtZUxvYWRlZEFjdGlvbiB7CiAgZmluYWwgVGhlbWVNb2RlRW51bSB0aGVtZU1vZGU7CiAgCiAgVGhlbWVMb2FkZWRBY3Rpb24odGhpcy50aGVtZU1vZGUpOwp9CgpjbGFzcyBTZXRUaGVtZUFjdGlvbiB7CiAgZmluYWwgVGhlbWVNb2RlRW51bSB0aGVtZU1vZGU7CiAgCiAgU2V0VGhlbWVBY3Rpb24odGhpcy50aGVtZU1vZGUpOwp9CgovLy8gVGhlbWUgcmVkdWNlciBmb3IgUmVkdXgKVGhlbWVTdGF0ZSB0aGVtZVJlZHVjZXIoVGhlbWVTdGF0ZSBzdGF0ZSwgZHluYW1pYyBhY3Rpb24pIHsKICBpZiAoYWN0aW9uIGlzIFRoZW1lTG9hZGVkQWN0aW9uKSB7CiAgICByZXR1cm4gc3RhdGUuY29weVdpdGgoCiAgICAgIHRoZW1lTW9kZTogYWN0aW9uLnRoZW1lTW9kZSwKICAgICAgaXNJbml0aWFsaXplZDogdHJ1ZSwKICAgICk7CiAgfSBlbHNlIGlmIChhY3Rpb24gaXMgU2V0VGhlbWVBY3Rpb24pIHsKICAgIHJldHVybiBzdGF0ZS5jb3B5V2l0aCh0aGVtZU1vZGU6IGFjdGlvbi50aGVtZU1vZGUpOwogIH0KICAKICByZXR1cm4gc3RhdGU7Cn0KCi8vLyBUaGVtZSBtaWRkbGV3YXJlIGZvciBSZWR1eApMaXN0PE1pZGRsZXdhcmU8QXBwU3RhdGU+PiBjcmVhdGVUaGVtZU1pZGRsZXdhcmUoKSB7CiAgcmV0dXJuIFsKICAgIFR5cGVkTWlkZGxld2FyZTxBcHBTdGF0ZSwgTG9hZFRoZW1lQWN0aW9uPihfbG9hZFRoZW1lKSwKICAgIFR5cGVkTWlkZGxld2FyZTxBcHBTdGF0ZSwgU2V0VGhlbWVBY3Rpb24+KF9zYXZlVGhlbWUpLAogIF07Cn0KCnZvaWQgX2xvYWRUaGVtZShTdG9yZTxBcHBTdGF0ZT4gc3RvcmUsIExvYWRUaGVtZUFjdGlvbiBhY3Rpb24sIE5leHREaXNwYXRjaGVyIG5leHQpIGFzeW5jIHsKICBuZXh0KGFjdGlvbik7CiAgCiAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogIGZpbmFsIHRoZW1lSW5kZXggPSBwcmVmcy5nZXRJbnQoJ2FwcF90aGVtZScpOwogIAogIGlmICh0aGVtZUluZGV4ICE9IG51bGwpIHsKICAgIGZpbmFsIHRoZW1lTW9kZSA9IFRoZW1lTW9kZUVudW0udmFsdWVzWwogICAgICB0aGVtZUluZGV4LmNsYW1wKDAsIFRoZW1lTW9kZUVudW0udmFsdWVzLmxlbmd0aCAtIDEpCiAgICBdOwogICAgc3RvcmUuZGlzcGF0Y2goVGhlbWVMb2FkZWRBY3Rpb24odGhlbWVNb2RlKSk7CiAgfSBlbHNlIHsKICAgIHN0b3JlLmRpc3BhdGNoKFRoZW1lTG9hZGVkQWN0aW9uKFRoZW1lTW9kZUVudW0uc3lzdGVtKSk7CiAgfQp9Cgp2b2lkIF9zYXZlVGhlbWUoU3RvcmU8QXBwU3RhdGU+IHN0b3JlLCBTZXRUaGVtZUFjdGlvbiBhY3Rpb24sIE5leHREaXNwYXRjaGVyIG5leHQpIGFzeW5jIHsKICBuZXh0KGFjdGlvbik7CiAgCiAgZmluYWwgcHJlZnMgPSBhd2FpdCBTaGFyZWRQcmVmZXJlbmNlcy5nZXRJbnN0YW5jZSgpOwogIGF3YWl0IHByZWZzLnNldEludCgnYXBwX3RoZW1lJywgYWN0aW9uLnRoZW1lTW9kZS5pbmRleCk7Cn0KCi8vLyBFeGFtcGxlIEFwcFN0YXRlIGZvciBSZWR1eApjbGFzcyBBcHBTdGF0ZSB7CiAgZmluYWwgVGhlbWVTdGF0ZSB0aGVtZVN0YXRlOwogIAogIEFwcFN0YXRlKHtyZXF1aXJlZCB0aGlzLnRoZW1lU3RhdGV9KTsKICAKICBmYWN0b3J5IEFwcFN0YXRlLmluaXRpYWwoKSA9PiBBcHBTdGF0ZSgKICAgIHRoZW1lU3RhdGU6IFRoZW1lU3RhdGUuaW5pdGlhbCgpLAogICk7Cn0KJycnOwogICAgICBicmVhazsKCiAgICBkZWZhdWx0OgogICAgICAvLyBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHVzaW5nIGEgc2ltcGxlIFRoZW1lTWFuYWdlcgogICAgICBjb250ZW50ID0gJycnCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL21hdGVyaWFsLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6c2hhcmVkX3ByZWZlcmVuY2VzL3NoYXJlZF9wcmVmZXJlbmNlcy5kYXJ0JzsKCi8vLyBFbnVtIHJlcHJlc2VudGluZyBkaWZmZXJlbnQgdGhlbWUgbW9kZXMKZW51bSBUaGVtZU1vZGVFbnVtIHsKICBsaWdodCwKICBkYXJrLAogIHN5c3RlbTsKCiAgLy8vIENvbnZlcnQgVGhlbWVNb2RlRW51bSB0byBGbHV0dGVyJ3MgVGhlbWVNb2RlCiAgVGhlbWVNb2RlIHRvVGhlbWVNb2RlKCkgewogICAgc3dpdGNoICh0aGlzKSB7CiAgICAgIGNhc2UgVGhlbWVNb2RlRW51bS5saWdodDoKICAgICAgICByZXR1cm4gVGhlbWVNb2RlLmxpZ2h0OwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uZGFyazoKICAgICAgICByZXR1cm4gVGhlbWVNb2RlLmRhcms7CiAgICAgIGNhc2UgVGhlbWVNb2RlRW51bS5zeXN0ZW06CiAgICAgICAgcmV0dXJuIFRoZW1lTW9kZS5zeXN0ZW07CiAgICB9CiAgfQoKICAvLy8gR2V0IHRoZSBzdHJpbmcgbmFtZSBvZiB0aGUgdGhlbWUgbW9kZQogIFN0cmluZyBnZXQgbmFtZSB7CiAgICBzd2l0Y2ggKHRoaXMpIHsKICAgICAgY2FzZSBUaGVtZU1vZGVFbnVtLmxpZ2h0OgogICAgICAgIHJldHVybiAnTGlnaHQnOwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uZGFyazoKICAgICAgICByZXR1cm4gJ0RhcmsnOwogICAgICBjYXNlIFRoZW1lTW9kZUVudW0uc3lzdGVtOgogICAgICAgIHJldHVybiAnU3lzdGVtJzsKICAgIH0KICB9Cn0KCi8vLyBDbGFzcyB0byBtYW5hZ2UgdGhlIHRoZW1lIHN0YXRlIHVzaW5nIFNoYXJlZFByZWZlcmVuY2VzCmNsYXNzIFRoZW1lTWFuYWdlciB7CiAgc3RhdGljIGNvbnN0IFN0cmluZyBfdGhlbWVLZXkgPSAnYXBwX3RoZW1lJzsKICBUaGVtZU1vZGVFbnVtIF9jdXJyZW50VGhlbWUgPSBUaGVtZU1vZGVFbnVtLnN5c3RlbTsKICBmaW5hbCBMaXN0PEZ1bmN0aW9uKFRoZW1lTW9kZUVudW0pPiBfbGlzdGVuZXJzID0gW107CgogIC8vLyBGdW5jdGlvbiB0byBpbml0aWFsaXplIHRoZSB0aGVtZSBtYW5hZ2VyCiAgRnV0dXJlPHZvaWQ+IGluaXRpYWxpemUoKSBhc3luYyB7CiAgICBmaW5hbCBwcmVmcyA9IGF3YWl0IFNoYXJlZFByZWZlcmVuY2VzLmdldEluc3RhbmNlKCk7CiAgICBmaW5hbCB0aGVtZUluZGV4ID0gcHJlZnMuZ2V0SW50KF90aGVtZUtleSk7CgogICAgaWYgKHRoZW1lSW5kZXggIT0gbnVsbCkgewogICAgICBfY3VycmVudFRoZW1lID0gVGhlbWVNb2RlRW51bQogICAgICAgICAgLnZhbHVlc1t0aGVtZUluZGV4LmNsYW1wKDAsIFRoZW1lTW9kZUVudW0udmFsdWVzLmxlbmd0aCAtIDEpXTsKICAgIH0KICB9CgogIC8vLyBHZXQgdGhlIGN1cnJlbnQgdGhlbWUgbW9kZQogIFRoZW1lTW9kZUVudW0gZ2V0IGN1cnJlbnRUaGVtZSA9PiBfY3VycmVudFRoZW1lOwoKICAvLy8gR2V0IHRoZSBGbHV0dGVyIFRoZW1lTW9kZQogIFRoZW1lTW9kZSBnZXQgdGhlbWVNb2RlID0+IF9jdXJyZW50VGhlbWUudG9UaGVtZU1vZGUoKTsKCiAgLy8vIEZ1bmN0aW9uIHRvIHNldCB0aGUgdGhlbWUKICBGdXR1cmU8dm9pZD4gc2V0VGhlbWUoVGhlbWVNb2RlRW51bSB0aGVtZSkgYXN5bmMgewogICAgaWYgKF9jdXJyZW50VGhlbWUgIT0gdGhlbWUpIHsKICAgICAgX2N1cnJlbnRUaGVtZSA9IHRoZW1lOwogICAgICBmaW5hbCBwcmVmcyA9IGF3YWl0IFNoYXJlZFByZWZlcmVuY2VzLmdldEluc3RhbmNlKCk7CiAgICAgIGF3YWl0IHByZWZzLnNldEludChfdGhlbWVLZXksIHRoZW1lLmluZGV4KTsKCiAgICAgIC8vIE5vdGlmeSBhbGwgbGlzdGVuZXJzCiAgICAgIGZvciAoZmluYWwgbGlzdGVuZXIgaW4gX2xpc3RlbmVycykgewogICAgICAgIGxpc3RlbmVyKHRoZW1lKTsKICAgICAgfQogICAgfQogIH0KCiAgLy8vIEFkZCBhIGxpc3RlbmVyIGZvciB0aGVtZSBjaGFuZ2VzCiAgdm9pZCBhZGRMaXN0ZW5lcihGdW5jdGlvbihUaGVtZU1vZGVFbnVtKSBsaXN0ZW5lcikgewogICAgX2xpc3RlbmVycy5hZGQobGlzdGVuZXIpOwogIH0KCiAgLy8vIFJlbW92ZSBhIGxpc3RlbmVyCiAgdm9pZCByZW1vdmVMaXN0ZW5lcihGdW5jdGlvbihUaGVtZU1vZGVFbnVtKSBsaXN0ZW5lcikgewogICAgX2xpc3RlbmVycy5yZW1vdmUobGlzdGVuZXIpOwogIH0KCiAgLy8vIENoZWNrIGlmIHRoZSBjdXJyZW50IHRoZW1lIGlzIGRhcmsKICBib29sIGdldCBpc0RhcmtNb2RlIHsKICAgIGlmIChfY3VycmVudFRoZW1lID09IFRoZW1lTW9kZUVudW0uc3lzdGVtKSB7CiAgICAgIC8vIEdldCBzeXN0ZW0gYnJpZ2h0bmVzcyB3aGVuIGluIHN5c3RlbSBtb2RlCiAgICAgIGZpbmFsIGJyaWdodG5lc3MgPQogICAgICAgICAgV2lkZ2V0c0JpbmRpbmcuaW5zdGFuY2UucGxhdGZvcm1EaXNwYXRjaGVyLnBsYXRmb3JtQnJpZ2h0bmVzczsKICAgICAgcmV0dXJuIGJyaWdodG5lc3MgPT0gQnJpZ2h0bmVzcy5kYXJrOwogICAgfQogICAgcmV0dXJuIF9jdXJyZW50VGhlbWUgPT0gVGhlbWVNb2RlRW51bS5kYXJrOwogIH0KfQoKLy8vIFRoZW1lTWFuYWdlciBpbnN0YW5jZSB0byBiZSB1c2VkIHRocm91Z2hvdXQgdGhlIGFwcApmaW5hbCB0aGVtZU1hbmFnZXIgPSBUaGVtZU1hbmFnZXIoKTsKJycnOwogICAgICBicmVhazsKICB9CgogIGZpbmFsIGZpbGUgPSBGaWxlKGZpbGVQYXRoKTsKICBmaWxlLndyaXRlQXNTdHJpbmdTeW5jKGNvbnRlbnQpOwogIGNvbnRleHQubG9nZ2VyCiAgICAgIC5pbmZvKCdDcmVhdGVkIGZpbGU6ICRmaWxlUGF0aCB3aXRoICR7c3RhdGVNYW5hZ2VtZW50fSBpbXBsZW1lbnRhdGlvbicpOwp9CgovLy8gQ3JlYXRlIGEgZmlsZSBmb3IgdGhlbWUgZGV0ZWN0aW9uCnZvaWQgX2dlbmVyYXRlVGhlbWVEZXRlY3Rpb25GaWxlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGZpbGVQYXRoID0KICAgICAgJyRwcm9qZWN0TmFtZS9saWIvY29yZS9kZXNpZ25fc3lzdGVtL3RoZW1lX2V4dGVuc2lvbi90aGVtZV9kZXRlY3Rpb24uZGFydCc7CiAgZmluYWwgY29udGVudCA9ICcnJwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlci9tYXRlcmlhbC5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvc2NoZWR1bGVyLmRhcnQnOwoKLy8vIFV0aWxpdHkgY2xhc3MgZm9yIGRldGVjdGluZyBkZXZpY2UgdGhlbWUgcHJlZmVyZW5jZXMKY2xhc3MgVGhlbWVEZXRlY3Rpb24gewogIC8vLyBDaGVjayBpZiB0aGUgZGV2aWNlIGlzIGN1cnJlbnRseSB1c2luZyBkYXJrIG1vZGUKICBzdGF0aWMgYm9vbCBpc0RhcmtNb2RlKCkgewogICAgZmluYWwgYnJpZ2h0bmVzcyA9IFNjaGVkdWxlckJpbmRpbmcuaW5zdGFuY2UucGxhdGZvcm1EaXNwYXRjaGVyLnBsYXRmb3JtQnJpZ2h0bmVzczsKICAgIHJldHVybiBicmlnaHRuZXNzID09IEJyaWdodG5lc3MuZGFyazsKICB9CgogIC8vLyBHZXQgdGhlIGN1cnJlbnQgZGV2aWNlIGJyaWdodG5lc3MKICBzdGF0aWMgQnJpZ2h0bmVzcyBnZXRDdXJyZW50QnJpZ2h0bmVzcygpIHsKICAgIHJldHVybiBTY2hlZHVsZXJCaW5kaW5nLmluc3RhbmNlLnBsYXRmb3JtRGlzcGF0Y2hlci5wbGF0Zm9ybUJyaWdodG5lc3M7CiAgfQoKICAvLy8gTGlzdGVuIHRvIGJyaWdodG5lc3MgY2hhbmdlcyBhbmQgZXhlY3V0ZSBjYWxsYmFjayB3aGVuIGl0IGNoYW5nZXMKICBzdGF0aWMgdm9pZCBhZGRCcmlnaHRuZXNzTGlzdGVuZXIodm9pZCBGdW5jdGlvbihCcmlnaHRuZXNzKSBvbkNoYW5nZWQpIHsKICAgIFNjaGVkdWxlckJpbmRpbmcuaW5zdGFuY2UucGxhdGZvcm1EaXNwYXRjaGVyLm9uUGxhdGZvcm1CcmlnaHRuZXNzQ2hhbmdlZCA9ICgpIHsKICAgICAgZmluYWwgYnJpZ2h0bmVzcyA9IFNjaGVkdWxlckJpbmRpbmcuaW5zdGFuY2UucGxhdGZvcm1EaXNwYXRjaGVyLnBsYXRmb3JtQnJpZ2h0bmVzczsKICAgICAgb25DaGFuZ2VkKGJyaWdodG5lc3MpOwogICAgfTsKICB9Cn0KCi8vLyBFeHRlbnNpb24gdG8gc2ltcGxpZnkgdGhlbWUgYWNjZXNzIGluIHdpZGdldHMKZXh0ZW5zaW9uIFRoZW1lRGV0ZWN0aW9uQ29udGV4dCBvbiBCdWlsZENvbnRleHQgewogIC8vLyBDaGVjayBpZiB0aGUgZGV2aWNlIGlzIGN1cnJlbnRseSB1c2luZyBkYXJrIG1vZGUKICBib29sIGdldCBpc0RhcmtNb2RlIHsKICAgIHJldHVybiBUaGVtZURldGVjdGlvbi5pc0RhcmtNb2RlKCk7CiAgfQoKICAvLy8gR2V0IHRoZSBjdXJyZW50IHBsYXRmb3JtIGJyaWdodG5lc3MKICBCcmlnaHRuZXNzIGdldCBwbGF0Zm9ybUJyaWdodG5lc3MgewogICAgcmV0dXJuIFRoZW1lRGV0ZWN0aW9uLmdldEN1cnJlbnRCcmlnaHRuZXNzKCk7CiAgfQp9CicnJzsKCiAgZmluYWwgZmlsZSA9IEZpbGUoZmlsZVBhdGgpOwogIGZpbGUud3JpdGVBc1N0cmluZ1N5bmMoY29udGVudCk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBmaWxlOiAkZmlsZVBhdGgnKTsKfQoKLy8vIEhlbHBlciBmdW5jdGlvbiB0byBjb252ZXJ0IHN0cmluZyB0byBzZW50ZW5jZSBjYXNlIChmaXJzdCBsZXR0ZXIgY2FwaXRhbGl6ZWQpClN0cmluZyBfdG9TZW50ZW5jZUNhc2UoU3RyaW5nIHRleHQpIHsKICBpZiAodGV4dC5pc0VtcHR5KSByZXR1cm4gJyc7CiAgcmV0dXJuIHRleHRbMF0udG9VcHBlckNhc2UoKSArIHRleHQuc3Vic3RyaW5nKDEpOwp9Cg==",
      "type": "text",
    },
    {
      "path": "lib/utils.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTptYXNvbi9tYXNvbi5kYXJ0JzsKCmJvb2wgaXNWYWxpZFByb2plY3ROYW1lKFN0cmluZyBuYW1lKSB7CiAgZmluYWwgcHJvamVjdE5hbWVSZWdleCA9IFJlZ0V4cChyJ15bYS16X11bYS16MC05X10qJCcpOwogIHJldHVybiBwcm9qZWN0TmFtZVJlZ2V4Lmhhc01hdGNoKG5hbWUpOwp9Cgp2b2lkIGNyZWF0ZUZpbGUoU3RyaW5nIHBhdGgsIFN0cmluZyBjb250ZW50LCBIb29rQ29udGV4dCBjb250ZXh0KSB7CiAgZmluYWwgZmlsZSA9IEZpbGUocGF0aCk7CiAgaWYgKCFmaWxlLmV4aXN0c1N5bmMoKSkgewogICAgZmlsZS53cml0ZUFzU3RyaW5nU3luYyhjb250ZW50KTsKICAgIGNvbnRleHQubG9nZ2VyLmluZm8oJ0NyZWF0ZWQgZmlsZTogJHBhdGgnKTsKICB9Cn0KClN0cmluZyB0b0NsYXNzTmFtZShTdHJpbmcgbmFtZSkgewogIGZpbmFsIHBhcnRzID0gbmFtZS5zcGxpdCgnXycpOwogIHJldHVybiBwYXJ0cwogICAgICAubWFwKChwYXJ0KSA9PgogICAgICAgICAgcGFydC5pc05vdEVtcHR5ID8gcGFydFswXS50b1VwcGVyQ2FzZSgpICsgcGFydC5zdWJzdHJpbmcoMSkgOiAnJykKICAgICAgLmpvaW4oJycpOwp9CgovLyBUZW1wbGF0ZSBnZW5lcmF0b3IgZm9yIGVudGl0aWVzClN0cmluZyBnZW5lcmF0ZUVudGl0eVRlbXBsYXRlKFN0cmluZyBmZWF0dXJlTmFtZSkgewogIGZpbmFsIGNsYXNzTmFtZSA9IHRvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKTsKICByZXR1cm4gJycnCi8vICR7Y2xhc3NOYW1lfUVudGl0eQovLyBUaGlzIGZpbGUgd2FzIGF1dG8tR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAoKY2xhc3MgJHtjbGFzc05hbWV9RW50aXR5IHsKICBmaW5hbCBTdHJpbmcgaWQ7CiAgZmluYWwgU3RyaW5nIG5hbWU7CiAgLy8gQWRkIG1vcmUgZmllbGRzIGFzIG5lZWRlZAogIAogICR7Y2xhc3NOYW1lfUVudGl0eSh7CiAgICByZXF1aXJlZCB0aGlzLmlkLAogICAgcmVxdWlyZWQgdGhpcy5uYW1lLAogIH0pOwp9CicnJzsKfQoKLy8gVGVtcGxhdGUgZm9yIHJlcG9zaXRvcnkgaW50ZXJmYWNlClN0cmluZyBnZW5lcmF0ZVJlcG9zaXRvcnlUZW1wbGF0ZShTdHJpbmcgZmVhdHVyZU5hbWUpIHsKICBmaW5hbCBjbGFzc05hbWUgPSB0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSk7CiAgcmV0dXJuICcnJwovLyAke2NsYXNzTmFtZX1SZXBvc2l0b3J5IGludGVyZmFjZQovLyBUaGlzIGZpbGUgd2FzIGF1dG8tR2VuZXJhdGVkIGJ5IEZsdXR0ZXIgQnVubnkgQ2xp8J+QsAppbXBvcnQgJy4uL2VudGl0aWVzLyR7ZmVhdHVyZU5hbWV9X2VudGl0eS5kYXJ0JzsKCmFic3RyYWN0IGNsYXNzICR7Y2xhc3NOYW1lfVJlcG9zaXRvcnkgewogIEZ1dHVyZTxMaXN0PCR7Y2xhc3NOYW1lfUVudGl0eT4+IGdldEFsbCgpOwogIEZ1dHVyZTwke2NsYXNzTmFtZX1FbnRpdHk+IGdldEJ5SWQoU3RyaW5nIGlkKTsKICBGdXR1cmU8dm9pZD4gY3JlYXRlKCR7Y2xhc3NOYW1lfUVudGl0eSBlbnRpdHkpOwogIEZ1dHVyZTx2b2lkPiB1cGRhdGUoJHtjbGFzc05hbWV9RW50aXR5IGVudGl0eSk7CiAgRnV0dXJlPHZvaWQ+IGRlbGV0ZShTdHJpbmcgaWQpOwp9CicnJzsKfQoKLy8gVGVtcGxhdGUgZm9yIHVzZSBjYXNlClN0cmluZyBnZW5lcmF0ZVVzZUNhc2VUZW1wbGF0ZShTdHJpbmcgZmVhdHVyZU5hbWUpIHsKICBmaW5hbCBjbGFzc05hbWUgPSB0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSk7CiAgcmV0dXJuICcnJwovLyAke2NsYXNzTmFtZX1Vc2VDYXNlCi8vIFRoaXMgZmlsZSB3YXMgYXV0by1HZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCmltcG9ydCAnLi4vZW50aXRpZXMvJHtmZWF0dXJlTmFtZX1fZW50aXR5LmRhcnQnOwppbXBvcnQgJy4uL3JlcG9zaXRvcmllcy8ke2ZlYXR1cmVOYW1lfV9yZXBvc2l0b3J5LmRhcnQnOwoKY2xhc3MgR2V0JHtjbGFzc05hbWV9VXNlQ2FzZSB7CiAgZmluYWwgJHtjbGFzc05hbWV9UmVwb3NpdG9yeSByZXBvc2l0b3J5OwogIAogIEdldCR7Y2xhc3NOYW1lfVVzZUNhc2UodGhpcy5yZXBvc2l0b3J5KTsKICAKICBGdXR1cmU8TGlzdDwke2NsYXNzTmFtZX1FbnRpdHk+PiBleGVjdXRlKCkgewogICAgcmV0dXJuIHJlcG9zaXRvcnkuZ2V0QWxsKCk7CiAgfQp9CgpjbGFzcyBHZXQke2NsYXNzTmFtZX1CeUlkVXNlQ2FzZSB7CiAgZmluYWwgJHtjbGFzc05hbWV9UmVwb3NpdG9yeSByZXBvc2l0b3J5OwogIAogIEdldCR7Y2xhc3NOYW1lfUJ5SWRVc2VDYXNlKHRoaXMucmVwb3NpdG9yeSk7CiAgCiAgRnV0dXJlPCR7Y2xhc3NOYW1lfUVudGl0eT4gZXhlY3V0ZShTdHJpbmcgaWQpIHsKICAgIHJldHVybiByZXBvc2l0b3J5LmdldEJ5SWQoaWQpOwogIH0KfQonJyc7Cn0KCi8vIFRlbXBsYXRlIGZvciBtb2RlbApTdHJpbmcgZ2VuZXJhdGVNb2RlbFRlbXBsYXRlKFN0cmluZyBmZWF0dXJlTmFtZSkgewogIGZpbmFsIGNsYXNzTmFtZSA9IHRvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKTsKICByZXR1cm4gJycnCi8vICR7Y2xhc3NOYW1lfU1vZGVsCi8vIFRoaXMgZmlsZSB3YXMgYXV0by1HZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCmltcG9ydCAnLi4vLi4vZG9tYWluL2VudGl0aWVzLyR7ZmVhdHVyZU5hbWV9X2VudGl0eS5kYXJ0JzsKCmNsYXNzICR7Y2xhc3NOYW1lfU1vZGVsIGV4dGVuZHMgJHtjbGFzc05hbWV9RW50aXR5IHsKICAke2NsYXNzTmFtZX1Nb2RlbCh7CiAgICByZXF1aXJlZCBTdHJpbmcgaWQsCiAgICByZXF1aXJlZCBTdHJpbmcgbmFtZSwKICB9KSA6IHN1cGVyKAogICAgaWQ6IGlkLAogICAgbmFtZTogbmFtZSwKICApOwogIAogIGZhY3RvcnkgJHtjbGFzc05hbWV9TW9kZWwuZnJvbUpzb24oTWFwPFN0cmluZywgZHluYW1pYz4ganNvbikgewogICAgcmV0dXJuICR7Y2xhc3NOYW1lfU1vZGVsKAogICAgICBpZDoganNvblsnaWQnXSwKICAgICAgbmFtZToganNvblsnbmFtZSddLAogICAgKTsKICB9CiAgCiAgTWFwPFN0cmluZywgZHluYW1pYz4gdG9Kc29uKCkgewogICAgcmV0dXJuIHsKICAgICAgJ2lkJzogaWQsCiAgICAgICduYW1lJzogbmFtZSwKICAgIH07CiAgfQogIAogIGZhY3RvcnkgJHtjbGFzc05hbWV9TW9kZWwuZnJvbUVudGl0eSgke2NsYXNzTmFtZX1FbnRpdHkgZW50aXR5KSB7CiAgICByZXR1cm4gJHtjbGFzc05hbWV9TW9kZWwoCiAgICAgIGlkOiBlbnRpdHkuaWQsCiAgICAgIG5hbWU6IGVudGl0eS5uYW1lLAogICAgKTsKICB9Cn0KJycnOwp9CgovLyBUZW1wbGF0ZSBmb3IgcmVwb3NpdG9yeSBpbXBsZW1lbnRhdGlvbgpTdHJpbmcgZ2VuZXJhdGVSZXBvc2l0b3J5SW1wbFRlbXBsYXRlKFN0cmluZyBmZWF0dXJlTmFtZSkgewogIGZpbmFsIGNsYXNzTmFtZSA9IHRvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKTsKICByZXR1cm4gJycnCi8vICR7Y2xhc3NOYW1lfVJlcG9zaXRvcnlJbXBsCi8vIFRoaXMgZmlsZSB3YXMgYXV0by1HZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCmltcG9ydCAnLi4vLi4vZG9tYWluL2VudGl0aWVzLyR7ZmVhdHVyZU5hbWV9X2VudGl0eS5kYXJ0JzsKaW1wb3J0ICcuLi8uLi9kb21haW4vcmVwb3NpdG9yaWVzLyR7ZmVhdHVyZU5hbWV9X3JlcG9zaXRvcnkuZGFydCc7CmltcG9ydCAnLi4vZGF0YXNvdXJjZXMvJHtmZWF0dXJlTmFtZX1fZGF0YV9zb3VyY2UuZGFydCc7CmltcG9ydCAnLi4vbW9kZWxzLyR7ZmVhdHVyZU5hbWV9X21vZGVsLmRhcnQnOwoKY2xhc3MgJHtjbGFzc05hbWV9UmVwb3NpdG9yeUltcGwgaW1wbGVtZW50cyAke2NsYXNzTmFtZX1SZXBvc2l0b3J5IHsKICBmaW5hbCAke2NsYXNzTmFtZX1EYXRhU291cmNlIGRhdGFTb3VyY2U7CiAgCiAgJHtjbGFzc05hbWV9UmVwb3NpdG9yeUltcGwoewogICAgcmVxdWlyZWQgdGhpcy5kYXRhU291cmNlLAogIH0pOwogIAogIEBvdmVycmlkZQogIEZ1dHVyZTxMaXN0PCR7Y2xhc3NOYW1lfUVudGl0eT4+IGdldEFsbCgpIGFzeW5jIHsKICAgIGZpbmFsIHJlc3VsdCA9IGF3YWl0IGRhdGFTb3VyY2UuZ2V0QWxsKCk7CiAgICByZXR1cm4gcmVzdWx0Lm1hcCgobW9kZWwpID0+IG1vZGVsKS50b0xpc3QoKTsKICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPCR7Y2xhc3NOYW1lfUVudGl0eT4gZ2V0QnlJZChTdHJpbmcgaWQpIGFzeW5jIHsKICAgIHJldHVybiBhd2FpdCBkYXRhU291cmNlLmdldEJ5SWQoaWQpOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8dm9pZD4gY3JlYXRlKCR7Y2xhc3NOYW1lfUVudGl0eSBlbnRpdHkpIGFzeW5jIHsKICAgIGF3YWl0IGRhdGFTb3VyY2UuY3JlYXRlKCR7Y2xhc3NOYW1lfU1vZGVsLmZyb21FbnRpdHkoZW50aXR5KSk7CiAgfQogIAogIEBvdmVycmlkZQogIEZ1dHVyZTx2b2lkPiB1cGRhdGUoJHtjbGFzc05hbWV9RW50aXR5IGVudGl0eSkgYXN5bmMgewogICAgYXdhaXQgZGF0YVNvdXJjZS51cGRhdGUoJHtjbGFzc05hbWV9TW9kZWwuZnJvbUVudGl0eShlbnRpdHkpKTsKICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPHZvaWQ+IGRlbGV0ZShTdHJpbmcgaWQpIGFzeW5jIHsKICAgIGF3YWl0IGRhdGFTb3VyY2UuZGVsZXRlKGlkKTsKICB9Cn0KJycnOwp9CgovLyBUZW1wbGF0ZSBmb3IgZGF0YSBzb3VyY2UKU3RyaW5nIGdlbmVyYXRlRGF0YVNvdXJjZVRlbXBsYXRlKFN0cmluZyBmZWF0dXJlTmFtZSkgewogIGZpbmFsIGNsYXNzTmFtZSA9IHRvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKTsKICByZXR1cm4gJycnCi8vICR7Y2xhc3NOYW1lfURhdGFTb3VyY2UKLy8gVGhpcyBmaWxlIHdhcyBhdXRvLUdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKaW1wb3J0ICcuLi9tb2RlbHMvJHtmZWF0dXJlTmFtZX1fbW9kZWwuZGFydCc7CgphYnN0cmFjdCBjbGFzcyAke2NsYXNzTmFtZX1EYXRhU291cmNlIHsKICBGdXR1cmU8TGlzdDwke2NsYXNzTmFtZX1Nb2RlbD4+IGdldEFsbCgpOwogIEZ1dHVyZTwke2NsYXNzTmFtZX1Nb2RlbD4gZ2V0QnlJZChTdHJpbmcgaWQpOwogIEZ1dHVyZTx2b2lkPiBjcmVhdGUoJHtjbGFzc05hbWV9TW9kZWwgbW9kZWwpOwogIEZ1dHVyZTx2b2lkPiB1cGRhdGUoJHtjbGFzc05hbWV9TW9kZWwgbW9kZWwpOwogIEZ1dHVyZTx2b2lkPiBkZWxldGUoU3RyaW5nIGlkKTsKfQoKY2xhc3MgJHtjbGFzc05hbWV9UmVtb3RlRGF0YVNvdXJjZSBpbXBsZW1lbnRzICR7Y2xhc3NOYW1lfURhdGFTb3VyY2UgewogIC8vIFRPRE86IEltcGxlbWVudCByZW1vdGUgZGF0YSBzb3VyY2UgKEFQSSBjYWxscywgZXRjLikKICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8TGlzdDwke2NsYXNzTmFtZX1Nb2RlbD4+IGdldEFsbCgpIGFzeW5jIHsKICAgIC8vIFRPRE86IEltcGxlbWVudCBBUEkgY2FsbAogICAgcmV0dXJuIFtdOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8JHtjbGFzc05hbWV9TW9kZWw+IGdldEJ5SWQoU3RyaW5nIGlkKSBhc3luYyB7CiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgQVBJIGNhbGwKICAgIHRocm93IFVuaW1wbGVtZW50ZWRFcnJvcigpOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8dm9pZD4gY3JlYXRlKCR7Y2xhc3NOYW1lfU1vZGVsIG1vZGVsKSBhc3luYyB7CiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgQVBJIGNhbGwKICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPHZvaWQ+IHVwZGF0ZSgke2NsYXNzTmFtZX1Nb2RlbCBtb2RlbCkgYXN5bmMgewogICAgLy8gVE9ETzogSW1wbGVtZW50IEFQSSBjYWxsCiAgfQogIAogIEBvdmVycmlkZQogIEZ1dHVyZTx2b2lkPiBkZWxldGUoU3RyaW5nIGlkKSBhc3luYyB7CiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgQVBJIGNhbGwKICB9Cn0KCmNsYXNzICR7Y2xhc3NOYW1lfUxvY2FsRGF0YVNvdXJjZSBpbXBsZW1lbnRzICR7Y2xhc3NOYW1lfURhdGFTb3VyY2UgewogIC8vIFRPRE86IEltcGxlbWVudCBsb2NhbCBkYXRhIHNvdXJjZSAoc2hhcmVkIHByZWZzLCBkYXRhYmFzZSwgZXRjLikKICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8TGlzdDwke2NsYXNzTmFtZX1Nb2RlbD4+IGdldEFsbCgpIGFzeW5jIHsKICAgIC8vIFRPRE86IEltcGxlbWVudCBsb2NhbCBzdG9yYWdlIHJldHJpZXZhbAogICAgcmV0dXJuIFtdOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8JHtjbGFzc05hbWV9TW9kZWw+IGdldEJ5SWQoU3RyaW5nIGlkKSBhc3luYyB7CiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9jYWwgc3RvcmFnZSByZXRyaWV2YWwKICAgIHRocm93IFVuaW1wbGVtZW50ZWRFcnJvcigpOwogIH0KICAKICBAb3ZlcnJpZGUKICBGdXR1cmU8dm9pZD4gY3JlYXRlKCR7Y2xhc3NOYW1lfU1vZGVsIG1vZGVsKSBhc3luYyB7CiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgbG9jYWwgc3RvcmFnZSBzYXZpbmcKICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPHZvaWQ+IHVwZGF0ZSgke2NsYXNzTmFtZX1Nb2RlbCBtb2RlbCkgYXN5bmMgewogICAgLy8gVE9ETzogSW1wbGVtZW50IGxvY2FsIHN0b3JhZ2UgdXBkYXRpbmcKICB9CiAgCiAgQG92ZXJyaWRlCiAgRnV0dXJlPHZvaWQ+IGRlbGV0ZShTdHJpbmcgaWQpIGFzeW5jIHsKICAgIC8vIFRPRE86IEltcGxlbWVudCBsb2NhbCBzdG9yYWdlIGRlbGV0aW9uCiAgfQp9CicnJzsKfQoKLy8gVGVtcGxhdGUgZm9yIHBhZ2UKU3RyaW5nIGdlbmVyYXRlUGFnZVRlbXBsYXRlKFN0cmluZyBmZWF0dXJlTmFtZSkgewogIGZpbmFsIGNsYXNzTmFtZSA9IHRvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKTsKICByZXR1cm4gJycnCi8vICR7Y2xhc3NOYW1lfVBhZ2UKLy8gVGhpcyBmaWxlIHdhcyBhdXRvLUdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CmltcG9ydCAnLi4vd2lkZ2V0cy8ke2ZlYXR1cmVOYW1lfV93aWRnZXQuZGFydCc7CgpjbGFzcyAke2NsYXNzTmFtZX1QYWdlIGV4dGVuZHMgU3RhdGVsZXNzV2lkZ2V0IHsKICBjb25zdCAke2NsYXNzTmFtZX1QYWdlKHtLZXk/IGtleX0pIDogc3VwZXIoa2V5OiBrZXkpOwoKICBAb3ZlcnJpZGUKICBXaWRnZXQgYnVpbGQoQnVpbGRDb250ZXh0IGNvbnRleHQpIHsKICAgIHJldHVybiBTY2FmZm9sZCgKICAgICAgYXBwQmFyOiBBcHBCYXIoCiAgICAgICAgdGl0bGU6IFRleHQoJyR7Y2xhc3NOYW1lfScpLAogICAgICApLAogICAgICBib2R5OiAke2NsYXNzTmFtZX1XaWRnZXQoKSwKICAgICk7CiAgfQp9CicnJzsKfQoKLy8gVGVtcGxhdGUgZm9yIHdpZGdldApTdHJpbmcgZ2VuZXJhdGVXaWRnZXRUZW1wbGF0ZShTdHJpbmcgZmVhdHVyZU5hbWUpIHsKICBmaW5hbCBjbGFzc05hbWUgPSB0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSk7CiAgcmV0dXJuICcnJwovLyAke2NsYXNzTmFtZX1XaWRnZXQKLy8gVGhpcyBmaWxlIHdhcyBhdXRvLUdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXIvbWF0ZXJpYWwuZGFydCc7CgpjbGFzcyAke2NsYXNzTmFtZX1XaWRnZXQgZXh0ZW5kcyBTdGF0ZWxlc3NXaWRnZXQgewogIGNvbnN0ICR7Y2xhc3NOYW1lfVdpZGdldCh7S2V5PyBrZXl9KSA6IHN1cGVyKGtleToga2V5KTsKCiAgQG92ZXJyaWRlCiAgV2lkZ2V0IGJ1aWxkKEJ1aWxkQ29udGV4dCBjb250ZXh0KSB7CiAgICByZXR1cm4gQ2VudGVyKAogICAgICBjaGlsZDogVGV4dCgnJHtjbGFzc05hbWV9IEZlYXR1cmUnKSwKICAgICk7CiAgfQp9CicnJzsKfQoKLy8gVGVtcGxhdGUgZm9yIHNlcnZpY2UKU3RyaW5nIGdlbmVyYXRlU2VydmljZVRlbXBsYXRlKFN0cmluZyBtb2R1bGVOYW1lKSB7CiAgZmluYWwgY2xhc3NOYW1lID0gdG9DbGFzc05hbWUobW9kdWxlTmFtZSk7CiAgcmV0dXJuICcnJwovLyAke2NsYXNzTmFtZX1TZXJ2aWNlCi8vIFRoaXMgZmlsZSB3YXMgYXV0by1HZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCgpjbGFzcyAke2NsYXNzTmFtZX1TZXJ2aWNlIHsKICAvLyBUT0RPOiBBZGQgc2VydmljZSBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzCiAgCiAgRnV0dXJlPHZvaWQ+IGluaXRpYWxpemUoKSBhc3luYyB7CiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgaW5pdGlhbGl6YXRpb24gbG9naWMKICB9Cn0KJycnOwp9CgovLyBUZW1wbGF0ZSBmb3IgY29udHJvbGxlcgpTdHJpbmcgZ2VuZXJhdGVCYXNpY0NvbnRyb2xsZXIoU3RyaW5nIGZlYXR1cmVOYW1lKSB7CiAgZmluYWwgY2xhc3NOYW1lID0gdG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpOwogIHJldHVybiAnJycKLy8gJHtjbGFzc05hbWV9Q29udHJvbGxlciBiYXNpYyBpbXBsZW1lbnRhdGlvbgovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCgpjbGFzcyAke2NsYXNzTmFtZX1Db250cm9sbGVyIHsKICBib29sIGlzTG9hZGluZyA9IGZhbHNlOwogIFN0cmluZz8gZXJyb3JNZXNzYWdlOwogIExpc3Q8ZHluYW1pYz4gaXRlbXMgPSBbXTsKICAKICBGdXR1cmU8dm9pZD4gZmV0Y2hEYXRhKCkgYXN5bmMgewogICAgaXNMb2FkaW5nID0gdHJ1ZTsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGRhdGEgZmV0Y2hpbmcKICAgICAgZXJyb3JNZXNzYWdlID0gbnVsbDsKICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgZXJyb3JNZXNzYWdlID0gZS50b1N0cmluZygpOwogICAgfSBmaW5hbGx5IHsKICAgICAgaXNMb2FkaW5nID0gZmFsc2U7CiAgICB9CiAgfQp9CicnJzsKfQoKU3RyaW5nIGdlbmVyYXRlUHJvdmlkZXJDb250cm9sbGVyKFN0cmluZyBmZWF0dXJlTmFtZSkgewogIGZpbmFsIGNsYXNzTmFtZSA9IHRvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKTsKICByZXR1cm4gJycnCi8vICR7Y2xhc3NOYW1lfUNvbnRyb2xsZXIgd2l0aCBQcm92aWRlcgovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCmltcG9ydCAncGFja2FnZTpmbHV0dGVyL2ZvdW5kYXRpb24uZGFydCc7CgoKY2xhc3MgJHtjbGFzc05hbWV9Q29udHJvbGxlciBleHRlbmRzIENoYW5nZU5vdGlmaWVyIHsKIAogIAogIGJvb2wgX2lzTG9hZGluZyA9IGZhbHNlOwogIFN0cmluZz8gX2Vycm9yTWVzc2FnZTsKICBMaXN0PGR5bmFtaWM+IF9pdGVtcyA9IFtdOwogIAogIGJvb2wgZ2V0IGlzTG9hZGluZyA9PiBfaXNMb2FkaW5nOwogIFN0cmluZz8gZ2V0IGVycm9yTWVzc2FnZSA9PiBfZXJyb3JNZXNzYWdlOwogIExpc3Q8ZHluYW1pYz4gZ2V0IGl0ZW1zID0+IF9pdGVtczsKICAKICBGdXR1cmU8dm9pZD4gZmV0Y2hEYXRhKCkgYXN5bmMgewogICAgX2lzTG9hZGluZyA9IHRydWU7CiAgICBfZXJyb3JNZXNzYWdlID0gbnVsbDsKICAgIG5vdGlmeUxpc3RlbmVycygpOwogICAgCiAgICB0cnkgewogICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgZGF0YSBmZXRjaGluZwogICAgICAvLyBFeGFtcGxlOiBfaXRlbXMgPSBhd2FpdCBfc2VydmljZS5nZXRJdGVtcygpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBfZXJyb3JNZXNzYWdlID0gZS50b1N0cmluZygpOwogICAgfSBmaW5hbGx5IHsKICAgICAgX2lzTG9hZGluZyA9IGZhbHNlOwogICAgICBub3RpZnlMaXN0ZW5lcnMoKTsKICAgIH0KICB9Cn0KJycnOwp9CgpTdHJpbmcgZ2VuZXJhdGVSaXZlcnBvZENvbnRyb2xsZXIoU3RyaW5nIGZlYXR1cmVOYW1lKSB7CiAgZmluYWwgY2xhc3NOYW1lID0gdG9DbGFzc05hbWUoZmVhdHVyZU5hbWUpOwogIHJldHVybiAnJycKLy8gJHtjbGFzc05hbWV9Q29udHJvbGxlciB3aXRoIFJpdmVycG9kCi8vIEdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfcml2ZXJwb2QvZmx1dHRlcl9yaXZlcnBvZC5kYXJ0JzsKCgovLyBTdGF0ZSBjbGFzcwpjbGFzcyAke2NsYXNzTmFtZX1TdGF0ZSB7CiAgZmluYWwgYm9vbCBpc0xvYWRpbmc7CiAgZmluYWwgU3RyaW5nPyBlcnJvck1lc3NhZ2U7CiAgZmluYWwgTGlzdDxkeW5hbWljPiBpdGVtczsKICAKICBjb25zdCAke2NsYXNzTmFtZX1TdGF0ZSh7CiAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlLAogICAgdGhpcy5lcnJvck1lc3NhZ2UsCiAgICB0aGlzLml0ZW1zID0gY29uc3QgW10sCiAgfSk7CiAgCiAgJHtjbGFzc05hbWV9U3RhdGUgY29weVdpdGgoewogICAgYm9vbD8gaXNMb2FkaW5nLAogICAgU3RyaW5nPyBlcnJvck1lc3NhZ2UsCiAgICBMaXN0PGR5bmFtaWM+PyBpdGVtcywKICB9KSB7CiAgICByZXR1cm4gJHtjbGFzc05hbWV9U3RhdGUoCiAgICAgIGlzTG9hZGluZzogaXNMb2FkaW5nID8/IHRoaXMuaXNMb2FkaW5nLAogICAgICBlcnJvck1lc3NhZ2U6IGVycm9yTWVzc2FnZSA/PyB0aGlzLmVycm9yTWVzc2FnZSwKICAgICAgaXRlbXM6IGl0ZW1zID8/IHRoaXMuaXRlbXMsCiAgICApOwogIH0KfQoKLy8gUHJvdmlkZXIKZmluYWwgJHtmZWF0dXJlTmFtZX1Qcm92aWRlciA9IFN0YXRlTm90aWZpZXJQcm92aWRlcjwke2NsYXNzTmFtZX1Db250cm9sbGVyLCAke2NsYXNzTmFtZX1TdGF0ZT4oKHJlZikgewogIHJldHVybiAke2NsYXNzTmFtZX1Db250cm9sbGVyKCk7Cn0pOwoKLy8gQ29udHJvbGxlcgpjbGFzcyAke2NsYXNzTmFtZX1Db250cm9sbGVyIGV4dGVuZHMgU3RhdGVOb3RpZmllcjwke2NsYXNzTmFtZX1TdGF0ZT4gewogCiAgCiAgJHtjbGFzc05hbWV9Q29udHJvbGxlcigpIDogc3VwZXIoY29uc3QgJHtjbGFzc05hbWV9U3RhdGUoKSkgewogICAgZmV0Y2hEYXRhKCk7CiAgfQogIAogIEZ1dHVyZTx2b2lkPiBmZXRjaERhdGEoKSBhc3luYyB7CiAgICBzdGF0ZSA9IHN0YXRlLmNvcHlXaXRoKGlzTG9hZGluZzogdHJ1ZSwgZXJyb3JNZXNzYWdlOiBudWxsKTsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGRhdGEgZmV0Y2hpbmcKICAgICAgLy8gRXhhbXBsZTogZmluYWwgaXRlbXMgPSBhd2FpdCBfc2VydmljZS5nZXRJdGVtcygpOwogICAgICAvLyBzdGF0ZSA9IHN0YXRlLmNvcHlXaXRoKGl0ZW1zOiBpdGVtcywgaXNMb2FkaW5nOiBmYWxzZSk7CiAgICAgIHN0YXRlID0gc3RhdGUuY29weVdpdGgoaXNMb2FkaW5nOiBmYWxzZSk7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIHN0YXRlID0gc3RhdGUuY29weVdpdGgoCiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSwKICAgICAgICBlcnJvck1lc3NhZ2U6IGUudG9TdHJpbmcoKSwKICAgICAgKTsKICAgIH0KICB9Cn0KJycnOwp9CgpTdHJpbmcgZ2VuZXJhdGVHZXRYQ29udHJvbGxlcihTdHJpbmcgZmVhdHVyZU5hbWUpIHsKICBmaW5hbCBjbGFzc05hbWUgPSB0b0NsYXNzTmFtZShmZWF0dXJlTmFtZSk7CiAgcmV0dXJuICcnJwovLyAke2NsYXNzTmFtZX1Db250cm9sbGVyIHdpdGggR2V0WAovLyBHZW5lcmF0ZWQgYnkgRmx1dHRlciBCdW5ueSBDbGnwn5CwCmltcG9ydCAncGFja2FnZTpnZXQvZ2V0LmRhcnQnOwoKCmNsYXNzICR7Y2xhc3NOYW1lfUNvbnRyb2xsZXIgZXh0ZW5kcyBHZXR4Q29udHJvbGxlciB7CiAKICAKICBmaW5hbCBSeEJvb2wgaXNMb2FkaW5nID0gZmFsc2Uub2JzOwogIGZpbmFsIFJ4PFN0cmluZz8+IGVycm9yTWVzc2FnZSA9IFJ4PFN0cmluZz8+KG51bGwpOwogIGZpbmFsIFJ4TGlzdDxkeW5hbWljPiBpdGVtcyA9IDxkeW5hbWljPltdLm9iczsKICAKICBAb3ZlcnJpZGUKICB2b2lkIG9uSW5pdCgpIHsKICAgIHN1cGVyLm9uSW5pdCgpOwogICAgZmV0Y2hEYXRhKCk7CiAgfQogIAogIEZ1dHVyZTx2b2lkPiBmZXRjaERhdGEoKSBhc3luYyB7CiAgICBpc0xvYWRpbmcudmFsdWUgPSB0cnVlOwogICAgZXJyb3JNZXNzYWdlLnZhbHVlID0gbnVsbDsKICAgIAogICAgdHJ5IHsKICAgICAgLy8gVE9ETzogSW1wbGVtZW50IGRhdGEgZmV0Y2hpbmcKICAgICAgLy8gRXhhbXBsZTogZmluYWwgcmVzdWx0ID0gYXdhaXQgX3NlcnZpY2UuZ2V0SXRlbXMoKTsKICAgICAgLy8gaXRlbXMudmFsdWUgPSByZXN1bHQ7CiAgICB9IGNhdGNoIChlKSB7CiAgICAgIGVycm9yTWVzc2FnZS52YWx1ZSA9IGUudG9TdHJpbmcoKTsKICAgIH0gZmluYWxseSB7CiAgICAgIGlzTG9hZGluZy52YWx1ZSA9IGZhbHNlOwogICAgfQogIH0KfQonJyc7Cn0KClN0cmluZyBnZW5lcmF0ZU1vYlhDb250cm9sbGVyKFN0cmluZyBmZWF0dXJlTmFtZSkgewogIGZpbmFsIGNsYXNzTmFtZSA9IHRvQ2xhc3NOYW1lKGZlYXR1cmVOYW1lKTsKICByZXR1cm4gJycnCi8vICR7Y2xhc3NOYW1lfUNvbnRyb2xsZXIgd2l0aCBNb2JYCi8vIEdlbmVyYXRlZCBieSBGbHV0dGVyIEJ1bm55IENsafCfkLAKaW1wb3J0ICdwYWNrYWdlOm1vYngvbW9ieC5kYXJ0JzsKCgovLyBJbmNsdWRlIGdlbmVyYXRlZCBmaWxlCnBhcnQgJyR7ZmVhdHVyZU5hbWV9X2NvbnRyb2xsZXIuZy5kYXJ0JzsKCi8vIFRoaXMgaXMgdGhlIGNsYXNzIHVzZWQgYnkgcmVzdCBvZiB0aGUgY29kZWJhc2UKY2xhc3MgJHtjbGFzc05hbWV9Q29udHJvbGxlciA9IF8ke2NsYXNzTmFtZX1Db250cm9sbGVyIHdpdGggX1wkJHtjbGFzc05hbWV9Q29udHJvbGxlcjsKCi8vIFRoZSBjb250cm9sbGVyIGNsYXNzCmFic3RyYWN0IGNsYXNzIF8ke2NsYXNzTmFtZX1Db250cm9sbGVyIHdpdGggU3RvcmUgewogCiAgCiAgQG9ic2VydmFibGUKICBib29sIGlzTG9hZGluZyA9IGZhbHNlOwoKICBAb2JzZXJ2YWJsZQogIFN0cmluZz8gZXJyb3JNZXNzYWdlOwogIAogIEBvYnNlcnZhYmxlCiAgT2JzZXJ2YWJsZUxpc3Q8ZHluYW1pYz4gaXRlbXMgPSBPYnNlcnZhYmxlTGlzdDxkeW5hbWljPigpOwogIAogIF8ke2NsYXNzTmFtZX1Db250cm9sbGVyKCkgewogICAgZmV0Y2hEYXRhKCk7CiAgfQogIAogIEBhY3Rpb24KICBGdXR1cmU8dm9pZD4gZmV0Y2hEYXRhKCkgYXN5bmMgewogICAgaXNMb2FkaW5nID0gdHJ1ZTsKICAgIGVycm9yTWVzc2FnZSA9IG51bGw7CiAgICAKICAgIHRyeSB7CiAgICAgIC8vIFRPRE86IEltcGxlbWVudCBkYXRhIGZldGNoaW5nCiAgICAgIC8vIEV4YW1wbGU6IGZpbmFsIHJlc3VsdCA9IGF3YWl0IF9zZXJ2aWNlLmdldEl0ZW1zKCk7CiAgICAgIC8vIGl0ZW1zLmNsZWFyKCk7CiAgICAgIC8vIGl0ZW1zLmFkZEFsbChyZXN1bHQpOwogICAgfSBjYXRjaCAoZSkgewogICAgICBlcnJvck1lc3NhZ2UgPSBlLnRvU3RyaW5nKCk7CiAgICB9IGZpbmFsbHkgewogICAgICBpc0xvYWRpbmcgPSBmYWxzZTsKICAgIH0KICB9Cn0KJycnOwp9Cg==",
      "type": "text",
    },
    {
      "path": "pre_gen.dart",
      "data":
          "aW1wb3J0ICdkYXJ0OmlvJzsKCmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2J1bm55X2NsaS9hcHBfYnVubnlfc2NyZWVuX2dlbmVyYXRvci5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfYnVubnlfY2xpL2FwcF9nZW5lcmF0b3IuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2J1bm55X2NsaS9lcnJvcl9nZW5lcmF0b3IuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2J1bm55X2NsaS9sb2NhbGl6YXRpb25fZ2VuZXJhdG9yLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6Zmx1dHRlcl9idW5ueV9jbGkvbWFpbl9jb25maWd1cmF0b3IuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2J1bm55X2NsaS9uZXR3b3JrX2xheWVyX2dlbmVyYXRvci5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfYnVubnlfY2xpL3B1YnNlY19jb25maWd1cmF0b3IuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2J1bm55X2NsaS9wdXNoX25vdGlmaWNhdGlvbl9nZW5lcmF0b3IuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2J1bm55X2NsaS9yZWR1eF9nZW5lcmF0b3IuZGFydCc7CmltcG9ydCAncGFja2FnZTpmbHV0dGVyX2J1bm55X2NsaS9zdGF0ZV9tYW5hZ2VtZW50X29ic2VydmFibGl0eS5kYXJ0JzsKaW1wb3J0ICdwYWNrYWdlOmZsdXR0ZXJfYnVubnlfY2xpL3RoZW1lX21hbmFnZXJfZ2VuZXJhdG9yLmRhcnQnOwppbXBvcnQgJ3BhY2thZ2U6bWFzb24vbWFzb24uZGFydCc7CgovLyBJbXBvcnQgaGVscGVyIGZpbGVzCmltcG9ydCAnbGliL2FyY2hpdGVjdHVyZV9oYW5kbGVyLmRhcnQnOwppbXBvcnQgJ2xpYi9mZWF0dXJlX2dlbmVyYXRvci5kYXJ0JzsKaW1wb3J0ICdsaWIvdXRpbHMuZGFydCc7Cgp2b2lkIHJ1bihIb29rQ29udGV4dCBjb250ZXh0KSB7CiAgLy8gVmFsaWRhdGUgcHJvamVjdCBuYW1lCiAgZmluYWwgcHJvamVjdE5hbWUgPSBjb250ZXh0LnZhcnNbJ3Byb2plY3RfbmFtZSddIGFzIFN0cmluZzsKICBmaW5hbCBhcmNoaXRlY3R1cmUgPSBjb250ZXh0LnZhcnNbJ2FyY2hpdGVjdHVyZSddIGFzIFN0cmluZzsKICBmaW5hbCBvcmdhbml6YXRpb25OYW1lID0gY29udGV4dC52YXJzWydidW5kbGVfaWRlbnRpZmllciddIGFzIFN0cmluZzsKICBmaW5hbCBzdGF0ZU1hbmFnZW1lbnQgPSBjb250ZXh0LnZhcnNbJ3N0YXRlX21hbmFnZW1lbnQnXSBhcyBTdHJpbmc7CiAgdmFyIGZlYXR1cmVzID0gY29udGV4dC52YXJzWydmZWF0dXJlcyddIGFzIExpc3Q8ZHluYW1pYz47CiAgZmluYWwgbW9kdWxlcyA9IGNvbnRleHQudmFyc1snbW9kdWxlcyddIGFzIExpc3Q8ZHluYW1pYz47CgogIC8vIFZhbGlkYXRlIHByb2plY3QgbmFtZQogIGlmICghaXNWYWxpZFByb2plY3ROYW1lKHByb2plY3ROYW1lKSkgewogICAgdGhyb3cgQXJndW1lbnRFcnJvcigKICAgICAgICAnSW52YWxpZCBwcm9qZWN0IG5hbWUuIE11c3Qgc3RhcnQgd2l0aCBhIGxldHRlciBvciB1bmRlcnNjb3JlLCAnCiAgICAgICAgJ2NvbnRhaW4gb25seSBsb3dlcmNhc2UgbGV0dGVycywgbnVtYmVycywgYW5kIHVuZGVyc2NvcmVzLicpOwogIH0KCiAgLy8gTWFrZSBBdXRoZW50aWNhdGlvbiB0aGUgZGVmYXVsdCBmZWF0dXJlIGlmIG5vbmUgYXJlIHNlbGVjdGVkCiAgaWYgKGZlYXR1cmVzLmlzRW1wdHkpIHsKICAgIGZlYXR1cmVzID0gWydBdXRoZW50aWNhdGlvbiddOwogICAgY29udGV4dC5sb2dnZXIKICAgICAgICAuaW5mbygnTm8gZmVhdHVyZXMgc2VsZWN0ZWQsIGFkZGluZyBkZWZhdWx0IGZlYXR1cmU6IEF1dGhlbnRpY2F0aW9uJyk7CiAgfSBlbHNlIGlmICghZmVhdHVyZXMuY29udGFpbnMoJ0F1dGhlbnRpY2F0aW9uJykpIHsKICAgIC8vIEFkZCBBdXRoZW50aWNhdGlvbiBpZiBub3QgYWxyZWFkeSBpbmNsdWRlZAogICAgZmVhdHVyZXMgPSBbLi4uZmVhdHVyZXNdOwogICAgY29udGV4dC5sb2dnZXIuaW5mbygnQWRkaW5nIGRlZmF1bHQgZmVhdHVyZTogQXV0aGVudGljYXRpb24nKTsKICB9CgogIC8vIExvZyBwcm9qZWN0IGRldGFpbHMKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdHZW5lcmF0aW5nIHByb2plY3Q6ICRwcm9qZWN0TmFtZScpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ0FyY2hpdGVjdHVyZTogJGFyY2hpdGVjdHVyZScpOwogIGNvbnRleHQubG9nZ2VyLmluZm8oJ1N0YXRlIE1hbmFnZW1lbnQ6ICRzdGF0ZU1hbmFnZW1lbnQnKTsKICBjb250ZXh0LmxvZ2dlci5pbmZvKCdGZWF0dXJlczogJGZlYXR1cmVzJyk7CiAgY29udGV4dC5sb2dnZXIuaW5mbygnTW9kdWxlczogJG1vZHVsZXMnKTsKCiAgY29udGV4dC52YXJzWydhcHBsaWNhdGlvbl9pZF9hbmRyb2lkJ10gPQogICAgICBfYXBwSWQoY29udGV4dCwgcGxhdGZvcm06IFBsYXRmb3JtLmFuZHJvaWQpOwogIGNvbnRleHQudmFyc1snYXBwbGljYXRpb25faWRfaW9zJ10gPSBfYXBwSWQoY29udGV4dCwgcGxhdGZvcm06IFBsYXRmb3JtLmlvcyk7CgogIC8vIENyZWF0ZSBwcm9qZWN0IHN0cnVjdHVyZQogIGNyZWF0ZVByb2plY3RTdHJ1Y3R1cmUoY29udGV4dCwgcHJvamVjdE5hbWUpOwoKICAvLyBHZW5lcmF0ZSBhcHAgd2lkZ2V0IGJhc2VkIG9uIHNlbGVjdGVkIGZlYXR1cmVzCiAgZ2VuZXJhdGVBcHBXaWRnZXQoCiAgICAgIGNvbnRleHQsIHByb2plY3ROYW1lLCBhcmNoaXRlY3R1cmUsIHN0YXRlTWFuYWdlbWVudCwgZmVhdHVyZXMsIG1vZHVsZXMpOwoKICAvLyBDcmVhdGUgYXJjaGl0ZWN0dXJlLXNwZWNpZmljIHN0cnVjdHVyZQogIGNyZWF0ZUFyY2hpdGVjdHVyZVN0cnVjdHVyZShjb250ZXh0LCBwcm9qZWN0TmFtZSwgYXJjaGl0ZWN0dXJlKTsKCiAgLy8gQ3JlYXRlIGZlYXR1cmUgc3RydWN0dXJlcyBiYXNlZCBvbiBhcmNoaXRlY3R1cmUgYW5kIHN0YXRlIG1hbmFnZW1lbnQKICBjcmVhdGVGZWF0dXJlU3RydWN0dXJlcygKICAgICAgY29udGV4dCwgcHJvamVjdE5hbWUsIGZlYXR1cmVzLCBhcmNoaXRlY3R1cmUsIHN0YXRlTWFuYWdlbWVudCk7CgogIC8vIENvbmZpZ3VyZSBwdWJzcGVjLnlhbWwgYmFzZWQgb24gcHJvamVjdCByZXF1aXJlbWVudHMKCiAgY29uZmlndXJlUHVic3BlYyhjb250ZXh0LCBwcm9qZWN0TmFtZSwgb3JnYW5pemF0aW9uTmFtZSwgYXJjaGl0ZWN0dXJlLAogICAgICBzdGF0ZU1hbmFnZW1lbnQsIGZlYXR1cmVzLCBtb2R1bGVzKTsKCiAgLy8gU2V0dXAgc3RhdGUgbWFuYWdlbWVudCBvYnNlcnZhYmlsaXR5CiAgc2V0dXBPYnNlcnZhYmlsaXR5KGNvbnRleHQsIHByb2plY3ROYW1lLCBzdGF0ZU1hbmFnZW1lbnQpOwoKICAvLyBTZXR1cCB0aGVtZSBzeXN0ZW0gaWYgVGhlbWUgTWFuYWdlciBpcyBzZWxlY3RlZAogIGdlbmVyYXRlVGhlbWVTeXN0ZW0oY29udGV4dCwgcHJvamVjdE5hbWUsIG1vZHVsZXMpOwoKICAvLyBTZXR1cCBuZXR3b3JrIG1vZHVsZSBpZiBOZXR3b3JrIE1vZHVsZSBpcyBzZWxlY3RlZAogIGdlbmVyYXRlTmV0d29ya0xheWVyU2VydmljZShjb250ZXh0LCBwcm9qZWN0TmFtZSwgbW9kdWxlcyk7CgogIC8vIFJlZHV4IHNwZWNpZmljIHNldHVwCiAgZ2VuZXJhdGVSZWR1eEZpbGVzKGNvbnRleHQsIHByb2plY3ROYW1lLCBzdGF0ZU1hbmFnZW1lbnQpOwoKICBnZW5lcmF0ZUZsdXR0ZXJCdW5ueVNjcmVlbihjb250ZXh0LCBwcm9qZWN0TmFtZSwgc3RhdGVNYW5hZ2VtZW50LCBtb2R1bGVzKTsKCiAgLy8gQ3JlYXRlIG1vZHVsZSBzdHJ1Y3R1cmVzCiAgLy8gY3JlYXRlTW9kdWxlU3RydWN0dXJlcyhjb250ZXh0LCBwcm9qZWN0TmFtZSwgbW9kdWxlcywgYXJjaGl0ZWN0dXJlKTsKCiAgLy8gR2VuZXJhdGUgbWFpbi5kYXJ0IGZpbGUgYmFzZWQgb24gYXJjaGl0ZWN0dXJlLCBzdGF0ZSBtYW5hZ2VtZW50LCBmZWF0dXJlcywgYW5kIG1vZHVsZXMKICBnZW5lcmF0ZU1haW5EYXJ0KGNvbnRleHQsIHByb2plY3ROYW1lLCBvcmdhbml6YXRpb25OYW1lLCBhcmNoaXRlY3R1cmUsCiAgICAgIHN0YXRlTWFuYWdlbWVudCwgZmVhdHVyZXMsIG1vZHVsZXMpOwoKICAvLyBTZXR1cCBwdXNoIG5vdGlmaWNhdGlvbiBzeXN0ZW0gaWYgTm90aWZpY2F0aW9ucyBpcyBzZWxlY3RlZAogIGdlbmVyYXRlUHVzaE5vdGlmaWNhdGlvblN5c3RlbShjb250ZXh0LCBwcm9qZWN0TmFtZSwgbW9kdWxlcyk7CgogIC8vIEdlbmVyYXRlIGVycm9yIGhhbmRsaW5nIHN5c3RlbQogIGdlbmVyYXRlRXJyb3JIYW5kbGluZyhjb250ZXh0LCBwcm9qZWN0TmFtZSwgYXJjaGl0ZWN0dXJlKTsKCiAgLy8gR2VuZXJhdGUgbG9jYWxpemF0aW9uIHN5c3RlbSBpZiBzZWxlY3RlZAogIGdlbmVyYXRlTG9jYWxpemF0aW9uU3lzdGVtKGNvbnRleHQsIHByb2plY3ROYW1lLCBtb2R1bGVzLCBzdGF0ZU1hbmFnZW1lbnQpOwoKICBjb250ZXh0LmxvZ2dlci5zdWNjZXNzKCdQcm9qZWN0IHN0cnVjdHVyZSBjcmVhdGVkIHN1Y2Nlc3NmdWxseSEnKTsKfQoKLy8gTWFpbiBtZXRob2QgcmVxdWlyZWQgZm9yIGtlcm5lbCBjb21waWxhdGlvbgp2b2lkIG1haW4oTGlzdDxTdHJpbmc+IGFyZ3MpIHsKICAvLyBUaGlzIGlzIGEgcGxhY2Vob2xkZXIgbWFpbiBtZXRob2QKICBwcmludCgnTWFzb24gcHJlLWdlbmVyYXRpb24gaG9vaycpOwp9CgplbnVtIFBsYXRmb3JtIHsKICBhbmRyb2lkLAogIGlvcywKfQoKU3RyaW5nIF9hcHBJZChIb29rQ29udGV4dCBjb250ZXh0LCB7UGxhdGZvcm0/IHBsYXRmb3JtfSkgewogIGZpbmFsIGFwcGxpY2F0aW9uSWQgPSBjb250ZXh0LnZhcnNbJ2J1bmRsZV9pZGVudGlmaWVyJ10gYXMgU3RyaW5nPzsKICBpZiAoYXBwbGljYXRpb25JZCA9PSBudWxsKSB7CiAgICByZXR1cm4gJyc7CiAgfQogIC8vIENvbnZlcnQgdG8gYSB2YWxpZCBBbmRyb2lkIGFwcGxpY2F0aW9uIElECiAgaWYgKHBsYXRmb3JtID09IFBsYXRmb3JtLmFuZHJvaWQpIHsKICAgIHJldHVybiBhcHBsaWNhdGlvbklkLnJlcGxhY2VBbGwoJ18nLCAnJykudG9Mb3dlckNhc2UoKTsKICB9CgogIC8vIENvbnZlcnQgdG8gYSB2YWxpZCBpT1MgYXBwbGljYXRpb24gSUQKICBpZiAocGxhdGZvcm0gPT0gUGxhdGZvcm0uaW9zKSB7CiAgICByZXR1cm4gYXBwbGljYXRpb25JZC5yZXBsYWNlQWxsKCdfJywgJycpLnRvTG93ZXJDYXNlKCk7CiAgfQoKICByZXR1cm4gYXBwbGljYXRpb25JZDsKfQoKdm9pZCBjcmVhdGVQcm9qZWN0U3RydWN0dXJlKEhvb2tDb250ZXh0IGNvbnRleHQsIFN0cmluZyBwcm9qZWN0TmFtZSkgewogIGZpbmFsIGRpcmVjdG9yaWVzID0gWwogICAgJ2xpYicsCiAgICAndGVzdCcsCiAgICAnYXNzZXRzJywKICAgICdhc3NldHMvaW1hZ2VzJywKICAgICdhc3NldHMvaWNvbnMnLAogICAgJ2Fzc2V0cy9mb250cycsCiAgICAnYXNzZXRzL2pzb24nLAogIF07CgogIGZvciAoZmluYWwgZGlyIGluIGRpcmVjdG9yaWVzKSB7CiAgICBmaW5hbCBkaXJlY3RvcnkgPSBEaXJlY3RvcnkoJyRwcm9qZWN0TmFtZS8kZGlyJyk7CiAgICBpZiAoIWRpcmVjdG9yeS5leGlzdHNTeW5jKCkpIHsKICAgICAgZGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICAgICAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBkaXJlY3Rvcnk6ICRkaXInKTsKICAgIH0KICB9Cn0KCnZvaWQgY3JlYXRlTW9kdWxlU3RydWN0dXJlcyhIb29rQ29udGV4dCBjb250ZXh0LCBTdHJpbmcgcHJvamVjdE5hbWUsCiAgICBMaXN0PGR5bmFtaWM+IG1vZHVsZXMsIFN0cmluZyBhcmNoaXRlY3R1cmUpIHsKICBmb3IgKGZpbmFsIG1vZHVsZSBpbiBtb2R1bGVzKSB7CiAgICBmaW5hbCBtb2R1bGVOYW1lID0gbW9kdWxlLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKS5yZXBsYWNlQWxsKCcgJywgJ18nKTsKICAgIFN0cmluZyBiYXNlRGlyOwoKICAgIHN3aXRjaCAoYXJjaGl0ZWN0dXJlKSB7CiAgICAgIGNhc2UgJ0NsZWFuIEFyY2hpdGVjdHVyZSc6CiAgICAgICAgYmFzZURpciA9ICdjb3JlJzsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAnTVZWTSc6CiAgICAgICAgYmFzZURpciA9ICdjb3JlJzsKICAgICAgY2FzZSAnTVZDJzoKICAgICAgICBiYXNlRGlyID0gJ2NvcmUnOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdGZWF0dXJlLURyaXZlbic6CiAgICAgICAgYmFzZURpciA9ICdzaGFyZWQvc2VydmljZXMnOwogICAgICAgIGJyZWFrOwogICAgICBkZWZhdWx0OgogICAgICAgIGJhc2VEaXIgPSAnY29yZSc7CiAgICB9CgogICAgZmluYWwgZGlyZWN0b3J5ID0gRGlyZWN0b3J5KCckcHJvamVjdE5hbWUvbGliLyRiYXNlRGlyLyRtb2R1bGVOYW1lJyk7CiAgICBpZiAoIWRpcmVjdG9yeS5leGlzdHNTeW5jKCkpIHsKICAgICAgZGlyZWN0b3J5LmNyZWF0ZVN5bmMocmVjdXJzaXZlOiB0cnVlKTsKICAgICAgY29udGV4dC5sb2dnZXIuaW5mbygnQ3JlYXRlZCBtb2R1bGUgZGlyZWN0b3J5OiBsaWIvJGJhc2VEaXIvJG1vZHVsZU5hbWUnKTsKICAgIH0KICB9Cn0K",
      "type": "text",
    },
    {
      "path": "pubspec.yaml",
      "data":
          "bmFtZTogZmx1dHRlcl9idW5ueV9jbGkKCmVudmlyb25tZW50OgogIHNkazogIl4zLjYuMCIKCmRlcGVuZGVuY2llczoKICBtYXNvbjogXjAuMS4wCg==",
      "type": "text",
    },
  ],
  "name": "bunny_cli_template",
  "description": "A generator for flutter bunny cli.",
  "version": "0.1.0+1",
  "environment": {"mason": ">=0.1.0"},
  "readme": {
    "path": "README.md",
    "data": "IyBGbHV0dGVyIEJ1bm55IENMSSBUZW1wbGF0ZQ==",
    "type": "text",
  },
  "changelog": {
    "path": "CHANGELOG.md",
    "data": "IyAwLjEuMCsxCgotIFRPRE86IERlc2NyaWJlIGluaXRpYWwgcmVsZWFzZS4K",
    "type": "text",
  },
  "license": {
    "path": "LICENSE",
    "data":
        "TUlUIExpY2Vuc2UKCkNvcHlyaWdodCAoYykgMjAyNSBGbHV0dGVyIEJ1bm55IENMSSBUZW1wbGF0ZQoKUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weQpvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSAiU29mdHdhcmUiKSwgdG8gZGVhbAppbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzCnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwKY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzCmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6CgpUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpbiBhbGwKY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS4KClRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCAiQVMgSVMiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SCklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLApGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUKQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUgpMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLApPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRQpTT0ZUV0FSRS4=",
    "type": "text",
  },
  "vars": {
    "project_name": {
      "type": "string",
      "description": "The project or app name",
      "default": "flutter_bunny",
      "prompt": "What is the project name?",
    },
    "bundle_identifier": {
      "type": "string",
      "description": "The bundle identifier",
      "default": "com.example.app",
      "prompt": "What is the bundle identifier?",
    },
    "architecture": {
      "type": "enum",
      "description": "The architecture pattern to use",
      "default": "Clean Architecture",
      "values": ["Clean Architecture", "MVVM", "MVC"],
    },
    "state_management": {
      "type": "enum",
      "description": "The state management solution to use",
      "default": "Provider",
      "values": ["Provider", "Riverpod", "Bloc", "GetX", "MobX", "Redux"],
    },
    "features": {
      "type": "list",
      "description": "Features to include in the application",
      "defaults": ["Authentication"],
      "values": ["Authentication", "User Profile", "Settings", "Dashboard"],
    },
    "modules": {
      "type": "list",
      "description": "Additional modules to include",
      "defaults": ["Network Layer"],
      "values": [
        "Network Layer",
        "Local Storage",
        "Localization",
        "Push Notification",
        "Theme Manager",
      ],
    },
  },
});
